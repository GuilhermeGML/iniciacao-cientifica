hash,message,author_name,author_email,author_date,committer_name,committer_email,committer_date
05488db498c1561d266c7b676b8a89021c03a9e7,first commit -a,Matthew Rocklin,mrocklin@gmail.com,2014-12-21 13:26:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-21 13:26:20-08:00
3a2401080c77535ae8e997c775f957af877a846a,accept args not in dict,Matthew Rocklin,mrocklin@gmail.com,2014-12-21 13:43:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-21 13:43:44-08:00
379f9c354d0c31175e3593dd56fb32a34c41d1a9,draft of array functions,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 11:00:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 11:00:24-08:00
0fdd20304627607e53c561a7c34d205defa1c413,chunked transpose + 1 test,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 11:11:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 11:11:45-08:00
18463b0c7277240765d05ada1b9fb69364b1e128,clean up top docstring,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 11:16:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 11:16:44-08:00
8b24591010b026b3b21c017973937d7c2cac6d72,add Array object,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 18:41:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-23 18:41:27-08:00
ff8ea8300a55c1eb11a288f387f6cb49e959c34f,dotmany accepts left/rightfunc,Matthew Rocklin,mrocklin@gmail.com,2014-12-24 08:49:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-24 08:49:15-08:00
413438348c3bc94ecd0567d50ca700d2b8e5dfe0,"various changes

1.  various generators become list-comprehensions (for debug)
2.  get on iteratable yields generators (for lazy maps)
3.  Array top function

None of this has tests",Matthew Rocklin,mrocklin@gmail.com,2014-12-24 08:49:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-24 08:49:57-08:00
67f795713060423f80fb9c9b2d7602322af71e9b,"various edits

1.  docstrings to core
2.  atop
3.  concatenate handles iterators
4.  concrete kwarg to get",Matthew Rocklin,mrocklin@gmail.com,2014-12-24 19:42:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-24 19:42:24-08:00
6da4ac3efa224c0d75d378815f153608f69120d2,"get (func, [...]) isn't concrete",Matthew Rocklin,mrocklin@gmail.com,2014-12-26 10:12:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-26 10:12:55-08:00
3b19be2d833d7f036e2844e971c793b4ed6851ff,top blockshapes -> numblocks,Matthew Rocklin,mrocklin@gmail.com,2014-12-26 11:39:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-26 11:39:20-08:00
7f0b1085697e357bbfb7d8d39cf42502616d5386,add dot functions,Matthew Rocklin,mrocklin@gmail.com,2014-12-26 15:33:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-26 15:33:54-08:00
63262e251101e1a81e1123ae8f2ab7c34a763a25,blaze compute,Matthew Rocklin,mrocklin@gmail.com,2014-12-29 07:31:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-29 07:31:19-08:00
1463224e951a734b9de621cbbef6d0a4744840f8,support contraction over more than one index,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 10:17:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 10:17:59-08:00
05cb2b6f2f50ce029781c006baec182b69c2e6ef,clean dead code,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 10:18:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 10:18:56-08:00
2b3319de5f297e77a3cc68c25b43c6fbf4d8147a,"compute_up(Elemwise, Array) respects different dimensions",Matthew Rocklin,mrocklin@gmail.com,2014-12-30 10:44:23-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 10:44:23-08:00
b660d5a9f7f470fde6d1e3b0b06154ba95fbfd31,wip: draft of threaded get,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 20:13:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-30 20:13:01-08:00
eb1c63ca32ffc19b1c508fe71b7a6dcfdb6ea18f,threaded get first working draft,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 07:27:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 07:27:27-08:00
05e9e7a4577483b8d139de751516b1b49f90f189,docstrings,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 07:35:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 07:35:27-08:00
d5b3164da39635a4ef35eceaf55996d68b6780c8,handle/flatten nested dependencies better,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 08:00:16-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 08:00:16-08:00
d52846ab8ff5a8f6572bff274e39950076a23213,Add lock and fix lost data from results,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 08:34:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 08:34:06-08:00
16331cede46cb0a49c0464ab7edb587c4f03c192,dependencies don't include values,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 08:50:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 08:50:13-08:00
a4579012245094a97479fa78c41ef4d765341b31,ndget returns tuples,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 09:26:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 09:26:33-08:00
b64274224f10ba3934d1d61d5de687b9b551529d,"update for tuple tasks

1.  get_arg passes on non-keys
2.  execute_task passes exception through
3.  flatten only flattens lists",Matthew Rocklin,mrocklin@gmail.com,2014-12-31 09:59:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 09:59:39-08:00
c2a151e1bfa8f80e30a006220fab132dcd6e24e7,test exceptions rise to top,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 10:06:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 10:06:34-08:00
4cd70c9059adf3bf629bf7bfb94967f8389034f5,Take get as kwarg in compute functions.  Default to threaded,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 10:21:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 10:21:47-08:00
d366bdf2072497ce27aa39bc3ed8f3cb96899ca9,dot imports,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 11:02:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 11:02:38-08:00
aba8e6378be02dd141608e884f6a6293b8cdf49d,better error reporting / debug info,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 11:02:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 11:02:54-08:00
6f6c403db6dc6016690c153c1d1134cf04b1bf6f,dot has separate function nodes,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 11:10:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 11:10:47-08:00
52f35a665a7380ef53c90467ffb4425f1a1ccbd5,"variety of changes

1. get passes on excess kwargs
2. dot accepts func and data attributes for nodes
3. don't try to remove ready keys if they're already gone
4. add finished set
5. thget visualize dot function",Matthew Rocklin,mrocklin@gmail.com,2014-12-31 13:34:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 13:34:54-08:00
9ebe1f51dc0873b06c7d3ec6352da761c054978b,finished is part of state,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 13:53:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 13:53:31-08:00
26bea8a15a23f1965019d04d50078f7bdd98c651,only insert as many jobs as threads,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:05:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:05:35-08:00
de6d6abbf91902542812ede03cdd3b9b96897c10,choose tasks that free data resources,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:19:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:19:15-08:00
61060ff63ed13bc151878cb6b9671482a56e0424,add visualization debug  logic,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:37:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:37:25-08:00
d78c0b8187357e03184b2320afb0d615ce26f225,fire_task comments,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:39:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 14:39:13-08:00
1b832a4b216efd63f6f26c74a0f966584258e4d8,fool around with visualize,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 15:28:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 15:28:15-08:00
8daede49d2bb5707e1aa0774268d12f621cf54e5,"move thget functions to core, clean up dot",Matthew Rocklin,mrocklin@gmail.com,2014-12-31 16:19:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 16:19:43-08:00
e293cb9fcef651a3ee2b36f5571768e849e1aac3,rename thget to threaded,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:06:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:06:38-08:00
e0bce63d0478a052976f18b6e66bff83859d6bb2,test dot code,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:17:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:17:03-08:00
f2497e5464f3bf077c505691d0cf08d461835669,add list dep to dask dot test,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:18:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:18:10-08:00
e7dc37bc734b971b6e4a90d1d3726e63f4e16441,simple test for visualize function,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:38:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2014-12-31 18:38:07-08:00
24829d95497ad0aa5e4c7cea5372ec6fc9693327,generalize and clean up post_compute,Matthew Rocklin,mrocklin@gmail.com,2015-01-01 08:00:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-01 08:00:10-08:00
9937f6f6d4435981c60ec5376910792e66f3ec34,add missing import to visualize,Matthew Rocklin,mrocklin@gmail.com,2015-01-01 08:00:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-01 08:00:46-08:00
83efca903e45ea0306ba253c82a7077757208299,capture and print tracebacks on errors,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 09:07:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 09:07:11-08:00
7e3c06474aa98fc8a5d950d7dd4197caf782b7f0,compound functions with inline optimization,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 10:59:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 10:59:07-08:00
2ec9b59b2c64e235a4abf372e38d9c269f648f9f,get_dependencies supports nested tasks,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 12:14:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 12:14:50-08:00
b347f428b7a7f5eabd1529420eb904750f784693,inline optimization,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 12:15:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 12:15:10-08:00
f7bdd24c31a9e12d78315f27cfeaee7a016044c8,inline passes through currys and partials,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:18:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:18:17-08:00
fd6477285b45f5cd92e83278480900b741a40515,rename ndget to ndslice,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:32:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:32:20-08:00
06fbca5ac2aee43b6929c37dfa7d248ab3b9ceb2,rename block_keys to keys,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:37:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:37:01-08:00
8597e6a0b679fbdd60ef0e27e94a9ea33e955cff,developer documentation in threaded,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:58:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-02 15:58:56-08:00
0e1cc58dd1e495571d2f1312e9e1647f63c3b831,core.get supports nested computations,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 18:31:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 18:31:12-08:00
ce7543d56b6316234a244067578da5d02f9de5f7,compute_up on elemwise supports many children,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 18:35:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 18:35:05-08:00
4b32b5a1f8da0085084eb84b44d78eeace363560,cleanly support reductions with new concatenate2 function,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 19:14:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 19:14:33-08:00
252fe7df64316bffaaae1e41f069dbbf2430975b,many docstring,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 19:58:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-03 19:58:13-08:00
39a828a3338e72e5eda5314e282fbea5e958816d,basic docs,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 09:26:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 09:26:44-08:00
1cf52b9c344757e846229d7dfc6063a8fd488c35,add to index docs,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 09:33:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 09:33:07-08:00
dba8539ba97014f1ae650b97fe33f3c0867bd6bf,more in depth index doc page,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:09:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:09:45-08:00
3d8c680765d13e769ecc39a53315ab1448a54e2d,document get function,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:17:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:17:59-08:00
f1750a2067bdd141f530d4b5cccdc4859b4dc6f9,add simple dask image,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:18:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:18:19-08:00
83ac672a15352436bfcf30b5de9ab6aa1115769b,remove toolz dependency from core,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:23:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:23:31-08:00
23bce271c30eb8c3737394fd0afd9da68ef84334,add readme and license,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:24:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:24:17-08:00
1250c92ad10fc0eaa1c8addda814994a95e5c90f,edit readme,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:25:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:25:36-08:00
ae64ca86b0216c0b3a334f4e5d770a5a77bf9d84,python 2.6 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:30:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:30:33-08:00
c13e38fa45ebdbe1b755afea7e8423f6865d2580,py34 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:33:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:33:18-08:00
07f3e864039873618ffc0051e5baf508a5663e6a,refine task and key definitions,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:41:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:41:46-08:00
77d69cd826fdbad53a4750e48621ec941520eb71,fix bug in use of many,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:45:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:45:15-08:00
fd3c6513d5001e1c0a1d29b0fc1275567bf78ff3,add setup.py,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:49:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:49:11-08:00
8a59c1f7dbfc7bc9b96dbecf3d556793425a1fe0,add requirements docs,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:58:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 10:58:17-08:00
198ab88495977dc65d62db03d6f20418886f8431,append Array to ooc storage using store functions,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 19:37:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-04 19:37:41-08:00
45e1e4284600c31ae5678c12fd67bfa4f0601c04,dot: hash string of nonhashable tasks,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 10:56:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 10:56:30-08:00
2f527af6e7021c03003f3a415383aa62bf99099c,dot: correct coloring,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 12:04:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 12:04:35-08:00
e389d9bb892ba469167dafb46d90b9f6dd467141,debug code in threaded,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 12:17:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 12:17:28-08:00
37f565c36bad194390b380dd17d294211285e660,remove post_compute,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 12:17:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 12:17:50-08:00
58078900761a5e2f4416cb5515272a795f8835f4,"dot style: color gray, wide pen",Matthew Rocklin,mrocklin@gmail.com,2015-01-05 16:53:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-05 16:53:07-08:00
c9ceb9c8d422db302ee4b4bbf7242a02f24a7fb6,add notebook example,Matthew Rocklin,mrocklin@gmail.com,2015-01-06 12:57:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-06 12:57:46-08:00
c83575eb885e54a9d9a41109bdc6e19ac7105478,"This changeset fixes a problem where memory usage grows as all results are computed.
The desired behavior is for memory usage to remain small since this is designed for out-of-core computation.
execute_task no longer returns the results of the actual task execution. Instead it now relies solely on the queue that it puts results into.
A few comments have been updated, and some minor code clarifications have been added.",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-13 11:30:51-05:00,Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-13 11:30:51-05:00
bf5ebe0e40d6a80f474cd1eaf9054bb437f51797,"Merge pull request #6 from nevermindewe/memory_leak

This changeset fixes a problem where memory usage grows as all results a...",Matthew Rocklin,mrocklin@gmail.com,2015-01-13 09:33:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-13 09:33:52-08:00
790c9385626756a07b85c30da7d904cb8f2fd1db,send kwargs through to compute,Matthew Rocklin,mrocklin@gmail.com,2015-01-13 13:35:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-13 13:35:38-08:00
6c2cdef3309750107201a87f26e1adc2d1639983,replace num-active-threads integer with set of active tasks,Matthew Rocklin,mrocklin@gmail.com,2015-01-13 14:06:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-13 14:06:12-08:00
ef08fcd5057e5876f0b5f206d2c2209d0ee34b54,Remove jobs set.  Replaced by state['running'],Matthew Rocklin,mrocklin@gmail.com,2015-01-13 14:14:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-13 14:14:28-08:00
12016c8cd5cf2110bc57b4fefd156dad7a90504e,add related work,Matthew Rocklin,mrocklin@gmail.com,2015-01-14 10:22:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-14 10:22:29-08:00
fb25ebb4b54818dd265a305f82e1fad48dab21aa,Broadcasting rules for top/atop,Matthew Rocklin,mrocklin@gmail.com,2015-01-16 10:37:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-16 10:37:44-08:00
d854c6f13a6da8ba81daef3cd408520572615c64,replace ndslice with operator.getitem,Matthew Rocklin,mrocklin@gmail.com,2015-01-16 10:52:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-16 10:52:40-08:00
f654b47a61cbbddaf5d2f4d1a3e6e07373b86709,"consolidate many get calls to one

Unifies use of inline for example",Matthew Rocklin,mrocklin@gmail.com,2015-01-16 10:58:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-16 10:58:05-08:00
67b6d05af60b1e50646857eb890038c8e5c29592,Add `cull` to remove unnecessary tasks.  See issue #2.,Erik Welch,erik.n.welch@gmail.com,2015-01-19 09:13:18-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-19 09:13:18-06:00
3bf4cc77263efa0ff00b60b2c0e6305e14a9702e,s/Exmaple/Example/g,Erik Welch,erik.n.welch@gmail.com,2015-01-19 09:30:25-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-19 09:30:25-06:00
f8f7215ce7847401114eea5719c8f911ba81d8eb,"Merge pull request #10 from eriknw/cull

Add `cull` to remove unnecessary tasks.  See issue #2.",Matthew Rocklin,mrocklin@gmail.com,2015-01-19 09:23:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-19 09:23:25-08:00
d01f2f18c8a4da3991b2ce134a9103d98fffbfb1,"Initial commit of prototype code for dask array slicing (in array.py) and tests that verify the functionality.
Current state:
 - a reference implementation for 1D slicing is implemented
 - a helper function that (so far) constructs a correct dask slice graph (minus step, indexing without slicing, and ellipsis) for n-dimensional slicing passes tests for 1D and 2D slicing

Remaining to be written:
 - a front-end function (or perhaps a few functions) that setup the data necessary to correctly call the helper _dask_slice()

Remaining to be figured out:
 - how to deal with slice steps in a clear, concise, easy-to-understand way
 - how to deal with indexing and ellipsis (array[0,0:4,...]) or open colon (array[:,0:3])",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-15 14:02:03-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:25:36-08:00
287580bc8f111d46d32059a3183c5243d9fc08bd,"Commit of a more complete and simplified version of dask slicing.
This is based on @mrocklin's ideas and prototyping for how things should work.
The result is cleaner (so far).

This implementation passes basic tests, and does not include any optimizations yet.",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-16 13:52:53-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:25:36-08:00
4d0de04cda71e0480d06fdc14041f6358a0fce59,"Bugfix on block step offsets. Added comments and doctests.
Adding comments and doctests revealed some bugs in the previous code that didn't properly handle steps with offsets.
The updated code fixes these errors, but I'm not happy with it.
I think that the code can be significantly simpler and clearer, but I don't understand it well-enough yet.
As it stands, steps and starting offsets should be properly handled now.",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-16 15:29:56-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:25:36-08:00
e7462757dfe0abdaa14c6c3d74e5fe39b761ca98,"Added docstring and doctests to _slice_1d function.
These additions should better explain what and why the function.
Added doctests to give examples of what/why should be returned.",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-16 15:40:40-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:25:36-08:00
0b8c4f2a44830102a634a565ce6d5893cac0ae3c,"Addressed most of the previous PR comments
 - non-slice index examples added to doctest
 - Reformatted and updated docstrings
 - tested against python 3.4 and fixed integer vs. float division problems
 - reformatted to have 80 max 80 columns per line in code, and max 72 columns per line in comments
Added optimization where if all slices are slice(None,None,None), the original object is returned.",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-19 17:37:55-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:25:36-08:00
b6fbb28c8bf5e6e5d700a958ea113d849ae146ad,"Updated to ensure integers result from division.
Tested in both py2.7 and py3.4",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-20 12:45:51-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:25:36-08:00
c61c8d1255b312712510afe293a691a70c86bbc8,"Merge branch 'master' into slicing

Conflicts:
	dask/array.py",Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:26:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:26:52-08:00
028054fc91561320747b7de3a13a65b45102a182,clean up array docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:37:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 12:37:32-08:00
aa7aee9a59c1d60350dc098356e0044485b43a4c,"Array uses blockdims, not blockshape",Matthew Rocklin,mrocklin@gmail.com,2015-01-20 14:21:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 14:21:08-08:00
f7dde018863b2282fab7735faa77487adfc145f0,test ragged array case,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 14:52:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 14:52:13-08:00
875aaddb58ec31f7848722ed5c32c7cd2fbe9cc6,_slice_1d takes blockdims list,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 16:03:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 16:03:51-08:00
50288c710dc386147ff640d207194ac18b4c1a55,Draft of Blaze slicing,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 16:21:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 16:21:01-08:00
111a4e17e7770a19e927f4c3e876ea1bdbbc4413,broadcast_collect works with singleton dimensions,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 17:22:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 17:22:34-08:00
01f66830f5c76836d3da27c3dd408a41b9573d94,guard md imports,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 17:45:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 17:45:29-08:00
c404d775ea6e25e304b2af9893e2c896fb932a59,slicing with singleton dimensions doesn't emit key dimension,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 17:50:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 17:50:51-08:00
6c0e9cf89bd5ccb3439fa591004c969841743545,"dask: handle broadcasts and numba separately

This resolves a core dump",Matthew Rocklin,mrocklin@gmail.com,2015-01-20 18:52:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 18:52:57-08:00
38a83e977fbbf5b5094d025dd2ef99d0df86b1f1,test singleton boundary index case,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 19:14:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-20 19:14:25-08:00
103ebb230c5b6c28d929a189f3a02d4ab3dce897,"Add `isdag` method to determine if a dask is a DAG, and add non-recursive `get`.

Both of these need better documentation and tests, but I wanted to share.

`isdag` is a pretty standard DFS, which is stack-based (referring to data
container), not recursive.

The non-recursive `get` is only used when the ""get"" keyword isn't given.
It can handle arbitrarily large graphs, because it is not limited by
Python's recursion depth limit.  It is also faster than the recursive method.",Erik Welch,erik.n.welch@gmail.com,2015-01-21 00:06:27-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-21 00:06:27-06:00
94a3142fedb2331683339f5bb39c06cb720a31ab,oops indent.,Erik Welch,erik.n.welch@gmail.com,2015-01-21 10:09:57-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-21 10:09:57-06:00
0d30727050cfcdd65a7372e64ef75e760142d844,Add documention and code comments to `isdag`,Erik Welch,erik.n.welch@gmail.com,2015-01-21 15:17:53-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-21 15:17:53-06:00
bd7d538ae7e926c254075534888e6355eb1c2857,"Added negative slicing capabilities to _slice_1d().

This should complete dask block slicing.
Many test cases have been added.
Python 2 does not have an accumulate() in itertools, but python 3 does,
  so I added the reference implementation to compatibility.py",Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-22 12:49:32-05:00,Wesley Emeneker,Wesley.Emeneker@continuum.io,2015-01-22 12:49:32-05:00
5a0f92f9696aa1017c0c53ad6d6bdc227209f13d,"Merge pull request #1 from nevermindewe/master

Added negative slicing capabilities to _slice_1d().",Matthew Rocklin,mrocklin@gmail.com,2015-01-22 15:26:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-22 15:26:39-08:00
09b3572751131e2133ec9ed7c252356a16efbbac,use toolz.accumulate,Matthew Rocklin,mrocklin@gmail.com,2015-01-22 15:28:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-22 15:29:07-08:00
e790bb42341a4f77b65592c4ad693102b5d4eef5,waiting tasks can be independent,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 11:45:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 11:45:11-08:00
b43f4baa867426d398ef6ab19461d1ba5a0fbd02,hack around long import times with explicit blaze import,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 12:30:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 12:30:50-08:00
6c71b0c49dd252180e1b28539f58912449d39d2f,style edits,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 12:42:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 12:42:47-08:00
b1bb0d382014d0fcfabd2ae3af1d96b63cb0f6b4,py34 compat,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:01:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:01:00-08:00
755f3a4253818d79aaedb231029e0427e57da20e,"Merge pull request #11 from mrocklin/slicing

Slicing",Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:04:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:04:26-08:00
b2da09e9f2f47864eff480a34a3d39b4105e05fc,add .travis.yml and readme badges,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:09:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:09:31-08:00
053794046100d50bc4ef3581c1eaf6c5d8c85dd0,"Merge pull request #13 from mrocklin/travis

add .travis.yml and readme badges",Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:11:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 13:11:57-08:00
c31f872d57ef6e8919ae02716d6c791cbd7ac192,refactor array stuff into array module,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:35:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:35:37-08:00
052e996123803c3de867940ec03a58fecc00195b,don't rely on toolz in core,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:37:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:37:10-08:00
ecd62d48264d269c098c42b5b731a05023ce27aa,broadcast_dimensions doesn't rely on orderability of non-numbers,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:47:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:47:09-08:00
8c53a3f7d29fcc39480d0834c49a41a02c484650,add dask.array to setup.py modules,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:47:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:47:26-08:00
d6c300f8d747a1f94fa96e6f5def979b1b2d9859,top docstring,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:52:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 15:52:10-08:00
dcb651e94bdcd8a0da1de5a74c5470a60e2902ce,futz with travis.yaml,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:01:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:01:02-08:00
f6e2b49ba01cf49ce1f460c429433b205592c210,future imports,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:07:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:07:37-08:00
36fd8dae9d46c298cd4849f2e86decc397c5cfc3,install dask in travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:10:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:10:46-08:00
b825cc601c04ea3c55be90b832cd0671c05a98de,don't fail if pydot isn't present,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:14:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:14:42-08:00
66599453848f10ff987bde5df55d6661625a80f3,only install blaze from blaze channel,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:18:16-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:21:58-08:00
5b73c8a6783315967889509773d8496749574bfe,py26 use range rather than count,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:29:53-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:29:53-08:00
3d7a9f3b32ac2ad5b4ce285022b5d8a24b8f5474,remove coverage and downloads from readme,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:36:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:36:55-08:00
aab922d60dea883c6642d7d336edc65b06803c98,"Merge pull request #14 from mrocklin/refactor

Refactor",Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:37:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:37:28-08:00
47f77e59160d948672864669d015004d037e4855,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:37:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:37:57-08:00
e9bf7d6c1b87f5e8c58868d643692d2010bcc460,"get calls cull

Thanks @eriknw !",Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:43:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-28 16:43:49-08:00
ba761b93a39f548f67eb15a077206b6894f7a1c3,flatten works on empty iterators,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:20:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:54:33-08:00
f0121d4efdfdd5e9abcd37ce1b370814d8a672a3,get_dependencies accepts functions without args,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:22:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:54:39-08:00
8bcc23c899812516fed38d1aaae4d8089ecfc57f,Array.__array__,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:32:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:54:45-08:00
49748645d154b9f78fa90e818b26c1dc9ff6cf18,"use ndim, shape as functions, not properties",Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:50:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:54:56-08:00
e4d537f7252a2a440b167bc39b14650f3b045e12,add into import to into,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:55:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:55:34-08:00
2bc36bbfd26db2ab4265f03c9d3b1bfed2baa4b8,Start clone of np.random,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:32:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 18:04:30-08:00
c2e70ee45c4b7e51cb4d278ee4606a7c8450cf39,more random distributions,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:44:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 18:04:30-08:00
bb139bcdc214bcd71edc939072c06b9f8973756f,remove now defunc docstring,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:45:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 18:04:30-08:00
d8c3840f038ed23330bb3f33def75a8effbbab59,add random to dask.array imports,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 17:52:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 18:04:30-08:00
5dfd2c0e1c5aa24826499759f9ffeb88850d14d9,"Merge branch 'master' into isdag_nonrecursive_get

Conflicts:
	dask/tests/test_core.py",Erik Welch,erik.n.welch@gmail.com,2015-01-29 22:38:58-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-29 22:38:58-06:00
50fc3b48e346e78a6b601010a82ee94be39fd12f,slicker dims_from_slice function,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 20:46:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 20:46:00-08:00
c50cb9dbd11748b87af3738f826d7e945301a1cf,nicer wrapping of random functions,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 20:53:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 20:53:15-08:00
8b7330a2457ade65c45535c8b13a540aaa740b03,move wrapping code to separate file,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 20:56:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 20:56:03-08:00
0a62d66ec5786c0bccc860a476f8ef88dd1d59c0,"support two common patterns with wrapping numpy

1.  Shape as first argument (ones, zeros, empty)
2.  Size as last argument or kwarg (all of random)

Also support integer shapes",Matthew Rocklin,mrocklin@gmail.com,2015-01-29 21:29:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 21:29:36-08:00
4dc49bb44885679271dc0b01276d3c5d610ef353,"Added `getcycle`, which is like `isdag` but returns the first detected cycle if not DAG.

Also changed exception raised by non-recursive `get` to RuntimeError.  This
is the same error type that a recursive `get` would return (if `isdag` weren't
checked).  The exception is more informative and shows the nodes in the cycle.",Erik Welch,erik.n.welch@gmail.com,2015-01-29 23:30:20-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-29 23:30:20-06:00
13731926214e3991f6f1786774121049b7ec7228,oops python2.6,Erik Welch,erik.n.welch@gmail.com,2015-01-29 23:42:07-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-29 23:42:07-06:00
8e80b2279e1472271cee6f388374cb30d0a1fae4,"don't create curries if we don't need to

(important for large dasks)",Matthew Rocklin,mrocklin@gmail.com,2015-01-29 21:44:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 21:44:47-08:00
b5a75e26183a69d171a6f812e24648aef56b1d41,cull before inline,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 21:47:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-29 21:47:52-08:00
e22f353b71e78548948fdb944a6ff00160e1cdba,Simplify non-recursive get,Erik Welch,erik.n.welch@gmail.com,2015-01-30 10:36:32-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-30 10:36:32-06:00
43534e95ae96032f7aee6290988788a6d887a60a,remove set function,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 15:46:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 15:46:17-08:00
e56e88df7864a34873efb5aff33943b456451633,simplify imports in test_core,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 15:47:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 15:47:37-08:00
3779ede165e14b656457e38822270aaa5f8f07f0,flatten accepts mixing of lists and non-lists,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:21:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:21:30-08:00
5694733f69709084292b800680735ff2768f6f5c,"Merge pull request #15 from mrocklin/remove-set

Remove set function",Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:41:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:41:41-08:00
b71db2d2d2d3e52bb44d6c981b0b44bf2b6b1568,fix error with empty flatten,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:43:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:44:07-08:00
093f8b01cac0ae1758219871d3c37d0c6c9fb4ff,get_dependencies works down nested tasks,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:26:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:30:26-08:00
6ebc86ca227593fb8cfad88f37f2a5d5560d05b5,Add first draft of bag,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 18:25:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:32:35-08:00
52b17c886481301466a9ed35966c6c2ce214fda9,bag: frequencies and topk methods,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:26:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:32:35-08:00
09bf86a846d56d841840c39e2d45161067136f57,move test_bag,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:29:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 19:32:35-08:00
fc36d98e96371ff377e83957dc1e64f8e495e209,py3 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 20:36:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 20:36:30-08:00
10536ca27d061bb39f441e171abadb9fa3ef562f,future imports,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:06:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:06:56-08:00
c53f9e84227f33ba860a698062ba89cd736941f9,add dask.bag to setup.py,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:11:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:11:41-08:00
98d86c0609d1c67a88809e83d81001f79f959547,remove lock in threaded.get,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:13:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:13:28-08:00
646d88c574f74d447b18484fb477ee81ebede5d8,factor out threaded from async get,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:31:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:31:06-08:00
f032b3545b76206e9650f26ed6a0f9295c65af55,py26,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:35:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-30 21:35:35-08:00
48f782b4aad2ab7862054f22869b9ebf11ce6058,don't send entire state to worker,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:24:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:24:22-08:00
19d8d3fbd3d5763a6aaa8c05fab8242a324a1a5b,get_async accepts queue.  important for multiprocessing,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:47:04-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:47:04-08:00
3936ed8ce384bf1e0dbb91062437b4fae3cfc159,execute_task doesn't need result keys,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:59:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:59:06-08:00
9ce9be08a38734ce5f3b17f1f84dc2d7b713b388,bag: multiprocessing get,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:59:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 07:59:18-08:00
a90aab2729e2bf016fb9d3311ce1161faeebfbc9,move most of threaded to async,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 08:22:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 08:22:05-08:00
e19f475e437682270b53c3423fa5e1b70cddc8d6,move multiprocessing get from bag,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 08:24:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 08:24:14-08:00
ac708848bca8ca1938c1457e69b5f17531641286,"don't put task in queue

May hold unpicklable data",Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:11:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:11:22-08:00
05e650f5a2dcf75eba33da00002a5ec638bc5f14,use dill,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:11:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:11:54-08:00
db57507f369765fda328d2887344f650bc23589f,add dill to travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:19:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:19:50-08:00
8fd5dec65fa6bf0d141b5bca8bbd587d1d42579a,py3 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:55:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 09:55:13-08:00
50a0a6c12ac7b504581f6b36c73c836b7f0e3aa5,bag reductions,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 10:22:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 10:22:37-08:00
44d592d03cd5b3f5ad6b3086f6f12e85027bb05a,bag join,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 11:51:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 11:51:24-08:00
2ff74b2f7f9dc387713732d2f49b10e29dc3a217,bag accepts other get function on creation,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 11:51:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 11:51:40-08:00
66e37e2ad0df8c998f5ac05f9870b8597b7b5b51,type check a bit in join,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 11:54:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 11:54:29-08:00
47d3d1980fb2f7ccb7bdb1c4205d4308664c71c6,join accepts single join function,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 12:16:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 12:16:17-08:00
30732c1f2f301dfffe23d07374fbc0385cd49a4e,bag: import cytoolz versions if available,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 12:17:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 12:17:52-08:00
1d8d0a68b6c4c8e414531efec2631279afb9b5c2,verbose pytest,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 12:21:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 12:21:19-08:00
173c9bf8c6f07b592ea8dba816c30f4ab8dc3a9e,"Add fuse function (see #18) to combine linear operations into one.

Also added `subs` method (used by `fuse`) to substitute values in a task.

Needs documentation.",Erik Welch,erik.n.welch@gmail.com,2015-01-31 14:51:49-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-31 14:51:49-06:00
c8164550713e52e37f5dd028ceab77c71710d92f,In `fuse`: sed -e 's/ch/child/g' -e 's/pa/parent/g',Erik Welch,erik.n.welch@gmail.com,2015-01-31 16:35:36-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-31 16:35:36-06:00
b86f0be1eb20223d5e998ea49b698f36ee6ee26e,Merge remote-tracking branch 'eriknw/fuse' into bag,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 16:24:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 16:24:07-08:00
567e3f21d288040d045b2d054de2145c6eacef6c,fuse dask before running,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 16:29:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 16:29:24-08:00
976c5b3a599846e620b6a6bb3fb8b12645e50078,first pass at foldby,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 17:10:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 17:10:57-08:00
7618923dd2c15a65a39dbc1c728a91cf25a05e87,map_partitions,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 17:16:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 17:16:06-08:00
1142d5aee892f24e60f72fe0bbfbf8fd0d3e2441,loadtext,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 17:34:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 17:34:26-08:00
44894015ac191ceaf979e6bc3120817f62fceeca,multiprocessing.get takes list of optimizations,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 18:45:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 18:45:08-08:00
ca7d5d794e4475a926e9834df72e48010ad1bd43,lazify optimizations for bag,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 18:45:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 18:45:29-08:00
05175d2ebc6c5fe0a79453283d14cab67c90588d,bag operations support laziness,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 18:51:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 18:51:00-08:00
53478a5a7e7ac3d3c8b50dac134f6cd36b8befac,add loadtext to bag/__init__.py,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 19:00:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 19:00:22-08:00
9e5037eca6525d208f2c6248d31bd20ec103e796,Fix dask.core.subs handling of lists and nested lists.,Erik Welch,erik.n.welch@gmail.com,2015-01-31 22:38:05-06:00,Erik Welch,erik.n.welch@gmail.com,2015-01-31 22:38:05-06:00
f3146ed6e17986129addf1ff571fbca2f00ce990,topk(key=...),Matthew Rocklin,mrocklin@gmail.com,2015-01-31 22:18:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 22:18:46-08:00
d687d4a6eff0a9bf773f8a1fb6800c53221b1045,Merge branch 'fuse' of github.com:eriknw/dask into bag,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 22:29:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-01-31 22:29:47-08:00
3fb9de9bd3ea55935f9b4480820863c65fbfc457,"Add `as_list=False` keyword to get_dependencies for fuse.

`fuse` needs the multiplicity of the dependencies, so returning a set
does not suffice.  Regression test added.",Erik Welch,erik.n.welch@gmail.com,2015-02-01 01:05:09-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-01 01:05:09-06:00
8b1272ef9c962123ba6884a4e92cfb0265f4b203,get_async propagates Exceptions and tracebacks,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 07:35:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 07:35:39-08:00
3a408dadd1db2582fb3de83bc3970dc59f61b454,foldby uses merge_with for non-initial case,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 07:55:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 07:55:10-08:00
4cb2b16594c7cf233d661aa86f017c8a9c40823d,"py34 async handling of exceptions uses str, not mesage",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:07:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:07:40-08:00
0b3789063eef20d17ad14906051a1379f60156a6,py26 compatibility: loadtext,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:10:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:10:22-08:00
429719ee5be4569bac2d77a91a6d2b8bb1437f20,remove lazify_top,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:42:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:42:41-08:00
75f6d8fcf4523c7d47c46e263f2c2457506e53f4,"Merge pull request #20 from eriknw/fuse

Add fuse function (see #18) to combine linear operations into one.",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:44:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:44:47-08:00
f59edc8035431e0bbc0926119d13f9fccfc7aeb2,"Merge pull request #17 from mrocklin/bag

Bag",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:48:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:48:18-08:00
5fbe5b532808f7a1f6e478c42d0bd99fbed5bbe8,"Merge branch 'master' into random

Conflicts:
	dask/array/core.py",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:50:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:50:21-08:00
968a250327a1dd80d7502eecd2e60fcf07f7984a,random robust to use of shape rather than size,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:53:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:53:54-08:00
670d41662db4730e725415e59c22303c42c68052,remove shape from kwargs,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 08:59:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:00:13-08:00
5a25ec9d7d2452735335e89b8a06d008f4e61758,"Merge pull request #16 from mrocklin/random

dask.array.random",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:01:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:01:58-08:00
fd4a8531f08856ff7e4aed0527f8e72872a2d3f2,"Merge pull request #12 from eriknw/isdag_nonrecursive_get

Add `isdag` method to determine if a dask is a DAG, and add non-recursive `get`",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:03:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:03:12-08:00
4d4347deafacb8d3f74b56cc6703a77c5d235e2a,clean up cruft from merging,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:06:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 09:06:05-08:00
2bd11f19ee6a9f387062b8fb2f2effda1cbe4e0b,"inline function to inline constants or keys.  Also, toposort.",Erik Welch,erik.n.welch@gmail.com,2015-02-01 12:44:51-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-01 12:44:51-06:00
2a89e0321373a0778e98aece2b92cea5acae2c40,take,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 17:59:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 17:59:32-08:00
85afccf9a7eaf1265c2a010fc5df58f730f0d25f,bag uses lazy map,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 18:15:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 18:15:57-08:00
4d6bfd36811fe3b60462b31ffac188c0ec6c503b,"rename keys to _keys, can now use dict(bag)",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 18:17:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 18:17:52-08:00
fee6f8b6002273fd2f4960e61df7bf6d205ef154,"convert(Bag, chunks(TextFile))",Matthew Rocklin,mrocklin@gmail.com,2015-02-01 19:10:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 19:10:30-08:00
a3c0c848dfba4df43ef9171d520ca040220262a2,rename test_into files for pytest,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 19:14:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 19:16:13-08:00
ea15a987d644da2fb49b4d0dc4ded045939359a8,dask.async.inline -> dask.async.inline_functions,Erik Welch,erik.n.welch@gmail.com,2015-02-02 10:39:40-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-02 10:39:40-06:00
3b4fc0880d79fe26f85089f9c0932ff3efb4c821,multiprocessing get culls by default,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 08:44:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 08:44:06-08:00
a1fcfa3efaf38990aca3cb5178be8312d52fbdd1,catch pickling errors,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 10:40:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 10:40:18-08:00
d4cef245b73975206d792ff8e9bac46a2b62f51c,"use heapq.nlargest for streaming topk

cc @quasiben",Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:30:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:30:32-08:00
e935bebdb153e75bae03f95207c94809c153b1d4,foldby: remove initial->combine_initial default,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:33:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:33:52-08:00
49ebdb3291671b0efe932dc9aea24abe6b7f6e22,Bag.from_filenames,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:43:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:43:22-08:00
7b95e89eea0ee2eb11eb45e2a50f42bf3c9ad7f3,get_async works when no computation is necessary,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:57:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:57:05-08:00
435ca38ee45124536a3bbce23166059213419a6c,Bag.from_sequence,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:59:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 11:59:13-08:00
3f3bc4b3b7f27d7c96f059916d7fdb3dceb6fef4,python3.4 compat - cPickle,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 13:38:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 13:38:38-08:00
5de93fa7c9420e2366242bc6aa3a396e025537a0,"Merge pull request #21 from eriknw/inline

inline function to inline constants or keys.  Also, toposort.",Matthew Rocklin,mrocklin@gmail.com,2015-02-02 13:41:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 13:41:10-08:00
0291bbef5e65426567619d9e6f6ae16e8268b877,"Merge pull request #24 from mrocklin/variety-1

A variety of changes to dask.bag",Matthew Rocklin,mrocklin@gmail.com,2015-02-02 15:10:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 15:10:09-08:00
fe67b341f020e62b636fbd8804174a62d9f44641,remove comments,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 10:32:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 15:12:12-08:00
17cbf02f37bfe1a7787447d82b7f98732cf68de0,remove more comments,Matthew Rocklin,mrocklin@gmail.com,2015-02-01 10:40:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 15:12:12-08:00
b4a2c4af48340fe2e38febf273b1a3731e8d8cd9,first draft of take,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 16:03:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 16:03:49-08:00
980da44d7af159a35d05199f62b630e944b5e782,s/operator.getitem/getitem,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 16:06:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 16:06:09-08:00
162f91e2873c8238a8e287c435952d19f4788aae,"rewrite inline_functions to use inline

(and also support nested tasks)",Matthew Rocklin,mrocklin@gmail.com,2015-02-02 18:26:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 18:26:54-08:00
ad64731b2ca7f8d07085f7ecd50a141bae31a7af,fancy slicing with lists,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 18:37:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 18:37:29-08:00
2455e522a187d848c8eba5bf05683990cedfafab,inline_functions doesn't inline if no keys,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 18:48:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 18:48:11-08:00
0cb74deed6b8c10ce2c37698b9a4b7cce85f8445,cull supports nested keys,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 19:03:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 19:03:35-08:00
a5ad81d4fb7049b94ddf18136834879181e60c63,py26 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 19:03:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-02 19:03:45-08:00
de045533b5b268fa5852dfc7fd6b06cf1ba765b0,Add `inline_constants=True` keyword to inline.,Erik Welch,erik.n.welch@gmail.com,2015-02-02 22:47:20-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-02 22:47:20-06:00
366fc2060f5ecbe3467bcb3c4307532c624bc6c9,"Merge pull request #27 from eriknw/inline_constants

Add `inline_constants=True` keyword to inline.",Erik Welch,erik.n.welch@gmail.com,2015-02-02 23:36:57-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-02 23:36:57-06:00
7a52686c1ea077eec18a7228f36e1d41976790dd,fix doctests,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 14:58:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 14:58:40-08:00
8306cf1586b6335ed0817fa87796c2d518810f7e,Array.blockdims set correctly in uneven slices,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 15:50:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 15:50:15-08:00
00738934fe587b48734ab1427050680c553cabdf,slicing with lost axes and lists,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 15:58:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 15:58:39-08:00
b5351ce68983e0e144fe08600a050f5ee405bfd4,"Merge branch 'master' into more-slicing

Conflicts:
	dask/tests/test_core.py",Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:10:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:10:34-08:00
7f9a5a7951e3cdbb1015efcf06912317fdc406f3,inline_functions doesn't inline constants,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:17:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:17:41-08:00
106ef5dfd7b6c90f875d2cbabc0535e04dadf178,py26,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:25:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:25:45-08:00
7107fc7ab51a1d7616edd867719b7b929ac5de05,"Merge pull request #26 from mrocklin/more-slicing

Fancy slicing with lists",Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:35:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:35:01-08:00
9c692e43d0e05dcb810755dc198ca48c085e6974,"into(Bag, list)",Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:39:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 16:39:03-08:00
61c5a74a90216c761a590848588902e04ddd233f,partition_size must be int,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 17:28:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 17:28:00-08:00
0c65c2bc11617e32745f1a832c0b434572b50cff,lazy filter,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 19:34:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 19:34:14-08:00
a1811393e1f62cda24b489b6a226f07f76d1e672,pull some code outside of a try,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 19:34:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-03 19:34:38-08:00
91cb63b04986cc703a2ca6c431e82b0b9e356e65,"Moved cull, fuse, and inline to dask.optimize",Erik Welch,erik.n.welch@gmail.com,2015-02-03 22:21:53-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-03 22:21:53-06:00
a7420c40c734d1ad40b315e9ca7648cf89456815,Move inline_functions to dask.optimize,Erik Welch,erik.n.welch@gmail.com,2015-02-03 22:32:22-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-03 22:32:22-06:00
e3fb409da57cd6a8823ce9ca2753353d589b86b1,bag product,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 12:37:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 12:37:24-08:00
b38160e3b2f4c5f812b590f981087cf2d78105e7,remove loadtext.  Replaced by from_filenames,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 12:37:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 12:37:35-08:00
4e8135cd462e21255a8b2831e4fadad7c135060f,bag product with uneven sizes,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 12:52:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 12:52:14-08:00
ba6ddf6ac8e55a1bc01c884cd4c85fa2e3a20726,"Merge pull request #29 from eriknw/optimize.py

Move cull, fuse, inline, and inline_functions to dask.optimize",Erik Welch,erik.n.welch@gmail.com,2015-02-04 17:31:10-06:00,Erik Welch,erik.n.welch@gmail.com,2015-02-04 17:31:10-06:00
f78273863cdbd80859fb1cb548277499a8fd0d99,bag pluck,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 16:46:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 16:46:55-08:00
457a80dfd06ea3ea716eeef056b906ffde62f5f3,into out-of-core supports inplace=True kwarg,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 16:49:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 16:49:59-08:00
97beea6c853e4ee05063549bd19346b6c3afaf96,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 20:02:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 20:02:29-08:00
41aae341fbd48b608ad09c6ff4b9b55a559d0426,"Stack arrays along new axis

Example
-------

Create slices

```Python
>>> import dask.array as da
>>> import numpy as np

>>> data = [da.into(da.Array, np.ones((4, 4)), blockshape=(2, 2))
...          for i in range(3)]

>>> x = stack(data, axis=0)
>>> x.shape
(3, 4, 4)

>>> stack(data, axis=1).shape
(4, 3, 4)

>>> stack(data, axis=2).shape
(4, 4, 3)
```",Matthew Rocklin,mrocklin@gmail.com,2015-02-04 20:53:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 20:53:28-08:00
6bf8d55bd3a74ee450f18c339d31e614dc8d5cfb,"dask.array.concatenate

Example
-------

    >>> import dask.array as da
    >>> import numpy as np

    >>> data = [da.into(da.Array, np.ones((4, 4)), blockshape=(2, 2))
    ...          for i in range(3)]

    >>> x = da.concatenate(data,
    >>> axis=0)
    >>> x.shape
    (12, 4)

    >>> da.concatenate(data,
    >>> axis=1).shape
    (4, 12)",Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:15:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:15:46-08:00
427c156b5fc13ad09f9959f17c4b38427c5cd5f1,rename old concatenate and concatenate2 util funcitons,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:17:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:17:03-08:00
4433d9cb69f9aecac422fcfe05c372f14a517c25,see also stack/concatenate,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:17:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:17:40-08:00
9d533f2444fbdd81b8e5f38375675ffb4b33d39f,stack/concatenate negative axis,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:22:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-04 22:22:57-08:00
f966f22745f047b6b59332de086ea63ecf04e205,validate axis kwarg,Matthew Rocklin,mrocklin@gmail.com,2015-02-05 10:11:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-05 10:11:02-08:00
23497af7345e06bd5371094c2f76ae8d951c9013,"Merge pull request #30 from mrocklin/stack

Stack arrays along new axis",Matthew Rocklin,mrocklin@gmail.com,2015-02-05 13:57:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-05 13:57:08-08:00
f5c8363842aa1eca5670de81c9df8fc3352048f2,doc status badge,Matthew Rocklin,mrocklin@gmail.com,2015-02-06 16:59:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-06 16:59:29-08:00
94329936c114d034a2be5d44aa1c791612734c7a,"fix array tests

1.  posify negative int/list entries
2.  fill out index with trailing :",Matthew Rocklin,mrocklin@gmail.com,2015-02-07 08:56:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 08:56:00-08:00
93f18a589c86c256956fadf5b6137caf7e5f00f1,slicing with newaxis,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 09:38:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 09:38:10-08:00
c39a08b04ecc54be3244fd168e7a7579b375a28b,slicing refactor and slicing with None,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:20:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:20:35-08:00
a6346ec41350f921f28208093d1d31c2acdd84a8,move slicing code from core.py to slicing.py,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:32:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:32:06-08:00
262f6ae33ab3ec690e554780b71704e8a3ca68b3,move transpose from blaze to dask.array,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:45:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:45:24-08:00
aedb44a3611e1c05afe805afab12c6563390f588,clean up slicing a bit,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:52:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:52:12-08:00
bf5f68481466e74a1c677a60f7272d475b82591c,Array.shape now computed from blockdims,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:55:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:55:21-08:00
1870251c3d4270a52803c2bb58383c2bb7c4b5a8,move slicing from blaze to core,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:58:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 15:58:10-08:00
cdd5b2052f011728216bb0c6ed60b88dda975e99,move tensordot from blaze to core,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:05:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:05:15-08:00
363a0e661c83f9d3059f6097c21ac4100d2073d2,Array.from_arraylike class method,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:08:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:08:24-08:00
80bb6b5596cdd7246417c6505644243c36e12bc7,"Merge pull request #31 from mrocklin/newaxis

Newaxis slicing and refactor",Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:44:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:44:06-08:00
ef1836a7cc3c9f6d87fe576ca77c94f623561086,from_arraylike docstring,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:47:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:47:01-08:00
81f3c83c762eedea71131231e1e4f0aeb26aa02c,rename keys to _keys,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:49:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:49:18-08:00
f429774d21a4c98439a47783593f9ec79c8e8d8a,add tensordot and transpose to dask.array,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:49:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:49:52-08:00
756660acccd89efb828370f71db39cc5295e9635,hide bcolz/h5py code,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:52:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:52:20-08:00
bd462dc5af974326b490759729ebe957bff9125d,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:52:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 16:52:35-08:00
352f82514b63ba842ac4574c8653bee1d4ef082e,move ooc storage from into to core,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:18:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:18:37-08:00
bf92edbeb419c24eda5ea68e01af6dc6c504637d,Array.compute function from into,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:25:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:25:40-08:00
cd6df5e1c0dfb90bf182236df8fa3d67707d6d0a,use from_arraylike method in doctests,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:26:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:26:37-08:00
f60350b134db2487757d83d9d31a378ce313cc45,clean up doctest,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:32:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:32:15-08:00
3945eb6a98ab404f69b85117124d08f51c3890e4,add array docs,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:32:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:32:42-08:00
ff2be0c553b4f44b47c75771ca7d3b42860a61ed,from_arraylike -> from_array,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:38:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:38:03-08:00
3c1a70cd3dccf94368cb9df54be768a6ac1567f5,update array docs,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:41:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:41:00-08:00
9b0ae92c9615d6ec8c06777b3de39de2563fc436,mention more about blaze in array docs,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:45:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:45:14-08:00
8ffe5e0690b90ea0d0462ddcce8ea51bed951705,typo,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:46:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 17:46:34-08:00
789a2017ae86ef29d263de92c22c9194fd08e190,move from_array to flat function,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 19:11:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-07 19:11:44-08:00
c16b27e0ef7007074882fbd9c5ca7ac7e76fc658,import from_array in init,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 08:40:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 08:40:03-08:00
c77824d398cce5dce6271f99a110b62c57927630,elemwise function,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 16:19:04-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 16:19:04-08:00
5689964b62e79e174b1fd1d8b7aaf4caa1055a60,arithmetic operators,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 16:36:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 16:36:09-08:00
3040cce198c42f4c52d713526b8a0645c39c4de9,math functions,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 16:52:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 16:52:19-08:00
3f9641725058ec6fedae3e1d672bd84105a0d1aa,field item access,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 17:01:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 17:01:34-08:00
ceb73ffa6f0473e7c5565aca99a4afccb164db01,add reductions,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 18:39:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 18:39:17-08:00
357e6f514307c7088011e766493d95a500aff07b,reductions with keepdims,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 18:48:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 18:48:24-08:00
c94ffc5a4d9ac9c47b7e09e8801dc898b46fefe8,fix doctests,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:06:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:06:05-08:00
50db27e41c3190977edbdc48384bfbef7b4325c4,remove into/blaze imports from dask.array,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:08:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:08:50-08:00
f4688e2f94ef7f0d551696cad1c585dd37d55848,py34 compat,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:29:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:29:25-08:00
65968f796387d66843d81140c345e9f13ed8aebd,move reductions to separate file,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:55:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-08 19:55:34-08:00
5538eaac869291ff3e0909720324f9071d81fa7d,fill out operators,Matthew Rocklin,mrocklin@gmail.com,2015-02-09 09:12:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-09 09:12:26-08:00
362568c81644febc2f349a8f7a6b3a7291e9499c,"Merge pull request #32 from mrocklin/elemwise

Dask.array no longer depends on Blaze",Matthew Rocklin,mrocklin@gmail.com,2015-02-09 11:49:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-09 11:49:27-08:00
0e0a61a73dd7df6bcc033d2745f00ceaeec0eb79,docs: array no longer depends on blaze,Matthew Rocklin,mrocklin@gmail.com,2015-02-09 11:55:23-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-09 11:55:23-08:00
1c8b13b20f00c2d5347de3b7b45cc184f589fa7c,default array get is threaded,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 13:28:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 13:28:25-08:00
bf484dc31ec8cd33b3e5345ca4523a1b0b726932,slicing support bools and np.arrays,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 15:22:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 15:22:18-08:00
6532a50359232542553a48bc132ceef43f5934e4,random and slicing doc pages,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 15:35:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 15:35:48-08:00
fa7c0bb1b4dd159abc9f555875959af42898bce0,stack docs,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 16:04:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 16:04:30-08:00
5755a6e806f28bb3e63f4faae9d8fc33c3811389,add array design,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:33:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:33:18-08:00
47e2c4f1c990498338d3a4bcdeff18574f07f739,move design -> array-design,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:33:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:33:38-08:00
6a50279bbc9678920d4a7aeb3ad840b5cd6257c5,add blocked array image,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:34:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:34:36-08:00
74f06b64b5f9b3c5f3481b90270d3e5ee541bda8,small edits to dask.array design,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:40:16-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-10 21:40:16-08:00
d54b20ffe8c00cff396646d8154c88783f122b56,link to continuum and blaze,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 11:43:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 11:43:56-08:00
99a667d5f3de84463d53047e4bfe4e4ed95fed37,move dask index to overview.rst,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 11:49:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 11:49:17-08:00
2c1ebbd8ce60712eb7f72123ead7bcefa4b3a1f3,pull out blaze docs to separate section,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 11:59:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 11:59:42-08:00
8ba672a98555d8a875704c146980dc50c9a3a835,toc level 1,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 12:03:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 12:03:47-08:00
d34f5d6de997d40f92c52e623a1b32c05ac760b5,deepmap supports multiple arg inputs,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:02:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:02:27-08:00
17134166a73731708ffd52189ffc909308b49c6a,dot_graph gets names from partials,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:02:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:02:43-08:00
5434c491a2e2826ad83d52031f96b373441265f6,tensordot matches numpy behavior,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:03:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:03:30-08:00
5e1f8c1ceecc4fa9c2bd9a3062ff2215156251e3,Array.dot,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:07:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:07:05-08:00
f4ff616a199152eb498f7084086ee3f1105cffb6,get uses threaded.get by default,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:08:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 14:08:37-08:00
775374b8269933b7a816b8dede3c58a0d0c5c1e9,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 15:35:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 15:35:47-08:00
64c8d1adcd3e5a2af2647e893b64274c715ce9e1,dask.array.Array.T,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 16:21:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-11 16:21:46-08:00
c8a736463308129782e66b381e6ce609b7e19df0,test dot.lower,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 11:17:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 11:17:51-08:00
92e6542b0381365f8ae3f54fd0a8fbf41cb3dd67,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 11:18:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 11:18:15-08:00
d3b3c34423576d010c0f12baa89899ba78c1b375,get_sync function for debugging,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 13:05:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 13:05:27-08:00
0d4e5791ca4dd6de4e83426ec4c07fe95c5a989a,"Merge pull request #33 from mrocklin/get-sync

get_sync function for debugging",Matthew Rocklin,mrocklin@gmail.com,2015-02-12 13:40:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 13:40:22-08:00
678ef6092a4125e256599779330b29a9bd4bd540,pull out array overview,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:05:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:05:50-08:00
aea2046497dbe04168e35d8793363ce7efb9a36c,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:07:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:07:55-08:00
6441f5cefe94305900528a602bd94865734d1b65,clarify blaze-dask relationship,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:35:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:35:07-08:00
13838d33c765e89790bbe36a7ca555832433742b,edits to array-blaze,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:42:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:42:21-08:00
4089f07a01aa466c0986c5a56a90a8983ffadfd8,compiler chain description,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:50:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 17:50:15-08:00
2087e7dc4cf685e439778f12bd3de50fd669d645,copyright in docs is Continuum,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 18:03:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-12 18:03:32-08:00
d44291b645293a744f007aa67c250fa09aea369b,fix abs and neg,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 14:50:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 14:50:09-08:00
9095e2d5c493dbd2d18dbb7c77d03394977cbc6f,ensure elemwise/atop/top works on scalars,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 14:50:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 14:50:38-08:00
c074ab848b1f12892033aebe37c2d91aabb93f0a,vector norm,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 14:50:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 14:50:55-08:00
749cbfff01a6ac026eaba4150e1c09ec6211069d,"Merge pull request #34 from mrocklin/vnorm

Vnorm",Matthew Rocklin,mrocklin@gmail.com,2015-02-13 16:24:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 16:24:13-08:00
2460d340fdf839a5215f258c74c73b2be78ee27c,bump version to 0.2.1,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 18:12:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 18:12:56-08:00
a4969a8eda0034ed509a90109e1d1d661d517187,"add vnorm to array imports

Fixes #35",Matthew Rocklin,mrocklin@gmail.com,2015-02-13 22:22:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-13 22:22:35-08:00
4dccc1a620bf287ed6d052118cd7e5d61cee32f9,oneline description of dask arrays in overview,Matthew Rocklin,mrocklin@gmail.com,2015-02-14 08:20:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-14 08:20:25-08:00
185edc7fd8880f86ac710b65cbe0c0ce1401c6f5,add dask.base,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:02:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:02:35-08:00
9ac765efb25a461a42559a820b7f7d8ef85531ff,daskbase inherits from MutableMapping,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:34:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:34:36-08:00
4ad00139e4f070801e5a1d8cc0c6c9d765cbc65f,allow non-destructive updates,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:37:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:37:29-08:00
51bb30c33b9b9ab822ce22cbd0870a51b178ff3e,add base to setup.py,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:56:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:56:41-08:00
8e61be0acfd5cb6f0e2fa0b53005b6a11ba08575,rename base to store,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 20:06:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 07:54:29-08:00
a549824d8b1c668ffa9e24e8aac9dc9a2d3af92a,bump version to 0.2.2,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:06:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:06:37-08:00
c46c64973bc5ff1ed7baf904755cc27fb21fdbc2,long,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:14:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:14:54-08:00
b0f4750ce7d0385801bd12e0f32bc165655fe2ca,support long in slicing,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:18:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:18:54-08:00
c795526bce1a07f8dafb8876113f255e49ef9b24,coverage,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:19:04-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:19:04-08:00
bb55c46f562e8d1aa11714396560753f733355a0,close hdf5 file,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:20:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:20:30-08:00
38d122dcb0c486a4d6f4b906dbcb6f28f3071a6b,avoid i4 dtype in test,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:22:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:22:08-08:00
69071341825b1a7cad14f4e4f366256d487ca847,bump version to 0.2.3,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:24:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:24:44-08:00
6d4e08e77782ad3bade6b3df5ddc1d372df88a50,remove multipledispatch and into as dependencies,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:32:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:32:45-08:00
4866951960f51b2abcfd568ed40fd1e3922de0be,add requirements and manifest,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:39:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:39:06-08:00
6fbe241a87e1658701795a7daf1550f3f8dc36b9,bump version to 0.2.4,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:39:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:39:47-08:00
65f095c637ee0980005aca2c8610d50dd1fdc852,add dill and psutil to requirements,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:45:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:45:17-08:00
30280407ff4e2c47fb4bbd6860e806cd8312f09b,bump version to 0.2.5,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:46:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:46:27-08:00
c4ea2d360ebf0fc9b9d9494ed43e540eaf2282d8,add compatibility import,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:51:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 11:51:48-08:00
af03c7c7d7cc5e06701fd2f5153008f367ed99fe,bump version to 0.2.6,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 12:04:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 12:04:32-08:00
ff4657dbda29861271a1e9de502712006af8a0dc,"Async scheduler uses FIFO policy in task selection

Previously we inspected the current dependencies to find tasks
that would allow us to release data.  Our implementation for this was
linear in the size of the ready-to-run tasks.  For large blocked
algorithms this can become a bottleneck.

Now we use a first-in-first-out policy so that we run newly ready tasks
instead of long lingering ones.  We hope that this causes somewhat
independent chains to execute before starting new ones.",Matthew Rocklin,mrocklin@gmail.com,2015-02-17 14:50:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 14:50:05-08:00
ca5c91b0478a5b0620018192654bd5066731f982,"Merge pull request #38 from mrocklin/fifo

Async scheduler uses FIFO policy in task selection",Matthew Rocklin,mrocklin@gmail.com,2015-02-17 15:05:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-17 15:05:09-08:00
b69390a0856ee0013fba4a8cc97513f5b097d0ca,add authors,Matthew Rocklin,mrocklin@gmail.com,2015-02-18 10:39:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-18 10:39:38-08:00
060fb54461a70afdcea12cbd17653bf2c5b7a76f,First commit of a linear algebra module. It only contains a function for computing QR decompositions.,Mariano,marianotepper@gmail.com,2015-02-18 18:20:29-05:00,Mariano,marianotepper@gmail.com,2015-02-18 18:20:29-05:00
8681485069f668ce4dcaa32799509d56cdbb2bbb,Several small changes. The most important one being added support for irregular blockshapes in the input array.,Mariano,marianotepper@gmail.com,2015-02-18 23:15:57-05:00,Mariano,marianotepper@gmail.com,2015-02-18 23:15:57-05:00
0c934383200f421981f82e0f58b6a123f774f831,Changed function name from qr to tsqr. Added a function named qr that might serve as a selector function in the future.,Mariano,marianotepper@gmail.com,2015-02-18 23:38:07-05:00,Mariano,marianotepper@gmail.com,2015-02-18 23:38:07-05:00
b75350a64c0494dc5de49152590431d7377eaa82,"Basic test for QR properties:
- A - QR must be small
- Q^T * Q must be close to the identity matrix
- R must be upper triangular",Mariano,marianotepper@gmail.com,2015-02-18 23:40:17-05:00,Mariano,marianotepper@gmail.com,2015-02-18 23:40:17-05:00
0464a57df4a13800a9fc8e4cb7400b12a2589494,absolute_import added,Mariano,marianotepper@gmail.com,2015-02-19 09:43:24-05:00,Mariano,marianotepper@gmail.com,2015-02-19 09:43:24-05:00
a4946501065c6d9e0a9063f761ba4e3317784bfd,absolute_import added,Mariano,marianotepper@gmail.com,2015-02-19 09:45:42-05:00,Mariano,marianotepper@gmail.com,2015-02-19 09:45:42-05:00
897859d19a57209f471b08a2cbf827c073fb7c90,Compatibility fixes for python 3 and python 2.6,Mariano,marianotepper@gmail.com,2015-02-19 10:46:11-05:00,Mariano,marianotepper@gmail.com,2015-02-19 10:46:11-05:00
ec24cce45fd2c8b2d462c079cd1259060c2e5153,Assertions commented for clarity,Mariano,marianotepper@gmail.com,2015-02-19 10:47:09-05:00,Mariano,marianotepper@gmail.com,2015-02-19 10:47:09-05:00
dc2ce2636622e85d71a775f3615910a634a447ab,"linalg imports

This adds the linalg module to the `dask.array` namespace.
Required using relative imports",Matthew Rocklin,mrocklin@gmail.com,2015-02-19 09:49:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-19 09:49:55-08:00
7268fdb584a009278e8649b6b827cc41e5bb7227,typo,Matthew Rocklin,mrocklin@gmail.com,2015-02-19 09:54:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-19 09:54:44-08:00
2efcdd31c31027eac2a46c5cafcccc414b16130b,doc: fix eye example to use delayed functions,Matthew Rocklin,mrocklin@gmail.com,2015-02-19 16:02:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-19 16:02:58-08:00
3e5964d1f0e65ed3c6fe239a9587456eaa8ebac3,"Merge pull request #1 from mrocklin/qr

linalg imports",Mariano Tepper,marianotepper@gmail.com,2015-02-20 06:57:29-05:00,Mariano Tepper,marianotepper@gmail.com,2015-02-20 06:57:29-05:00
c561db76aa94fa0bd83b8c6b34ea769998e67757,Fixed handling of irregular blocks,Mariano,marianotepper@gmail.com,2015-02-20 07:05:22-05:00,Mariano,marianotepper@gmail.com,2015-02-20 07:05:22-05:00
e816449b67c57aa9eae36c8988f70b8722f2845e,Merge remote-tracking branch 'origin/master',Mariano,marianotepper@gmail.com,2015-02-20 07:05:54-05:00,Mariano,marianotepper@gmail.com,2015-02-20 07:05:54-05:00
a1c0d690d53e1c42b7a1b88b56101df538bbec0f,Fixed handling of irregular blocks,Mariano,marianotepper@gmail.com,2015-02-20 08:39:17-05:00,Mariano,marianotepper@gmail.com,2015-02-20 08:39:17-05:00
b26ded6d90dd2d405446c9bed110477f3cf8302a,Added a test for irregular blocks,Mariano,marianotepper@gmail.com,2015-02-20 08:49:11-05:00,Mariano,marianotepper@gmail.com,2015-02-20 08:49:11-05:00
d3950bf6e916e5f0d0f6cf041db4c4850d53d7fc,add missing test_wrap file,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:04:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:04:25-08:00
1f23a7fa0701d998eac1f386b2c84cc4aad57a61,ensure wrap works with list shape,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:04:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:04:44-08:00
bfb6804ca94563c962fece3e7ce29319746dab34,"Merge pull request #39 from marianotepper/master

Linear algebra module",Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:08:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:08:50-08:00
55e55d28110726948ec0c7f0f27f3aef6c5e5d88,add @marianotepper to authors file,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:10:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-20 07:10:07-08:00
ff24f14d77b7a796957690a250ee8ffe9a18995a,Add argmin/argmax,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 12:10:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 12:10:08-08:00
d5772f803a2e9957a7fc04c3fefb7b017c39abf7,Better error reporting on axis=None,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 12:37:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 12:37:05-08:00
57df8b161cb372960d139237685f12b97537f23b,"Merge pull request #41 from mrocklin/argmin

Add argmin/argmax",Matthew Rocklin,mrocklin@gmail.com,2015-02-21 13:00:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 13:00:15-08:00
e0963223cd60e7cc86ce4032c42af9bf63c790c7,"update README file

cc @Carreau",Matthew Rocklin,mrocklin@gmail.com,2015-02-21 18:51:53-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 18:52:57-08:00
5dbe8ca63a55506e3455fc340f006fb6904374fb,"Add NaN-aware reductions

These use np.nansum, np.nanmin, etc. to implement da.nansum, da.nanmean, etc.

Example
-------

    In [1]: import numpy as np

    In [2]: import dask.array as da

    In [3]: x = np.array([[1, np.nan, 3, 4],
       ...:               [5, 6, 7, np.nan],
          ...:               [9, 10, 11, 12]])

    In [4]: d = da.from_array(x, blockshape=(2, 2))

    In [5]: np.nansum(x)
    Out[5]: 68.0

    In [6]: np.nansum(x, axis=0)
    Out[6]: array([ 15.,  16.,  21.,  16.])

    In [7]: da.nansum(d).compute()
    Out[7]: 68.0

    In [8]: da.nansum(d, axis=0).compute()
    Out[8]: array([ 15.,  16.,  21.,  16.])

    In [9]: da.nanstd(d, axis=0).compute()
    Out[9]: array([ 3.26598632,  2.        ,  3.26598632,  4.        ])

    In [10]: np.nanstd(x, axis=0)
    Out[10]: array([ 3.26598632,  2.        ,  3.26598632,  4.        ])",Matthew Rocklin,mrocklin@gmail.com,2015-02-21 13:44:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 19:34:57-08:00
d97eb9a9b031e3719f86bb61dc5a056edb9ea4e2,"nanargmin, nanargmax",Matthew Rocklin,mrocklin@gmail.com,2015-02-21 14:04:16-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 19:34:57-08:00
ad8bda04282f365abe5d489315f7280b2f180c9c,add ignoring context manager,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 18:59:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 19:34:57-08:00
66cd6a25d23be0dfefd03877957c41903864f40c,protect against missing nanprod,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 18:59:23-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 19:34:57-08:00
d1c819a8b0a5dce595a96cb884758ca981bf28ce,"Merge pull request #42 from mrocklin/nan-reductions

Add NaN-aware reductions",Matthew Rocklin,mrocklin@gmail.com,2015-02-22 08:03:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 08:03:36-08:00
320e4fdfb2aef4d0c16ee59ddd05b46ca7ddfba2,add choose,Matthew Rocklin,mrocklin@gmail.com,2015-02-21 19:32:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 13:51:32-08:00
6fa5eaadb9554c9a68c5a1ff769186e905daa3a8,"Merge pull request #44 from mrocklin/choose

Choose operation",Matthew Rocklin,mrocklin@gmail.com,2015-02-22 14:00:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 14:00:11-08:00
9ff26fb8b01d0a5c5a1ebbc79241fe44453c0f22,add coarsen per chunk function,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 14:10:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 14:10:49-08:00
6abdff9854251dfbeb3c4210dab76fa9423336e1,Add coarsen operation for dask array,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 14:24:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 14:24:06-08:00
390ae898200a0ba138d17641cd938bfd49fd48a5,coarsen robust to use of da.reductions,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 15:52:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 15:52:44-08:00
93a5425e7ceaa97323406175508ee2c86383387b,use inspect library for py3,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 16:16:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 16:16:48-08:00
786c2fdd51891fdc88d778f3197b2f89c68be1e6,robust naming function for dot_graph,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 19:25:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-22 19:25:19-08:00
47402029d02536d950d89dd1fa9174a4f93d9483,"async start state handles redirects

Fixes #48",Matthew Rocklin,mrocklin@gmail.com,2015-02-24 08:56:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 08:56:43-08:00
1cc35f7bb3dbb781e365f0df496dae11a4a7d6fd,fix hashable error,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:00:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:00:21-08:00
b5459c9a57626a8480ad122853c0edc88d39842a,"remove debug false import line

cc #47",Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:00:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:00:44-08:00
1c24720d037a0ce17d847c51a9a09121d77b6c4c,"Merge pull request #45 from mrocklin/coarsen

Coarsen",Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:41:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:41:52-08:00
6081454df146abc2d388ba90741e379f81419aae,"Add where to dask arrays

Depends on da.choose.  See https://github.com/ContinuumIO/dask/pull/44

Fixes #49",Matthew Rocklin,mrocklin@gmail.com,2015-02-24 09:10:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 10:14:15-08:00
38d19a1048b74fe1f8c442d78a57eab022503c9f,"Merge pull request #50 from mrocklin/where

Add where to dask arrays",Matthew Rocklin,mrocklin@gmail.com,2015-02-24 11:26:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 11:26:05-08:00
925ae4b791898b3d461e82cb9d76f63e72a13fbf,constant function,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 16:54:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-24 16:54:46-08:00
bbe0b2a0cd4c5a6c8fa7b520c082cfcc4653a48e,add ghost operation,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 10:35:23-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 10:35:23-08:00
3d30854cae2b82efce56e91db58951962a88f7e4,add map_blocks function,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 11:06:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 11:06:19-08:00
9e48940d9ac83376751d40f35a07ae4bd0c1a71a,add fromfunction,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 11:53:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 11:53:00-08:00
3a19b203654f5c7d2b8a4b13be634cf6dedaf6a9,trim function,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 12:22:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 12:22:59-08:00
32ab17d35cd96089a0eda1643b760c793fa46e21,add ghost.periodic function,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 12:39:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 12:39:40-08:00
13fc4b85b23a797b6420a2c7c0c664253733bf58,ghost constant,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 13:00:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 13:00:46-08:00
148b08cefe4c3bda1b6e0aa05c19d403358d3d88,"map_block with block_id keyword

cc @maxhutch",Matthew Rocklin,mrocklin@gmail.com,2015-02-25 13:00:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 13:00:52-08:00
ee8d7b7e00c6d2ec6cde2ca420f8352056b74439,add ghost docs,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 16:14:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-25 16:14:42-08:00
1468e7885188e2239cf3da88b182fc5203e7695f,guard inspect call,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 08:44:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 08:44:28-08:00
3c3d53eba1f0630eed25e8ae9702c1d8182df505,ghost respects blockdims of sides,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:03:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:03:55-08:00
ed53beb122edf015b9ae5b9a8003e9c37851ff52,ghost reflect boundary condition,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:22:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:22:11-08:00
26bb6082ebf4de880b18c93707a699dfbb9d5ff3,boundaries function,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:22:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:22:30-08:00
e5408f52fa2201b059311ea1193300be6b4b880c,ghost svg doc,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:22:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:22:46-08:00
ecc1c8a39a3d8557f29fc50c1ecce684acc3379c,add main ghost function,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:47:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:47:31-08:00
8a2a711ce0fa13add7103e6a6eefc081cdb1369b,py3 fix,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:57:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:57:49-08:00
77f6f5e7f720d8305a1220b10f2e9dd849a56d73,rename internal_trim to trim_internal,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:58:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 09:58:22-08:00
95558eee9dc401dfba6b4ea52b277d6eb10a26ef,doctest cleanup,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:02:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:02:37-08:00
59a2c5cad6621e40f8509c28bc627b1c13b47094,"slices use : instead of 0:20:1

This should make it easier to identify and optimize out",Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:02:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:02:43-08:00
5869ac84685f9d3e5ed0679886474e745768cbe5,"Remove full slices from array dasks

This drops work from tasks like

    (getitem, 'x', (slice(None, None, None,)))

To be just

    'x'

cc @eriknw who might have thoughts on how to remove the resulting
alias kv pairs like

    {'x': 'y',
     'y': 'z', ...",Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:31:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:31:11-08:00
90f2db5125806076ceaac04a1609396f2d416220,Merge branch 'master' of github.com:ContinuumIO/dask into ghost,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:46:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:46:59-08:00
a257d3310702743d05c0b53ff6311206ffc02eb1,is_full_slice works on non-tuple gets,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:48:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 11:48:51-08:00
763e63e21645f88a7b69a64d38ec04fe8cbd2f90,trim appropriately on kind[ax] == None,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 12:02:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 12:02:18-08:00
07cd98dac6e057f3813d573545dac457b6bca5c8,update ghost doc,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 12:13:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 12:13:27-08:00
394d48e2eacf7f98c2cb381f0351807064a5c302,update ghost doc,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 12:19:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 12:19:00-08:00
5e345a812d416c4b2861e207049e3ceae3b3e406,"Add dealias optimization

Example
-------

    >>> dsk = {'a': (range, 5),
    ...        'b': 'a',
    ...        'c': 'b',
    ...        'd': (sum, 'c'),
    ...        'e': 'd',
    ...        'f': (inc, 'd')}

    >>> dealias(dsk)  # doctest: +SKIP
    {'a': (range, 5),
    'e': (sum, 'a'),
    'f': (inc, 'e')}

Fixes #53 .  cc @eriknw",Matthew Rocklin,mrocklin@gmail.com,2015-02-26 16:59:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 16:59:40-08:00
fdc6c26aceae8f32e56df40d65a0590a1b1b9985,rolling -> sliding,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 17:20:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 17:20:15-08:00
9798ef679d53b008024c91312f2508800a0244c4,update dealias,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 18:36:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 18:36:37-08:00
2a41ded3382059f153b162c53804faeaabd8440d,update remove_full_slices,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 18:36:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-26 18:36:52-08:00
f5e0ebf303ec6a2a874f3ad0eac98f3336e43b90,"Add *.egg-info to .gitignore

I found it listed as an untracked file after installing dask.",Stephan Hoyer,shoyer@climate.com,2015-02-26 23:31:13-08:00,Stephan Hoyer,shoyer@climate.com,2015-02-26 23:31:13-08:00
8f63cb8daa7f8206580a6ca6492707f08889ecc0,"Merge pull request #55 from shoyer/gitignore

Add *.egg-info to .gitignore",Matthew Rocklin,mrocklin@gmail.com,2015-02-27 07:14:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 07:14:44-08:00
3f5e6e69137be3b4ffffc7cc3390d19d6c6b73e5,"Merge pull request #51 from mrocklin/ghost

Ghost",Matthew Rocklin,mrocklin@gmail.com,2015-02-27 09:31:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 09:31:57-08:00
9d1682f3d7bddee3e9536c5adab854de493f82aa,getem takes blockdims,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 10:27:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 10:27:30-08:00
544fc85f2f2b43b63519d8e00561ef49e9dbd7a3,Array repr,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 10:34:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 10:34:02-08:00
184b6636d2070692ab3415ac97a376e990d26392,handle slicing with ellipses,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 10:47:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 10:47:51-08:00
a3b71dcfa77dadaa2f06a9ec30558308bf07197f,"Merge pull request #57 from mrocklin/misc

Miscellaneous improvements",Matthew Rocklin,mrocklin@gmail.com,2015-02-27 11:11:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 11:11:30-08:00
1b406e4c5c965e892c81771a500a65f930b49fb5,"Merge pull request #36 from mrocklin/base

Dask.store",Matthew Rocklin,mrocklin@gmail.com,2015-02-27 11:11:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 11:11:54-08:00
86489a01960ef833ce4638451d6509399338bf25,add dask.base,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:02:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:47-08:00
1aefecfb11f76121a1c3089c533767b3b643bab4,daskbase inherits from MutableMapping,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:34:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:47-08:00
ea10fc257f37e7c1000912a684989c6ebe3550bb,allow non-destructive updates,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:37:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:47-08:00
f5a06a337845f062d0dd0bc694feba84ca58601a,add base to setup.py,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 16:56:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:47-08:00
59c7424838b6f0ac67cc47bfc87c3288f1067c1a,rename base to store,Matthew Rocklin,mrocklin@gmail.com,2015-02-16 20:06:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:47-08:00
6c113ff8f43ad27844411e36bf51ee6096374d1d,"add dtype property

Computes dtype by computing the dtype of the first element.
In principle this could be very expensive

cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:30:47-08:00
8f67df4562898c622f24dec716710113390d4813,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:31:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 12:31:05-08:00
43ed5cb93b9a33ab7a56cf6606dfb5f15f31ef86,rename ghost kind= keyword arg to boundary=,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 18:33:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-02-27 18:33:18-08:00
d382386ba28e0eecba8fe91423c8c77d0455b87d,inspect doc,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 08:51:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 08:51:30-08:00
28686be00124a75ee1ab91d0bdee999f9cbc8fa0,array creation doc,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 10:10:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 10:10:35-08:00
8ebbf3dca511d292fe6dfecbf22665739ee5ec7b,add FAQ,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 12:27:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 12:27:35-08:00
5036c94c3a450cc492a6bf61f8d86404b74e1b60,get_sync raises exceptions,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 13:05:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 13:05:31-08:00
d258b3beaf8112c817b1f6928b325b66e8382697,Ignore docs/build for building docs locally,Phillip Cloud,cpcloud@gmail.com,2015-03-05 06:50:44-05:00,Phillip Cloud,cpcloud@gmail.com,2015-03-05 06:50:44-05:00
a11edf3b4cf104e57aa965d5ef3541df0995829c,docs: conf.py uses dask.__version__,Matthew Rocklin,mrocklin@gmail.com,2015-03-05 13:52:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-05 13:52:43-08:00
55b46913b27d60d4375cf018563e0e6921780307,bump version to 0.3.0,Matthew Rocklin,mrocklin@gmail.com,2015-03-05 13:54:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-05 13:54:56-08:00
6f21af2305dd803f0c20133865ec1aa2c16d3e3a,experiment with forming reblocking tuples,Peter Steinberg,peter@hydroinformatica.com,2015-03-05 14:09:36-08:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-05 14:09:36-08:00
975ea817ef216ba72bd6494c6fe294b08a632417,experiment in reblocking blockdims,Peter Steinberg,peter@hydroinformatica.com,2015-03-05 14:19:32-08:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-05 14:19:32-08:00
5b46695b34819b6ac06f56181ed64d47cde8b153,trying to convert intersect_blockdims to comprehensions,Peter Steinberg,peter@hydroinformatica.com,2015-03-06 14:33:13-08:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-06 14:33:13-08:00
c90dd840457e18c711271f68bfb4cc5a38e85dbf,merge conficts fixed,Peter Steinberg,peter@hydroinformatica.com,2015-03-06 14:38:47-08:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-06 14:38:47-08:00
bf349d75f471f01c3190d9f87a8ef148c98d3aad,some administrative changes,Matthew Rocklin,mrocklin@gmail.com,2015-03-06 14:56:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-06 14:56:20-08:00
c3fa8fde87ae5cbc1995000c1ecaaec1c17fbd62,"Merge pull request #2 from mrocklin/reblocking

some administrative changes",Peter Steinberg,PeterDSteinberg@users.noreply.github.com,2015-03-06 14:58:39-08:00,Peter Steinberg,PeterDSteinberg@users.noreply.github.com,2015-03-06 14:58:39-08:00
163f4d77899270360de4043aa65a699b8d2b647e,typo,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 09:28:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 09:28:36-07:00
5d1bd9da283ffc70b1ac3cb0e1735acc2d6b3323,frame design doc,Matthew Rocklin,mrocklin@gmail.com,2015-02-28 15:34:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
6502c104824d4471524c16ba9a10a70730023c94,add Frame skeleton,Matthew Rocklin,mrocklin@gmail.com,2015-02-28 18:13:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
e25be43c7e3f4e44f00f7560d62594e853fa5f11,tl;drs in frame design doc,Matthew Rocklin,mrocklin@gmail.com,2015-02-28 18:21:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
32561e9b4d287abd348ae77e815d6d789759881d,add frame to setup.py,Matthew Rocklin,mrocklin@gmail.com,2015-02-28 18:54:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
f6d037dadfcb9a4ea973aa66cd4ec5ceaf4d8c00,add labels to sort image,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 09:50:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
eee739157eb7b7462a4a4da8bfb8a2d31762dd84,add tmpfile and filetext to utils,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 10:12:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
1f875419e4b4f6c37405b00948309007523f9f1d,dask.frame.read_csv,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 10:12:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
41ded06637afa9cebfdb510d2761b372433058b8,add head,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 10:15:04-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
bb6a89e43bad4d1bb4ff5d776f81240fddc60def,dask.frame filtering,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 10:19:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
40ec3d24dc3333f2202d9670e9856409abda2241,"A few small changes to frame

1.  Use fuse optimization
2.  Head computes by default
3.  Head uses n=10 by default
4.  Correct blockdivs in uneven blocksize in read_csv",Matthew Rocklin,mrocklin@gmail.com,2015-03-02 10:31:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
ac6491bb416bd4dd0440e44195b512fc1d459fe5,guard list index,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 13:01:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
f7439df9bb60e63ce98929ae595cb03220f3d9ef,fix readlines parition counts,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 13:12:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
5359c5c547d5bd5e8b32f30d88390509b996dab6,compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 13:23:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
7c068a5f1cdbb802447b062b1438ae3caa560d88,copy elemwise operations from array,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 16:00:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
85b20d29efb997eee0efbc6f2811795e30f70d52,head of series,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 16:02:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
f034a0698dc711cba7e835b5b5e88faf99f885e0,getattr passes through,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 16:04:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
593171fb11a6a7779f5774c57bd5fee2a2c90734,frame repr executes head,Matthew Rocklin,mrocklin@gmail.com,2015-03-02 16:08:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
947fc2e8ad8f1de94280a079bd9122caabfe4430,wip - frame shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 08:51:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
4b2d52c3a9448e1d82d59d49ea3da079f9260cd8,frame shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 09:38:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:50-07:00
2e2d38d9be633006cfe212e24eb851dc58e02faf,set_index almost works,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 12:20:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
0c724268256228a923a08437f914679bacfbea41,set_index,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 14:16:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
7474f3695729cb649d43049addc60156230002a0,move shuffle code to new file,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 14:41:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
327771a535864a11eb5f96ce408ec0d32157415c,remove dead code,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 14:44:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
4844df411caa29700133f07997c55bb8554f3713,ressurrect some code to ensure non-zero partitions,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 15:44:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
7f9737cca328caa4aa1194b974a70da5575eaec6,shard_df_on_index uses iterator,Matthew Rocklin,mrocklin@gmail.com,2015-03-04 16:11:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
c9cef2b4bd61a4c8452f5181680d3b60514296d5,"track column metadata in frames

cc @cpcloud",Matthew Rocklin,mrocklin@gmail.com,2015-03-05 11:29:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
fd6b80e802bb6d6aafbf8a710560d13372baadad,wip - groupby apply,Matthew Rocklin,mrocklin@gmail.com,2015-03-05 14:25:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
b66f85079f019f8f2410370f00bd15c25de4922a,reduce chunksize,Matthew Rocklin,mrocklin@gmail.com,2015-03-06 14:46:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
adea3e8bd82a44ed04aec1bafd6e80a851be5c3a,"store index as numpy array, not pandas series",Matthew Rocklin,mrocklin@gmail.com,2015-03-06 17:01:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
efe376720edda1ee527e9a28300ae6a2930a8bc0,Use chest as default cache in frame,Matthew Rocklin,mrocklin@gmail.com,2015-03-07 07:42:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
c5f9d3b1b5d6529931c9c6694232e1bdcd653957,add from_array to frame,Matthew Rocklin,mrocklin@gmail.com,2015-03-07 10:08:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
f15365fc64dcbaddb03cb3cb3425d2e3ee694f6f,add mean/std/var to frame,Matthew Rocklin,mrocklin@gmail.com,2015-03-07 10:19:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
3665e16f6261aa684c055c52464411c7f78edb7e,frame: split reductions,Matthew Rocklin,mrocklin@gmail.com,2015-03-07 11:17:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
6ee9b2604ef3d2ecd094469afcb0dfd642b4e36b,frame split-apply-aggregate groups on frames,Matthew Rocklin,mrocklin@gmail.com,2015-03-07 15:19:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
8833de5b5b83027b560bdef1324b379d12779c1f,add repr_long_list repr function,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 08:01:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
6d61ef0d4243f1767f86703eba161cb591f78df4,frame coverage,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 08:33:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 14:24:51-07:00
746bf425e8b791c9fa309fb1b402ae1db5d4a271,"expose num_workers to dask.bag

cc @quasiben",Matthew Rocklin,mrocklin@gmail.com,2015-03-08 23:50:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 23:50:44-07:00
ed3e9642d5e91d611666592ea3afea43a0b5ee26,"see also sections in bag.from_{sequence,filenames}",Matthew Rocklin,mrocklin@gmail.com,2015-03-08 23:54:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-08 23:54:14-07:00
e07e5b6bfa8a19c2050c58af516e508385575890,add apply to compat,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 00:06:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 00:06:35-07:00
0f7cdf06b293cd8d2e4dd049b3e02587f83b221f,Bag.map respects multi-argument functions,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 00:06:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 00:06:44-07:00
f225df98e13ecfea179bc62f2620413c9fe67830,protect inspect call,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 00:09:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 00:09:14-07:00
90557e561eec49be0b903407364badbc2ae85bee,reblock() is passing functionality tests. no performance test yet,Peter Steinberg,peter@hydroinformatica.com,2015-03-09 08:13:03-07:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-09 08:13:03-07:00
56aad0412456ae391e9235bc309edf84aca916a5,"Merge pull request #61 from mrocklin/bag-variadic

Bag map with variadic functions",Matthew Rocklin,mrocklin@gmail.com,2015-03-09 08:17:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-09 08:17:25-07:00
306aaef742dac65cc03d6c57116918bdd1e72242,"Removed snippet

I had accidentally committed the core.py file when I didn't intend to.",Peter Steinberg,PeterDSteinberg@users.noreply.github.com,2015-03-09 10:55:48-07:00,Peter Steinberg,PeterDSteinberg@users.noreply.github.com,2015-03-09 10:55:48-07:00
00c53bf0adb6a45245405773431e6da11f4b1bf3,clean up tests/doctests. allow blockshape kwargs,Peter Steinberg,peter@hydroinformatica.com,2015-03-10 08:24:29-07:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-10 08:24:29-07:00
6a6b0c18cb9532243d5b6a10417e9e303e9b0e5b,Merge branch 'master' of github.com:ContinuumIO/dask into frame-docs,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 12:05:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 12:05:12-07:00
0097043f3620c553dd0c91a8cdca7442fae8abf4,read_csv doesn't require chunksize,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 14:18:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 14:18:26-07:00
b0cbcada3d9d7546f0ebd49e17d141e314d805fe,drop_duplicates,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 14:23:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 14:23:56-07:00
0a8303e71c772ddcd6e607302815034ce3277e6e,dask/array/core.py: Simple way to get length using the `shape` property.,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-10 17:50:04-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-10 17:52:44-04:00
1ee3326a08706fc623746894c4b3c1c3e7a6c64c,add set_partitions,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 15:44:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 15:44:37-07:00
c9c1185077207f048b7de9a0763acfeb26d89c65,docstring,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 15:56:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 15:56:39-07:00
0d788e268032f4cf8141234a523b51e2b76d5230,don't store empty shards,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 16:18:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 16:18:20-07:00
fe7e6663f8accde83d919a6a556300f3821a684e,"dask/array/core.py: Instead of using the `shape` property, just compute the first term for simplicity.",John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-10 22:23:08-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-10 22:23:08-04:00
1c56bef1bf889c274fd6695b1f4e2e88a58b1615,dask/array/tests/test_array_core.py: Add assertions in a test for `shape` and `len`.,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-10 23:18:13-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-10 23:18:13-04:00
8150908d033a595fa731f8fa56063036d6e887f3,"Merge pull request #66 from jakirkham/len

Provide support for __len__",Matthew Rocklin,mrocklin@gmail.com,2015-03-10 20:31:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-10 20:31:34-07:00
2e53f2a9a36cdc0af09d4624daf2e1a2968b929a,Add build/ and dist/ directories to gitignore,Blake Griffith,blake.a.griffith@gmail.com,2015-03-11 13:27:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-03-11 13:27:19-05:00
aed0507062d113984764e5ac0b74b95004b77429,"Merge pull request #68 from cowlicks/build-dist-gitignore

Add build/ and dist/ directories to gitignore",Matthew Rocklin,mrocklin@gmail.com,2015-03-11 12:03:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 12:03:03-07:00
808e1fb8dda6d5d02fde148edad71f024983340c,"Raise informative error on blockshape=None

Thanks @cowlicks for bringing this up",Matthew Rocklin,mrocklin@gmail.com,2015-03-11 13:54:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 13:54:47-07:00
b69b768d6930a596b1cefe7b8976c0ca2f9fb44b,Initial version of merge_percentiles.  Needs tests and feedback.,Erik Welch,erik.n.welch@gmail.com,2015-03-07 21:25:33-06:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:01:46-07:00
598ba2a5ac5ffb2b26531b160b3264b70a2180db,oops.  forgotten return value.,Erik Welch,erik.n.welch@gmail.com,2015-03-08 00:06:10-06:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:01:46-07:00
93f8cdc2c3f84e2cb5409b7ba7e0d47f1ca38902,"Forgot to rename a ""cum"" to ""desired_q"" for interpolation=nearest.",Erik Welch,erik.n.welch@gmail.com,2015-03-08 10:20:40-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:01:46-07:00
80cbe3f09af625302026f55b5448f3d86c809b90,Don't exceed maximum index when performing percentile interpolation.,Erik Welch,erik.n.welch@gmail.com,2015-03-08 12:30:57-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:01:46-07:00
92a842c19b9c19a5c7d5461d8b7f2828e38b7335,Add code comment on performance of `merge_percentiles`,Erik Welch,erik.n.welch@gmail.com,2015-03-10 15:22:41-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:02:49-07:00
ea72eae8ea90a0eeb55cd23a4b082358fe456921,add old esort code,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:04:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:04:25-07:00
9573c76b73b74c14fade9cc7d403647ec8ef799d,"Merge pull request #69 from mrocklin/raise-error-on-none-blockshape

Raise informative error on blockshape=None",Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:31:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:31:46-07:00
3811f1096a43965da410068dffaf38e6d80ca72c,Move percentile to array,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:41:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:41:33-07:00
ab1f930a64fcc275ee95880203ea02493130229a,ensure that percentiles work with text,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:46:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 14:46:48-07:00
c68c92cf17ad91088a2698c7b06419f9ab7d4770,store one empty shard,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 12:58:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 16:50:09-07:00
c8098e3574bc3cfa6e50d74a8a5dbb179d9836ee,blockdivs by approximate percentiles,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 17:13:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 17:13:28-07:00
fb48f7b46de538e335b99573af9b7fae977a5020,Merge branch 'frame-docs' of github.com:mrocklin/dask into frame-docs,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 17:14:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-11 17:14:37-07:00
ff12db44cad861b140bd6b5b89202fa6b6e27680,refactored reblock's intersect 1d. needs more tests.,Peter Steinberg,peter@hydroinformatica.com,2015-03-11 20:58:22-07:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-11 20:58:22-07:00
635e4d1ddf50961fdc69a725f599a5f148958d7d,fix from_array dask length,Matthew Rocklin,mrocklin@gmail.com,2015-03-12 20:05:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-12 20:05:52-07:00
b5d9ff4d431c0c3f02f1252754ce55ed40b189e6,.gitignore: Ignore PyCharm project folder.,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-14 18:17:59-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-14 18:17:59-04:00
af0b344c4ccc72acd2a9016269bd5c41ecb8f610,"Merge pull request #74 from jakirkham/pycharm_gitignore

Ignore PyCharm project folder",Matthew Rocklin,mrocklin@gmail.com,2015-03-14 15:57:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-14 15:57:41-07:00
131f8f66f7280cf0d57aa0795ef8c493245e12cf,"dask/array/reductions.py: Provide support for NumPy 1.7 by safely wrapping functions that may not exist yet (i.e. `nanmean`, `nanvar`, and `nanstd`).",John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-11 11:56:45-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-16 00:37:28-04:00
2b4403501aa28450ae82e9ebd8a8538651dd2474,"dask/array/chunk.py: Added the function `keepdims_wrapper` to wrap NumPy functions, which do not provide the `keepdims` argument, with a function that properly handles the argument.",John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-16 00:10:12-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-16 00:38:02-04:00
7d865b0be15be63661f731f0aea90f3e6e33cd17,dask/array/tests/test_chunk.py: Add some tests for ensuring that `keepdims_wrapper` works as expected.,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-16 00:12:13-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-16 00:39:07-04:00
b862cffab1a31f282c91e1e3d102061256c7c580,dask/array/reductions.py: Use wrapped NumPy functions from `chunk` for reductions.,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-14 19:30:06-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-03-16 00:40:05-04:00
a15923b4edd498878de9b9668223dac58fdf1d3f,"Merge pull request #73 from jakirkham/numpy_1_7_support

Goes around missing functions as needed and ensures keepdims is provided",Matthew Rocklin,mrocklin@gmail.com,2015-03-16 08:22:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 08:22:51-07:00
a208fb729e7c5be4a64b446228829a5cf41058c1,fix from_array length,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 08:37:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 08:37:10-07:00
989440c275448eeaa9245187549e2c8192e1dddd,subs works on np.array values in tasks,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 08:45:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 08:45:21-07:00
494399f5f9c033d3077d449d633cc140beb757ea,"Use searchsorted instead of Python loop for sharding

This yields significant performance improvements in some cases",Matthew Rocklin,mrocklin@gmail.com,2015-03-16 09:07:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 09:07:53-07:00
c229a9303e3c0441491b868f5b8c53579d1d4bdb,don't unnecessarily turn blockdivs into list,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 09:14:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 09:14:23-07:00
45f00bc47b58e889dfd13f61fb7b66d663dae568,"add dtypes and categoricalize

dtypes property looks at the dtypes of the first block (does computation)

categoricalize looks at distinct values of object columns and coerces to
categories",Matthew Rocklin,mrocklin@gmail.com,2015-03-16 11:42:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 11:42:09-07:00
5eb6090ff6547400b8b681e67bd1d5647507973c,categoricalize automatically finds all object columns,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 11:58:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 11:58:31-07:00
a42668f807bc61944398b53b4d7957ae3d543888,merge storage of new blocks and concatted shards,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 13:19:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 13:19:12-07:00
8fae031850c2b4d30378b93874796cb1378ba74f,"Add top-level function to compute multiple results

The function ``da.compute(x, y, z)`` evaluates the dask arrays x, y, z
simultaneously.

Example
-------

    >>> import dask.array as da
    >>> d = da.ones((4, 4), blockshape=(2, 2))
    >>> a = d + 1  # two different dask arrays
    >>> b = d + 2
    >>> A, B = da.compute(a, b)  # Compute both",Matthew Rocklin,mrocklin@gmail.com,2015-03-16 13:27:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 13:27:31-07:00
6a187877d22193fb3ca0ca4d5a760466cbf0de07,clean up load_and_concat shards docstring,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 14:58:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 14:58:30-07:00
866d13100ee9f60d5d3d84928958269cc925786a,Unify sharding and storage into one function,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 15:09:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 15:09:13-07:00
e5ee6afbbeafdc0c10badd00bcfdf523a14a0a86,categorical stripping functions,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 15:09:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 15:09:35-07:00
72f31cadff54c4238da9b3712359ec7ff7790cb0,Strip category information before storing on disk,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 16:26:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 16:26:30-07:00
4f7347d1ba921d2ab7eef5e7bad473c508d46f64,add cache method,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 21:20:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-16 21:20:58-07:00
e4d7b3ee1897776720d72a876f3023791fb3f402,"fix groupby issues

1.  Pass along column information
2.  support case with one partition",Matthew Rocklin,mrocklin@gmail.com,2015-03-17 08:36:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-17 08:36:10-07:00
397a806d71a6a5d86d28bcabbbbccdfdfbdb4430,da.percentile supports pandas categoricals,Matthew Rocklin,mrocklin@gmail.com,2015-03-17 09:37:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-17 09:37:03-07:00
758785cad50fd9b46d782ee159b9d9fd5d425b7b,un-daskify set_index_and_store operation in shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-03-17 09:45:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-17 09:45:49-07:00
bb42e98b48a9a4b04e2913d1634410841317387f,"Merge pull request #75 from mrocklin/simultaneous-computation

Add top-level function to compute multiple results",Matthew Rocklin,mrocklin@gmail.com,2015-03-17 09:56:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-17 09:56:01-07:00
c4feebc061c19201774b775d4efbac33678b31c6,add value_counts method,Matthew Rocklin,mrocklin@gmail.com,2015-03-18 08:12:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-18 08:12:34-07:00
0e2820bf1a1ce531e47eae4c493ada457f272cbc,"add isin, len",Matthew Rocklin,mrocklin@gmail.com,2015-03-18 08:53:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-18 08:53:04-07:00
e1b0d2eed6c48ea2c5553d2ceadc9517efb62a2e,add new tasks in sorted order,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:10:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:10:44-07:00
f4da9437132cd4243dd31ae4104017311ca63bd6,read chunk from csv file after processing last chunk,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:10:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:10:50-07:00
0538e2b6df89457db7a3fe01e932360dba1229b6,Merge branch 'master' into frame-docs,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:11:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:11:45-07:00
592bdcd046b787acbc483ef46c951c57166a30ca,docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:19:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:19:08-07:00
78b92e433852f4aa459ab095bee6c30fa586712f,remove unused code,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:23:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:23:14-07:00
a8666d8213dc042a446f6501e3d80e4ac35fd58b,py26 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:29:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:29:02-07:00
edc86b0f7812033a2ef0e9c9d7d701ff294ac1a4,add chest to travis dependencies,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:32:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 10:32:44-07:00
1bb5e0c6bed88c0a4f004633b11bce33063f30cc,add frame doc,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 11:37:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 11:37:49-07:00
2bc6d3d8362df49331e61dbcfb0de357d4acbc6c,python 3 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 11:43:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 11:43:21-07:00
793acce250bf89a92c28071ade87e13ea76a0c00,"Merge pull request #59 from mrocklin/frame-docs

Frame docs",Matthew Rocklin,mrocklin@gmail.com,2015-03-19 12:32:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-19 12:32:54-07:00
0274ec8bc277e49f6028d7b111ac66b1d2033ed7,"np.array(dask.Array) works even with no shape

Example
-------

    In [1]: import dask.array as da

    In [2]: import numpy as np

    In [3]: x = da.ones(5, blockshape=(2,))

    In [4]: np.array(x.sum())
    Out[4]: array(5.0)

Fixes https://github.com/mrocklin/dask/issues/3
Reported by @rhattersley",Matthew Rocklin,mrocklin@gmail.com,2015-03-20 09:34:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 09:34:10-07:00
cc5c4b94b3384def2f338b93b9589289e9214c3f,"Merge pull request #77 from mrocklin/array_on_scalars

np.array(dask.Array) works even with no shape",Matthew Rocklin,mrocklin@gmail.com,2015-03-20 10:00:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 10:00:38-07:00
3746bd0a7f7943f31eca69c7645aedf69874c806,"Add first draft of pframe

This introduces an on-disk storage solution for Pandas DataFrames that
efficiently partitions new data along the index during the append process.

The cframe class stores Pandas DataFrames as raw as possible in bcolz
carrays and efficiently handles the many-small-writes append process.

The pframe class collects cframes to represent one partition apiece.
PFrame handles sharding of incoming data and the routing to the
appropriate cframe partition.

Authoring note:  Credit due to @jreback for the to_block/from_block
implementations in pframe/convert.py",Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:24:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:24:30-07:00
d3be88e2797b0543f4c5f1707f82b3ab28b848db,add imports to toplevel,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:49:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:49:06-07:00
6854978da030d6c307f64403760ff06966c6fac1,add del/drop,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:49:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:49:13-07:00
7cb19ae748159489773528bafce4fc47b71be4eb,add administrative details around pframe,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:59:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 17:59:41-07:00
fb3de4fab92e749037a186acaa5ae741224fe37e,Support categoricals,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 18:53:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-20 18:53:37-07:00
4fcd3fee31af7c8494141f34945cab38af3f1f84,percentiles more robust to list/iterator inputs,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 08:59:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 08:59:56-07:00
d90442e99f6d944cfd42496beba26b0801c23c63,npartition,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:30:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:30:52-07:00
1d704e961b3d17e9b12bff84b5d1c2b684dc305b,pframe maintains index,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:34:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:34:24-07:00
b11370c3112305a232303aab95d4bcb212e0b56e,add quantiles to dask.frame,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:37:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:37:19-07:00
b1001735706a58ab8fe95ea16a771803ee943e2f,set_partition using pframe,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:38:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 09:38:15-07:00
b7f9177b7d2d334d6e0859039f839a0d4421f995,"pframe handles multiple categoricals with same dtype

Previously we stored one block for each categorical
Now we store one block for each dtype (e.g. i8).  This matches
the behavior or what comes out of shard_df_on_index",Matthew Rocklin,mrocklin@gmail.com,2015-03-21 11:02:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 11:02:20-07:00
68541403cfa60195682d6a9ec62d0032e91d8ee3,raise error on object dtype,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 11:12:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 11:12:47-07:00
93a1f2b23008f8d73f6b9349349a30e7be3a0085,set_index uses pframe,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:12:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:12:47-07:00
06ec1493baeeb7a353951eae6ff57302ed37b77e,add shard_df_on_index tests,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:18:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:18:32-07:00
0a5021172761ff3fb16e2a28ca2f4df5fb63f62a,remove dead shuffle code,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:18:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:18:42-07:00
2a23e9b631b612a39a5f36e0b3b6bdfbeddd10f0,cframe __del__ doesn't depend on os module,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:28:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:28:48-07:00
391ca6bd6db02f094f69ba260feb7f3803534ac1,remove duplicated code,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:29:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 14:29:09-07:00
c9613be0040c9f586412ff426f87c555ad4ec2e6,set_index works without stated npartitions,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 15:24:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 15:24:18-07:00
fa7e77a5b0a983394e94df224dd4330023d7f367,add dask.array.unique,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 15:31:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 15:31:30-07:00
1188f9f8f3f75fdbab02c3a856fc9c9975a50fc8,"Add dask.frame index attribute

As inadvertently recommended by @cpcloud",Matthew Rocklin,mrocklin@gmail.com,2015-03-21 16:04:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 16:04:49-07:00
a2f35041f0401d98084e20d437a103c01cda5a81,add missing categories file,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 17:17:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-21 17:17:51-07:00
95ab4c458bb9c43dc090d36bb55d17d4ee47d58e,sanitize blockdivs,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 08:11:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 08:11:07-07:00
30ad29d6b8d419214179ea8b8aebdbe072aba5bd,add from_bcolz function,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 15:02:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 15:03:22-07:00
5bac4a538a0b3c2e0cff82bae75be8f0dccee7ef,add from_bcolz index= kwarg,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 15:51:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 15:51:55-07:00
e4f74ed11fca8d073c6f88ce48cb66ab03c24989,numpify categorical creation,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 16:34:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 16:34:46-07:00
028f7fb2c9bd5a798c8c00213286f97a7d8bea84,pframe is threadsafe,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 16:56:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 16:56:50-07:00
403eb06ab306d87dc45d118888739e54a7868419,set_partition uses threaded get,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 16:57:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-22 16:57:02-07:00
3044d4775c8005b2acacd6bf92c437b6ece0fe97,pass through chunklen,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 08:05:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 08:05:22-07:00
600127e2901156c55458c9e8592099e58fa46afb,use threaded get by default,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 08:05:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 08:05:35-07:00
6f87df6918c4ef01bd9c034ef302a66e3d989bc2,"add transpose as Array method

cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-03-23 15:01:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 15:01:27-07:00
651a9e8a3f2c3a512a0a91d7678cec5094c90db8,"add global context manager

Supports setting get function within a with block

cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-03-23 16:39:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 16:39:30-07:00
3c41f378601acb7afbdb0232b1104f579ea379c7,add context imports to various namespaces,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 16:57:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 16:57:04-07:00
9ea24fb5d5415d71552e543874867041dedadea5,rename context to set_options,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 17:06:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 17:06:39-07:00
89a942340ca9e99bce29afeee7cc153cbc1a38a5,"Merge pull request #81 from mrocklin/context

Add global context manager",Matthew Rocklin,mrocklin@gmail.com,2015-03-23 21:38:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-23 21:38:20-07:00
c939526fb2c6e71b65bcd4c1aa650c64a6ad9a58,"Add syntactic rewriting

Allows for creation of a ``RuleSet`` of rewrite rules, and applying
these rules to a dask, or a single task. Matching is done syntactically
only, and assumes all functions have fixed arity.

Current capabilities:
- Bottom up rewriting of terms
- Lazy generation of matches from a matchset
- Nonlinear patterns (variables can be in a pattern more than once)",Jim Crist,crist042@umn.edu,2015-03-23 23:52:37-05:00,Jim Crist,crist042@umn.edu,2015-03-23 23:52:37-05:00
9031feff38a3783613f0786562050b908197c05a,"Use sudo=false for faster container based builds

See here for more details:
http://docs.travis-ci.com/user/workers/container-based-infrastructure/",Stephan Hoyer,shoyer@climate.com,2015-03-23 23:16:16-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-23 23:16:18-07:00
7e81c62d34b8b5d4f8b5bddf0d356f971e466b9c,"Add isnull and notnull

The pandas functions are more robust than np.isnan (e.g., they don't
fail on integer dtypes).",Stephan Hoyer,shoyer@climate.com,2015-03-23 23:12:11-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-23 23:28:06-07:00
f483d022c4df9f9304fa4c3a81c7b7ebca140687,"Bug fixes, code cleanup

- Cleaned up some missed debugging code
- Cleaned up ``Traverser``, now allows iteration. Removed
  ``preorder_traversal``.
- Added ``END`` token to represent end of traversal. This is necessary,
  because the previously used ``None`` could also be an argument in an
  expression/traversal.
- Some minor speed/readability improvements",Jim Crist,crist042@umn.edu,2015-03-24 08:35:29-05:00,Jim Crist,crist042@umn.edu,2015-03-24 08:35:29-05:00
7248a943541408bd270965dc7b182121f1a1f347,More extensive reblock tests,Peter Steinberg,peter@hydroinformatica.com,2015-03-24 07:53:07-07:00,Peter Steinberg,peter@hydroinformatica.com,2015-03-24 07:53:07-07:00
e37cf56ceb02780ec6a4d003b2aa3b1740fd101a,"Merge pull request #83 from shoyer/sudo-false

Use sudo=false for faster container based builds",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 07:58:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 07:58:01-07:00
88639c7daa1d01f3c66773d9fa4560961e30520b,"Merge pull request #85 from shoyer/isnull

Add isnull and notnull",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 08:02:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 08:02:10-07:00
a05d5653c008c541b3ff59218a1b1a362bc3d482,separately lock iter and get_partition,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 08:10:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 08:10:27-07:00
475ad60e045a7bcee5cd1a6300dffbd18215bf90,"Dask.array tracks dtypes when possible

The Array class now holds a `_dtype` attribute.  Various dask.array functions
propagate dtype information, repeating a bit of numpy logic where necessary.

If this logic fails then we fall back on computation of a small element of the
dask array.

Fixes https://github.com/ContinuumIO/dask/issues/64",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:05:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:05:11-07:00
ec4b327f2d310961363cd983e4de4871d8abe071,import reduce for py3 compat,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:18:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:18:18-07:00
d74494b8d94fd2394c428314a7ec2915a1ccc7af,"Get functions check globals for pool

This allows multiple computations to share the same thread/process pools

Example
-------

    pool = ThreadPool()
    with set_options(pool=pool):
        ...

    or

    from dask.context import _globals
    _globals['pool'] = pool",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:32:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:32:39-07:00
bcb71cda5da5b26bd2bfffea693dd9207d22d4d3,reused pools clean up properly,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:48:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 10:48:00-07:00
f75625362f26da718fc830249cd0a539ddf6fa2a,cache dtype,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 14:15:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 14:15:35-07:00
7823de7feac3965865b30873df54b1be0b46248d,set_options can be used as a function,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 14:37:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 14:38:28-07:00
134aa69e31c5e44028fbd78eff7a7641135f52b9,"Merge pull request #88 from mrocklin/global-pool

Get functions check globals for pool",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 16:10:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 16:10:03-07:00
301d6e452c053ffef6e9e9ea66b74d087e8ce157,dtype memoization function avoids hashing dict,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 16:16:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 16:16:59-07:00
d64928ff32322f753f0b513dc4b0bc37d5c56872,"Merge pull request #87 from mrocklin/track-dtypes

Dask.array tracks dtypes when possible",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 16:32:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 16:32:14-07:00
a5978366d8c6fc8475abdef42207dc6865a744ff,add failing test for elemwise dtypes,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:11:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:11:58-07:00
65692ce402cb53743dd86966d2138e9c609721be,Remove numpy promote_types trick from elemwise dtype checking,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:29:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:29:14-07:00
daad92708f4dd75ad9295f128b74f188891d522f,"implement astype

Fixes #90",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:34:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:34:41-07:00
05bf018d03ad2521d7929f5a09df6f4b68a92df7,elemwise dtype checking respects multi-dimension arrays,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:36:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:36:38-07:00
dd8690fcae8579794aa5dea119d52585d53eefda,"Hook dtype testing to main eq function

This gives significantly more coverage to dtype tracking.
Added more logic in a few missing places",Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:49:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-24 22:49:28-07:00
d27db9941ec91f80f6693d33795d81cc353d4d1d,fix astype test,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 08:10:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 08:10:03-07:00
6f01aed405d73a1c1c54df0a97505c4109f757e7,test elementwise operations,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 08:51:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 08:51:45-07:00
10630043dc25434d2ab9a38944d31f15a8593ad7,fix modf test,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 09:02:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 09:02:21-07:00
4c2e3ffd329ca6c3a97c2f6f1bb976a5445fa052,test reductions,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 09:26:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 09:26:09-07:00
aadadbb5e7d86587a8a62a8a3848ca338b922881,"Store many arrays simultaneously

Creates a top-level store function that accepts either a single
dask.array/output pair

    >>> store(x, out)

Or a list/tuple of such pairs

    >>> store([x, y, z], [out1, out2, out3])

Fixes https://github.com/ContinuumIO/dask/issues/84
cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-03-25 09:42:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 09:42:03-07:00
b471143b86627f9c3593dbd77b749d4c198e14ba,"Merge pull request #91 from mrocklin/more-dtypes

More dtype tracking",Matthew Rocklin,mrocklin@gmail.com,2015-03-25 12:23:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 12:23:41-07:00
df05fe55db997afb5ab698023b088b86c72fa3c4,scheduling tests,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:25:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:25:09-07:00
834f78e297e28c98b3484b91ca5e1425310e9484,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:25:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:25:34-07:00
3dd183799a252ddeece1a1d0059e96699e313ae0,move around scheduling images.  add to index,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:29:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:29:19-07:00
c561d883f00abad1f145c03df40f7cc8b7132b7a,mention set_options in scheduling doc,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:37:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:37:39-07:00
c7bfa9ddd3406c2f20e797cfbb1e2e292a8dcd43,raise value error if different number of sources/targets,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:45:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 13:45:09-07:00
70a4f8750db6022dfcc28ba50df8b386c61f652e,add note on scheduling policy,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 14:48:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 14:48:54-07:00
b7a9efd9fdc988f8ddbadd979e318e6c7a3f5b15,"Merge branch 'master' into pframe

Conflicts:
	dask/array/core.py
	dask/array/tests/test_array_core.py",Matthew Rocklin,mrocklin@gmail.com,2015-03-25 16:51:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 16:51:33-07:00
eddd8e8ad8943ba7058a44982330e2958e420923,remove commit junk,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 16:53:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 16:53:04-07:00
f2f9df3d08d2a821c47f5d26bd8fa9269276e9a7,add Frame.loc,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 17:32:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-25 17:32:42-07:00
c13f83d1e7612adcd1e05aa3434d0f12d6a574dd,cframe stores columns individually,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 09:26:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 09:26:34-07:00
0ac163ece8c6bba21c6ed4182196f1ee3fcb9c28,cframe/pframe support column selection,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 09:41:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 09:41:54-07:00
422cd6452219cc467e43b8c7342438a49d387fcc,only load necessary columns,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 10:24:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 10:24:22-07:00
4d26d6d0ee8f2045e4dc3a906d6a94f6285af7bf,"Merge pull request #92 from mrocklin/store-many

Store many arrays simultaneously",Matthew Rocklin,mrocklin@gmail.com,2015-03-26 11:00:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 11:00:16-07:00
83551167a6c58007afc47b2f2826da1aaf481898,SVD implementation added for tall-and-skinny matrices,Mariano,marianotepper@gmail.com,2015-03-26 15:00:19-04:00,Mariano,marianotepper@gmail.com,2015-03-26 15:00:19-04:00
145a919fddf01a9bba9d5a5b4d58c75c71ae84df,tests for the SVD for tall-and-skinny matrices,Mariano,marianotepper@gmail.com,2015-03-26 15:13:55-04:00,Mariano,marianotepper@gmail.com,2015-03-26 15:13:55-04:00
f25b01fae3e39f810f156b5fb0826dfab739ff90,Removed unused imports,Mariano,marianotepper@gmail.com,2015-03-26 15:15:24-04:00,Mariano,marianotepper@gmail.com,2015-03-26 15:15:24-04:00
6deab2983f7e32f9d37b2d92150ed04f6fca7e0c,use bleeding-edge bcolz in travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 12:59:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 12:59:41-07:00
f85c3881613cd46c3a08ec4f353e02c0b68c4f37,iloc raises,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:01:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:01:01-07:00
83d3bb1e9ee69c82cef73c652dc1d7130b45601b,linecount supports bz2/gzip,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:08:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:08:28-07:00
92c20a27c46bd71f005914a2e33f940d7e224e2e,"Merge branch 'master' of github.com:ContinuumIO/dask into pframe

Conflicts:
	dask/array/__init__.py",Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:14:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:14:26-07:00
964e0a2bf08ba64440ce1ad3333b0c4190fb933a,add cython to travis.yml for bleeding edge bcolz,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:17:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:17:28-07:00
c1b55ffbf3f623f91dfa4c5723c73e75b3a38f9e,python 2.6/3 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:58:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 13:58:07-07:00
add482fd8f759a81e831655280ae2ad7c8395d94,more py3/26 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:18:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:18:08-07:00
98070d555dd35dddd1197532ae2c742a92322f3c,docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:30:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:30:09-07:00
343a0b5ba7f4aeb67a6b80d121744485beec930f,add pframe doc,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:37:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:37:11-07:00
15fb2212b6322436e8377e37035590f01c112707,pframe version,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:38:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 14:38:22-07:00
9c8f1026b349d92f99e9c859bae8c0f4b79597f6,"Modifications to rewrite algorithm, added tests

Changed aspects of the rewriting algorithm:

- Now matches most specific pattern first. This means that it will first
  match `(add, 2, 1)` to `(add, x, 1)` before `(add, x, y)`.
- Now allows for matching of non-hashable terms. Note that non-hashable
  patterns are not supported.

Also added tests and improved docstrings for methods.",Jim Crist,crist042@umn.edu,2015-03-26 16:33:43-05:00,Jim Crist,crist042@umn.edu,2015-03-26 17:41:27-05:00
bf895f10de038c8aec36f64c539d99057211d62d,"Merge pull request #80 from mrocklin/pframe

Partitioned Frame data structure",Matthew Rocklin,mrocklin@gmail.com,2015-03-26 16:09:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 16:09:30-07:00
5a27329e32942523e73d2d01b43ba75ecd281622,"Add ""where"" to top level dask.array module",Stephan Hoyer,shoyer@climate.com,2015-03-26 18:22:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 20:36:55-07:00
c66fb39297ee52ced7e803a2a1588ba59e7df736,Updated docstring,Mariano,marianotepper@gmail.com,2015-03-27 08:04:44-04:00,Mariano,marianotepper@gmail.com,2015-03-27 08:04:44-04:00
e66b5d9f4d22cfd17714cfde2ff208007533ec64,Removed unused import,Mariano,marianotepper@gmail.com,2015-03-27 08:05:25-04:00,Mariano,marianotepper@gmail.com,2015-03-27 08:05:25-04:00
475590d625ae744608e9ffb4fbb3707a1ebbf250,Revised docstrings,Mariano,marianotepper@gmail.com,2015-03-27 12:55:26-04:00,Mariano,marianotepper@gmail.com,2015-03-27 12:55:26-04:00
e96686a458865c6bebd427f08f144004bbd9a729,Revised docstrings,Mariano,marianotepper@gmail.com,2015-03-27 12:56:45-04:00,Mariano,marianotepper@gmail.com,2015-03-27 12:56:45-04:00
dfec66ae70f4df586ef21f027734a01c10d28e22,"Merge pull request #98 from marianotepper/master

SVD code for tall-and-skinny matrices",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:00:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:00:25-07:00
3ed828df85976ded84d652eee32a25331889f03a,"Merge pull request #82 from jcrist/rewrite

Add syntactic rewriting",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:00:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:00:39-07:00
1fa575e1a2edbe5dfa383b2690e55ab5827d3eb1,"change docstrings for qr/svd

cc @marianotepper",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:10:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:10:12-07:00
6c9517e9de5aa3e170e64127c3a3379e08de25c8,travis.ci tests doctests on python 2.7,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:22:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:23:10-07:00
298b25495170d79fb94523bfa3f86a98ff85e0df,skip rewrite doctests,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:30:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:30:13-07:00
fd36218626e482580deccfe62c0916358adbe17d,ignore unicode in pframe doctest,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:31:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 12:35:46-07:00
f35a9a381ccf2ab1346f0fc31d1c1f8a5d9a5d7d,"Merge pull request #99 from mrocklin/doctest

travis.ci tests doctests on python 2.7",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 13:02:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 13:02:42-07:00
0d2c9a444e412a1e530d683c57b83b5c79943a9a,"Stack adds new dimension to blocks

For arrays with dimension k, `stack([x, y, z])` has dimension k + 1.
The blocks of this result should also have dimension k + 1.

We add these dimensions by injecting calls like `x[None, ...]`

Fixes #100
cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 14:42:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 14:42:36-07:00
bc71881862449fc76f430a93cf1180dc8308c02d,"edits to linalg docstrings

cc @marianotepper",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 14:49:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 14:49:37-07:00
a75a376e9da1f78d60feadeeed771cacf8f1eef2,"Merge pull request #101 from mrocklin/stack-shape

Stack adds new dimension to blocks",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 14:53:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 14:53:31-07:00
fdaee68da79e6681229ebb53881f04ee2664ba77,"add pframe column-store optimization

Conflicts:
	dask/frame/core.py
	dask/frame/tests/test_frame.py",Matthew Rocklin,mrocklin@gmail.com,2015-03-26 16:10:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
bb0658150bf3eb035c002d04251e3211fbdd892d,"add from_pframe function to dask.frame

Conflicts:
	dask/frame/tests/test_frame.py",Matthew Rocklin,mrocklin@gmail.com,2015-03-26 11:38:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
ae310b01ec06a0609bf41b3c200d50e5ab85ecd6,"rewrite_rules works on terms, not full dict",Matthew Rocklin,mrocklin@gmail.com,2015-03-26 16:25:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
ec9b4fe1a613483fb316c94fb2554a323add007c,reapply_categories supports Series,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 17:36:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
d9deedd358c1896e4ffc2461a293e1b5e5fe3f77,more tests around pulling out series from pframe,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 19:51:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
8636333e4cc68eda47ad3620405b0600c9049921,pull out dataframe_from_ctable from from_bcolz,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 20:10:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
8927257876d06ae872c039753578a6d05a14dbf2,add bcolz column-store rewrite rule,Matthew Rocklin,mrocklin@gmail.com,2015-03-26 20:28:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
5c7d9d4757da6e2dfe5d0291946910fe5abc6d06,fix bcolz columnstore rule,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 07:24:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
954d225053e151ff94086045d9931feb0ac80f68,py26 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 08:02:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
09ea4eedffa26a2ca59c847818a031af8c89e2eb,frame docs point to pframe,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 09:15:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
c765da6aa5416ce562e93a9a026a55571e0b59ea,add frame api,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 09:36:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
a59777b76d21ff4ed91d656e0be04fb18e5d09d7,fix old doctests,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 13:32:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
edb8e857532ae5ea3a9d86fd7df03738b71d3583,extend unique to categorical,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 13:32:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:27:25-07:00
85412dab4bbd7e5488e9a6f3f65f60a1113a356d,add support for categorical index,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 13:57:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:28:34-07:00
525634a70d367d759697090fb4184a84396d2365,"Make robust to absence of CategoricalIndex

This was added in pandas 0.16.1",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:26:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:28:34-07:00
1c448fe7400004dc069280f4f3b5f5240e8766d0,add explicit ordered= kwarg in docstring,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:36:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:36:26-07:00
58c67105d8148980afb505e7024022dfa76aef24,minor style edits,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:41:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:41:30-07:00
26092e7378ea2d77dab3efea735d8954dcccb8b4,"Merge pull request #96 from mrocklin/column-store

Use syntactic rewriting to leverage column stores",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:47:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 16:47:49-07:00
c81d1f3f5f1a631ec3873bab3628ff0bb032a0f9,Rename Frame to DataFrame,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 17:44:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 17:44:51-07:00
e77b1b99f4d881b3e8cf6359d0c330290fa301e3,Move dask.frame to dask.dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 17:47:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 17:47:35-07:00
af0f56b2f8dda9defaa9303b32d81b5410dc78e0,"Fix slicing dask arrays with ndarrays

Previously, this raised the error:

	--> 619         if all(i == slice(None, None, None) for i in index):
	    620             return self
	    621

	ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",Stephan Hoyer,shoyer@climate.com,2015-03-27 18:33:20-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-27 18:33:23-07:00
ebc0a0524d91275c66b51fdc7f2c67779390b5ed,"Merge pull request #102 from shoyer/fix-slicing-ndarray

Fix slicing dask arrays with ndarrays",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 18:51:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 18:51:58-07:00
ad8794a12ebe9a0167be969a3840a906926062be,"Split Frame -> DataFrame and Series

Create _Frame superclass with shared functionality",Matthew Rocklin,mrocklin@gmail.com,2015-03-27 19:08:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-27 19:08:02-07:00
36c4e238124ecc179669b39fc7aea6b6394be063,"Modify RewriteRule to accept callable rhs

RewriteRule now accepts callable rhs arguments. If the rhs is callable,
it's called with a dict of matches. If the rhs is a task, the
matches are substituted in to the rhs.",Jim Crist,crist042@umn.edu,2015-03-28 12:19:44-05:00,Jim Crist,crist042@umn.edu,2015-03-28 12:19:44-05:00
77a839311fd1f7cc3ee04defd7f9ca625b315ef9,"Merge pull request #104 from mrocklin/dataframe

Rename dask.frame to dask.dataframe, Frame to DataFrame",Matthew Rocklin,mrocklin@gmail.com,2015-03-28 11:46:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 11:46:43-07:00
8f34db25c9db18aec8df4b497e382c66119c136e,"Add example to RewriteRule docstring

Add example using callable right-hand-side for a rewrite rule.",Jim Crist,crist042@umn.edu,2015-03-28 14:28:51-05:00,Jim Crist,crist042@umn.edu,2015-03-28 14:28:51-05:00
d058372781996f4355c3f786b721d33c01164cbf,"Merge pull request #106 from jcrist/rewrite_func

Modify RewriteRule to accept callable rhs",Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:03:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:03:04-07:00
6395e7212928aea2c5f4298e6ba3f01a797a9679,pull out optimize step from dask.array.get,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 12:09:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:40:15-07:00
d18069448fe258355ebbf143d7b7c25ae3f1196b,move array optimization to separate file.  Add getitem fusion,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:37:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:40:15-07:00
cf4b044a238bded5d55b4e1cf59e92989ef215ab,check for negative slices in normalize,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:45:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:45:47-07:00
617c16d538a3ebb8f60978c43dfd762934e6ef9f,skip None doctest,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:50:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 13:50:56-07:00
f22a91018672afcf07093eee30a8040ec74d406d,fuse getitem with lists,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 14:06:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 14:06:20-07:00
44faab740fcc9b7a8bde4fc6cea34f8b65e459de,handle uneven number of slices in outer and inner,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 14:14:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 14:14:30-07:00
d9c3fab863df81086e6e9eeb9279e0d790421990,add inline documentation to fuse_slice,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 14:38:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 14:38:12-07:00
1fdae7496d487a795ff52db9443a7e8283aa7eae,Implement dask.array.broadcast_to,Stephan Hoyer,shoyer@climate.com,2015-03-29 01:36:26-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-29 02:04:23-07:00
90abce59c59d4a8be9284bc6a9fea42dd28e5e80,linear -> constant in scheduling doc,Matthew Rocklin,mrocklin@gmail.com,2015-03-29 08:19:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-29 08:19:30-07:00
04198dfafc871b1d1cb3a39580db7b6c25f743e4,"Merge pull request #108 from shoyer/broadcast_to

Implement dask.array.broadcast_to",Matthew Rocklin,mrocklin@gmail.com,2015-03-29 09:19:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-29 09:19:15-07:00
51bd0de6ddd0463f2974326a7bc21fa5db327fba,"Added `merge_sync` and `sync_vars`

Allows for syncing dasks together, removing terms equivalent modulo
variables. Fixes #37.",Jim Crist,crist042@umn.edu,2015-03-29 17:41:11-05:00,Jim Crist,crist042@umn.edu,2015-03-29 17:41:11-05:00
b8200b26ea0a134957c8c3e43a7e0944d3e1c611,Add zip_longest to compatibility,Jim Crist,crist042@umn.edu,2015-03-29 18:27:05-05:00,Jim Crist,crist042@umn.edu,2015-03-29 18:27:05-05:00
fc93dee35c1325bc5c6098876cdcba5a3de17db5,Add skip doctests,Jim Crist,crist042@umn.edu,2015-03-29 18:44:11-05:00,Jim Crist,crist042@umn.edu,2015-03-29 18:44:11-05:00
b2f0053d7c73fa83c1958e92d2da266dd43608da,"Merge pull request #107 from mrocklin/double-slice

Double slice",Matthew Rocklin,mrocklin@gmail.com,2015-03-29 21:33:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-29 21:33:28-07:00
405d45b09442deb5189966a9e0b2dada3f0ceaaa,Add dask.array.around,Stephan Hoyer,shoyer@climate.com,2015-03-29 22:55:42-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-29 22:57:57-07:00
88d844e3c0db43b0970febd5fafb982ea450e19c,Add dask.array.isclose,Stephan Hoyer,shoyer@climate.com,2015-03-29 23:27:46-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-29 23:27:46-07:00
e3b6924cd60388234f1347bb9f43f3295ea79c1d,"Fix type coersion from dask array to bool, int, float and complex

Previously these failed with a variation on:

TypeError: __float__ returned non-float (type int)",Stephan Hoyer,shoyer@climate.com,2015-03-30 00:39:19-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-30 00:39:19-07:00
0340912dcc912072ffd4215ee46fa5eee03ab6e2,whitespace tabs -> spaces,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 08:16:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 08:16:51-07:00
7a6afb123d6991e0eeb240dce737ca647b29d7b9,clean up doctests,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 09:02:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 09:02:34-07:00
b0bc4ccf91c95261f65b5174b75f7c058e0c4fba,"Merge branch 'master' into reblocking3

Conflicts:
	dask/array/__init__.py
	dask/array/core.py",Matthew Rocklin,mrocklin@gmail.com,2015-03-30 09:09:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 09:09:27-07:00
5b0c11b962f69e9298d2d5eb4175a14275bd0d7d,reblock passes through dtype,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 09:12:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-30 09:12:08-07:00
9e16f73c64e7e3210200033d480845d1c96dbc9f,Handle indexing with numpy integers,Stephan Hoyer,shoyer@climate.com,2015-03-30 10:52:47-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-30 11:22:17-07:00
6c31b02c90dbb01689eaa4785e2ddb2bebbdd5ee,Coerce chunks to numpy.ndarray for storage,Stephan Hoyer,shoyer@climate.com,2015-03-30 19:18:25-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-30 19:18:25-07:00
5f1baadc0ad04c77131217acf5c1d5630beaf588,add optimize to main imports,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:34:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:34:48-07:00
bdcf5c841250021fce92645182c63bc7048bab31,fix reblock doctests,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:38:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:38:40-07:00
ee500b978fef6c5ef86559ff94ab2777f6709bb9,"Merge pull request #112 from shoyer/around

misc fixes, including da.around and da.isclose",Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:40:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:40:24-07:00
8dc737ecd35e9df9d307fa5b27099ab4278d84db,remove function from da namespace,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:56:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 07:56:39-07:00
2561d782ef4a79b222bd48c05cc0ce48020959c9,"Merge pull request #113 from mrocklin/reblocking3

Reblocking",Matthew Rocklin,mrocklin@gmail.com,2015-03-31 08:10:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 08:10:25-07:00
2adce8a6cab663788ad43c3d5dc51d94fbee07cf,add categorize= kwarg to read_csv,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 08:28:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 08:28:18-07:00
713d227e4efc39de24d1ee56b970eeda33d3c5c4,read_csv supports index=kwarg,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 09:17:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 09:17:41-07:00
05ce565507674ad460efbdfb9f66013f94bb861b,read_csv categorize works with parse_dates,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 11:29:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 11:29:13-07:00
fb6fdbe99f1c17413088d2a5242013213532c907,Deterministic names for series and index,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 11:31:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 11:31:01-07:00
a2a7de250b86d9630f864d861702fc3cac44cf57,test full groupby on index,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 11:31:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 11:31:13-07:00
fa311cd460b8379476c66d8ca3da43476b7317fa,"Modified `merge_sync` to deal with name conflicts

Name conflicts on merge are now replaced by a new generated name.
`merge_sync` now outputs two items:

- The merged dask
- A dict mapping old key names in `dsk2` to new key names in the merged
  dask.

Also renamed `sync_vars` to `sync_keys`.",Jim Crist,crist042@umn.edu,2015-03-31 15:40:41-05:00,Jim Crist,crist042@umn.edu,2015-03-31 15:40:41-05:00
16fb34cdf19acbdfa202e31c9db1220e9fbf9214,"`merge_sync` applies merge in topo-ordering

Previous ordering was hash dependent, and would fail with name conflicts
detected after inserting dependent terms.",Jim Crist,crist042@umn.edu,2015-03-31 16:39:35-05:00,Jim Crist,crist042@umn.edu,2015-03-31 16:39:35-05:00
d349a58cb89ae65805169a00fa72733410312122,"Fix unpack singleton

It currently breaks on scalar datetime64 array, which incorrectly report
that they are Iterable. This is undoubtedly a numpy bug, but we need to
work around it, somehow...",Stephan Hoyer,shoyer@climate.com,2015-03-31 19:06:22-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-31 19:19:49-07:00
7354c22fd0b655db69aa1679e14fc5a4cd119dde,"Merge pull request #121 from shoyer/singleton

Fix unpack singleton",Matthew Rocklin,mrocklin@gmail.com,2015-03-31 21:28:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 21:28:19-07:00
40faeb48e5dc5aa7f1152c5a16a4f6b826d9b1d2,"Merge pull request #114 from mrocklin/categorize-csv

add categorize= kwarg to read_csv",Matthew Rocklin,mrocklin@gmail.com,2015-03-31 21:34:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 21:34:00-07:00
ac6a5da4705f590e7fab1b10b47c40f496b4b588,Add dtype to dask.array __repr__,Stephan Hoyer,shoyer@climate.com,2015-03-31 22:09:50-07:00,Stephan Hoyer,shoyer@climate.com,2015-03-31 22:09:50-07:00
d1aec46210183cff8ae7582cf440cf76457e3baf,"Merge pull request #123 from shoyer/dtype-repr

Add dtype to dask.array __repr__",Matthew Rocklin,mrocklin@gmail.com,2015-03-31 22:28:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-03-31 22:28:15-07:00
5b7e5e120dea658ac649c9460b6ca13f00552de6,Add assign,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 08:04:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 08:04:06-07:00
d10c5c0c4e0c4c5d380ea09f725e874ee32f6909,"Merge pull request #126 from mrocklin/assign

Add assign",Matthew Rocklin,mrocklin@gmail.com,2015-04-01 09:02:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 09:02:54-07:00
2b474c6ffae62fbbbe1b95845f6b90fc5dad17f6,Add linspace and arange,Blake Griffith,blake.a.griffith@gmail.com,2015-03-30 17:11:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 12:03:40-05:00
24f0c0d311886571cc0c5f8badca026a6c534a52,Move dask.array.creation.* into dask.array.* namespace,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 10:32:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 12:04:05-05:00
96b718f6dfcddd28dca21a715abbc0c84c3a40d7,Test linspace and arange.,Blake Griffith,blake.a.griffith@gmail.com,2015-03-30 17:12:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 12:04:15-05:00
d749eda2944d17f38c88f16c074a9bad0439c9a2,"Merge pull request #115 from cowlicks/linspace-arange

Add linspace and arange functions.",Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:42:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:42:30-07:00
a25cb48dbe94e9065ecf4df827a1a9e4172abf74,implement map for dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:43:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:43:18-07:00
7babc2c9676dbdf5b348ec9e1fc4cee0343351c8,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:44:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:44:19-07:00
e0f60864ff08fb1ca2399a6646bab875afd19ae1,pull arguments out of curry in linspace,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:45:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 10:45:54-07:00
469ab08d15886cbc5bb60b6829a68b1c0b870e49,merge_percentile admits empty chunks,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 11:33:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 11:33:45-07:00
ef3aabba958df8927a8e7fbfa56c980c0cfe0c99,"Fix dask.array slicing edge case where slice.stop == 0

closes gh-125",Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 15:17:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 15:25:33-05:00
4a93a474107109cc973a4073deb6ec74b1d22af8,"Fix bug where Array.compute() fails on empty arrays.

This came up fixing the indexing bug where the slice.stop == 0.",Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 15:18:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 15:26:10-05:00
705e7cf7ea5ad2b9951ad1134c5befff4b60ba14,Add slicing regression test for gh-125,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 15:20:38-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-01 15:31:16-05:00
155c64cafd23684d551a2a92746afdb68a09a907,"Merge pull request #129 from cowlicks/slice-stop

Fix slicing bug where slice.stop == 0",Matthew Rocklin,mrocklin@gmail.com,2015-04-01 13:45:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 13:45:06-07:00
d9c29de25cb25f0ce5770d3ba56cfdac7ecdf600,"Merge pull request #131 from mrocklin/various

merge_percentile admits empty chunks",Matthew Rocklin,mrocklin@gmail.com,2015-04-01 14:36:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 14:36:52-07:00
209657896d56e8d83e71847854d0b1f8d823e078,concat supports empty dataframes,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 14:43:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 14:43:05-07:00
6299c6c020942e548824611095e47c4ce4dec1b3,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 14:43:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 14:43:23-07:00
5938f01a8e6ab6a333091e7d821094b9bc2a71eb,concat supports sequence of empty dataframes,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 16:34:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 16:34:57-07:00
01714ff5fd94a846f7dc3456a52e6f2dcd36ca0b,"Implement dask.array.take

In principle, we could use a fast path here instead of invoking normal
indexing (like np.take itself), but it didn't seem work the trouble for now.",Stephan Hoyer,shoyer@climate.com,2015-04-01 18:11:50-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-01 18:11:50-07:00
61e903785ced5cb0927b91a6d0c40d3e01015793,"Merge pull request #132 from shoyer/take

Implement dask.array.take",Matthew Rocklin,mrocklin@gmail.com,2015-04-01 19:33:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-01 19:33:17-07:00
e4337e6899ba3e15ea1c0dbf78fc845b9e467e89,"Slicing with lists emits getitem(..., a_list)

When we slice into blocks with lists we used to use tuples as indexers
rather than lists.  This caused havoc with the fuse_slice optimization
which treats the two differently.

Now indexing with lists uses lists and fuse_slice is happy.

Fixes #133",Matthew Rocklin,mrocklin@gmail.com,2015-04-02 08:04:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-02 08:04:26-07:00
6bc5a3a54102e18f52fd77a4214498260e95bd04,"Merge pull request #134 from mrocklin/list-slice-uses-lists

Slicing with lists emits getitem(..., a_list)",Matthew Rocklin,mrocklin@gmail.com,2015-04-02 09:33:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-02 09:33:43-07:00
27d9c63a6fa396fbd8eddd3c1a893c79ba84aa74,"Wrap a much longer list of ufuncs from numpy

I didn't add tests for most of these, though I suppose that would be a good
idea...",Stephan Hoyer,shoyer@climate.com,2015-04-02 10:53:34-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-02 11:45:16-07:00
47ec5e8b3e3a188b926068a8380fa3432ae0c50d,Fix tests. Mark arange failure cases with xfail.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-02 14:55:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-02 14:57:05-05:00
9ce0f1bf08567df7cfd28278bef70a25831dfca2,Implement dask.array.insert,Stephan Hoyer,shoyer@climate.com,2015-04-01 13:14:35-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-02 12:57:36-07:00
d95815a94e38892094edd7fc52d195283a0b3769,use dask array constructor directly inside da.insert,Stephan Hoyer,shoyer@climate.com,2015-04-01 14:12:02-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-02 12:57:36-07:00
62ad95726de4b9ee0271af98b3f0e69c5f872f46,Handle scalar object argument with array-like values,Stephan Hoyer,shoyer@climate.com,2015-04-02 12:08:09-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-02 12:57:36-07:00
0f33dbe73d18b39f384c121b16b4432e2943c9a1,arange changes for numerical stability and edge cases.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-02 14:56:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-02 14:57:51-05:00
3aee66074718cc207fd695bc642442c7855ba323,Add tests for negative axes,Stephan Hoyer,shoyer@climate.com,2015-04-02 13:53:57-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-02 13:53:57-07:00
501106beaf6c75524daa9f1917421decb9cac2db,"Merge pull request #130 from shoyer/dask.array.insert

Implement dask.array.insert",Matthew Rocklin,mrocklin@gmail.com,2015-04-02 15:26:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-02 15:26:14-07:00
a2fb94cec16361ee2d5650f9a73617793014982f,Unit tests for all wrapped ufuncs,Stephan Hoyer,shoyer@climate.com,2015-04-02 16:08:20-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-02 16:08:20-07:00
f3500f6e6f448896aba79a8ba18c627a878874e2,"Merge pull request #135 from shoyer/more-ops

Wrap a much longer list of ufuncs from numpy",Matthew Rocklin,mrocklin@gmail.com,2015-04-02 16:31:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-02 16:31:49-07:00
3a7e9f57d0254ab4f3264ca793b87abe136a5abf,"Merge pull request #136 from cowlicks/linspace-arange

Turn on linspace and arange tests.",Matthew Rocklin,mrocklin@gmail.com,2015-04-02 17:13:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-02 17:13:38-07:00
7534b30d9f02d37279812773e164f0dabfc6a987,"Merge pull request #110 from jcrist/sync_dasks

Added `merge_sync` and `sync_keys`",Matthew Rocklin,mrocklin@gmail.com,2015-04-02 17:39:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-02 17:39:07-07:00
e5a50f8773dfdeeaaa4b250118a896394488ac44,informative error around empty percentile,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 09:51:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 09:51:41-07:00
d1374fc3dfd015bb109867e1d8fc3a08451e21fa,add squeeze function,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 13:06:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 13:26:41-07:00
c2669df4f555f20f42cc5dd8d500b4b505494d9a,add dask.array.learn submodule,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 13:24:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 13:42:45-07:00
c0ddc96d9856402b06027c093fefd283a5e691a4,py26 compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 13:54:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 13:54:35-07:00
eb35afa8a90c59527b7bfa2745c5b620139240e7,skip version-dependent doctest,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 14:02:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 14:02:02-07:00
819cec991c3b4e68e8a96c1d37f2b18dbe2ad87c,Support aliases in dot visualization,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:18:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:18:02-07:00
a22ebcedb08511921825f51ead806b71e383a0bb,reverse direction of dot-graph arrows,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:32:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:32:18-07:00
ef1cc58fa9fb9787dc21793bf47763bd3f8a20eb,add _visualize method to array and dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:52:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:52:21-07:00
c2bf47e8a0d3ce084a1e5099c5f3d800fac525b9,"Replace da.constant with da.full

Fixes #128",Matthew Rocklin,mrocklin@gmail.com,2015-04-03 17:27:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 17:27:51-07:00
faad967f76d43f74def67b6da3d00a984df81f66,"Reblock accepts dict values for blockshape, blockdims

This allows users to specify new blockshapes along single dimensions

Example
-------

    >>> x = da.ones((24, 24), blockshape=(4, 8))
    >>> y = x.reblock(blockshape={0: 12})
    >>> y.blockdims
    ((12, 12), (8, 8, 8))

Fixes #117",Matthew Rocklin,mrocklin@gmail.com,2015-04-03 17:46:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 17:46:01-07:00
9f1ce4d26ecb1cb1870b5c42da7f294a7cda5b0c,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 17:59:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 17:59:11-07:00
6371935cc63060ad9082e226f506664f9f261237,"Merge pull request #143 from mrocklin/reblock-axis

Reblock accepts dict values for blockshape, blockdims",Matthew Rocklin,mrocklin@gmail.com,2015-04-03 18:18:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 18:18:06-07:00
facbdcff66c4150b8138a54768f6611123f8387a,"Merge pull request #141 from mrocklin/dot

Support aliases in dot visualization",Matthew Rocklin,mrocklin@gmail.com,2015-04-03 18:18:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 18:18:38-07:00
e580e05cb7958efe80543e9a2e3737248de8b4c0,"Slicing with sorted lists maintains block structure

Previously indexing with a list would form one large block.  Out of
order elements in the list were handled by concatenating many block
slices together, then indexing again.

Now, if that list is sorted, we can index per block without shuffling
data around.  This stops giant-blocks from occurring and should improve
memory performance.

Example
-------

    In [1]: import dask.array as da
    In [2]: x = da.ones(10, blockshape=(5,))

Unordered case, slice, concatenate, slice

    In [3]: x[[1, 9, 2, 8]].dask
    Out[3]:
    {('wrapped_1', 0): (<function numpy.core.numeric.ones>, (5,)),
     ('wrapped_1', 1): (<function numpy.core.numeric.ones>, (5,)),
     ('x_1', 0): (<function operator.getitem>,
      (<function numpy.core.multiarray.concatenate>,
       (list,
        [(<function operator.getitem>, ('wrapped_1', 0), ([1, 2],)),
         (<function operator.getitem>, ('wrapped_1', 1), ([3, 4],))]),
        0),
      ([0, 3, 1, 2],))}

Ordered case, just straight slicing

    In [4]: x[[1, 2, 8, 9]].dask
    Out[4]:
    {('wrapped_1', 0): (<function numpy.core.numeric.ones>, (5,)),
     ('wrapped_1', 1): (<function numpy.core.numeric.ones>, (5,)),
     ('x_2', 0): (<function operator.getitem>, ('wrapped_1', 0), ([1, 2],)),
     ('x_2', 1): (<function operator.getitem>, ('wrapped_1', 1), ([3, 4],))}

Fixes #137",Matthew Rocklin,mrocklin@gmail.com,2015-04-03 18:49:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-03 18:49:25-07:00
53458c02ac8b46a837795b325e08be8bf25ae0bf,implement full with wraps,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:14:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:14:35-07:00
990cb35fca0b4d40e9ac491a0757ea2ae2ad08a5,move from_* from classmethods to functions,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:30:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:30:01-07:00
8840775976269dc2001d8ece9fa8544181e036a7,add distinct to bag,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:37:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:37:49-07:00
030734d60dfece8b739c934c214923392c3377f7,add concat to bag,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:49:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 10:49:12-07:00
96a4667d47e6e5dd991fec4e6fc8bdd56cf317bd,"Merge pull request #145 from mrocklin/bag

A few small methods for bag",Matthew Rocklin,mrocklin@gmail.com,2015-04-04 14:13:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-04 14:13:03-07:00
9b5701d668e8ff42d02c7dfebebe2163168039ed,"da.compute always returns a tuple, never a single array

The current implementation of the compute function has an unpredictable
signature when provided with a programmatically determined sequence of arrays.
For example, `da.compute(*my_arrays)` returns a list of numpy arrays, except
when `my_arrays` has length one, in which case it returns a single array.

This sort of thing not only leads to all sorts of bugs, but also meant that
there was no way to reliable compute multiple dask arrays at once short of
using isinstance checks.

I considered trying to do something clever, like using `da.compute(my_arrays)`
(no `*`) as an indication that the result should always be returned a sequence,
and while that arguably makes the final API nice to use (nobody ever has to
type `*`!) it's not really worth the added complexity.

This solution is simpler: `da.compute` always returns a tuple of numpy arrays.
To return a single array, use `my_array.compute()`.",Stephan Hoyer,shoyer@climate.com,2015-04-05 15:50:37-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-05 16:02:04-07:00
122400de8bbe1b7483a66a20e9693ad549c07d7c,correct import of full,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 08:14:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 08:14:54-07:00
e339bbb122f67b2cb1d830b906371ac3d06777ac,correct take doctests,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 08:18:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 08:18:02-07:00
e171f476d6639a726b209a20535f4b2eaaa49d39,"Merge pull request #147 from shoyer/predictable-compute

da.compute always returns a tuple, never a single array",Matthew Rocklin,mrocklin@gmail.com,2015-04-06 08:24:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 08:24:34-07:00
e4e5df35375db4725fa9a3892a307b9fcacb8430,"Merge pull request #144 from mrocklin/index-with-sorted-lists

Slicing with sorted lists maintains block structure",Stephan Hoyer,shoyer@gmail.com,2015-04-06 09:00:34-07:00,Stephan Hoyer,shoyer@gmail.com,2015-04-06 09:00:34-07:00
27e5742a4b6a50fc39a1d4d4f70366b11f08f413,"from_array wraps getitems with calls to np.asarray

Fixes #139
Fixes #105

We coerce slices of inputs array-like objects to numpy arrays if
they weren't already.",Matthew Rocklin,mrocklin@gmail.com,2015-04-03 16:06:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:27:06-07:00
985bd1a877aa7072caa2d14c3d91ef949e79e568,Use getarray to include np.asarray calls to getitem,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:04:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:27:06-07:00
3af964101472f39a72aad1cc2b6ce9ae9beba078,"getarray ensures ndarray type for subclasses

and other various fixes",Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:20:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:27:06-07:00
d3e6ac6b2a726f787b33da90d9a0517d39015e8c,"wraps respsects dtype kwargs

but now fails on dtype args",Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:48:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 09:48:07-07:00
85ea7656d04734c90cd7ab7ef6ccddf0252dc7da,"Merge pull request #142 from mrocklin/full

Replace da.constant with da.full",Matthew Rocklin,mrocklin@gmail.com,2015-04-06 16:38:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-06 16:38:46-07:00
3eb040e58e3451382b98f047f4a1e25418fbd4eb,add pbag package,Matthew Rocklin,mrocklin@gmail.com,2015-04-08 14:46:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-08 14:46:58-07:00
10ab492cb4cb149ba79c144656a445316eba3553,can load pbags from disk,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 09:06:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 09:06:46-07:00
5c49424533ad53a568c896ff7e0bc75b846d5696,pbags are serializable,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 09:24:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 09:24:30-07:00
2cae292a74d2cdbb577b71572722be50310a7da2,keep filenames state for performance,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 13:19:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 13:19:16-07:00
5bd8211ab629a766e117b7b3e0969e1f3a78a4cf,bag groupby,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 13:19:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 13:19:26-07:00
72097e52ae487595d8c75860cf51435eaadd27c3,split optimize from get in bag,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 18:49:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 18:49:01-07:00
268c1842a464913de7a12714a416b7e9651cda09,"add groupby_key to bag

This helps with non-picklable grouping functions",Matthew Rocklin,mrocklin@gmail.com,2015-04-12 18:49:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-12 18:49:15-07:00
e5eca949227e2b47d2b982fe5cf09b9aa72eeac5,pbag uses msgpack by default,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 06:22:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 06:22:55-07:00
79a15b328e84f7b5dd9ed9b967a26e4450d91efd,"Merge branch 'master' into learn

Conflicts:
	dask/array/__init__.py",Matthew Rocklin,mrocklin@gmail.com,2015-04-13 06:33:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 06:33:02-07:00
552cdaaff93d6c5aacbf2cb003c00c7a0e6c8a58,"Merge pull request #138 from mrocklin/learn

fit/predict functions for scikit learn",Matthew Rocklin,mrocklin@gmail.com,2015-04-13 06:39:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 06:39:56-07:00
a2306c9872a7cac24654503f2c908ec6df545fd9,avoid long blockdims string representation,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 13:31:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 13:31:20-07:00
1f040046474d2b280c8c375ab609a2298fd392b5,add Array.nbytes,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 13:32:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 13:32:52-07:00
4706a6196bad58e60d1519334782f13e44802ac0,add Array.size,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 18:57:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 18:57:45-07:00
ddcbc972e4389e777f8915eeb09e86e1b5660c41,"add to docstring for apply_async

Fixes #153",Matthew Rocklin,mrocklin@gmail.com,2015-04-13 19:00:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 19:00:34-07:00
23f3995ae40183c71b936b8372e6fa4d6ddc7d57,swap docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 19:52:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-13 19:52:32-07:00
3dd5e24fecfbdbcd37386703a720c934992870fe,open files in binary mode,Matthew Rocklin,mrocklin@gmail.com,2015-04-14 05:57:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-14 05:57:30-07:00
1c51d564748124f885ab69cda8e0ecf6fab2ebd5,fix groupby tests,Matthew Rocklin,mrocklin@gmail.com,2015-04-14 05:57:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-14 05:57:56-07:00
7d7fac55a87b2ac49290581f8fe6657d8b1cf8c7,"Merge pull request #152 from mrocklin/various

Couple of small fixes",Matthew Rocklin,mrocklin@gmail.com,2015-04-14 08:31:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-14 08:31:00-07:00
bb221fdfedc41aaa0fffe4e439e9f5fb8d26b67f,from from_sequence/filenames from db.Bag to db,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:25:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:25:01-07:00
0a763279bcb85cf7743c5b1fef196ad6d8e11311,from_filename supports gzip/bz2,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:31:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:31:43-07:00
4f120d9880f239b680a191d2b5eaac19934c9cdf,"(getitem, (getitem, ...), ...) -> (getitem, ...)",Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:54:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:54:13-07:00
74b554f96ee3bb5f81406893739b86face2e7cc8,remove spurious notes file,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:57:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 08:57:59-07:00
bd79d7329dfd71986ad65dbb86fae3ded09cf2b1,"Merge branch 'master' into pbag

Conflicts:
	dask/bag/core.py
	dask/bag/tests/test_bag.py",Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:08:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:08:43-07:00
78068173d1195e7c01825ff0c5228b79989c43e2,"Merge branch 'master' into asarray

Conflicts:
	dask/array/tests/test_array_core.py",Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:10:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:10:33-07:00
6c7231dd8e4feb6a262b737a9386eceaadf3bc58,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:41:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:41:48-07:00
85adce560f13e9c14547de76b5a91a93b5595799,pbags serialize with lambdas,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:48:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:48:02-07:00
5b28296f8ceed6c4eb61fd57cba7fc035c5f9729,"groupby uses functions, not key-tuples",Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:50:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 09:50:22-07:00
10d83b34d422027f5aef8699f3ab8f3dabcf6720,add pbag requirements,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 10:01:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 10:01:01-07:00
690560a17da21205a684c6f85be2a27bfabdfdc3,"Merge pull request #140 from mrocklin/asarray

from_array wraps getitems with calls to np.asarray",Matthew Rocklin,mrocklin@gmail.com,2015-04-15 10:04:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 10:04:08-07:00
f9b5f427f4a8a6f70139034fce399b2fc1eb0fa4,pip install msgpack rather than conda,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 10:35:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 10:47:55-07:00
d3decdee7142a4772f665cda2be77e110fe910a6,py26 compat,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 11:13:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 11:13:45-07:00
aac6d50cf11deb592b47e55615494324fb5bbaf0,pluck supports default argument,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 11:44:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 11:44:42-07:00
2b23db58948aa55808397b1a6de0f3aff09a9d6a,foldby respects falsey default values,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 20:00:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-15 20:00:29-07:00
6b36a9c220cce1045120fa662edc49e9438a76aa,groupby supports smaller npartitions,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 08:29:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 08:29:11-07:00
4ad4d6e14821e0c025a1be4bd8b96c35ded125e7,extend learns chunksize,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 08:29:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 08:29:39-07:00
f8653a9476b72205700ef10e452983aaa8c7f9d5,take is concrete by default,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 10:11:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 10:11:40-07:00
bde6dd9662b3ca7797bcc15dffae9816369de96e,docstrings for dask.bag,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 11:08:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 11:08:42-07:00
e12572cec33d29c4eef18a6ffee5611b466bf810,add bag docs,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 18:32:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-16 18:32:19-07:00
1368c8e89d23af172db8ebb462a5307630690d0c,"Use single ThreadPool in dask.threaded.get

Fixes #154",Matthew Rocklin,mrocklin@gmail.com,2015-04-17 11:36:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 11:36:34-07:00
46b176645cc038edbf0894b77781845db65c124d,py26 compat,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 14:06:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 14:06:29-07:00
bd7fa33b2b1d59d38399f64cc18fbcc9e596ac09,"Merge pull request #158 from mrocklin/default-threadpool

Use single ThreadPool in dask.threaded.get",Matthew Rocklin,mrocklin@gmail.com,2015-04-17 15:19:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 15:19:59-07:00
6453ba8fa0f30e0037331b1a147e0a508f1c06a5,"remove dask.array.into

This has moved to odo",Matthew Rocklin,mrocklin@gmail.com,2015-04-17 18:03:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 18:03:04-07:00
205a3246df439d8c925f1995e48115d829b86342,"remove dask.array.blaze

this has moved to blaze",Matthew Rocklin,mrocklin@gmail.com,2015-04-17 18:03:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 18:03:16-07:00
8eee5ce81590fc7788d2162875ac6e65a7a98526,rename blockdims/blockshape to chunks,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 20:40:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 20:40:47-07:00
ca85ad905790b0fa117baf4692da35888fc9f6c0,ValueError to TypeError,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 17:42:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 17:42:02-07:00
3165a0a23baa7647d7984a4de8810158583d00c3,remove into import in tests,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:06:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:06:24-07:00
18cce4f055fbf7a5b51b11a68f4e61e56f4703fb,Rename more blockshape -> chunks,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:32:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:32:21-07:00
03ab59f78666816e2c433511c14d24b824238b75,rename reblock to rechunk,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:34:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:34:19-07:00
7f391256ef834310ae154596088e3c55fd093758,normalize_chunks supports integers in nd case,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 07:41:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 07:41:31-07:00
899fc2327b90bc3d6c85b0e5b5d39987ee5216b9,describe chunks inputs,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 07:47:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 07:47:00-07:00
a736570addfc4418123d3940bf17b2a0397379c1,clean up requirements,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 07:59:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 08:08:23-07:00
c0745c9cc29c584dcd0a02742adc8ff655d676ae,try to import msgpack from pandas,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 08:03:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 08:08:27-07:00
2bfb928689af78f03137857a92b20ce9c9e56c6c,rename pbag/test_core to pbag/test_pbag.py,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 08:08:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 08:08:27-07:00
0f7161cc83e67dbb270114c97f7a314ee5144133,"Merge pull request #160 from mrocklin/chunks

Rename blockdims/blockshape to chunks",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 10:45:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 10:45:44-07:00
6d10ab8336e8697c1e8029c36fcb3ca90ccb030e,"Merge pull request #155 from mrocklin/pbag

Bag",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 10:58:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 10:58:21-07:00
46e5f206fbd292754f50d76b6e0f20a1d40732ee,"da.store uses duck typing and no longer has a return value

It's not very friendly (or expected) to use isinstance checks for list/tuple
in a function that claims it supports sequences.

I also didn't see a point to giving this function a return value when it
explicitly modifies the data in-place. Note also that I'm pretty sure the
`single_output` logic was broken in the existing function.",Stephan Hoyer,shoyer@climate.com,2015-04-05 15:26:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:06:07-07:00
46bf024b1f6848db8f4fdfd44b9d5b9dc3f756a1,reduce travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:10:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:10:32-07:00
9f7822eab2530577d788b999edc6755955405fe9,"add filetexts to utils.py

stolen from odo",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:14:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:14:24-07:00
f04ac4d2e708ddb9b731557d88ab4931c8589a6b,remove dask.bag.into,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:15:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:15:18-07:00
2d13a27c90fe134a6f99b91587242254f35457f0,add networkx to travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:15:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:15:58-07:00
b49f0f235cbca9b4959593c7c5c9c071452da867,"TST: exhaustive (currently failing) tests for dask.array slicing

Indexing has a lot of edge cases. This PR adds tests for many more of them.

Here is the particular case that I caught this morning because it broke
one of my tests for xray (which yes, are currently running against dask
master):

    assert eq(x[:, [0, 1, 2]][[0, 1]], a[:, [0, 1, 2]][[0, 1]]), i",Stephan Hoyer,shoyer@climate.com,2015-04-06 14:57:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
1a900f3b621e451d371788b267246a0105ca3984,slicing with negative steps switches order of blocks,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 15:54:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
1a1a74d482f0d36049395e16d813602cec6226aa,empty slice produces empty slice,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 16:10:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
e037d59890c31cd4ff399c264e275b51091cd453,functions_of works on empty list args,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 16:51:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
1a4d827eec6d6ff43597a924684002aacc8c3af6,skip exhaustive slicing test,Matthew Rocklin,mrocklin@gmail.com,2015-04-17 18:01:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
5fe98329f018810ff9e7d5d2c8de8f59f260e898,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 07:48:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
42966e77951e34721095272a45e8aadaf1961587,avoid fusing multi-list getitems,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 10:56:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:07-07:00
67f37022bc78ad86d0fdb5f32d8e4b5997ce1a9f,use chunks kwarg in more-slicing code,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:17:56-07:00
d80c5a217e32b7341219e42c4cd3a9d1fdc2329a,"Merge pull request #162 from mrocklin/cleanup-travis

reduce travis.yml",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:18:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:18:48-07:00
34561a226d2c3224a45d1cf5d7d0fbcc654ed011,"Merge pull request #163 from mrocklin/da.store-tweak

da.store uses duck typing and no longer has a return value",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:28:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 11:28:23-07:00
e7f8a15bb73b8975d1297034d022d86df0747e21,"Merge pull request #159 from mrocklin/more-slicing

Some slicing fixes",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 12:10:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 12:10:47-07:00
d5de84688172ef1c13c28962af96dc9f9c7484b0,add coverage to .travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 12:54:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 12:59:19-07:00
5326516f15542db5f1a8bf73917fa375451a1fc2,pbag/serialization tests are py34 safe,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:01:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:01:32-07:00
058380207ef35e2027b18e674673a29512d131f5,add coveragerc file,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:13:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:13:15-07:00
daddd12797c51a0f35df5f78591cdadd1241ac4c,"Merge pull request #164 from mrocklin/coveralls

add coverage to .travis.yml",Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:16:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:16:15-07:00
42d7b23669aa95247d6cbd628888dfdc786957b3,failing test case for repeated insertion,Stephan Hoyer,shoyer@climate.com,2015-04-19 13:20:25-07:00,Stephan Hoyer,shoyer@climate.com,2015-04-19 13:20:25-07:00
9ba21730194a264e3c83f018ff24eaadeba520c8,add coverage badge,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:56:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 13:56:46-07:00
09212ae9c4b3b8decf6a3f67e897b093535d4247,pip install coveralls,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 16:56:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 16:56:03-07:00
166350be53424d8ec1b24a7a9ac6391673877811,Array normalizes dtype,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 08:11:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 08:11:09-07:00
c0a1a2e54a390124f0ad53b42d2b2ba05b1eedc0,da.insert does not concatenate empty arrays,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 08:11:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 08:11:32-07:00
f7721d322e1a44d7e0c2ff844a398bcd20ee6d20,"Merge pull request #166 from mrocklin/repeated-insert

Repeated insert",Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:10:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:10:25-07:00
7872561fe24ad47e29718244b194896f615b53d4,handle ImportErrors,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:28:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:28:47-07:00
a93903343e735e3e883980daa49d19a7be4fdd2e,map_blocks dtype test check,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:35:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:37:11-07:00
69003eef02d00ac6fea6bdc42b80a0afcabccaeb,serialize with Q (ulonglong) not l (long),Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:45:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:45:07-07:00
cee697dc58ef803c89e55d5b205854c16100d6af,lingering dtype test issue,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:58:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 10:58:23-07:00
120a9e178705d91294375350807f4ecd5b21a1a2,can make really big ones/random arrays,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:19:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:19:05-07:00
54e794c2264f82235496bcaece567fa4476fb6b2,update readme,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:28:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:28:57-07:00
5bb1134807ab6a4adc211a6a38c68e84a98a3315,drop msgpack in pbag,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:32:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:32:51-07:00
cda70ec7a7b3b84ed6baf0fdcad8322ba2a2dd1e,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:34:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:34:38-07:00
773fb4c62b45bb6699e41c459e671b3df1062f89,update readme,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:42:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:42:37-07:00
a9b803930c6f490680d8ec96b906b38be967b048,update readme markdown,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:48:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:48:04-07:00
5fb7e0eb076ffd07573d104765e4b136f852d29a,dataframe warning on import,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:54:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 11:54:04-07:00
3024011ec57b21c5975462a7e8aa87d9953283d2,raise deprecation warnings on db.Bag.from_*,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 12:19:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 12:19:33-07:00
5d563a656ec22b6168e267ba89baecec5c82ec26,bump version to 0.4.0,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 13:28:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 13:28:27-07:00
58ed8c24288ee8f470acfa85cc6ae267f0ad2fd8,Use temporary files for testing.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-22 16:58:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-22 16:58:29-05:00
f3f6e57732d905f1fdbdedff0ed96576fd8c4760,"Merge pull request #168 from cowlicks/use-tempfile

Use temporary files for testing.",Matthew Rocklin,mrocklin@gmail.com,2015-04-22 15:09:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 15:09:10-07:00
37154d7239e654a7dfc36c8064bd61f47f871c64,finish_task does not store data,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 19:59:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:43-07:00
94bb0d40414c9145a5c7082b6efdc91a62b6c1ed,move get_sync around in async.py,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 19:59:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:43-07:00
bb4c565192608f6973a0302edda4a891912ef04d,"finish_task doesn't take result, flag for delete.",Matthew Rocklin,mrocklin@gmail.com,2015-03-28 20:36:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:43-07:00
7f08140d14381446912b84d6173860068959056b,"start_state robust to cache with values

Not sure this is a great idea",Matthew Rocklin,mrocklin@gmail.com,2015-03-28 20:55:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
60e36675b91294c71b9b6bbffa4a6f6a9e58673c,add distributed worker and scheduler,Matthew Rocklin,mrocklin@gmail.com,2015-03-28 20:55:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
99021ea09209731b1d27f0e11c6d1b89f56b24bc,worker.get pulls data lazily,Matthew Rocklin,mrocklin@gmail.com,2015-03-29 08:18:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
93a90b4ac1fb3a76bd247b37331d0d13d6486241,new asynchronous worker node,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 08:30:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
5262bfcb3aead2cfeb3c8d0dd84e8443d7cdda7c,collect data from peers,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 17:39:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
9d0d326a012bcd4d4df64efe726269f5780a5c33,add compute function to worker node,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:03:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
3c7e267464ba609f19eec08e6b6095f7899793e6,housecleaning,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:27:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
1e701d121bebc9d8933968d54b5d56c895c977be,Rename state -> dag_state in distributed scheduler,Matthew Rocklin,mrocklin@gmail.com,2015-04-18 18:28:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
e3595c30971bad18df9496395f84b49fa7f7f7fe,execute_and_reply accepts reply kwarg,Matthew Rocklin,mrocklin@gmail.com,2015-04-19 10:09:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
fbd0eb9af2199e5b0554846cec5aec5c83b140ae,workers communicate to each other,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 17:06:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
7c57d0cf85766c39935536f563606fdd688ee275,clean up node,Matthew Rocklin,mrocklin@gmail.com,2015-04-20 17:33:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
037f5d391568661240d0c53b8147f69bd375d41e,add second scheduler,Matthew Rocklin,mrocklin@gmail.com,2015-04-21 12:53:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
f81d5378d7a2a2560b7ff75ca453c217c812a0e5,"small fixes to scheduler

1.  bring context into object state
2.  destroy context with linger=3
3.  Fix gethostname calls",Matthew Rocklin,mrocklin@gmail.com,2015-04-21 15:26:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
ef990f51464f82e14d83623e6de79bd32ed26d27,wip - start separating node to explicit rpc,Matthew Rocklin,mrocklin@gmail.com,2015-04-21 15:27:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
80f0bbed265cb0a6c31700de0b4063b70af11da8,squashme,Matthew Rocklin,mrocklin@gmail.com,2015-04-21 15:28:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
931400c08d248d8a65e2653449ef23ad4deace19,first scheduler - node interactions,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 11:22:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
b74011358c1bb08ff11f5524a7305dc560d4e391,node and scheduler seem to work together,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 12:15:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
d60a48819713b90d123933bb76614b7488ae87ff,Replace old scheduler/worker with new ones,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 12:16:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
66cad1a24e0079c78bc88d23c3dce94159bbc034,clean up distributed imports,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 12:27:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
0e7ddccae074004284ec0a73ac8f55159259f40f,worker-scheduler can trade a task back and forth,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 13:04:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:44-07:00
c2b19531eb3489be7acb800bb18ac709afbc8704,less trivial compute test,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 13:16:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
29f717e22510f5ac1b08d9dd19e5620ca7488081,Add remote send and release of data,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 13:31:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
87054032c54a2dbeb9c03c73853d93a531926eba,basic distributed get,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 15:14:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
2b236553d303c70754a093a7a27f9a2aa6e15d09,scheduler.gather,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 15:52:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
06f206da7d6304e0da520035cd14cb91e41a2edd,random ports if not given,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 16:43:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
3462320fe8ed3050feaee6c6b4de63a98e6f6bbf,tests no longer specify names,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 16:55:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
5fea39739784088e9d68e7236ae11f0f408a1440,Rename some worker/scheduler fields,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 17:01:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
23e5331ddb9f22d8d781f36740aa50c227dd5f6e,collect reuses dealers and manages a queue,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:27:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
32a43e773d0e0832e36463082b5b53b8154d5886,scheduler->worker getitem uses queues,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:32:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
10b51ea5ca4a530115484f8b5ddd749fa9eeb7d8,add docs file,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:55:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 20:57:45-07:00
0135d1db858bb012db3639540680c5ffac350b71,more docs,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 21:04:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 21:04:24-07:00
c90eeb0ff7d40607bf4cd686d408a2de892c8450,add distributed network image,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 22:18:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-22 22:18:02-07:00
d3624a93b313d128c9df08e024a710c0a3735fa4,Ignore sklearn when testing if not available,Phillip Cloud,cpcloud@gmail.com,2015-04-23 10:11:53-04:00,Phillip Cloud,cpcloud@gmail.com,2015-04-23 10:11:53-04:00
1b1971eb8a4ceb261e5872b65f25bae8292c2147,Remove move deprecated methods instead of raising,Phillip Cloud,cpcloud@gmail.com,2015-04-23 10:12:14-04:00,Phillip Cloud,cpcloud@gmail.com,2015-04-23 10:12:14-04:00
87f001199b28d8dfe0d94162c526df9a12d6cb0d,Import shutil in drop because it is unloaded before __del__ is called,Phillip Cloud,cpcloud@gmail.com,2015-04-23 10:12:42-04:00,Phillip Cloud,cpcloud@gmail.com,2015-04-23 10:12:42-04:00
cb1b0616a3af09f4ab22ec173d4afe4a72e5a274,"Consolidate distributed schedule function

1.  Make it into a method on the scheduler
2.  Merge async.finish_task and distributed.finish_task",Matthew Rocklin,mrocklin@gmail.com,2015-04-23 08:20:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 08:20:00-07:00
8e4c57d34e31d3275facda851bf714e41845bbe2,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 08:21:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 08:21:52-07:00
a925d1416728946ba7a4af670499c997fe510e78,add distributed to travis.yml and setup.py,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 08:24:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 08:24:29-07:00
590d0818f8a62f2fb451b6b1ae8c9f2474e7d7f7,scatter,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:36:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:36:36-07:00
a2aa4346ed47eed7eb04d1f8b53ac64fa1a76452,add distributed.client,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:36:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:36:55-07:00
1a6a0ed4d1c1bed3ac55a55248299bb44bdd4f50,add pyzmq to travis,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:37:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:37:32-07:00
534a2b9d8383b1f94156dd864a3f0b2fe76ba217,clean up worker imports,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:43:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 09:43:14-07:00
28efdecec965604b66d4bd52b93bfaa4731c63fa,py3 compatibility with zmq and unicode,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:02:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:02:07-07:00
2c5715d0394e0cfd11c5fb2880daa7cad2718206,py26 compat,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:03:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:03:16-07:00
4b50a08a807aae70bbae56381adbb4841cfc14ea,fix scatter test,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:31:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:31:27-07:00
007293fab0768c659a57047804ad09950dcdb1f1,fix random_names test,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:35:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:35:30-07:00
12ef8edcd258d29a234a9680c26539b209d75638,"remove random port test

no longer necessary and hangs on 3.4",Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:44:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:44:30-07:00
332a2f3c4de3fc75be7974347bd15b30857dfd6d,add timestamps to headers,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:56:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 10:56:42-07:00
adc16f6d42401b5530b7ee28416796c069905bce,Raise AttributeError instead of removing methods,Phillip Cloud,cpcloud@gmail.com,2015-04-23 15:26:58-04:00,Phillip Cloud,cpcloud@gmail.com,2015-04-23 15:26:58-04:00
2a8448967821d4a13cc7b42dbfb3592168f7bc09,Scheduler.schedule uses queues,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:06:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:06:37-07:00
a77f6cedbbd8e94ae98f90100239ddb914dd3ab5,Scheduler docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:07:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:07:01-07:00
8e5243e120a59163534e5bb7b002de29f6e7b852,"Merge pull request #170 from cpcloud/fixes

Various fixes",Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:11:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:11:19-07:00
bdfebe7f4344c704ca57c9b674c0446a55f054d2,distributed.worker docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:28:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:28:48-07:00
18950e2c843d3dfd17716202b35c15e6ec1ed990,docs on queues,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:38:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 13:38:56-07:00
7eea35592dfb7c10e6e0886cdc13834c879daa48,doc on clients,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 15:32:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 15:32:48-07:00
c77094e1811ec613f7ce55596a0096028419e0e7,docs socket connections,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 15:40:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 15:40:06-07:00
613b7a3189394e437eeeeb550630b2b66cc6b7b2,move distributed docs to docs/source,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 15:44:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-23 15:44:39-07:00
facca716380451a73079ef8cd79abe6d07b22de7,add simple distributed setup doc,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 10:41:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 10:41:44-07:00
141090e52270967a9647b7e57b13563d53f3ffc5,use dill around header and task packets,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 11:20:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 11:20:32-07:00
45514142feff65416bcf875a00ee9f504a3b4d5b,"keep using pickle for header rather than dill

Now we store loads and dumps functions in the header",Matthew Rocklin,mrocklin@gmail.com,2015-04-24 11:40:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 11:40:04-07:00
61fd33b5579932cc20eab13dcfcfafb651363999,test that scheduler is robust to simultaneous requests,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 13:14:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 13:14:52-07:00
9d5ae2a0de35f1d70d5f7ab96f1f8786bfbd66db,"Add ""nearest"" mode for ghost daks.array.ghost(..., boundary=)

This is needed for compatibility with skimage",Blake Griffith,blake.a.griffith@gmail.com,2015-04-24 16:41:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-24 17:27:59-05:00
c29225d1f766481d0e0415db4356306f35d4a24e,"add block function and kwarg to Worker and Scheduler

cc @danielfrg",Matthew Rocklin,mrocklin@gmail.com,2015-04-24 21:11:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 21:11:53-07:00
3961a24f1613f8027b011e1cf9fa9650ae0f316e,remove vestiges of 'serializer' field,Matthew Rocklin,mrocklin@gmail.com,2015-04-25 10:23:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-25 10:23:32-07:00
bf88b30eddd16562c41e01514f797cbe60bbb152,clean up active_tasks code,Matthew Rocklin,mrocklin@gmail.com,2015-04-25 10:28:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-25 10:28:47-07:00
03ca7debcc58bca503077d0bcb739686765a469f,"routers bind to *, not hostname",Matthew Rocklin,mrocklin@gmail.com,2015-04-26 10:26:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-26 10:26:09-07:00
e6394c0880a057a66b92d61a523afaaf9bc2c984,Tests for nearest value of boundary kwarg.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-24 17:14:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-27 09:33:57-05:00
2a4e4b6cf914cd33806aa6cb5a7f466715a512a0,rewrite list comprehension for legibility,Blake Griffith,blake.a.griffith@gmail.com,2015-04-24 17:13:48-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-27 09:33:57-05:00
bf4b461ebca5805a769b430209d1ec45ded11376,Remove wildcard import,Blake Griffith,blake.a.griffith@gmail.com,2015-04-27 09:33:02-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-27 09:33:57-05:00
46b09cac21eec9be6e51890f80a93a4f7c62185a,"Merge pull request #172 from cowlicks/add-nearest

Add ""nearest"" kwarg to ghost boundary",Blake Griffith,blake.a.griffith@gmail.com,2015-04-27 09:53:06-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-27 09:53:06-05:00
67e9f262f39f2384fce45de4a6d40204ae2b6a95,add installation docs,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 08:17:28-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 08:17:28-10:00
1e912633a0d0e5113adc483e3f7e618ff7fb1afd,Array._args property,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 21:09:09-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 21:09:09-10:00
f0df39659d745916654100ea5cfa4d1f2c0d18a6,Bag._args,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 21:10:53-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 21:10:53-10:00
120d26488ea56b4a4349ccee29326efbf8053e74,dataframe._args,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 21:16:05-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-27 21:16:05-10:00
dd4535db6e8caddccb70a5f724e81eece75077e1,add map_overlap method to Array,Matthew Rocklin,mrocklin@gmail.com,2015-04-24 13:39:36-07:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 13:51:06-05:00
d43ba264d07083542dfc0107a18ef7414eb93065,Refactor map_overlap.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 12:40:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 13:51:19-05:00
9ee2207906f9b99ec625b0143a8a1b53586fa5e8,get/set_collection,Matthew Rocklin,mrocklin@gmail.com,2015-04-28 08:58:48-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-28 08:58:48-10:00
c81609daebb491915bc66404ffef0c3c643d7b91,Refactor nearest.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 13:20:39-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 14:32:07-05:00
c126d4e5618c9dc320e92c02407b84f5df3e055a,Add tests for broken use of nearest.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 13:20:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 14:32:07-05:00
4c10d01ce5332e46b6205d84ad0178bad1b6902b,add documentation on storing collections,Matthew Rocklin,mrocklin@gmail.com,2015-04-28 10:10:44-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-28 10:10:44-10:00
90a50778c4f048de70fbcd6641e9ebc3fce801fe,minor edits do distributed docs,Matthew Rocklin,mrocklin@gmail.com,2015-04-28 10:27:09-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-28 10:27:09-10:00
2d5ce55023a885c0398d6e6913ad1061f1f75bf9,`reflect` boundary mode handles depth = 0 properly,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 16:03:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 16:03:32-05:00
c10aefc833f2276c7915487c47455c0b7266d875,Failing test for boundary depth = 0,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 16:04:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 16:04:01-05:00
1b791f875108f8e0d5f306e65e5aaec8e23005dc,"move depth, and boundary coercion into ghost",Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 16:11:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 16:11:32-05:00
558420c53ff345eedfea54cb4928422985ccaa20,Refactor ghost_internal,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 17:50:53-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 17:50:53-05:00
cb25bbb32660352889fd625d8a6f3cca438fe127,list comprehension refactoring,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 21:50:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 21:50:44-05:00
2b18a26f184bac4887587c2c109affd21bf55625,depth and boundary coercion,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 21:52:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-28 21:52:57-05:00
a7607e212712f5405b62c97f28c1be07db823d61,Simplify list comp,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 11:13:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 11:13:19-05:00
a2b2c4a386437c2d776cc7e0f830710303f4d89e,simplify slicing,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 11:15:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 11:15:14-05:00
cce96e0dd602f07261578000ade0f5cc96eb8e4b,pep8,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:23:39-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:23:39-05:00
63c9f9d9c5413514d61ab56d4d9254b5d32f4aae,correct function name in docs,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:24:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:24:29-05:00
11c340c782829a421f456e45672d7919804c9f10,simpler reversed enumerate,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:24:54-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:24:54-05:00
f70de46cf208de6f5cca1e567dd2e91b4aaf3d2c,Failing indexing tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:25:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-04-29 14:25:21-05:00
7c422444be96db3441dfa9c4c6c3409a1e31687d,Scheduler doesn't record data in case of worker error,Matthew Rocklin,mrocklin@gmail.com,2015-04-29 15:44:21-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-29 15:44:21-10:00
def66f6b5b8194b501ed2f28dc292865093c5346,textblock util function,Matthew Rocklin,mrocklin@gmail.com,2015-04-29 15:58:17-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-29 15:58:17-10:00
559c1b41014ccde0bb2f21ffdb19b861dbccb100,make some scheduler functions private,Matthew Rocklin,mrocklin@gmail.com,2015-04-29 16:39:29-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-29 16:39:29-10:00
176aad15ef9b7e178e48eddfcbc3dadebcfe6dc2,add note about what dask.distributed doesn't do,Matthew Rocklin,mrocklin@gmail.com,2015-04-30 16:06:49-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-04-30 16:06:49-10:00
f54575903db5e264a80d1eba099b8311c530c167,Refactor negative step slicing,Blake Griffith,blake.a.griffith@gmail.com,2015-04-30 14:53:00-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 11:32:55-05:00
a8b4e0655290366c42377e96e4484317243746ce,"test_depth_equals_boundary_length now works

Previously there were errors when ghosting depth equaled chunk size.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 11:31:46-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 11:32:55-05:00
8556e7d356a9501914632ff0beccd2523201f4d0,Don't copy interior chunk boundaries in exterior boundaries.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 14:20:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 14:20:22-05:00
a6955401aadefc0edd851fa945e7d5777bbf3dce,Test ghost depth greater than chunk length.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 14:21:42-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-01 14:21:42-05:00
b8c7d0bf2109766de25a02ff3d7d9f51b5746021,Fix docstring,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 14:33:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 14:33:59-05:00
b74fbb571be6e5185fe9ce9f10a61181ea142de6,Unwrap list comprehension.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 21:24:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 21:24:50-05:00
879cbb1a651db308b0aa1f99d034681737dbb7c8,"in rec_concatenate, ignore arays with shape=(0,0,...)",Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:35:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:35:01-05:00
b08f847283d2b6a8f9e2da990b0e946bae544f49,"make fractional_slice return an empty slice

This was the intended behaviour but there was a bug.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:36:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:36:50-05:00
46630489e05ec82964ee44be2e8041aea4bd3772,Turn on test_0_depth tests in test_ghost.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:41:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:41:33-05:00
15a9a0d1afad6712c9ef8cecba365b010934753a,More extensive tests for depth=0,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:54:52-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-03 23:54:52-05:00
7d411805e8fcfa0936bfd916f2b357662377da0b,Fix NameError and spelling error,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 09:44:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 09:44:58-05:00
c1388ed8880d45a7c81b94b8cda38fb2c4ad64f9,Do nothing if depth == 0 in ghost boundaries.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 10:01:41-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 10:01:41-05:00
f3fdd23c9b1e5d6b3d5471a7e8b5369696ddf3b7,consolidate test_0_depth tests,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 10:04:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 10:04:32-05:00
9553e51f5c57dc6467ecdb566cad876a654f4e49,pep8,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 10:31:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 10:31:24-05:00
0e890f90925fbbf6267626f83c7a5a57e85cac52,"Support empty dict in rechunk function

Fixes #178 cc @shoyer

This also checks that the given chunks are consistent with the shape
of the array.",Matthew Rocklin,mrocklin@gmail.com,2015-05-04 08:44:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 08:44:26-07:00
128d80aea05a8ffb96351780cf44399a55cf468e,Don't use `np.array()` in assert_array_equal,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 11:35:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 11:35:18-05:00
434654dd3aea077c3ee1c6c4ed10bc166fc3012c,slight edits to distributed docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 09:54:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 09:54:27-07:00
b6f0eb588a234930282fa47ecf7caa42246cd033,"Merge pull request #169 from mrocklin/distributed

Distributed",Matthew Rocklin,mrocklin@gmail.com,2015-05-04 10:00:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 10:00:48-07:00
c82f55b36ca95a51d0cd6431643affce09e04162,"Merge pull request #179 from mrocklin/empty-rechunk

Support empty dict in rechunk function",Matthew Rocklin,mrocklin@gmail.com,2015-05-04 10:39:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 10:39:45-07:00
b35382fbf5857400bb0ee5c06661847ce837ca3e,More tweaking rec_concatenate,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 13:46:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 13:46:44-05:00
0547b72ba30534ee09dcb5af59a7f4b947318ca4,Add failing tests for some depth=0 others nonzero,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 13:47:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 13:47:05-05:00
b3166a81a4de19d8076df06cfdb85f9f00be4a7d,Tweak fractional slice,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 14:34:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 14:34:28-05:00
4c10ecd831bc869a0a811b82310c10d6ffc7838a,test ghost with some 0 depth,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 14:37:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 14:37:03-05:00
099cf0032f678353b2ebe870dc609ddd350e964a,Remove rec_concatenate hacks,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 14:41:36-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 14:41:36-05:00
3d8ea5ed69d2408510a2750273e7da89ce351b1e,Catch depth > chunk size and raise,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:20:39-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:20:39-05:00
a00706c94c9767e7b9356009048d8464be4f16b7,Test exception is raised for oversized depth,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:20:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:20:56-05:00
c092f3eb7f3938aac1f5ed8738cdb6c96c2e078a,Add note about rechunk to the exception,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:23:49-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:23:49-05:00
e5d14b29bfdc7e13c8eab7dc7871c9286c1772d6,Import exception message,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:55:00-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 16:55:00-05:00
8a49c1f93ed50d054c97d9da832dee3d61d16542,"Merge pull request #176 from cowlicks/skimage-stuff

`map_overlap` and ghosting changes",Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 17:04:04-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-04 17:04:04-05:00
803583371e083ffc9e12f83f287fcb967d53c4cd,scheduler releases result data from workers,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 16:20:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 16:20:29-07:00
0e4e0f83046f9748cda803c604a413bd92d38a10,pframe: rename blockdivs to divisions,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 13:55:33-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
25960b5384d306b743b18dec32b8927a9fc66dc6,rename blockdivs to divisions,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 13:55:43-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
c8a59a2c72d06bc8d045a169c7060f60215a44d0,known_divisions property,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 14:00:08-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
f07e02d4530c2b9207c88ad41b7683ad091ba519,test unknown divisions,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 14:06:02-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
b1094fac346f33b09d3db87aba97247f05296af8,add StringIO to compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 14:51:33-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
9151ed4a4e89dc61c918d6ec682a2373e37f280c,textblock supports filenames,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 14:51:46-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
74d126b3d1f8d100215f9ffd9ffd75783232a94f,add non-sequential read_csv function in io.py,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 14:52:04-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
caf50bfa32ed1ed5f43c6758ac0f68ef74d0c63b,Bag.to_dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-05-02 16:14:15-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
1839cf9f78f9332c7dfdf0926ba930511ae584cc,docstring,Matthew Rocklin,mrocklin@gmail.com,2015-05-03 18:12:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
ccc6e0e485adcc8f332a1b2c3842a589f5d35268,py3 compat with file_size,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 09:29:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
306e88fa2a71829a71a816a9efdee899de88785c,test that io/read_csv works with gzip,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 12:59:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
8bf2724d606868bc66541cfe49a2dec38dbf42a7,dataframe.io: add categories_and_quantiles function,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 13:18:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
98e6ac371aa17206ff9674694f42a7b00de12765,textblock and read_csv support gzip better,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 14:49:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
9f701074a5bd25c348c1edc12d71045952720671,add concat function,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 20:17:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
3b4a7df5f6ce1e182440b70bc7cc1fc01c13f4ff,io.read_csv supports glob strings,Matthew Rocklin,mrocklin@gmail.com,2015-05-04 20:17:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
47a1c31ba79394b49280b3b7dd58bc593342aad3,io/read_csv: header and dtype handling,Matthew Rocklin,mrocklin@gmail.com,2015-05-05 09:43:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
d56a8f592804ab4137d75d9049b7b8b2526b3094,getstate and setstate methods for DataFrame,Matthew Rocklin,mrocklin@gmail.com,2015-05-05 11:11:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
0b38e6fedfa9a7dfd93d4be48f7b62eff7aaaedd,remove warning,Matthew Rocklin,mrocklin@gmail.com,2015-05-05 11:27:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
4b1fc7242d197a77da62e65803114690fa939b8a,make pframes picklable,Matthew Rocklin,mrocklin@gmail.com,2015-05-05 14:46:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
58c9d8d22e38551e291c8cf777608ac4136890a0,raise if dtype is object,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 09:28:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
006c64a279af74d6df5b6ab0cba8b2eb0c8a82dd,dd.read_csv uses flat chunked version in io,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 09:28:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
7af967151c95aba54a56deac58311380962cd469,dataframe: move io/optimize out of core,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 09:44:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
a4860138dc1b435f55cfe2abf79e84a17a08aa90,read_csv works with usecols,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 10:56:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
dadf4f84fa66425b63520bb26fe1b2e92ddd4541,optimize takes keys as well,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 10:59:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:06-07:00
5096a6e5c873517d899312de7c344dc7080942a7,rename test file,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 10:59:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:07-07:00
7a096c788aa35e334aa199afadaeac16130f10fd,"categories use normal get, not dask.get",Matthew Rocklin,mrocklin@gmail.com,2015-05-06 12:04:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 16:43:07-07:00
27a2dee392b107cabe30a8b33e1e73b8245ba07e,"Merge pull request #187 from mrocklin/dataframe4

Dataframe additions",Matthew Rocklin,mrocklin@gmail.com,2015-05-06 17:08:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 17:08:16-07:00
b7492e383511c827799f5f96681b3fb172612cb0,"Fix chunks in uneven step sizes

Fixes #188",Matthew Rocklin,mrocklin@gmail.com,2015-05-06 22:05:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 22:05:39-07:00
a7808359f14d6653c0018eb602f7b31cc50023ac,"Merge pull request #189 from mrocklin/uneven-new-blockdims

Fix chunks in uneven step sizes",Matthew Rocklin,mrocklin@gmail.com,2015-05-07 08:54:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-07 08:54:28-07:00
b52db776740253d7c2e26d0d1554bd97488e4637,Get depth values in proper order,Blake Griffith,blake.a.griffith@gmail.com,2015-05-05 14:36:46-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
f13d0d55028cc8e014c500850107dfc9beecc90c,Don't include superfluous tasks in dask.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-05 15:17:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
6351869cd63cd6da50245d4a08c64e1ad26353cf,Fix bug with ghost and one chunk along axis,Blake Griffith,blake.a.griffith@gmail.com,2015-05-05 16:30:35-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
421fe9e83b114c24dcfd1cf083de6c60cf71f737,Fix bug with constant boundaries.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-05 16:40:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
afb6b58e32d3e55f33220f6a1f5a4299625928af,consolidate depth == 0 cases,Blake Griffith,blake.a.griffith@gmail.com,2015-05-05 17:25:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
5d710ed12cfd1e4afa5367864125179c7248ec7a,Add small numpy compatibility module.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-06 18:09:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
ac49fa998d75e05f64926744ebd828d1b4cdcc44,"use numpy_compat isclose, pep8",Blake Griffith,blake.a.griffith@gmail.com,2015-05-06 18:14:17-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:29:19-05:00
7397a2b06d6f1938b8a2a8eb97f55a1e1f041fd2,import insert_many from the correct module,Blake Griffith,blake.a.griffith@gmail.com,2015-05-06 22:14:26-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 14:47:33-05:00
d8786fa52e5ac934743048e90f5a1b97daaee752,Use numpy_compat in array.wrap,Blake Griffith,blake.a.griffith@gmail.com,2015-05-06 22:21:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 14:47:33-05:00
57e4af152dfb2c73feeac3bc22fd5408eac07360,Remove import loop,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 11:16:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 14:47:34-05:00
9bef333972d8d7a025fe46c0dd737a1b8917671a,Fix missing import.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 15:34:40-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 15:34:40-05:00
a15a43bfad18fb45498bac05a44e222edbcede58,"Merge pull request #182 from cowlicks/more-ghost-stuff

bug fixes is dask.array.ghost and make importable under numpy 1.6",Blake Griffith,blake.a.griffith@gmail.com,2015-05-08 10:07:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-08 10:07:43-05:00
c585c767f091f917441e1fecbc638dc0f1ff258e,tmpfile yields under try-finally block,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 21:11:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:38:09-07:00
6e9507e4dc3cca1417db262a2607ecc3a2caed05,dask.bag.from_hdfs,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 21:12:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:38:09-07:00
018b11f55961ed1bc75195b9bc2acb7b324afc88,bag.to_textfiles,Matthew Rocklin,mrocklin@gmail.com,2015-05-07 09:58:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:38:09-07:00
c923151272a65d1f7bee77f3ced7cca2bd2c1249,py34 gzip to_textfile support,Matthew Rocklin,mrocklin@gmail.com,2015-05-07 13:51:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:38:09-07:00
87a63679a00d95ea887356553fe2f14b5aab1c88,pull out hdfs filenames to separate file,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:31:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:38:09-07:00
c746b150ba47febdda633c3f69e35aaa80d60de7,extend to_textfiles test for bz2,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:36:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:38:10-07:00
f98645d62e07023e8b5acb7a43cd3815e0ab72f2,wip - start to_hdf5,Matthew Rocklin,mrocklin@gmail.com,2015-05-07 09:29:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:44:35-07:00
1435aabc4cb8e499078d328e14488d0d6089ee35,"pull out slices_from_chunks function from getem

reuse in store",Matthew Rocklin,mrocklin@gmail.com,2015-05-07 14:23:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:44:35-07:00
58c6b377a2e409b2f60806f8598f28e5e455372b,to_hdf5 method,Matthew Rocklin,mrocklin@gmail.com,2015-05-07 14:23:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:45:33-07:00
b569f95587232f1aca5141b1c964c8c4d9cb19aa,bz2 encodes data before write,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:51:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:51:51-07:00
eba8468fd2e5ae93a2acbf14cfb763638d7913b7,"Merge pull request #190 from mrocklin/bag-hdfs

Bag: from_hdfs / to_textfiles",Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:57:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 16:57:38-07:00
6e8b4b7f3ff355e784a996237872c90452f7c35e,"Merge pull request #191 from mrocklin/array-hdf5

Add a to_hdf5 method to dask.arrays",Matthew Rocklin,mrocklin@gmail.com,2015-05-08 17:58:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 17:58:10-07:00
6635fcbf708db2f3b9d8b0eb4ad7a25b89a65b5e,"From_array includes lock kwarg

This allows getarray calls to coordinate around a lock if necessary
when the underlying data store does not support concurrent reads.

Usage

    >>> a = da.from_array(x, chunks=(1000, 1000), lock=True)

or coordinate between arrays

    >>> lock = threading.Lock()
    >>> a = da.from_array(x, chunks=(1000, 1000), lock=lock)
    >>> b = da.from_array(y, chunks=(1000, 1000), lock=lock)",Matthew Rocklin,mrocklin@gmail.com,2015-04-30 09:12:31-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:01:37-07:00
289329c16c653ebdf737f4d44c8c34c1cd46f2f9,add multi-array lock test,Matthew Rocklin,mrocklin@gmail.com,2015-04-30 09:15:54-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:01:40-07:00
26e59b86f1e9c86a43040b1cdfe926ae2676955d,py3 compat: no thread module,Matthew Rocklin,mrocklin@gmail.com,2015-04-30 09:25:44-10:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:01:40-07:00
6b9b20f8136e78d811d869a312a91011958a40e6,move lock handling from getem to from_array,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:06:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:09:22-07:00
698eafa2d42157edf5f913833dd2aad90bc98a5f,add gitter badge,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:15:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:15:40-07:00
622a53adb59a39165cf567e8d5382d8b3bbdddbe,"Merge pull request #177 from mrocklin/from_array-lock

From_array includes lock kwarg",Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:18:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-08 18:18:08-07:00
26018a9480a929a4af5d2ed2e9a8fd25ef4d85db,add faq on chunks,Matthew Rocklin,mrocklin@gmail.com,2015-05-09 07:51:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-09 07:51:34-07:00
a85ae417fa79a56c98f1f0b6b2ea6b9f24943912,bolden faq questions,Matthew Rocklin,mrocklin@gmail.com,2015-05-09 07:53:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-09 07:53:35-07:00
865ba050b67b762173e917dbee603e2b9393c795,bz2 no longer uses disk,Matthew Rocklin,mrocklin@gmail.com,2015-05-09 17:17:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-09 17:17:48-07:00
4ed1d09858aaa24dcc25e62d6824b3ec4649581e,"Merge pull request #193 from mrocklin/bz2-hdfs

bz2 from hdfs no longer uses local disk",Matthew Rocklin,mrocklin@gmail.com,2015-05-10 09:24:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-10 09:24:11-07:00
16b4550945568c191ebc32ea5a65626708d3af63,"Read_csv names respect kwargs in chunked reading

Keyword arguments like skipinitialspace were being ignored when
computing names in read_csv for future chunks",Matthew Rocklin,mrocklin@gmail.com,2015-05-10 09:41:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-10 09:41:38-07:00
265d485e83b7edc2951afaf71ce1efbd209dcb1a,test consistent dtypes across files,Matthew Rocklin,mrocklin@gmail.com,2015-05-10 10:32:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-10 10:32:58-07:00
6afbd2bc245a2a243daa4c822a83192a6d63fa25,dtypes consistent across multiple csv files,Matthew Rocklin,mrocklin@gmail.com,2015-05-10 10:33:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-10 10:33:31-07:00
b68b25b3807193d0e632fd28b252d335ccd50b53,remove chest as a requirement,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 12:46:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 12:46:53-07:00
e9f17513dddef4c2a066ec90d9a77483e31eae1f,restrict psutil to dask.bag,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 12:52:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 12:52:38-07:00
48f9aa54a0b7536f22974a89e891e4fe655f296a,remove toolz requirement in core,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 13:01:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 13:01:55-07:00
1e87300dcb9638ff2bcdec91db16e936a1a1bcd0,avoid empty dataframe(dtype=...) error,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 12:06:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 13:55:39-07:00
27553c3b92405031116945241bc5b25905e5dfcf,add psutil to travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 15:00:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 15:00:18-07:00
a1db9d6a741a1914096693e5c1c58e26691b1435,"loosen regular expression on hostname test

Fixes #198",Matthew Rocklin,mrocklin@gmail.com,2015-05-11 15:15:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 15:15:28-07:00
11fe6e84c5e2464786db73e14be23ed50e49fe25,"Merge pull request #196 from mrocklin/requirements

Reduce requirements",Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:16:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:16:44-07:00
d015810062e46844403c43dbb4ad3fb045d842fe,scheduler can close workers,Matthew Rocklin,mrocklin@gmail.com,2015-05-05 10:09:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:17:42-07:00
b49883601b83e437c4aa32f70b26c0bba7165899,better error reporting on scheduler/worker,Matthew Rocklin,mrocklin@gmail.com,2015-05-05 11:28:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
c459d86ee4fc284a84b948556cecfb309df16179,more error logging in worker.py,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 12:32:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
7ffe7532adfcddacf0d8cc5704626c9e4988c550,comment out doctest with endlines,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 11:39:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
bda0b9110e5f715e65b08903530514d43e5b9784,Roll zmq.Context into Worker class.  Clean up,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 11:40:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
511a995fed6a918ccd004f7635f5c5de655a3ad1,Scheduler cleans up sockets and context,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 11:42:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
46169af28088f8886c4ae3ef69c5df8d02edec7e,close sockets in tests,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 11:48:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
337524e22eea3734190c28836a836842171d56f7,handle ZMQErrors gracefully on exit,Matthew Rocklin,mrocklin@gmail.com,2015-05-06 13:37:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
f73dc00835d78bf7b2e086c67e4bb42eef6986ff,add distributed.tests to setup.py modules,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 12:09:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
a3bbc0b9b741c39921b52409580a55efc7df99fa,remove distributed/tests/__init__.py,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 15:13:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
855f3b02f4cf28dd917292da23bcc6056c097471,add bind_to_workers/clients kwargs to constructors,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:16:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:18:12-07:00
d5c6f13634f552bb4a20dc86dfa54bbb71b5dbec,add dask.bag.concat,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 14:09:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 17:27:30-07:00
4cfeecb86ffc4a0c8199bba8d76504c2d8bb7677,"Merge pull request #197 from mrocklin/bag-concat

add dask.bag.concat",Matthew Rocklin,mrocklin@gmail.com,2015-05-11 19:48:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 19:48:12-07:00
48d61f902a3843496fd0e68d3787604c47b69d45,typo,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 19:55:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 19:55:25-07:00
0668c37ce0b77be13d4446a3abb8856a4ee93c0e,add tracebacks to logging,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 20:38:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 20:38:51-07:00
37502eda6adaf8bb89d154ca9c4509a84b21c1db,"Merge pull request #195 from mrocklin/distributed-cleanup

Distributed cleanup",Matthew Rocklin,mrocklin@gmail.com,2015-05-11 20:59:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-11 20:59:30-07:00
132d336fb937c080f926cae53a406fe6d2f7d74f,Update .gitignore to ignore dask distributed logs,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 10:21:23-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 10:21:23-05:00
30973eb9031ac414f28dc0232a2c5077404a6991,"Merge pull request #200 from ContinuumIO/cowlicks-patch-1

Update .gitignore to ignore dask distributed logs",Matthew Rocklin,mrocklin@gmail.com,2015-05-12 08:36:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 08:36:04-07:00
f7e2c611438e5719669e1ab1563ae56ac62bc213,"String namespace

Examples
--------

    >>> import dask.bag as db
    >>> b = db.from_sequence(['Alice Smith', 'Bob Jones', 'Charlie Smith'])
    >>> list(b.str.lower())
    ['alice smith', 'bob jones', 'charlie smith']

    >>> list(b.str.match('*Smith'))
    ['Alice Smith', 'Charlie Smith']

    >>> list(b.str.split(' '))
    [['Alice', 'Smith'], ['Bob', 'Jones'], ['Charlie', 'Smith']]",Matthew Rocklin,mrocklin@gmail.com,2015-05-12 08:54:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 09:05:17-07:00
56ffd0e0c9b7cd2e88b5fdf5c8397a2dcd6471ed,"Add conda.recipe/meta.yaml

This specifies metadata for building, running, versioning, testing, etc.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 17:37:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 11:17:44-05:00
218addfa6bf973acecfcf1236125dbba83a550a0,"add conda.recipe/build.sh

This script builds dask. Notice it contains a dirty hack.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 17:38:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 11:17:44-05:00
d2a29f01daa9da6f75c6a5aaede9f9ec5fdce249,"Add conda.recipe/run_test.py

This script is run after dask is built.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 17:39:38-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 11:17:55-05:00
928acc6463c5004bc9f078e27209fb16f4fff248,"Add .binstar.yml

This sets up continuous integration with binstar build.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-07 18:04:06-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 11:17:55-05:00
495999eda713aeedccb0c171bc4a06ed50430f21,import or skip tests with networkx,Blake Griffith,blake.a.griffith@gmail.com,2015-05-08 10:05:45-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 11:17:55-05:00
6787f155668d0c0f202b7721c0c0db1be8a0acab,Add windows build script conda.recipe/bld.bat,Blake Griffith,blake.a.griffith@gmail.com,2015-05-08 17:07:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 11:17:55-05:00
d3643842c11f8831be1ff60f01dcfe38207fd6e3,Worker and Scheduler block on threads before close,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 09:48:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 09:48:19-07:00
6b57c5053cf6aeb1b4636d2688b190b60e15ae22,Close workers safely,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 10:03:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 10:03:00-07:00
3ca9e4962abb689358030f2674af8672a7b4c970,"Merge pull request #202 from mrocklin/cleanup-threads

Worker and Scheduler block on threads before close",Matthew Rocklin,mrocklin@gmail.com,2015-05-12 10:06:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 10:06:44-07:00
1b95f15a7b0913a6a68e3fad105759bdcb21c182,"Merge pull request #192 from cowlicks/conda-recipe

conda recipe and binstar builds",Matthew Rocklin,mrocklin@gmail.com,2015-05-12 11:26:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 11:26:48-07:00
ab9de5df876db098c18347c569bf05554e865c62,Check exit value of run_test.py,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 14:00:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 14:00:29-05:00
ba3fcb73f2ffca0732ff637947f072e91ba73229,Add default package version as workaround for conda-build bug,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 14:12:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 14:12:12-05:00
d434e50ce0a0e7cb56404cde59a4dd4eb3b512ed,"Merge pull request #203 from cowlicks/check-run-test-exit

Check run test exit value, and workaround conda-build bug",Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 14:34:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 14:34:14-05:00
49e1f859dbf44184c221f32078a897dca16255a5,"Make scheduler test robust to slow runner

Some scheduler tests have race conditions that should resolve
themselves very very quickly (e.g. sleep(0.001)).  Of course this
approach is fraught and fails on very slow machines (like travis.ci
and binstar-build).

In many cases we have blocking logic built into the Scheduler/Worker
In some cases adding this just doesn't make sense.

This commit adds a poll/sleep loop to a scheduler test",Matthew Rocklin,mrocklin@gmail.com,2015-05-12 12:58:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 12:58:53-07:00
5ea9c22f9e2c9ae844aee41cbae42a9c085a4e0c,wait ten seconds on slow workers,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:10:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:10:24-07:00
84beffcd8221b45a0b4a650beafc67787d809526,"Merge pull request #204 from mrocklin/handle-slow-scheduler-tests

Make scheduler test robust to slow runner",Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:15:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:15:35-07:00
dc660cefa907a325c9b826cb0207a52dbb59aaa8,Scheduler closes pool on close,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:29:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:29:36-07:00
be9742d5dad3b4178d8fcfba028bad32a123c6a0,extend scheduler timeout to 20 seconds,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:47:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 13:47:54-07:00
d8fe3be53bca8bb512694c14c598c1f271fcc3bc,docs: ensure subset,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 21:51:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-12 21:51:55-07:00
cf0e13a07eb9c6d0c39a623568f75ebc965094c8,remove unnecessary nesting in array docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 10:29:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 10:29:41-07:00
7550df28d78fe35cd419e2a63441bb5db1aadb31,small edits to distributed docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 10:46:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 10:46:28-07:00
6fe7483c1a7f9114ec633253c579bbb2ec382743,use h5py file as context manager,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 12:38:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 12:38:07-07:00
1944126ebd7f6ab9abc4a27ff5eabe60cb17d957,"except TypeErrors when determining dtypes

windows throws these on some combinations",Matthew Rocklin,mrocklin@gmail.com,2015-05-13 12:38:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 12:38:21-07:00
91e70900b53e26ac8da364b0900f9879725c0057,change dtypes on ldexp test,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 12:39:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:35:08-07:00
6e3df4f311e1e9ec476dcf086ffc3202e960aed6,file context manager,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 13:42:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:35:12-07:00
eb26bbd06b719afad6de9ecc6da12e934e327ba6,"textblock reads in binary mode, uses readline",Matthew Rocklin,mrocklin@gmail.com,2015-05-13 13:41:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:35:12-07:00
99914a2f8ca3af3670b089ee194e96f99395ee6e,file size test respects windows endlines,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:25:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:35:26-07:00
653c5dbe5e59211baecff45dc890276d92829784,allow for 0 durations (bad timing),Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:30:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:35:26-07:00
055296c1926a2ae392054c89f7aeb30923163d63,make textblock windows and py34 safe,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:46:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:46:55-07:00
c769487bd67af85d2fe23aa4b86fcd6d625d10d6,"Merge pull request #207 from mrocklin/windows-fixes

Windows fixes",Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:51:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 15:51:16-07:00
8b72bc99a8aed1c97abc54dabe2d3f91533c4d35,add disclaimer to distributed docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 20:05:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-13 20:05:13-07:00
5f6b6be0289d0025bcbd63aad8c4a9236a2bb438,import add from operator,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 07:11:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 07:11:34-07:00
6ae3ca26968de79f63cdedf103140a0ff0fdbaaa,add explicit tests for dill,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 07:49:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 07:49:09-07:00
63c3be9d9000822d80d5b0140970a638c8f5bf56,dask.multiprocessing supports loads/dumps options,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 17:12:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 17:12:13-07:00
eb8bd0c39fbc5c7b832c199ee4b9e475d66b7bec,rename dumps keyword to func_dumps,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 17:14:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 17:14:53-07:00
9bfdfcb1f3a2fbbc510fc732cc7158816a461b4a,add mp.get docstring,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 17:19:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-14 17:19:08-07:00
8619f09dae4c9aceea4ce3afb1b725d28177c592,remove dill test,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:21:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:21:57-07:00
d4d15eade86e3ecc025cb46fef60677d37aab5f6,remove pickle test,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:25:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:25:38-07:00
9d57a01f66dd858f24df2ccf038b47106f64c1fa,remove dill test,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:35:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:35:29-07:00
b22f6f8272f5c2132685b95eabe1c69842790154,Merge branch 'master' of github.com:mrocklin/dask into namespaces,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:54:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:54:02-07:00
ad9d9299cfd22e35dcccb7430df3e3606c4bb922,minor style edits to string accessor,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:55:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:55:06-07:00
3bc0360f5e15bb6d61481f20f32502b5a5597824,"Merge pull request #209 from mrocklin/custom-serialization

dask.multiprocessing supports loads/dumps options",Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:56:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:56:46-07:00
0bd3cf8b7d055655106750ac991574d873a998b0,"Merge pull request #201 from mrocklin/namespaces

String namespace",Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:58:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 07:58:31-07:00
b5315e216d1a037b04ac24f0f9cad67c4b96aa59,remove numpy from bag tests,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 11:23:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 11:23:20-07:00
7795668ab738b275870fc54675615e5ab156d087,dataframe depends on bcolz 0.9.0,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 12:13:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 12:13:00-07:00
a0eb08428f827ab0c576848bcf30a4621420d196,importorskip libraries in tests,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 12:14:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 12:14:39-07:00
577921ffcd765b2bf49abd8927cd8b761fa30602,bump version to 0.5.0,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 13:07:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 13:08:50-07:00
82ec7608a7037d4e3e741e9ed40bc20e2833249d,"Merge pull request #213 from mrocklin/release-0.4.1

Release 0.5.0",Matthew Rocklin,mrocklin@gmail.com,2015-05-15 13:14:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 13:14:56-07:00
6dd937a78c02513cb14414e96ab91d21a8723a80,"Remove `#` comment from gitignore.

The proper syntax is that a comment starts with # at the beginning of a
line.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-15 15:28:49-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-15 15:28:49-05:00
b7e32a8d17a4e8a89f5ad7fbafa87bb9521a68c9,"Merge pull request #214 from cowlicks/gitignore

Remove `#` comment from gitignore.",Matthew Rocklin,mrocklin@gmail.com,2015-05-15 14:01:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 14:01:12-07:00
6be07186495facc1921864ecc44568a1ce8036dc,update MANIFEST,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 15:11:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 15:11:15-07:00
84526c0e6aee6679266ea56381e069975365be62,Add test coverage to dask.bag.core,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 15:50:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 15:50:38-07:00
93a3fff3a7ab2581094a71206de0887fc635980f,remove _get_block method from arrays,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 15:54:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 15:54:43-07:00
2c46f5e8346363b308909f2930721c1a70880fd4,bag stream_decompress is bytes/text aware,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 17:29:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 17:29:33-07:00
3a0ba02b8905f7b02a06f2f71004749ee5b012df,py26 compat,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 17:30:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 17:30:28-07:00
3004fc1fa1d439de3d1091b82022af971682f2ad,"Merge pull request #215 from mrocklin/bag-coverage

Add test coverage to dask.bag.core",Matthew Rocklin,mrocklin@gmail.com,2015-05-15 17:41:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-15 17:41:25-07:00
8ec687d6faa41411ad1c5502439bc96eec70df22,add limitations section to array-overview,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:34:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:34:52-07:00
f24e84f8e48f5a5363c083b6b0ac50a934f8ede7,add informative error message for da.where,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:35:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:35:01-07:00
ed7dc9aad1f70e311c47fef6da3f4b0a98dd3573,add topk function to dask.array,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:55:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:56:29-07:00
1058c02ccb95ceb576e44d2d67fdbec6606f640a,reword asymptotic performance guarantee,Matthew Rocklin,mrocklin@gmail.com,2015-05-17 18:58:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 07:19:20-07:00
a9da4c9f842825939448fc5f4a0e26f2f1f1819f,"Merge pull request #219 from mrocklin/where-error

Informative error for where",Matthew Rocklin,mrocklin@gmail.com,2015-05-18 09:36:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 09:36:34-07:00
05645c2d9b632eb0958dd349a092d1b6c37794a0,"Merge pull request #220 from mrocklin/topk

add topk function to dask.array",Matthew Rocklin,mrocklin@gmail.com,2015-05-18 11:01:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 11:01:35-07:00
46d6b7451bb8e295751d771228782cfbbcb8ecc7,"Add dask_client_from_ipclient function

Note this make workers but I'm not sure how to destroy them when I'm
done with them.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 17:17:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:57-05:00
b20f5838cb62a23c6b0722935c53874aa257fc98,"THIS HANGS. Test dask_client_from_ipclient

This passes but I need a way to clean up when it is done.",Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 17:20:10-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:57-05:00
04404f0cc245452da2f854f72718fb246b135d95,Import dask_client_from_ipclient in __init__.py,Blake Griffith,blake.a.griffith@gmail.com,2015-05-12 17:18:52-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
2f342f5fa897381d74cebdb3952769b42c0fab77,Allow Scheduler to recieve a context argument,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 10:31:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
fb743f7a387db4ef7dbdbec854178d40d65bc332,Add client commands for closing workers and scheduler.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 12:36:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
f3397e5c7152c11b24cc563c970b7bd4da11b8a9,WIP on client_from_ipclient.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 12:37:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
b2863a5245ca7f59220898b5f81153a5245f6012,remove context arg from Scheduler,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 12:38:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
b711f84f1b19c43dec6f383cc432e42669196dd6,Scheduler knows close & close_workers msg from client.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 12:38:46-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
9fca4a11c531e36689fd373b63e7a7fdcdb4546b,Close schedulers and workers and client in ipython test,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 12:39:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
062c590c5b24a153eed82e592300c273ebb5b942,Fix typo in scheduler self._close method.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 12:48:27-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
a2829d87e212a4db464fb37e7185b8ec8eb37ef3,dask_client_from_ipclient work,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 17:39:16-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
b147c51d928ac674c98715bbf82c98da5dbdaf37,unused import in test_ip_utils,Blake Griffith,blake.a.griffith@gmail.com,2015-05-13 17:39:54-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
193406b67d86e4dae60415f0f5bf9153cf387317,"retrieve addresses instead of sockets from scheduler

zmq sockets aren't serializable,
and aren't the desired objects here.",Min RK,benjaminrk@gmail.com,2015-05-13 16:27:09-07:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
81368d4b7c60fe7ec23437d85bc5dc0075c02d65,"Get first engine instead of engine 0

allows engine 0 to not exist, which can be the case.",Min RK,benjaminrk@gmail.com,2015-05-13 16:27:40-07:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
611c34eee4b5aa263669f1b7321b97fab9a98b5e,Remove lambda test. Add dask array tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-15 14:48:41-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
7d4eb4443efc26ad1c6e3e0cc0c838434e7353d5,Add ipcluster start to travis.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-15 14:49:54-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
1ad4a227feda39750fe312ae8537dd331e76b39f,Skip tests on missing IPython or numpy import,Blake Griffith,blake.a.griffith@gmail.com,2015-05-15 14:51:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
001fa55d4c7a1c00d128d270a0e63803a3bca935,Add ipython to travis installs.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-15 14:57:09-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
b698dc387291899d978404a5fbc17c6d0c18358e,setup/teardown ipcluster in test_ipython_utils,Blake Griffith,blake.a.griffith@gmail.com,2015-05-17 15:03:41-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
858557a32ce5e3e0ef1ba9b04a1eba704abf1fb9,Remove ipcluster start from Travis-CI.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-17 15:04:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
b0ad594f29665dd44ab8890a82ae082815334112,Scheduler automatically closes workers when it closes.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 09:57:38-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
92532c17020e0adeb4ffc9ed833561acc6e5b71d,Put asserts in a try/finally block so we can close the scheduler.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 10:36:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 14:03:58-05:00
58a1fc9412496b3787dee837a20cc7e5c9a20288,blockdims -> chunks,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 15:23:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 15:23:18-05:00
ae1159f45f6603cb0e5c6944b96c76cecc67abd6,"Merge pull request #208 from cowlicks/distributed-ipython

[WIP] use ipython.parallel to bootstrap dask.distributed",Matthew Rocklin,mrocklin@gmail.com,2015-05-18 13:25:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 13:25:49-07:00
9534274c90c32046b6caf697734364a19f306e23,"Merge pull request #225 from mrocklin/skipinitialspace

Improve keyword argument consistency across multiple csv files",Matthew Rocklin,mrocklin@gmail.com,2015-05-18 13:27:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 13:27:51-07:00
8b53c543464eaaceadb45b1bd37491554257e6cf,added example of use with image filtering,arve0,arve.seljebu@gmail.com,2015-05-19 12:40:53+02:00,arve0,arve.seljebu@gmail.com,2015-05-19 12:40:53+02:00
69a9c78894fc5b88c75aa14f448727b31c0ace5f,"rename, typo",arve0,arve.seljebu@gmail.com,2015-05-19 12:45:22+02:00,arve0,arve.seljebu@gmail.com,2015-05-19 12:45:22+02:00
2c87afa2831e73de5e5520d05187f1b69c81a373,"get image from web, docstring",arve0,arve.seljebu@gmail.com,2015-05-19 17:04:38+02:00,arve0,arve.seljebu@gmail.com,2015-05-19 17:04:38+02:00
e0036c1a71f3d78be6ab28aced6fc7e116b3913a,"use more permanent github, fix exist test",arve0,arve.seljebu@gmail.com,2015-05-19 17:10:49+02:00,arve0,arve.seljebu@gmail.com,2015-05-19 17:10:49+02:00
ac3bd5d5b3172e0332fd14957e304e40512a3ef6,Update Bag docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-20 11:15:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-20 11:15:27-07:00
20bbcb846020243208ab167f40cde796318bd473,"cleaned up setup, added explenations",arve0,arve.seljebu@gmail.com,2015-05-20 21:23:15+02:00,arve0,arve.seljebu@gmail.com,2015-05-20 21:23:15+02:00
c08278c0ac8cb966a3a8479eaff311c0003a3931,typos,arve0,arve.seljebu@gmail.com,2015-05-20 21:29:47+02:00,arve0,arve.seljebu@gmail.com,2015-05-20 21:29:47+02:00
a7b83ff40355e9e2e42c807945bff544fbdc6e30,use zmq package name pyzmq,arve0,arve.seljebu@gmail.com,2015-05-21 10:33:35+02:00,arve0,arve.seljebu@gmail.com,2015-05-21 10:33:35+02:00
7a0043d857c0caf2c19e4df78bfcc84f2f602f17,"Merge pull request #230 from arve0/zmq_requirement

use zmq package name pyzmq",Matthew Rocklin,mrocklin@gmail.com,2015-05-21 06:56:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 06:56:26-07:00
bf6130af5b72614afc68034192608d58af9802c1,rename frame to dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:15:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:15:59-07:00
e1cec6eade842cba6518a8158d05337e0e52a50f,refactor docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:16:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:16:29-07:00
35e05ef775619a3a26d28e1e4b6818294ea872bd,worker test raises errors on bad router connections,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:17:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:17:43-07:00
ec12817903b72fe558b6851b32f4a97f3c847687,"all to_worker communication occurs in single thread

This required creating a separate socket pair to trigger communication",Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:42:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 07:42:47-07:00
84439140a94b9b93d4f627d4ad22d840b70a54bb,recv empty message from pair socket,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:28:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:28:16-07:00
e9dbc8e3294a5fdcfa53ad030bce626432b6eb6a,clean up index,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:36:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:36:58-07:00
2ed45c3aebe0e4e52a4c980196000688125b0b6e,move inspect from array to admin,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:38:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:38:21-07:00
06daf91597b45bfb542618ec3657ac4271afa829,rename distributed details,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:40:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 08:40:30-07:00
2194c9abc96441ae6351a47211e190bc541dc1cf,add custom graphs section,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 09:48:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 09:48:19-07:00
a6f7b87291f0ae16c11d3dc112c36ec58a806c92,Lock on router recvs,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 10:35:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 10:35:53-07:00
2c8cd0d487c23a8aa443dbb916d364aac69baedb,"Merge pull request #229 from mrocklin/bag-docs

Update Bag docs",Matthew Rocklin,mrocklin@gmail.com,2015-05-21 10:45:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 10:45:17-07:00
28c41e65dec6d1db785880e995559b4f3d683e9b,add related projects to custom graphs section,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 11:03:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 11:03:22-07:00
307c2140681f30a885db6dc00b6c0e551172fea4,"Merge pull request #232 from mrocklin/zmq-fix

Fix zmq issues",Matthew Rocklin,mrocklin@gmail.com,2015-05-21 11:48:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 11:48:09-07:00
a53bbf915805dcc285335e41d5d79770a39ef3ee,update custom-graphs,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 12:10:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 12:10:51-07:00
3f67415eac58e865ecf70b30a5bfb5e5d40598f0,add collections-schedulers images,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 12:21:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-21 12:21:24-07:00
b67eed73c29e200807e83aba2b960c96bda3ea32,use scipy.ndimage.uniform_filter,arve0,arve.seljebu@gmail.com,2015-05-22 17:34:04+02:00,arve0,arve.seljebu@gmail.com,2015-05-22 17:34:04+02:00
2362272f30f17be4329fa35a699ea52759cd27c7,"Merge pull request #228 from arve0/image_example_notebook

added notebook with example of parallizing image filtering workload with dask",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 08:41:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 08:41:48-07:00
65d2de14d5c9e3c720a217e33a18a77974b3bc90,typos,arve0,arve.seljebu@gmail.com,2015-05-22 17:59:37+02:00,arve0,arve.seljebu@gmail.com,2015-05-22 17:59:37+02:00
96777e3f3c79ba10bbeb476753e60315a3cfd33e,"Merge pull request #234 from arve0/image_example_notebook

typos",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 09:45:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 09:45:26-07:00
6132595229cf3c75ca0f7ea3105f0fdda4bce6a1,add limitations to schedulers,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 12:51:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 12:51:22-07:00
e3d7edc6ff772a538e7bccd4bf3c6c9eca7a2c84,merge bag docs into one,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 12:53:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 12:53:29-07:00
7e0ab0b3480fbea47f5e687512232f2dbc733826,bag limitations,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 13:05:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 13:05:48-07:00
7299295fdf2042ff8d4f48c3b77c50bc8491db6d,limitations of dataframes,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 13:14:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 13:14:08-07:00
d9a1d87a1f06ef06256ec7488c48347f6ebf3b7f,dask.distributed is not HPC,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 13:16:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 13:16:21-07:00
753e3628ac021453c84be7422ac14451af31c606,bag groupby is under churn,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:15:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:15:47-07:00
8596c4934f1944a3a2ca89315adbae86bdb477b1,"Merge pull request #237 from mrocklin/limitations

Known Limitations",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:20:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:20:43-07:00
212544ceddfc9f6dbb4ef92ec45d8b284cff1c99,Initial commit of distributed setup docs.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-21 12:05:59-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:21:04-07:00
2cd3f44b6f98b8e4eb521c8dbbbdd8ed76f42a58,merge distributed setup into distributed,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:23:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:23:01-07:00
a1cce1c1da84ae5d07d7edd917eb98103b6e91d7,pep8 imports,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 17:21:18-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:28:18-07:00
0389050430e09978887ea8ab33c0a0497d79c4ed,Docs for DataFrame creation,Blake Griffith,blake.a.griffith@gmail.com,2015-05-18 17:21:42-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:28:18-07:00
96741a59b80906c7c44fb546181ad40751ca5ac7,DataFrame creation docs.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-19 15:58:56-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:28:18-07:00
5831aac388e1f3c07d515f63cdd978e4565e7993,from_bcolz accepts filename,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:48:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:48:46-07:00
35a38b4857ff903c01142ce9f9a9a6e9134f9a80,fill out dataframe creation section,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:51:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:51:36-07:00
8eb84f9e152c28fa8b6e226b52acdee4d8819d08,"Merge pull request #238 from mrocklin/dist-setup

Dist setup",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:54:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 15:54:29-07:00
a0bef6dcb60523c9d2afa0a815737167a9b8bd57,"Merge pull request #239 from mrocklin/dataframe-creation

Dataframe creation",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:12:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:12:33-07:00
c648248903a1f3ae98e8e5b5a6494d06a04e88a9,"add numpydoc, autosummary",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 10:10:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:13:20-07:00
62f7fe143584f6e49ba32e36e5b4b3f784fa0b4c,add bag api,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 10:13:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:16:02-07:00
6a815dc277822435611ad17fa6f8489f80637237,remove get from Bag.__init__,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 11:02:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:16:04-07:00
ea388c2a94c2799604882d42ae0c03366ba66a26,simplify Array doc title,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 11:43:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:16:04-07:00
2cce0f98bfbb7500e0e011633677e8230f2daa27,wraps and docstrings for simple methods,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:05:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:16:04-07:00
3ca71bfb5bd46b8f85ad572e3e5eaa18a9a1ee9f,selectively use autofunction in bag api,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:11:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:16:04-07:00
a2c8a375f5852ce7ea6938dee6df2f7ca0597a8b,merge bag api into bag.rst,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:18:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:18:09-07:00
c09f4fda1fe739ec2350ff7bb8ac45a24478c709,mention multiset in bag name,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:21:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:21:59-07:00
600925e0bdcd7c0110b53fdf7003fd1e2ccf7956,move bcolz and chest to conda install,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:32:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:32:19-07:00
63d667d3c1037a4c9b5ee42d4740059976c78e62,"Merge pull request #236 from mrocklin/api

API docs",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:33:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:33:54-07:00
b9f43467705020cfca7728310603b4a15f0f7c87,"Merge pull request #240 from mrocklin/travis-fix

move bcolz and chest to conda install",Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:37:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:37:34-07:00
7614659aab73ec5f3b5138aba83836dbf6025786,add numpydoc to requirements-docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:41:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 16:41:58-07:00
6e7e46c853b89af983499cb09322b431790bf135,graph optimization docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 17:07:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 17:07:21-07:00
80694017fc689de65e7b96566e78058e2ac8e1ab,update intro docs,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 17:28:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 17:28:55-07:00
3990c3e094f2465e1650f5d7ad72f04a43e14eb9,small edits to index,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 17:39:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 17:39:16-07:00
26a01ba9bfd43e8b685c61dd7761c456a4f35de7,typo,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 21:38:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 21:38:06-07:00
847b386d958d14da62c4ca62444c9222f608b62e,spell check,Matthew Rocklin,mrocklin@gmail.com,2015-05-23 09:32:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-23 09:32:49-07:00
d0fb915ace32477b139d9c13f2fd3b673d9e7ce2,Add array api,Matthew Rocklin,mrocklin@gmail.com,2015-05-24 21:28:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-24 21:28:15-07:00
54d739400195f22a8f65f7151ce4850797ad443c,remove rechunk from array api,Matthew Rocklin,mrocklin@gmail.com,2015-05-24 21:31:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-24 21:31:40-07:00
5f3388765ce249d9eb512205ac4430912617f218,improve path descriptions in to_textfiles,Matthew Rocklin,mrocklin@gmail.com,2015-05-25 12:58:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-25 12:58:15-07:00
2e6cfb6f64c330ac16800628390bcefcc49f39e1,"Use full path.

closes gh-250",Blake Griffith,blake.a.griffith@gmail.com,2015-05-29 16:13:25-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-29 16:13:25-05:00
deebfeef0e37f191d66b562d89d9a230060fd5f2,remove api link from array,Matthew Rocklin,mrocklin@gmail.com,2015-05-29 23:28:09+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-29 23:28:09+02:00
7d4494beb1475171e18d1b9df298149d1bd2a5f0,Test that from_filenames uses full path.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-29 16:29:13-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-29 16:29:13-05:00
e1d4002d685dce78ab3d7e1d66e0addb643c2924,"Merge pull request #251 from cowlicks/gh-250

Use full path.in dask.bag.from_filenames",Matthew Rocklin,mrocklin@gmail.com,2015-05-29 23:44:35+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-29 23:44:35+02:00
b7d5d02cc4da5b1a8b59e9f9e563442a07ebafb4,"Add dask.array.bincount

The implementation is fairly simple.  We call np.bincount on each chunk
followed by a sum on the result.  We also support the `weights=` kwarg
and **require** the `minlength=` kwarg.

Example
-------

In [1]: import dask.array as da

In [2]: x = da.random.binomial(100, 0.2, size=10000000, chunks=100000)

In [3]: %time da.bincount(x, minlength=100).compute()
CPU times: user 2.26 s, sys: 44.2 ms, total: 2.31 s
Wall time: 2.24 s
Out[3]:
array([     0,      0,      0,      6,     44,    136,    584,   2064,
         5938,  14772,  33084,  68568, 127704, 215525, 336015, 479691,
       637366, 790564, 911322, 979063, 993400, 944096, 849693, 719470,
       576965, 438738, 315740, 217278, 141412,  87920,  51906,  29428,
        15835,   8183,   4072,   1899,    878,     383,    164,    51,
           26,     12,      5,      0,      0,       0,      0,     0,
            0,      0,      0,      0,      0,       0,      0,     0,
            0,      0,      0,      0,      0,       0,      0,     0,
            0,      0,      0,      0,      0,       0,      0,     0,
            0,      0,      0,      0,      0,       0,      0,     0,
            0,      0,      0,      0,      0,       0,      0,     0,
            0,      0,      0,      0,      0,       0,      0,     0,
            0,      0,      0,      0])",Matthew Rocklin,mrocklin@gmail.com,2015-05-29 22:19:28+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-30 11:22:30+02:00
f18c514a5d3109f43e81df0032f9acf6f729c384,"Merge pull request #249 from mrocklin/bincount

Add dask.array.bincount",Matthew Rocklin,mrocklin@gmail.com,2015-05-30 11:25:33+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-05-30 11:25:33+02:00
1f979c20a48220f8571734f2c1c5e61eb263ea30,fix typos,Valentin Haenel,valentin@haenel.co,2015-05-31 17:12:16+02:00,Valentin Haenel,valentin@haenel.co,2015-05-31 17:12:16+02:00
323ab507212b91e953f92fdc7da7a82059449ae9,"Merge pull request #253 from esc/fix_typos

fix typos",Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 14:24:53-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 14:24:53-05:00
017241f58ccc7199bea8f741562e94b798e93e85,dask.core.flatten should not flatten strings.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 16:59:53-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 16:59:53-05:00
b76eca4a152117cbf9a35e471f3cf3892d34d00c,Add newlines between log statements.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 17:02:06-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 17:02:06-05:00
9db1bbb97097bb6e6baf5e5548b67cab83f34dcc,Docstring for test_distributed module,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 17:15:41-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 17:15:41-05:00
80df0a3a1424e6d7c7872c28cf194886c1695bb1,Organize imports in dask.distributed.worker,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 17:17:09-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-05-31 17:17:09-05:00
3b5e895b70f2552d6c29ab72876fbe621df4085d,raise informative error when pydot is missing,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 15:25:41+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 15:25:41+02:00
593441956db999a0910e969349d01f16d61cd8f5,replace blockshape/blockdims with chunks in docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 15:29:13+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 15:29:13+02:00
0707698ffd26cc8b6656626f538a295d4fe0f21e,str namespace works on mixed string and unicode,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 16:29:53+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 16:29:53+02:00
b50379226c80a56ed6c104913871898e4b909d14,ensure str.split works without input,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 16:31:47+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 16:31:47+02:00
f0b3449fe2df1734b3cf27fc56d2848f604e1762,"Add Reify function to turn iterators into lists

lazify is now aware of this function

We test to ensure that one can map iterator producing functions safely",Matthew Rocklin,mrocklin@gmail.com,2015-06-01 16:43:08+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 16:43:08+02:00
fe8b882271fbc588b16a9dea6ce2179602427101,"Merge pull request #256 from mrocklin/dot-docs

Dot error and docs",Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 09:44:10-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 09:44:10-05:00
973a9d0817f6a25f3879f019bdf56af4ee66b6d3,Add test for dask.core.flatten with strings,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 09:46:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 09:46:43-05:00
73cf47eeca49974c0c1819074e7b93052ee2a0e3,Correct error in test.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 14:39:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 14:39:08-05:00
0a238d8fe206543b98ecdfdcab2a5bb1ee13db04,"Create concatenate3, a more efficient version of rec_concatenate",Matthew Rocklin,mrocklin@gmail.com,2015-06-01 19:35:02+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 20:57:47+01:00
5dd85c866ea9fda570396203237e77880557fa75,"Merge pull request #254 from cowlicks/gh-248

Fix hangs w/ bag.count/sum with distributed scheduler",Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 14:58:34-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 14:58:34-05:00
bc10e19749a1f0ea6f1403909a6155d5e9431aaf,replace rec_concatenate with concatenate3,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 21:12:51+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-01 21:12:51+01:00
568028b361f92cea9d5de18cba0ed06fbc806047,Add dask.bag.from_url,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 15:47:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 16:01:35-05:00
e684386d33dce656680355ad8f42132b0c22e27c,Test simple bag.from_url,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 15:48:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 16:01:35-05:00
d63bef2e6675e8771f14f4fbc1ac22ce8bc6e1c2,fix rechunk_method test for valid chunk shape,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 12:24:00+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 12:24:00+01:00
0aa32901e6173b6b8c2a294e0d6126d16bdbfe81,skip percentile on categoricals test,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 12:33:54+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 12:33:54+01:00
338be88f665bc6eafff2dc091fde0217e8e2c3be,Bag.compute returns list,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 15:48:29+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 15:48:29+01:00
240933dac41bb45b305a6fa719b85c7a30564a40,update concatenate3 docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 16:09:25+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 16:09:25+01:00
1616a25071d6efa63067cfa1c06093dfff422899,"Merge pull request #259 from mrocklin/nlp-bag

Fix Bag for some NLP use cases",Matthew Rocklin,mrocklin@gmail.com,2015-06-02 16:27:23+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 16:27:23+01:00
83346aa99bb5d29e3545a19c0a0ae2a342d4e3b8,add 1d and 3d tests for concatenate3,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 16:38:22+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 16:38:22+01:00
d3375e7179b767afafb5131469763e4ddd10c9a4,"Merge pull request #258 from mrocklin/rec-concat-3

Create concatenate3, a more efficient version of rec_concatenate",Matthew Rocklin,mrocklin@gmail.com,2015-06-02 17:12:29+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 17:12:29+01:00
d33cd0febb32403e1a33db5ac09f9b358374e7cc,Add example to Ruleset docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 17:29:27+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 17:29:27+01:00
03c3c4e512b65ab3f47219a0ad6ddb25b92662ab,Use unique name in dask from_url,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 11:32:45-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 11:32:45-05:00
acfa46ac2d2cd504d1ef4c9704422cf471581f59,Change graph construction. Use correct name in graph.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 11:35:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 11:35:05-05:00
61707c2e0f99454fddf3c9af7e470ee561bb7873,fix typo in doctest,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 17:36:22+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 17:36:22+01:00
79dea070bae7b0fb915e1b95aa4e6ccd28907ee7,Better docstring,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 12:44:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 12:44:55-05:00
3d8c141a7ab40c43ef1fb79683e99b1016d1904f,Improve tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 12:45:17-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 12:45:17-05:00
bf33ac8d52b9eb1279eff50f3110924c28830c55,Change to bytestring for python 3  compatibility.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 14:18:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 14:18:56-05:00
8e0ee933fa530f8412235a897620d6f0d842e011,Add variadic map_blocks function,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 20:47:14+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 20:47:14+01:00
1470223fb9e3805fcbf4d247452699526ba954b5,replace old map_blocks function variadic version,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 21:04:35+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 21:04:35+01:00
0549d95fc54765c0def946b40abd1ff78d575d82,raise informative error on map_blocks arg switch,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 21:07:49+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-02 21:07:49+01:00
666dbd6adc7e223e4a3b70bda1f9280b49d8d9f6,"Merge pull request #261 from mrocklin/map_blocks_many

Add variadic map_blocks function",Matthew Rocklin,mrocklin@gmail.com,2015-06-03 06:22:18+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-03 06:22:18+01:00
41d7e0eb4af86abc7dcbb95fc4c3d63191ba1701,Better from_url docstring,Blake Griffith,blake.a.griffith@gmail.com,2015-06-03 12:57:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-03 12:57:57-05:00
a16f8387791c5f376e87b7cacc6ef687e8652f56,correct blaze server link,Blake Griffith,blake.a.griffith@gmail.com,2015-06-03 15:06:35-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-03 15:06:35-05:00
0023d942224e05ff719d02ca82f45fcbfb1cbaa0,"Reductions support dtype= keyword argument

This follows the NumPy API to enable users to specify the output dtype
of reduction operations.

Example
-------

In [1]: import dask.array as da

In [2]: x = da.ones((4, 4), chunks=2)

In [3]: x.sum(axis=1, dtype='i1')
Out[3]: dask.array<x_2, shape=(4,), chunks=((2, 2)), dtype=int8>

In [4]: x.sum(axis=1, dtype='i1').compute()
Out[4]: array([4, 4, 4, 4], dtype=int8)

Fixes #270",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 10:20:26+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 10:20:26+01:00
c8be65116a69fd2a1b2f3cefa6a1bad2723e2ab8,"use toolz.topk in place of heapq.nlargest

Fixes #269

def test_topk_with_non_callable_key():
    b = db.from_sequence([(1, 10), (2, 9), (3, 8)], npartitions=2)
    assert list(b.topk(2, key=1)) == [(1, 10), (2, 9)]
    assert list(b.topk(2, key=0)) == [(3, 8), (2, 9)]",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 10:25:44+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 10:25:44+01:00
1147a3983305d2de59750f85a2fd01486df26261,"Support negative axes in reductions

Examples
--------

>>> x.sum(axis=-1)
>>> x.sum(axis=(-1, 2))

Fixes #264 cc @alimanfoo",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 10:34:58+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 10:34:58+01:00
845c34ae65b64afb8c047c4b0a7eee0f76b452a6,map_blocks supports chunks as blockshape,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 11:02:53+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 11:02:53+01:00
0b1dab313f484bc943546c20919aac945ca0664b,"Merge pull request #272 from mrocklin/topk-key

use toolz.topk in place of heapq.nlargest",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 11:34:06+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 11:34:06+01:00
151e51e7b71df09836ab88eac3b3034278475f66,atop creates out name by default,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:18:41+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:18:41+01:00
44dc4a123add52b6234f8806e9c96fce4977adba,atop docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:35:51+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:35:51+01:00
ee9a9b15213b7bb2a883f013cb1dadfdbadfec44,correct map_blocks docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:36:56+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:36:56+01:00
0ff12882bb523cf11aeb96209b9987d2709ba92f,da.arange has concrete dtype,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:38:55+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:38:55+01:00
2914650aa8633ea02220994753cc2a7150db31e9,rework atop docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:44:33+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:44:33+01:00
a3835ecd608d1c3617d99f82937ad0c1dcd445b6,add atop to dask.array top-level imports,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:46:15+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 13:46:15+01:00
b97415551322103ef09ddec9f13ac1a1202e51cb,"Merge pull request #275 from mrocklin/atop

Atop docstring",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:05+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:05+01:00
e3d6211d0d85f4dd804004f7c1b1a91daf200126,"Merge pull request #274 from mrocklin/map-blocks-chunks2

map_blocks supports chunks as blockshape",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:20+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:20+01:00
a1dc95e8c3402e2182778b7ab523066e3f5f1bd6,"Merge pull request #273 from mrocklin/negative-axes-reductions

Support negative axes in reductions",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:32+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:32+01:00
041c0efc919c0c520878b1788e3fa3e40371b4b2,"Merge pull request #271 from mrocklin/dtyped-reductions

Reductions support dtype= keyword argument",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:43+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:14:43+01:00
902263925d8404c0a1a68e38aac292f06dea7cb2,"Merge pull request #257 from cowlicks/from-url

Add dask.bag.from_url",Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:17:41+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 19:17:41+01:00
50c56e41385a298c52e4f2ef4a3335a188aee498,add pseudorandom array function,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 21:36:52+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 21:36:52+01:00
028a1b315d423f499fcbaa027aadf47334d8e3fb,Add random_split method to dask.dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 22:13:05+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 22:13:05+01:00
da2c392f5e79e782124829d6080c1677e2290607,compute split only once,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 22:17:46+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 22:17:46+01:00
9903a3f719a2aca46a0b9444b147b5498e95db02,fix typo in docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 22:25:19+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-04 22:25:19+01:00
5339b5d4d6f4f689f4a317753df6b13582bb41bc,"Merge pull request #276 from mrocklin/df-split

Pseudorandom dataframe split",Matthew Rocklin,mrocklin@gmail.com,2015-06-06 08:27:40+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 08:27:40+01:00
b8fa19621f4a536b1e30cfeb4802ea4992540629,add cache to FAQ,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 09:18:22+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 09:18:22+01:00
441d91fa18a8c02a10cbb36785d06b8f0d2c702a,set_options works with cache,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 09:25:05+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 09:25:05+01:00
2f7588f7d98c48ca51d80eb26242acf8dfdcbbb1,add set_options(cache=cache) to faq,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 09:26:27+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 09:26:27+01:00
fbcf272bf053b7b6763af25552ee0939a25f63ba,faq: out-of-memory -> chunksize,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 12:39:35+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 12:39:35+01:00
1fd3d494584655c0f01062ee0096e1e7b284c3ce,"Merge pull request #278 from mrocklin/cache-options

Cache options",Matthew Rocklin,mrocklin@gmail.com,2015-06-06 12:57:08+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 12:57:08+01:00
9e10b5719e9c32fa9f6df6fdfbc2090741a394ab,add download counts to readme,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 13:09:21+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 13:09:21+01:00
c6671db2a060c8ce73b9514539fd1ee81c91053c,add downloads link,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 13:11:12+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-06 13:11:12+01:00
487a82ec9e2e6a31dc649ff6002eebf395a83565,Changed docstrings and change in internal name of dask arrays (blockdims -> chunks),Mariano,marianotepper@gmail.com,2015-06-06 08:32:16-04:00,Mariano,marianotepper@gmail.com,2015-06-06 08:32:16-04:00
a8901175e58c8b1c2d940397b437424e30e88278,"Compressed SVD implementation, without docstrings",Mariano,marianotepper@gmail.com,2015-06-07 09:24:59-04:00,Mariano,marianotepper@gmail.com,2015-06-07 09:24:59-04:00
2853e1b52d3695a02d46ed4adff66cdf522d151b,Added compressed SVD test,Mariano,marianotepper@gmail.com,2015-06-07 09:26:25-04:00,Mariano,marianotepper@gmail.com,2015-06-07 09:26:25-04:00
d593586d924b26d7e857d8a915511f305c543ab0,Bug fixed,Mariano,marianotepper@gmail.com,2015-06-07 09:27:54-04:00,Mariano,marianotepper@gmail.com,2015-06-07 09:27:54-04:00
79b042e5d5366bfcbdc470ec203989c8ce81fd12,Small changes,Mariano,marianotepper@gmail.com,2015-06-07 09:32:50-04:00,Mariano,marianotepper@gmail.com,2015-06-07 09:32:50-04:00
f729bf16861fd7ebe5661f9bbfc3795487b8c3cf,Docstrings added,Mariano,marianotepper@gmail.com,2015-06-07 09:47:34-04:00,Mariano,marianotepper@gmail.com,2015-06-07 09:47:34-04:00
e227b4ac75a80659e6ab79576e38b9299c630464,Fixed svd_compressed to return factors of the appropriate size,Mariano,marianotepper@gmail.com,2015-06-07 09:48:18-04:00,Mariano,marianotepper@gmail.com,2015-06-07 09:48:18-04:00
43f0c0af4e61cd1cf442090ca876422daefee7ed,Small cosmetic changes,Mariano,marianotepper@gmail.com,2015-06-07 16:24:30-04:00,Mariano,marianotepper@gmail.com,2015-06-07 16:24:30-04:00
c983a3aa2a136f647021da4846138e6485d3449e,Small cosmetic changes,Mariano,marianotepper@gmail.com,2015-06-07 16:27:51-04:00,Mariano,marianotepper@gmail.com,2015-06-07 16:27:51-04:00
a3035f559bfc149090403c5673491fd876c266cb,Updated docstrings,Mariano,marianotepper@gmail.com,2015-06-07 17:08:22-04:00,Mariano,marianotepper@gmail.com,2015-06-07 17:08:22-04:00
c82287e308e47910b8a16530b3c7f59215c6b88d,Adds tests for filling in chunks with None for from_array and rechunk,Phillip Cloud,cpcloud@gmail.com,2015-06-07 17:11:42-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-07 17:11:42-04:00
0b01dfadfedb4f4f0829d2fe88c4fbc5ad27f2c6,Implement filling of None with shape in normalize_chunks,Phillip Cloud,cpcloud@gmail.com,2015-06-07 17:11:59-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-07 17:11:59-04:00
a74a59691b480b15a3b62dab3ff4bc9832984043,Updated docstrings: the authors of a cited paper were incorrectly attributed,Mariano,marianotepper@gmail.com,2015-06-07 17:16:55-04:00,Mariano,marianotepper@gmail.com,2015-06-07 17:16:55-04:00
37d625366ce4b58aea538758b19320c39ca39a0b,Added docstring for the function compression_level.,Mariano,marianotepper@gmail.com,2015-06-07 17:22:45-04:00,Mariano,marianotepper@gmail.com,2015-06-07 17:22:45-04:00
b4679c18223f4e449e51f17c50af57e3d68b9aea,Rechunk should preserve dimension if None,Phillip Cloud,cpcloud@gmail.com,2015-06-07 18:47:30-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-07 18:47:30-04:00
b52ce654083fedf63054106e51769ef1e4e5aa63,Implement rechunk preserves dimension when passed None,Phillip Cloud,cpcloud@gmail.com,2015-06-07 18:47:48-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-07 18:47:48-04:00
d93c0daf83de1a75f0bac2488c32fd521e57e3a0,Improved docstrings for svd_compressed and auxiliary functions,Mariano,marianotepper@gmail.com,2015-06-08 09:17:23-04:00,Mariano,marianotepper@gmail.com,2015-06-08 09:17:23-04:00
9a4445dd6e1e3f6df68f0f5d8ce1a2998b8e7284,"Add Bag.remove

Example
-------

>>> b = db.from_sequence(range(5))
>>> list(b.remove(iseven))  # doctest: +SKIP
[1, 3]",Matthew Rocklin,mrocklin@gmail.com,2015-06-08 18:10:25+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-08 18:10:25+01:00
eddbfa29f542e321ecc699503a64e5b3472ff834,Fix to get Travis CI approval,Mariano,marianotepper@gmail.com,2015-06-08 14:19:56-04:00,Mariano,marianotepper@gmail.com,2015-06-08 14:19:56-04:00
b869cc76bd4454762dbd25c6cca44e58c64a6e7c,Fix to get Travis CI approval,Mariano,marianotepper@gmail.com,2015-06-08 14:21:01-04:00,Mariano,marianotepper@gmail.com,2015-06-08 14:21:01-04:00
bee311d98ae73911f13193fa2a5f863fae58cc96,reduce test time of svd_compressed,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 07:07:06+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 07:07:06+01:00
6f9803fd608b73d1299bc0bb3c4e5d3b960f918f,update svd_compressed docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 07:12:51+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 07:12:51+01:00
b2ee79123807737b3c3248c262dc4e2a7988a7c5,compression docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 07:16:23+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 07:16:23+01:00
47fc52d1de0fb81c22315f4e928f17ef5d4c4d98,"Merge pull request #2 from mrocklin/rsvd

Style changes to svd_compressed",Mariano Tepper,marianotepper@gmail.com,2015-06-09 08:22:01-04:00,Mariano Tepper,marianotepper@gmail.com,2015-06-09 08:22:01-04:00
f8cad5d452db104702f8038090b0ab0a99409d53,Uniformize functions and docstrings,Mariano,marianotepper@gmail.com,2015-06-09 08:25:47-04:00,Mariano,marianotepper@gmail.com,2015-06-09 08:25:47-04:00
c78a1d57f53ee9503a7a076939da1158baf34820,Make docstrings shorter than 72 characters (PEP8 recommendation),Mariano,marianotepper@gmail.com,2015-06-09 08:29:53-04:00,Mariano,marianotepper@gmail.com,2015-06-09 08:29:53-04:00
9094f00c02d972f2fc49f4912738f1e70e52f11f,"Merge pull request #280 from marianotepper/master

Randomized/compressed SVD implementation",Matthew Rocklin,mrocklin@gmail.com,2015-06-09 16:09:39+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 16:09:39+01:00
518d2fccf8300db7c5af6c56aaadb647d755d463,correct docs about foldby,Blake Griffith,blake.a.griffith@gmail.com,2015-06-09 10:09:48-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-09 10:09:48-05:00
7ea3d0a85a634f0985d03772dfe3df97dcff3932,"Added diag to dask array

Allows for creating diagonal arrays from a 1d dask array. Support for
the ``k``th diagonal kwarg, or diagonal extraction (as provided by the
numpy interface) is not yet supported.",Jim Crist,crist042@umn.edu,2015-06-09 13:38:43-05:00,Jim Crist,crist042@umn.edu,2015-06-09 13:38:43-05:00
47a476e9a6123680e46fa3b746b6c6226685fa83,"Fix docstring, add doctest for diag",Jim Crist,crist042@umn.edu,2015-06-09 15:36:28-05:00,Jim Crist,crist042@umn.edu,2015-06-09 15:36:28-05:00
aecb4ea0d7f9c39da0e91f8b47a2fa84bad63800,"Merge pull request #282 from mrocklin/remove

Add Bag.remove",Matthew Rocklin,mrocklin@gmail.com,2015-06-09 23:50:57+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 23:50:57+01:00
e6f9834ed42bd36fa6533e5a33c8bce9d5643e3e,Make diag use _dtype instead of dtype,Jim Crist,crist042@umn.edu,2015-06-09 17:55:01-05:00,Jim Crist,crist042@umn.edu,2015-06-09 17:55:01-05:00
39fa6cc972e8fa423c70b50573b16e7c16f66298,Support unhashable objects in dot.,Phil Elson,pelson.pub@gmail.com,2015-06-09 14:32:37+01:00,Phil Elson,pelson.pub@gmail.com,2015-06-10 06:45:20+01:00
be5338e60cb0294ec7f8c192c9d035beb2aa6214,"Merge pull request #286 from pelson/dot_hashable

Support unhashable objects in dot.",Matthew Rocklin,mrocklin@gmail.com,2015-06-10 11:00:16+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 11:00:16+01:00
507bfea62762f183a70a21150e2766ab1b3628cf,tie sphinx to version 1.2.3,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 16:52:18+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 16:52:18+01:00
4697171648a4a862e63da2ebafd601ca3f750f55,"Merge pull request #288 from jcrist/diag

Added diag to dask array",Matthew Rocklin,mrocklin@gmail.com,2015-06-10 22:55:58+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 22:55:58+01:00
c6a8bb145437e453cf43a8586cfad807e5789f9e,Raise NotImplementedError on numpy arrays.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 17:43:02-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 17:43:02-05:00
4f78119101c14651a96ac1e1ccc5c6d191478557,Fix test where da and np were switched.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 17:46:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 17:46:01-05:00
292b1dcd92d629163b4aec43cae9edd68621be00,"Add assert_raises(NotImplementedError, ...) test",Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 17:52:26-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 17:52:26-05:00
691b43cfcad408526732fed1d6ce36e01501443b,Try to make py2.7 tests not always pass.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 22:44:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 22:51:02-05:00
e2790c0ee79a9c38c8881c16715b885fef0debc4,"Merge pull request #295 from cowlicks/gh-210

Fix py2.7 always passing on travis bug.",Matthew Rocklin,mrocklin@gmail.com,2015-06-11 10:15:42+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-11 10:15:42+01:00
f582f714ed25f2102fea6d266e9c2a34dd61bba2,Add dask.bag.from_s3,Blake Griffith,blake.a.griffith@gmail.com,2015-05-27 00:21:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
3a6c9d77c80f25eec2c49f21480930fc49c69b6a,Add from_s3 to namespace,Blake Griffith,blake.a.griffith@gmail.com,2015-05-27 00:22:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
3a5e05b8a07b6d7e3f7f953a768bb6e4dcb3543b,Fix dask generated by dask.bag.from_s3,Blake Griffith,blake.a.griffith@gmail.com,2015-05-27 09:33:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
61a17e7e55963e48a1cb2b105af5133c6f0ee771,Don't concat str in dask.bag.compute,Blake Griffith,blake.a.griffith@gmail.com,2015-05-27 09:34:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
74f8c4910136892dbd4f08e1ea96357dd26cf998,One s3 file should return one string.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-27 16:36:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
7e9dde3c1a9981f199f01e0dfbd56232ff5eaa37,Add anon keyword to dask.bag.from_s3,Blake Griffith,blake.a.griffith@gmail.com,2015-05-28 13:51:45-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
cde96562897c14cd87e068df852cf9a3fa4ba816,Connect to s3 on each key.,Blake Griffith,blake.a.griffith@gmail.com,2015-05-28 23:41:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
8fe27e75c8af357fffb60f96e6793714995bcac6,Add s3:// URI parsing to bag.from_s3,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 13:15:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
a38429bbd600ecae038090fe6cf1b20ea6507886,Add tests for bag.from_s3,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 13:16:41-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
7f82efc823f477799e59277f7dc2a97034222fde,Fix python 2/3 incompatibility with urlparse,Blake Griffith,blake.a.griffith@gmail.com,2015-06-01 13:54:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
955ba5bc4c6265ce69db6d82635f990a401ea163,"closures -> module level, list(key) -> key.read()",Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 15:04:16-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
a87bf7a946f3375c4a800c844c4a554f651395b6,Don't memoize in the main process,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 15:28:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
20345c5c48c3ffdd3f6489c8cc2313030a0757c1,test _pares_s3_URI,Blake Griffith,blake.a.griffith@gmail.com,2015-06-02 15:41:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
6f701ad70d28201f86cca46d6e7c919b46ed7e63,Add _get_key function,Blake Griffith,blake.a.griffith@gmail.com,2015-06-03 10:38:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
4ff0d1dfe72e84fcd7d8a21a55aeca43d0c1f203,py2/3 sting compatability,Blake Griffith,blake.a.griffith@gmail.com,2015-06-03 10:46:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
e2d7d9d594c4083db445ce20e0351852307b0882,Add decompression for gzipped stuff.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-04 17:20:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
75c31cfc61a36cbeac0cce731750b7c0f3b15849,Add decompression to from_s3,Blake Griffith,blake.a.griffith@gmail.com,2015-06-05 14:41:09-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
98e3026753648e9112b59bc32721eefb06323385,Test decompression,Blake Griffith,blake.a.griffith@gmail.com,2015-06-05 14:41:36-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
87c4c3abf32f9201621e17020b99a082a99a0c1a,Use URL quoting and unquoting as suggested by @cpcloud,Blake Griffith,blake.a.griffith@gmail.com,2015-06-09 14:54:27-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
0748e883a8d6d2eaa472464da5350be8e3ce8aff,Fix bz2 decompress stripping newlines bug,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 14:22:26-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
b8b10ff47d0684f150fd9721f089c4ed68c80b3f,Point tests to s3://tip-data and add bz2 test.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 14:23:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
9fc59c520b0ee5f0ef32e065a3a784a7fd8f235e,skip doctests,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 14:47:16-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
33487f8df9197c643b154103354480f2c77b7600,Fix test_bz2_stream,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 14:48:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
bb92c72d534f6980aad4cec2e4251b687824b63d,Combine test_concat tests,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 14:49:04-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
48aa3a3daa4158cc4255e2632da9a8f1a1af4737,move bag url imports to compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 23:02:41+01:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
ed9a5745016013d03236d6a816518ce91fb7a995,change from_s3 docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 23:07:42+01:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
7e2db76fef7132a12a946d4322ba1ce37fa2d3bf,refactor from_s3,Matthew Rocklin,mrocklin@gmail.com,2015-06-10 23:26:53+01:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:33:10-05:00
e25d60ccec53a8b8f7d4c16fd9f018cef7a9f547,Run slow tests on travis.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 22:36:17-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:34:52-05:00
f39f125137ef3caaf981a0b82756a60bfea80488,"Mark from_s3 test as slow.

Also use a constant string as the expected value instead of reading data
from a Bag.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-10 22:36:48-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:34:52-05:00
4d4a862aa81218b788e961916115667a212f42e0,Add conftest.py to allow skipping slow test.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:32:17-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:39:19-05:00
cfad2f88cae0ab0516a6fbaf18e1e6bc14cdddde,Rewrite list comprehensions,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 10:48:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-11 13:23:54-05:00
f0f386fea0ac9b2899feae3cb09db6c52610e3c7,"Add generalized moments

- Add `moment` method for calculating moments of any order
- Use `moment` to compute `var`, `std`. Results in increased numerical
  stability.
- A few cleanups to dtype handling code.",Jim Crist,crist042@umn.edu,2015-06-11 10:31:48-05:00,Jim Crist,crist042@umn.edu,2015-06-11 17:40:02-05:00
2bf05c96ffdf63e266a9ce234448ba2602b20aef,"Add tests for moment, refactor reduction tests

- Consolidated reduction tests, improved coverage for reductions
- Added tests for moment",Jim Crist,crist042@umn.edu,2015-06-11 18:31:59-05:00,Jim Crist,crist042@umn.edu,2015-06-11 18:31:59-05:00
9885511048ed00f0dece1bd8b599e0f02c898d64,"Merge pull request #294 from cowlicks/gh-290

Raise NotImplementedError when operating with numpy arrays",Matthew Rocklin,mrocklin@gmail.com,2015-06-11 22:09:11-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-11 22:09:11-05:00
e17c49e51a1582f98151393c8603075838bbff04,"Merge pull request #245 from cowlicks/from-s3

dask.bag.from_s3",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 08:55:59-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 08:55:59-05:00
a683129b564430e9d209aacd6ed01928b270da49,add _visualize method to dask.bag,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 14:45:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 09:57:59-05:00
1e0ea6c65569cc6164228b580e241d0cdd759de4,bag shuffle uses partd.  only single process,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 14:46:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:00:23-05:00
0bf9396210fa98d83eadc0606a78f8b914542939,"dask.bag shuffle works multicore

partd has gc issues",Matthew Rocklin,mrocklin@gmail.com,2015-05-18 14:50:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:00:23-05:00
99e922b6e64063f3eebb9ce64278acae2e3ecc95,bag shuffle groups data in blocks,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 15:08:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:00:23-05:00
303364230e9ce866c10e007d49b9d73f391cb41a,inline singleton lists,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 15:37:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
e7b7303fbf13bef333c9975ca6937db47a025d63,use partd.Python in place of partd.Pickle,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 16:43:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
7f8898cf34b197ac1e9df0c502fe4fb0d2ba35bf,use_server tag in groupby,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 17:32:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
75312df636662d19614339927bf2102bb2d36ee1,"dask.bag.groupby uses snappy compression

Falls over gracefully",Matthew Rocklin,mrocklin@gmail.com,2015-05-18 20:39:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
332e1ef5e1016b36bc42bc0d1e6c4039b8ccfaf9,first draft of dataframe shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 21:13:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
a0f7e39a7fccc0af36f9018c5f3dad35fea56b1a,visualize properly imports optimize,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 21:46:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
6d3dc514237f44cb46580621e5cb329812146576,lower csv default size,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 21:47:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
db9cb5054850ad53a8c16b801e56a349edfe7bed,use same default partitions in shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 21:48:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
33e0aabc29c8b42d309fa7e262cbfc920de53483,add times and remove values from logs,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 21:57:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
1f7c3c84798fe76fbc89478667047435156167cd,shuffle supports non-frame indexers,Matthew Rocklin,mrocklin@gmail.com,2015-05-18 22:12:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
09d365f61681ab44cee9deb3bc908874d4082a86,"dataframe instantiates partds in groupby call

This is bad because it ties execution to creation

This is good because it removes the secondary dependence from
nodes in the DAG, allowing things to be fused and avoiding expensive
communication.

This could probably be better resolved with a graph optimization",Matthew Rocklin,mrocklin@gmail.com,2015-05-19 07:27:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
b9f7d9b55c222622027ccc986a58a8c99092d092,add partd to travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-05-19 10:05:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
d6d92b229acfc04c61d00a2df1435b0e1799a5fa,Scalar has _visualize method,Matthew Rocklin,mrocklin@gmail.com,2015-05-19 15:41:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
86dff12d422c335bc84029c3b6bf79cf2c044627,dask.dataframe inlines all operator functions,Matthew Rocklin,mrocklin@gmail.com,2015-05-19 15:41:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
8f7098d7387cdf5bab78fa7e3801e9ceacc4b012,wip - dataframe groupby with shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-05-20 11:14:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
91f537062399c53c7112a37eb7f39912eb4fa809,whitespace,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 12:37:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
c1d5c219547fc3045dceb0c7bc2b30bc75c07acb,Series groupby apply uses partd,Matthew Rocklin,mrocklin@gmail.com,2015-05-22 12:37:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
7278bf9d57864168ce2b942ad685580e7f0facc2,add blosc to .travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:00:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
8344e8adcd0b4f39f074e9ec3b5ad78b2a7b4f54,pip install blosc in travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:09:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
bf81fefe2a87e79d87a92552b9f637de18fa7221,multi-argument map_blocks,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:22:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
df6bb2d59ba3159c7a16dcf2ef50d8b48210d0b2,map_blocks supports constants,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:27:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
1052eca72a1fca8abf5f6adc614462b8bd73560c,groupby uses shuffle + multi-arg map_blocks,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:52:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
328258475fc6b221fd64484870006bfeb89c47fc,partd name is tuple to avoid sorting issues,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:55:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
97b447561cf420773ef856fe49c97378e76e4c5e,remove pbag,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 08:56:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:20-05:00
6ae3d3774ba853954f4c5bd7d954a587c4d7d83d,remove dill sensitive bag tests,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 10:02:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:21-05:00
002e65076dcedabfab413492df09fc501ddcdcf4,remove pbag from install/testing,Matthew Rocklin,mrocklin@gmail.com,2015-05-26 10:12:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
16d531f67c70b7b48cc70fb50f2648f99543f561,compression passes through in read_csv('*.csv') case,Matthew Rocklin,mrocklin@gmail.com,2015-06-08 08:38:33+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
fd294ebbe0bb902e52c4a03ebee3f939901b8608,read_csv robust to empty files,Matthew Rocklin,mrocklin@gmail.com,2015-06-08 08:53:11+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
3170f5ba96b0440408f991e6c9b7eeb890b90ab0,reduce io burden in from_url test,Matthew Rocklin,mrocklin@gmail.com,2015-06-08 19:17:39+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
6fa80888626a67ca101d3af5a9d40a67f65a7059,update dask.bag with Client partd code,Matthew Rocklin,mrocklin@gmail.com,2015-06-09 06:58:49+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
7ee287abdd95dff43b448ce2332adfc045c5f9e8,py34 fix with gzip write bytes,Matthew Rocklin,mrocklin@gmail.com,2015-06-11 10:17:11+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
c28264d4e432d62c18c73519f82afb0bb688f1da,py26 compat with gzip.open context manager,Matthew Rocklin,mrocklin@gmail.com,2015-06-11 10:21:57+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
e651332fb06443c23deee5745bc810fe62feb079,skip doctest,Matthew Rocklin,mrocklin@gmail.com,2015-06-11 10:28:58+01:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
32490300ba3f18668dcda75eaa33c9ad7139531e,add partd to setup.py requirements for bag and df,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 07:09:20-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
8f8b5f5f71671110f45370632c443a80a0577bcd,update docs for partd,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 07:52:31-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 10:02:56-05:00
557791997543e8a79cd0e396629b4a880f92f174,"Numpy compatibility fix, minor cleanups

- Added compatibility fix for numpy.divide until it works properly with
  dtypes. See numpy issue 3484.
- Add reference to moment paper in docstring
- Move custom getargspec to utils",Jim Crist,crist042@umn.edu,2015-06-12 11:50:12-05:00,Jim Crist,crist042@umn.edu,2015-06-12 11:50:12-05:00
e2f6f74b6dcbf9e32bdf1563294da0dee0a82bb2,pip uses == to pin dependencies,Stephan Hoyer,shoyer@gmail.com,2015-06-12 11:14:58-07:00,Stephan Hoyer,shoyer@gmail.com,2015-06-12 11:14:58-07:00
e56d7e45680454172433ad13af822fb20caad0f0,Add toolz to documentation build requirements,Stephan Hoyer,shoyer@gmail.com,2015-06-12 11:20:11-07:00,Stephan Hoyer,shoyer@gmail.com,2015-06-12 11:20:11-07:00
0dc8d1fc934b7e33a550edd4cdd237ec8da04d2a,Add dask.bag requirements,Stephan Hoyer,shoyer@gmail.com,2015-06-12 11:35:00-07:00,Stephan Hoyer,shoyer@gmail.com,2015-06-12 11:35:00-07:00
338f58d78259f072b80b07598b9c6a0e5d1d6599,"Merge pull request #227 from mrocklin/partd-shuffle

Replace shuffle operations with PartD",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 13:50:53-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 13:50:53-05:00
212bcb000f25fc6ff7bfbc4da6e21f28745060c3,"Merge pull request #297 from jcrist/moments

Stable parallel computation of generalized moments",Jim Crist,crist042@umn.edu,2015-06-12 14:09:53-05:00,Jim Crist,crist042@umn.edu,2015-06-12 14:09:53-05:00
bb11b4847ef454af45b6e9f9dfcdaefe40ad5948,Update conda recipe to install partd.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-12 14:19:34-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-12 14:19:34-05:00
dae893a2cb4d8a4fc50574d5cf265f8d112b8b39,"numpy.assert_raises -> dask.raises

This avoids a nose dependency in numpy",Blake Griffith,blake.a.griffith@gmail.com,2015-06-12 14:19:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-12 14:21:13-05:00
755e13f2493642529b0a07449ede08dcd5371c12,install bcolz with conda instead of pip,Blake Griffith,blake.a.griffith@gmail.com,2015-06-12 14:30:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-12 14:30:32-05:00
25a44f69e8e721583ff3941c5c9209104f9d6f5d,"Merge pull request #301 from cowlicks/update-recipe

fix and update conda recipe",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 14:34:21-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 14:34:21-05:00
beb0660034a15b7c10d5172af9ae51ef29bfc6b4,rename blockshape to chunks in readme,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:24:49-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:24:49-05:00
376a0eff4b1b9e99088bb04a585c7867457fda26,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:25:42-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:25:42-05:00
39371899c71b7da84b2322b77f392b6087652bc4,"add dask.array.cache

This allows us to evaluate a dask.array, store in some cache,
and then return a new dask array pointing to that precomputed data.

One can specify a cache as either a MutableMapping or as an ndarray

Example
-------

>>> import dask.array as da
>>> x = da.arange(5, chunks=2)
>>> y = 2*x + 1
>>> z = y.cache()  # triggers computation

>>> y.compute()  # Does entire computation
array([1, 3, 5, 7, 9])

>>> z.compute()  # Just pulls from store
array([1, 3, 5, 7, 9])

You might base a cache off of an array like a numpy array or
h5py.Dataset.

>>> cache = np.empty(5, dtype=x.dtype)
>>> z = y.cache(store=cache)
>>> cache
array([1, 3, 5, 7, 9])

Or one might use a MutableMapping like a dict or chest

>>> cache = dict()
>>> z = y.cache(store=cache)
>>> cache  # doctest: +SKIP
{('x', 0): array([1, 3]),
 ('x', 1): array([5, 7]),
 ('x', 2): array([9])}

Fixes #293",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 09:20:51-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:28:57-05:00
2ee7204030f77b618457ff59f94b25fef9d48643,raise informative error if chest is not found,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 13:57:49-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:28:57-05:00
8f179444e484e25426c5a8ae553284b67e0cbf44,"cache: add array store test, parameters section",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:09:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:28:57-05:00
b6c06658b904454ae04fd49e9e2c06e20c4e4da1,"Merge pull request #299 from mrocklin/array-cache2

add dask.array.cache",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:41:04-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-12 15:41:04-05:00
c517816551d9766adcf7f8c24b4a4ccba4370916,"da.take supports numpy[dask] operations

Example
-------

In [1]: import numpy as np

In [2]: import dask.array as da

In [3]: x = np.arange(5).astype('f8')

In [4]: y = da.from_array(np.array([1, 2, 3, 3, 2 ,1]), chunks=3)

In [5]: da.take(x * 2, y)
Out[5]: dask.array<x_2, shape=(6,), chunks=((3, 3)), dtype=float64>

In [6]: _.compute()
Out[6]: array([ 2.,  4.,  6.,  6.,  4.,  2.])

Fixes #289 cc @HolgerPeters",Matthew Rocklin,mrocklin@gmail.com,2015-06-12 06:10:17-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 11:06:41-05:00
5d4c0da36a0196fa76434d5fd553dd51a1971d89,"Merge pull request #298 from mrocklin/take-dask-from-numpy

da.take supports numpy[dask] operations",Matthew Rocklin,mrocklin@gmail.com,2015-06-14 11:12:35-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 11:12:35-05:00
8cddba387292b8317214140894232f9a824da7c5,dataframe.loc handles string datetimes,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 15:49:30-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 15:49:30-05:00
3f69e56947dcca06cab292177e7d5988d7b75023,minors edits to docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 15:49:45-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 15:49:45-05:00
3e3f0ab0cc88202de61acafff00d18d0026dccaf,dask.dataframe uses threads by default,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 15:50:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-14 15:50:34-05:00
cb535e0950c8aec2a0227a51ec792a3e7406a998,Keep series name in mean on SeriesGroupBy,Jim Crist,crist042@umn.edu,2015-06-15 17:03:50-05:00,Jim Crist,crist042@umn.edu,2015-06-15 17:03:50-05:00
4e38d47ca50bec6ba33e8701a208bf8a8ae0fdd5,"Merge pull request #310 from jcrist/pandas_mean_name_fix

Keep series name in mean on SeriesGroupBy",Jim Crist,crist042@umn.edu,2015-06-15 17:25:24-05:00,Jim Crist,crist042@umn.edu,2015-06-15 17:25:24-05:00
7e396162c9acad7c3b4a8a117c76d7a9d0731aa5,"Cleanup dask.array.reductions

Improve dtype compatibility, increase testing of functions.",Jim Crist,crist042@umn.edu,2015-06-15 12:13:18-05:00,Jim Crist,crist042@umn.edu,2015-06-15 17:26:39-05:00
a9be4b9e6419936136d2b0944eeadfa143ef6826,Cast to shape and chunks to ints.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-15 18:01:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-15 18:01:24-05:00
223adbbeef1c02a44a0e852c73f89bb8f5b89165,"Small cleanups, pep8 fix",Jim Crist,crist042@umn.edu,2015-06-15 17:19:22-05:00,Jim Crist,crist042@umn.edu,2015-06-15 18:16:53-05:00
1153cf9ab689d97d32d9067c1acf2cf74d4dacd2,Add hubble image analysis notebook.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-15 23:12:40-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-15 23:12:40-05:00
9feda0e8da2b5fef50ac0809fd22a966fb1bdfaf,"Merge pull request #313 from cowlicks/hubble

Add hubble image analysis notebook.",Matthew Rocklin,mrocklin@gmail.com,2015-06-16 11:40:09-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-16 11:40:09-05:00
41e1dae8f667c848c8a5abae01b30db98a8f0028,"Merge pull request #309 from jcrist/reductions

Cleanup dask.array.reductions",Jim Crist,crist042@umn.edu,2015-06-16 11:42:12-05:00,Jim Crist,crist042@umn.edu,2015-06-16 11:42:12-05:00
04583a55ae9287794c476fd9d48ac410a3819074,Start dask.array.random.RandomState,Matthew Rocklin,mrocklin@gmail.com,2015-06-16 11:59:38-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-16 12:18:06-05:00
7a44297cbda1f9ec3960eb39f9b93b1a96f28f7e,Add is_integer to utils.py,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 17:31:13-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 17:31:13-05:00
a845161fe933d339008ec75a1153525afc48e5bd,"Catch when mantissa != 0, Don't block other errors.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 17:32:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 17:34:01-05:00
fc1bd8e01b514900d7e4a14c93c81f9156bffc6c,"Split check for integers in chunks and shapes

We can't check for both at once like we were doing because they could be
different types.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:13:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:13:58-05:00
9fee20c15f3022f65f4aff3c92346f0194ebd5c1,"Test for fp numbers, and numpy int types",Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:15:25-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:15:25-05:00
a00b6766c0790f372d0f035b8791b4b4d9a7d2f1,Check for numpy integer types in is_integer,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:15:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:15:58-05:00
89d6cb78a6cc80702e65808a8884648e938602a3,Remove extra lambdas.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:22:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-16 19:22:14-05:00
58833af7ac79a94de8edf09de04cbb2a660ab763,Add test for dd.from_dataframe,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:14:47-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:14:47-04:00
ed2c3cad661bd33c09da9b59e746dd474abba44f,Implement dd.from_dataframe,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:15:04-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:15:04-04:00
b3474f88734c09ff426eafbb532ee33a5d17839a,Export from_dataframe,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:15:21-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:15:21-04:00
730627d2ebffb6aed847b16e187783dc8841c462,No need for a single element tuple to getitem,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:24:29-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:24:29-04:00
9a3a92a865bbbc22d10fd693f04ff978cb456d7c,Use future division so that we don't have to call float explicitly,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:24:50-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:36:57-04:00
3dc0e6e5e2b0770b14a1e98b46008304346ab23c,Move test to test_io.py,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:50:52-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:50:52-04:00
d78b8890cedd9d627d24e17935380ac2d436c126,Fix floor and future division in io.py,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:51:06-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 09:51:06-04:00
5eabe505987df64a4a3aea54db063c3a50a6a2a6,Merge branch 'master' of github.com:ContinuumIO/dask into autofill-chunks,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:38:56-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:38:56-04:00
46cd031ccc7c28c0171430413c1f0095f7e1ab5c,"Merge pull request #281 from cpcloud/autofill-chunks

Allow a user to pass in None for chunk dimensions",Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:43:08-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:43:08-04:00
6cdd559ac6f023140ac03d8a25b230251adecdb7,Merge branch 'master' of github.com:ContinuumIO/dask into from-pandas,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:44:48-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:44:48-04:00
d7500f93c086c0b69b898167429925104d9fc510,Inline the iloc,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:58:01-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:58:01-04:00
9e551e3c153aa2507678da110a23cde785c2975c,Test that our divisions are right length,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:58:25-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:58:25-04:00
b6a04fc6e8b2ef7d827348ca47eb2e7c539c46a1,Test that our divisions are the right type,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:58:37-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:58:37-04:00
cf1d547891691ce13d2364d52356f84c8a79acb9,explicity copy randomstate api,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:27:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:27:38-07:00
b334bdf997deeb6350051392aecf9939cf4e88cd,"simplify RandomState.wrap

We no longer need much parsing logic",Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:31:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:31:22-07:00
24cd6ec5768fa4c71b11b2bc2c7d49a85d0c3870,da.random uses methods of RandomState instance,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:41:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:41:07-07:00
587b54da77f4696cba5e37ae9651ef0cd1ada9bf,Sort our index before creating a dask DataFrame,Phillip Cloud,cpcloud@gmail.com,2015-06-17 11:59:04-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 12:41:31-04:00
80dc4770951d8b6f4ad27bd62a321b9bbeedfccf,avoid doctesting randomstate docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:43:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 09:43:30-07:00
a1d5db0798c41b649b9f49ead541f79d22f6c853,Use a different kind of index,Phillip Cloud,cpcloud@gmail.com,2015-06-17 13:04:15-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 13:04:15-04:00
8cec286e109b533542d90748322324bc9f8be094,make state private and use uint32.max,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 11:18:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 11:18:36-07:00
b91e749b7b449c58c17058629b7eaeeabb24806d,ensure dask values are the same,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 11:37:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 11:37:22-07:00
9e01424e6cfdf2bf1ceed971821021da6f47715e,relax svd_compressed test,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 11:43:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-17 11:43:14-07:00
53625bac7f338059877ce32a8b89e270fb753b66,Add a docstring,Phillip Cloud,cpcloud@gmail.com,2015-06-17 15:13:21-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 15:13:21-04:00
8175a13b123a19cc2153d90221d16fe4c2022258,Add Series support and rename to from_pandas,Phillip Cloud,cpcloud@gmail.com,2015-06-17 19:56:21-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 19:56:21-04:00
f8f518cd320e771786c18d814d4a4550b8f6f656,Add to and fix docstring,Phillip Cloud,cpcloud@gmail.com,2015-06-17 19:59:57-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 19:59:57-04:00
c945588c516c175bfbba0be048c8b8b063d06141,Ignore the log file generated,Phillip Cloud,cpcloud@gmail.com,2015-06-17 20:00:51-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 20:00:51-04:00
0b3527298f24a59aeed6fb82124771066d6d9e2c,Use tokens,Phillip Cloud,cpcloud@gmail.com,2015-06-17 20:05:30-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-17 20:05:30-04:00
8f2880268c6e637290add1c04851d4f4b5a0dc63,More thorough docstring,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:31:58-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:31:58-04:00
f1c9b8a36d91982e1a1dbb5ba7b84178bb5368cd,Use lazy range and add it to compatibility,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:35:00-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:35:00-04:00
45fdef23bc24f6d231feb2d91281f876c9543483,Add .coverage to .gitignore,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:37:50-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:37:50-04:00
54585d7efebf190aa099a264a4e9022161e86e63,Assign in compatibility module so that range is importable elsewhere,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:39:36-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:39:36-04:00
8cb80da8ef9ff9b4522d07950d5a18427b3b3473,"Merge pull request #320 from cpcloud/from-pandas

from_pandas",Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:58:55-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 07:58:55-04:00
09f51b8d6f8457ef42545e09517636a76610aa15,Add tests for nunique on series and on group by,Phillip Cloud,cpcloud@gmail.com,2015-06-18 09:58:37-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 09:58:37-04:00
dd6f9d87ad48c951dc6fde80e5589710467c7eab,Implement nunique for series and for series group by,Phillip Cloud,cpcloud@gmail.com,2015-06-18 09:58:53-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 09:58:53-04:00
1066497c463660bd12fb6f3eadc1dee1bfc24790,Test the case that our partitions contain groups with nonunique values that should be unique on a groupwise basis,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:11:00-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:11:00-04:00
c459eed377d4c5ec961b5e59c8bbfa1cf4f4cbbd,Just use nunique instead of drop_duplicates  count,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:11:33-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:11:33-04:00
a79286dc83fe995d636e67bb7e41456ed7cd2f3a,Remove unused variable,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:12:10-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:12:10-04:00
39151525eb5f7349a174f2e5e8c9cae35a7c4b54,No lambda,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:14:12-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:14:12-04:00
b6c8bdc10ac0f4fc8c770c36c97c2cdd80a1780e,No need to pass drop=True,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:24:34-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 10:24:34-04:00
df927fbcc15eaf134abd864115611e95eb941d05,make random arrays serializable,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 08:14:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 08:14:23-07:00
4af6978dd37f44f941ffbe73dff77e54ded99ecb,stronger test for concurrency,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 08:17:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 08:17:05-07:00
2a410d21e6be7896a5c759084cb49658447f44c9,add docstring to RandomState,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 08:29:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 08:29:30-07:00
de5ee4a055557fd92b7ed0ccb0094e4470f1ac4b,Use future division in dataframe.core,Phillip Cloud,cpcloud@gmail.com,2015-06-18 12:09:08-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 12:09:08-04:00
bc55e92caec170aaed50d40d7489a13ec1e512a8,Allow unnamed Series in from_pandas,Phillip Cloud,cpcloud@gmail.com,2015-06-18 12:16:48-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 12:16:48-04:00
03229030ae7ac269f5a5ff25833b3a0db99d911c,"Merge pull request #312 from cowlicks/lil-things

let shapes and chunks take float integers in blockdims_from_blockshape",Blake Griffith,blake.a.griffith@gmail.com,2015-06-18 12:04:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-18 12:04:51-05:00
cd83a04a388610fcb92c4f818a3bc5b9d0aca9ea,"Merge pull request #322 from cpcloud/nunique

WIP: nunique",Phillip Cloud,cpcloud@gmail.com,2015-06-18 14:26:41-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-18 14:26:41-04:00
c7161a310ce4ef03a63c219f491f9c8cfa62dc1a,"Merge pull request #324 from cpcloud/unnamed-series-from-pandas

Allow unnamed Series in from_pandas",Matthew Rocklin,mrocklin@gmail.com,2015-06-18 11:27:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 11:27:37-07:00
56815843fdcb3b9494303363015ae1e95a85943f,hide wrap and apply_random functions,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 15:21:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-18 15:21:56-07:00
43ca2d603dca14a7960973c6923bef47746402c9,Add test for resample,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:08:45-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:08:45-04:00
6c5db7c80cf4ccefe4f6a9e2789c92bb341df30b,Show the key in the KeyError,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:09:11-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:09:11-04:00
8f515c41b80d3aa9b949eeea9ac76e14db6e8af4,Give apply a self argument,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:09:21-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:09:21-04:00
26ed5b35b9d00fc0b85d8f0528622fb6768bb7e9,Initial resample implementation,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:10:00-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:10:00-04:00
5f9e4c671b2400184fb223f6be9c23f35d930120,Reduce the size of the input and test against different partition sizes,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:42:36-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:42:36-04:00
8d61057df20c3fcbe0f3b9757a5b368831cf6803,Group against the index to allow pd.Grouper and friends,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:42:50-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 09:42:50-04:00
7c10206ab62fbbc26b6e9a735671038e82a1e537,"Merge pull request #314 from mrocklin/random-state

Add dask.array.random.RandomState",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:34:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:34:23-07:00
d1fe1e3fa20e11997f233d3d4dd4a5222e626f1d,"threadsafe pseudorandom function

Previously we were using

    np.random.seed(...)
    x = np.random.random(...)

But this would have failed if another call to a random function occured
between those two calls.

Now we use RandomState to handle this cleanly",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:39:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:39:36-07:00
b9fa64e804b0777747313d46dc3eeec8a78fae7b,extend router timeout  to 100 seconds,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:43:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:43:30-07:00
624b97a24795eaf340b69d785c74d52368eb1b45,scheduler_and_workers sleeps accordingly,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:49:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:49:23-07:00
33eed4c506a25a72999e95eb602a095aeffbeaa7,"workers record pid

cc #327",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:49:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 11:49:39-07:00
4cc038487fbe76e42d74c80cda6fd96e42c8432a,replace module-level ipcluster with contextmanager,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 12:17:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 12:17:24-07:00
e5d768f13d357c637aeff0b287e6d4c582f66bbb,mark ipcluster test as slow,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 12:18:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 12:18:02-07:00
ea8c90a3df10bb03b643e9cb69ec1f600e5e8d16,"Merge pull request #338 from mrocklin/threadsafe-pseudorandom

threadsafe pseudorandom function",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 12:19:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 12:19:08-07:00
57355ff293471c404bac94faf94b714bd9e138a6,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-06-19 16:21:34-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-19 16:21:34-04:00
16c5a89e3abdbdbbb11f12139fa4da19e6b634d1,"Series.quantile robust to empty input

This happens when you build a dask.dataframe from a small dataset
and then use set_index

cc @quasiben",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 13:52:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 13:52:18-07:00
60220c7bd5dd5df4134f6a1aecd548d5933e4f66,"Merge pull request #339 from mrocklin/zmq-errors

Various fixes for dask.distributed",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 15:13:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 15:13:06-07:00
2e2fe31fd0ec139aa7414ba1237ef62a9a632e26,remove use_server from shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 16:13:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 16:13:34-07:00
2a696db337568fb7791e119977b1e1f87ea0a6f6,"Fix bottom up to traverse inside literal list

Now rewriting will traverse into lists on bottom_up rewriting. Fixed
incorrect test as well, which now covers new behavior. Closes #330.",Jim Crist,crist042@umn.edu,2015-06-19 18:20:39-05:00,Jim Crist,crist042@umn.edu,2015-06-19 18:20:39-05:00
d73123c7d9bc0c21ffdab363886405c2793f4ec3,"Merge pull request #343 from jcrist/rewrite_list

Fix bottom up to traverse inside literal list",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 17:12:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 17:12:02-07:00
eddc46fbaa9d8d6d4a27188193040fdb273af68e,wip set-partition,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 17:19:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 17:19:54-07:00
c84e14a6d34638631bf160c65a7ab13e474d2ca9,"Merge pull request #342 from mrocklin/empty-quantiles

Series.quantile robust to empty input",Matthew Rocklin,mrocklin@gmail.com,2015-06-19 19:00:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 19:00:30-07:00
e8b4b79897ffc62a5f21157691b3a0ed3aa42711,strip categoricals during shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 19:34:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-19 19:34:24-07:00
b75d591b06eb89e76b10d55159835053db7cefef,Specify keys to not fuse in dask.optimize.fuse.  See #331.,Erik Welch,erik.n.welch@gmail.com,2015-06-19 21:57:13-05:00,Erik Welch,erik.n.welch@gmail.com,2015-06-19 21:57:13-05:00
7d670892dae8cd5a3c4b1ca00f02a5ca16f677cf,"More consistent API of dask.optimize functions that accept `keys` argument.

Like for `get` functions, keys may be a single key or a possibly nested list
of keys that get flattened via `flatten`.  Internally, sometimes we deal with
sets of keys, so dask.optimize also accepts sets.",Erik Welch,erik.n.welch@gmail.com,2015-06-20 10:21:16-05:00,Erik Welch,erik.n.welch@gmail.com,2015-06-20 10:21:16-05:00
780cc74c229b8d9f70e666f4e972a8928f4c1216,set_partition test,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 10:41:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 10:41:18-07:00
deeb23fb5ca87daff557e397646bc7f4650471c1,partd created in dsk,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 10:48:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 10:48:53-07:00
109cbc6bfe1cf417f2245d68298d93bfeb9436e1,fix read_csv index=... test,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:27:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:27:59-07:00
c78415a9f13c6485bb331879fbbddfc00d53e707,shuffle creates partd on execution,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:28:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:28:09-07:00
ea1b8b4e5aa99ed8cf6728b4c04b753827d955c5,remove pframe from dask.dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:31:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:31:36-07:00
bcc3642e74efcc42b37c159d6eb52bf8362885c4,"remove pframe

This has been replaced by partd and by castra",Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:34:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-21 13:34:08-07:00
f5c966d4cd1a4089ea56e8951665f741ede84301,add categorize function from castra,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:25:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:25:29-07:00
19d92d57ba65b5d4325793030af95ca50c27dd5d,move util functions to dataframe/util.py,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:28:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:28:14-07:00
8f4983855575f04d1bb27c95adc4e5c7ab55465d,multiprocessing get fuses with keys,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:33:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:33:53-07:00
675ed96754d7cdc757170b3b932f516ec852cdda,async sortkey,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:41:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:41:46-07:00
6e9eb724f9f2229d8bef2ca7e2f988a1672d71e3,fix doctests in dataframe/utils,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:45:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:45:44-07:00
3e7ccbe5200eaa220abc69f2274e0ee9ad0276f7,shuffle docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:53:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:53:56-07:00
1556006dab1fb56711638d912ed31a8248d7e1fb,move tokens from shuffle to core,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:56:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 07:56:26-07:00
d533d0aa42fef3ab60e731869d1065bf0d4d0686,"Merge pull request #347 from mrocklin/partd-set-partitions

Use partd for dask.dataframe.set_index",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:16:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:16:13-07:00
df398e97ed6476e036698c2d60a6a8c2f19cb990,"Add Castra columnstore optimization

This provides fast column access to castra objects.

This also adds castra as a dependency",Matthew Rocklin,mrocklin@gmail.com,2015-06-18 09:29:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:16:27-07:00
6498a19457e1eb28d6feb4bcc5b8c3c4a7f69fc3,Add client registration to scheduler.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 10:14:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 10:16:36-05:00
114142397b1b1215d316bf368c6a48b596fd610a,Make client register with scheduler on creation.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 10:14:39-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 10:16:36-05:00
304b171973fb6afa5e16146edab26798b1244740,make dataframe robust to castras absence,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:18:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:18:04-07:00
2db124358eb12f1f666166e72ddc4e46ccf64b02,"Merge pull request #325 from mrocklin/castra-columnstore

Add Castra columnstore optimization",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:26:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 08:26:50-07:00
f176e3c5ea497cd76a3f5268c55d7f645803d0fe,"Make rechunk robust to integer inputs

Fixes #351",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 09:48:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 09:48:57-07:00
a591d7a9752e21f8b5b7d22861c7e5c0dff93881,"Merge pull request #352 from mrocklin/chunk-integer

Make rechunk robust to integer inputs",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 10:11:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 10:11:23-07:00
08c6659ea5445a9d23a4a14753bb96e2ff7cf8b3,"DataFrame divisions includes min and max

Previously .divisions held values that separated partitions so that

    len(divisions) == npartitions - 1

Now we include the minimum and maximum index value in divisions so that

    len(divisions) == npartitions + 1

This allows for smoother interactions between multiple dataframes and
is useful for operations like concat and join.",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 09:45:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:11:26-07:00
16978428f5a389c2c263b7a339ec85c9f1bf45d0,update docs with divisions min/max change,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:13:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:13:18-07:00
59d64e59091b7e417564fbb0a82220ea631ff5be,"consistently close bound on min, open on max",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:33:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:33:17-07:00
5d81f7b18afa6edb06ced7b0f5a97e4b8bf047a1,dask.bag.to_dataframe uses new divisions,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:48:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 11:48:18-07:00
ab7966838a27e76995f335e8862475fb6b8ee8f8,pep8 imports client.py,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 13:59:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 13:59:07-05:00
60b147fd32eb53800b2536e8a4c660aebeb9bf99,Send client pid when registering client.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 13:59:30-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 13:59:30-05:00
bd90132b1a3846c373cab76223b2f7c1449cef69,Test client registration.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 14:00:06-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-22 14:00:06-05:00
fa3623853dd6cb6e69f330dc12c4e8acd633b971,Revert dask/dataframe/core.py,Phillip Cloud,cpcloud@gmail.com,2015-06-22 16:24:20-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-22 16:24:20-04:00
aa40b1a3e978430f7ab42fa56b5fcdc4e5a8b8c2,Self argument to apply,Phillip Cloud,cpcloud@gmail.com,2015-06-22 16:24:34-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-22 16:24:34-04:00
263f2568888b6c7cdea916edc6dbb983a2600cca,xfail castra test,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:00:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:00:26-07:00
161df08cb134f2baa6f665027aaaf5ad207273ac,loc divisions sensitive to None in slice,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:14:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:14:10-07:00
43afcab0f733e6c3d2a5574f5eb8a2b8c5a90b8d,left-inclusive divisions on _partition_of_index_value,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:21:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:21:57-07:00
82d7fa5ec7e446f64564f67831a409a5cfe05aef,extend ipcluster timeout to two minutes,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:38:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 14:38:49-07:00
5c09afded5cae528197993291114dc34ba2e8176,"Initial callback ideas for get_async

Two callbacks:

- `execute_cm` is a context manager that wraps actual execution of each
  task. Gets the task key as a parameter. Can be used for profiling,
  getting thread information, etc...

- `scheduler_callback` is a callback executed each tick of the
  scheduler. Gets the dask and the state as parameters. Useful for
  visualizing execution state through the scheduler.

Still no tests or docs, and I'm not happy with the parameter names, but
I think this is the right level of granularity.",Jim Crist,crist042@umn.edu,2015-06-22 16:39:07-05:00,Jim Crist,crist042@umn.edu,2015-06-22 16:39:07-05:00
8c02ae385af0edd00695e07a66560ba9aa118fb0,"Scheduler.close_workers waits on out-queue

This should prevent Scheduler.close from killing its outgoing thread
before worker-close messages can make it out.",Matthew Rocklin,mrocklin@gmail.com,2015-06-22 20:06:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 20:06:52-07:00
49ce55a35d365463c106b9cdb696cd693f9ccaa7,"Merge pull request #353 from mrocklin/concat

DataFrame divisions includes min and max",Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:04:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:04:18-07:00
32b507d7484c6031900372e21df8048381c0926b,add redivide_divisions function,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 12:34:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:05:39-07:00
4137c5ec6bdd62a6615475a760635bccfdde959d,add redivide function,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 12:41:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:05:39-07:00
2747ab74398393faa875b37e17f4a53a3c90325c,redivide function passes test,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 13:03:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:05:39-07:00
3705d3106bd487d3bf08c4c184ce8f4ea793df46,fix redivide_divisions test,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 15:13:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:05:39-07:00
d3a799bea364a83058d74c9c74038aa2d30c04e1,redivide last partition is inclusive,Matthew Rocklin,mrocklin@gmail.com,2015-06-22 15:40:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:05:39-07:00
445591fc57aa68a5626b709e03ff26aea4f6e212,rename redivide to repartition,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:11:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:11:04-07:00
dae8600c78cc420171d047cc96ec5fe5483dfa2b,repartition works on pandas objects,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:26:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 08:26:11-07:00
b7e72f888800c0880c205ad84e15224300e20e2a,"Factor kwarg fiddling from read_csv

This does all read_csv logic on only a single file and then applies
that to all others.  This reduces the overhead of interacting with many
files considerably, improving user experience.

This also separates out a lot of the micro-logic for sanity's sake.",Matthew Rocklin,mrocklin@gmail.com,2015-06-23 09:08:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 09:08:58-07:00
66526c47167cc2bf829bb401a1be0f1a3d270924,rename test_utils.py,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 09:11:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 09:11:49-07:00
77a91b2086384f94cb13fb1856d8273523edbcf8,remove xfail from castra test,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 09:17:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 09:17:00-07:00
c69d1c8d714055e0272c2c2f34831e5157b8dba9,"Merge pull request #358 from mrocklin/read-csv-fastpath

Factor kwarg fiddling from read_csv",Matthew Rocklin,mrocklin@gmail.com,2015-06-23 10:17:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 10:17:09-07:00
f8806403e1e1119b76a873fce02b66c44ffa82de,"Make client registration block, and get cluster info.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 12:30:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 12:30:18-05:00
3f81df7b26fdb97d627d365015a56cce9f14aae2,Scheduler send cluster info to client on registration.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 12:31:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 12:31:29-05:00
24f448b6d75a637c08a76d1cc5a6068d2c9d78b1,Test client registration w/o sleep.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 12:32:11-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 12:32:11-05:00
a7b82c7596e00d79020bf1809a8bf372accfd427,repartition docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 10:36:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 10:36:17-07:00
83d2362390f5deaa2516a491b0a41b8e4be13fb0,"Merge pull request #357 from mrocklin/close-workers-waits

Scheduler.close_workers waits on out-queue",Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:22:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:22:12-07:00
75b3ddadd0d212701fc61dafc776d6879ef6256f,"Merge pull request #354 from mrocklin/redivide

dataframe.redivide",Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:22:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:22:33-07:00
3fe6d1a09edc7f707629ae41ed76a9f5be42951c,add foldby docs for combine function,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:29:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:29:26-07:00
abb6fb3acfdd461cf109c2a9b3b0c4e19512092e,topk supports multiarg key function,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:33:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 11:33:07-07:00
4bc504d6151d94412b8cad9cc1842c7e1e28d145,remove sleep import,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 13:46:26-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 13:46:26-05:00
1d3a0f4d66952ff46022e2dc87390ae713d62410,Don't send registered clients to client.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 13:47:53-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-23 13:47:53-05:00
7e3829571d05f02488ed415b64b6febb0018ea24,add align function,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 15:18:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 15:18:20-07:00
09b75cb145ea67e47a5ab1e1cc6d74663161ff64,align includes Nones,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 16:48:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 16:48:48-07:00
1a45c494cb4799b51eaff52c521d625d6c23dffd,add require function,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 17:01:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 17:01:52-07:00
3faebbe85cdd1df471ee65591c61ed224f09cc2d,add join_indexed_dataframes,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 17:10:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-23 17:10:42-07:00
152f70a428c5c38010b9a88e6f21762112070bbd,"Cleaned up callbacks for get_async

- `scheduler_callback` now receieves the next key to be ran
- Added docs",Jim Crist,crist042@umn.edu,2015-06-24 11:09:17-05:00,Jim Crist,crist042@umn.edu,2015-06-24 11:09:17-05:00
b995b13b884aca1f4306cfa9628135435794cd03,add hash join,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 09:55:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 09:55:13-07:00
1b97de500bfbc9a5392eaddce25abf9032fe39da,"Make subs robust to eq returning non-nonzero-able

Subs on DataFrame objects fails because

    >>> DataFrame() == 'x'
    DataFrame()

This wraps up the eq in a try-except block.  It's a bit ugly.
Impovements welcome.

cc @eriknw",Matthew Rocklin,mrocklin@gmail.com,2015-06-24 10:19:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 10:19:39-07:00
35d0d430201f072850254a87bf886ef816adf923,concat indexed dataframes,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 10:28:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 10:28:05-07:00
4e6bfcb84e1b9c09e2e988e68ead312f938fbeed,dataframe.multi module docstring,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 11:12:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 11:12:07-07:00
fb7cfd2596b71b7b4916030248928a865ac7d3a6,"execute_cm(key) -> execute_cm(key, task)

Callback now takes both key and task.",Jim Crist,crist042@umn.edu,2015-06-24 14:47:56-05:00,Jim Crist,crist042@umn.edu,2015-06-24 14:47:56-05:00
7e2e7da59477abff631f9626324e2fbd8c97d6c1,"Support Series inputs in DataFrame.loc

This enables computations like the following:

    df.loc[df.x % 2 == 0]",Matthew Rocklin,mrocklin@gmail.com,2015-06-24 12:53:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 12:53:51-07:00
1db1c19be040e3d5724ce35ba7bf982da2981630,"Merge pull request #362 from mrocklin/loc-series

Support Series inputs in DataFrame.loc",Matthew Rocklin,mrocklin@gmail.com,2015-06-24 14:39:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 14:39:44-07:00
4ee77d3e57df147eef15cbb8cb0634887d3e7480,"Rework callback design

Now has two different callbacks:
- start_callback: ran when each new task is fired
- end_callback: ran when each task completes",Jim Crist,crist042@umn.edu,2015-06-24 17:24:20-05:00,Jim Crist,crist042@umn.edu,2015-06-24 17:53:42-05:00
6e13b2f3cf5940225518ccd2a9ffe262c3da99bf,Add get_id for get_sync,Jim Crist,crist042@umn.edu,2015-06-24 18:07:07-05:00,Jim Crist,crist042@umn.edu,2015-06-24 18:07:07-05:00
aa9147b3f6ddb448f62f31a00db195c4d7fc157d,"Merge pull request #350 from cowlicks/gh-340

Make client register with scheduler on creation",Blake Griffith,blake.a.griffith@gmail.com,2015-06-24 18:37:36-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-24 18:37:36-05:00
70a6b2d1ddd8b6f7746d15081e57ac3eb30adfbc,"Rename map_blocks to map_partitions

This breaks tradition with dask.array but is consistent with dask.bag
and spark",Matthew Rocklin,mrocklin@gmail.com,2015-06-24 17:33:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 17:33:47-07:00
ce7f2e8a3dfae3b3a2784e419778bccec8260574,"Merge pull request #359 from mrocklin/bag-docs

add foldby docs for combine function",Matthew Rocklin,mrocklin@gmail.com,2015-06-24 19:18:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-24 19:18:09-07:00
b5ba4824da90a4e616fade44d095123e20ee9c6e,"Merge pull request #364 from mrocklin/map-partitions

Rename map_blocks to map_partitions",Matthew Rocklin,mrocklin@gmail.com,2015-06-25 07:20:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 07:20:46-07:00
c0838dbaf3b260de140f7fd0e3c8ed2583225705,support multi-column shuffle,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 08:18:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 08:18:09-07:00
95a95c92f06828322e38c9ce09fa6284e2d75230,"Cleanups for callbacks, few minor fixes

- Few minor cleanups for callbacks
- Removed extraneous imports for async",Jim Crist,crist042@umn.edu,2015-06-25 10:38:15-05:00,Jim Crist,crist042@umn.edu,2015-06-25 10:38:15-05:00
78a3a3a05e8905e7ecb833c685e8b6aa5db2aae2,"Merge pull request #356 from jcrist/callback

Callbacks for get_async",Matthew Rocklin,mrocklin@gmail.com,2015-06-25 09:53:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 09:53:52-07:00
952a0aefca5679708a832eea9c011bb7c95c2730,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-06-25 12:59:32-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-25 12:59:32-04:00
06f63b5561337ea1766dc25a0ed0919a5481063c,"First pass at a profile function using callbacks

`Profiler` takes a `get` function, and a worker type. The `get` method
of the resulting object then profiles dask execution at a task level.
This records tuples of `(key, task, worker_id, start_time, end_time)`.",Jim Crist,crist042@umn.edu,2015-06-24 16:09:45-05:00,Jim Crist,crist042@umn.edu,2015-06-25 12:20:43-05:00
6f7a592a9167dbe8f56c5a712f03d32467d74733,Updated profiler to use new callback structure,Jim Crist,crist042@umn.edu,2015-06-24 18:13:50-05:00,Jim Crist,crist042@umn.edu,2015-06-25 12:20:43-05:00
9b6df7dc1b5bf6515bf640cac9cfc69eec894350,from_pandas respects tail of data,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 11:55:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 11:55:45-07:00
c580afa5a08f180eb5775643765a4699e679ad7f,squash,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 11:56:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 11:56:23-07:00
4c46e85abeaf881e951cb0b4dd06c007601df054,shuffle works with single input,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:03:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:03:37-07:00
cf764418f715c08abaa5f6e3b2dd2ceff7d650e6,add top level merge function,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:29:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:29:05-07:00
30302b457352257bbe3a114aaac0d8bae1fc0fc1,rename align to align_partitions,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:33:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:33:38-07:00
f63201f84706a9207e938b752ca7aef2a468e7c1,add astype,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:44:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:44:29-07:00
8f84a516d772604690781f90c0d76def513a69e8,dropna,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:47:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:47:04-07:00
acc0d2f7883d8ffbd4fbcee3f4b45bb8512e845c,fillna,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:49:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 12:49:36-07:00
84acd54a59a595ff4d96a8055e1b45dce5a8390f,"add between, clip, and notnull",Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:04:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:04:31-07:00
b162b3cba57a1cc28043015453e506d667c897fa,sample,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:20:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:20:33-07:00
23490f73cf7bde920494e627e568c1ecfe84bcaa,add datetime accessor,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:39:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:39:19-07:00
a6962a903c0bf8190611a93dd4ba37e78bbf7b99,add string accessor,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:41:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 13:41:12-07:00
d018402cd5e2d82b625b96bcf1227c1a81cc1a0b,rename accessor tests,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 16:32:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 16:32:10-07:00
f025be6827397a003f5f9bdcfb75e43ced079e2b,"Merge pull request #360 from mrocklin/multi

Multi-dataframe computations",Matthew Rocklin,mrocklin@gmail.com,2015-06-25 17:29:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 17:29:27-07:00
34e4575a9b1d673a4a952cfbe14fa161177e4c61,"Merge pull request #365 from mrocklin/embarrassing

Embarrassing parallel operations",Matthew Rocklin,mrocklin@gmail.com,2015-06-25 19:36:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 19:36:10-07:00
bb9d080d027e4da268418b1f6d475c87ca1fff23,Add distributed and anacond-cluster notebook.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-26 14:31:16-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-26 14:31:16-05:00
f48ff3f9298f1437a6e78ec1cb32051db13bb999,"Merge pull request #366 from cowlicks/add-dist-notebook

Add distributed and anacond-cluster notebook.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-26 14:32:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-26 14:32:32-05:00
716dfa982f043042983da8b937e01f6354b722a6,"SQUASH ME

Quick push of visualization code. Still very dirty, just so people can
play around with it.",Jim Crist,crist042@umn.edu,2015-06-26 14:34:41-05:00,Jim Crist,crist042@umn.edu,2015-06-26 15:05:27-05:00
837cec2bc7a1ffe91dd226ff3727d80311dfaef8,move profile to diagnostics module,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:11:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:11:51-07:00
9afeb8ed4de633077730bd8058fa43d39e6a78c8,move visualization code to separate file,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:16:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:16:12-07:00
b638084153372e8cbfae0a16dc4cf79e8a9c53c1,expose kwargs to visualize function,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:26:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:26:02-07:00
7e0a8eb899fed8e7794c9ec035016e6a5d0bbd57,add diagnostics.__init__.py,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:28:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:28:29-07:00
3d5da4da2480bda5203d9e6ba858e4a6e6ad821c,allow the user to return the plot without showing,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:32:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:36:37-07:00
dca08994935abaccd7d8e9879c5c1266338f4cf0,add clear method,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:54:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:54:49-07:00
764ec751476af37e95019a1743f43daf2cacc5e4,add docstring to Profiler,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:58:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 13:58:25-07:00
3f69db300813118535ebe49a7397a2b6a8915838,"Merge pull request #1 from mrocklin/profile

Profile",Jim Crist,crist042@umn.edu,2015-06-26 16:07:44-05:00,Jim Crist,crist042@umn.edu,2015-06-26 16:07:44-05:00
59453ab7720e5b8dcbd68e2b262270cfd2ef8af8,Cleanups to profiler,Jim Crist,crist042@umn.edu,2015-06-26 17:39:40-05:00,Jim Crist,crist042@umn.edu,2015-06-26 17:39:40-05:00
b7ebc9df1e982b38fba26376d9c695ba142aa7fd,mark from_url test as slow,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 16:11:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 16:11:02-07:00
1c9f657f9cb3b445ca9160aedde569dec39e6e53,is_integer supports long,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 19:53:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 19:53:29-07:00
b428601fca404949f219ffcb29c2c6afd87eaab5,"random uses 32 bit signed integer max, not unsigned",Matthew Rocklin,mrocklin@gmail.com,2015-06-26 19:57:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 19:57:24-07:00
b847028d4f9169efe88a04ff8f58b8417109d30d,use randomstate in random_sample,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:01:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:01:54-07:00
713e4a8f0a84631629465897529fc2f72cc2c414,Series reductions robust to missing partiitons,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:17:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:38:32-07:00
cbddd1e01ac34c767670116fcc7c59a47a9fad57,"use tcp in place of ipc for windows

@minrk is there a better way to do this?",Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:24:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:38:36-07:00
4c161aeb5f5d650f43149e910b7bcb0b02a2b15d,remove needless references to ipc protocol,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:28:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:38:36-07:00
685490080aab96f3fd79106605192492582264c6,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:42:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:42:16-07:00
02d8a632c7ad8bc2319348021df47d4f20c4b461,"Merge pull request #368 from mrocklin/windows-fixes2

Various Fixes for Windows Compatibility",Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:45:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 20:45:18-07:00
a894ac5c0eb02324a65c79a52372d578cf7c9808,reduce scale of concurrency test,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 08:42:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 08:42:09-07:00
d06b2fc77e5b9eba4d0ac1ffe767c9542312306c,workers close to_scheduler socket,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 08:55:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 08:55:20-07:00
f64da6c22daffd398be82cc744bf4c108770127f,remove groupby with server,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 10:53:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 10:53:15-07:00
c8fc1c2872cacc4ee8953b89f41c5515b2f9fd71,use os.path.join rather than /,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 11:01:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-27 11:01:06-07:00
f52a3446786c411afcce9076be732c4f14ae3c8f,Clean up imports,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:07:51-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:07:51-04:00
eba2cd440bdeb56aee684348c84a5ad778fa1daa,Small syntax cleanups,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:08:07-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:08:07-04:00
71617758bb22554f29d77d5fb27bb28a9a785cae,First pass at resample implementation,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:16:45-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:16:45-04:00
679c6511a2b1ca9a85b2bd57c36f3b9e4f05bb92,Make testing more predictable,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:16:58-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:16:58-04:00
2586a2b3b84a675453e77579a4faf9e80c058b70,Hack that will eventually need to removed,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:17:12-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-27 17:17:12-04:00
c21c535f691afcc540c49e9c13d09c68ead6713a,Bit of cleanups,Phillip Cloud,cpcloud@gmail.com,2015-06-28 10:02:49-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-28 10:02:49-04:00
48dfa886eda2ac9c6085cb36bae73249a258c07b,"rechunk no longer coerces chunks to tuple

Fixes #351

cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-06-28 21:07:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-28 21:07:52-07:00
a8b752e0cb669cfb66b07736498e80506a2c505f,Add _get_workers client func to scheduler,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 09:53:31-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 10:15:41-05:00
be496d014cb65876ea03f78cd6e6528bc176ef9e,Add get_registered_workers func to client,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 10:05:00-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 10:15:45-05:00
3e24709cc8e7b1466e878f9892109fbf5bc132e3,Test for get_registered_workers,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 10:05:36-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 10:15:45-05:00
89835481863077c2ea69447a28763eac0df490d7,"""Set collection"" -> ""Get workers""",Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 11:01:04-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 11:01:04-05:00
211862c61642b0da4e16ce4d235482c9482c088b,add new dataframe doc,Matthew Rocklin,mrocklin@gmail.com,2015-06-25 17:30:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:29:34-07:00
af7d9157775ab33ed3c66c359e3d3a1af352ab7f,add partitions section to dataframe docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 15:20:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:29:34-07:00
5a8fe680a35cdfe41c1d16a12f6e79902bc6e657,rename f pronouns to df,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 15:26:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:29:35-07:00
2d9e592af0b403fb847fda192a1a78b0767175e8,frame -> df pronoun rename,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 15:29:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:29:35-07:00
4bcbecd553f398c6c7e95da711e27ddc830c6be3,function wraps,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 15:33:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:29:35-07:00
882122fb8a9bc1296b4c2dcf9fba6c02acac0950,use explicit names in dask.dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-06-26 15:53:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:33:10-07:00
58c9e4d256ff73b4603bf0bdc14a89c781b33ba6,fix typos,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:29:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:33:10-07:00
b05637d34a4815fbd344042df8d8e400a7f90744,"Merge pull request #367 from mrocklin/dataframe-docs

WIP - Dataframe docs",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:49:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:49:28-07:00
10015b2e7d8011ff09e191364da8de53b932a9fb,"Merge pull request #370 from mrocklin/rechunk-integer

rechunk no longer coerces chunks to tuple",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:52:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:52:03-07:00
1774bd69be076bb4e3915b97b0dd141d88c9bb44,"Merge pull request #372 from cowlicks/gh-355

add get_registered_workers to distributed.client",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:52:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 09:52:30-07:00
e8576a17d71487cc8b9b64c05dbb7df5ae84c821,Added profiler docstrings,Jim Crist,crist042@umn.edu,2015-06-29 12:14:15-05:00,Jim Crist,crist042@umn.edu,2015-06-29 12:14:15-05:00
d99c7f60963889aa2eea948b798fe1cf5b1e7e33,add dataframe creation docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:16:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:16:59-07:00
2648df447171e5a3e9364157837817bd7b997789,small edits to dataframe docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:17:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:17:11-07:00
1156205798dfb88f2ea265d9e0a25b37853fb006,add dataframe api,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:19:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:19:06-07:00
e188c2116fec8df2ebdea2dbb2ede0202726c35f,"Merge pull request #373 from mrocklin/dataframe-docs-2

More dataframe docs",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:43:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:43:02-07:00
6c3a742f6b13804de23d5c35ef47271299cae83f,add array-api link in array.rst,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:47:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 10:47:34-07:00
4ff4d295c8585918f9f1dabae52baf85c21725a7,add pandas to requirements-docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 11:25:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 11:25:18-07:00
85ab12917a64d8cb902130278a13f267e57e022c,"Replace use of curry with partial

Curry is more serializable but also opens us up to uncaught errors

Partial isn't very serializable but should be ok with dill.  Errors
are caught and raised more quickly.",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 11:29:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 11:29:39-07:00
5e30e4bda53b5542e7aa77f6c0b0af993671ac07,add spark comparision docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 12:52:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 12:52:11-07:00
eeb4cd85f2f0ca611c12813e1a8e59af8d025c68,update spark docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 13:06:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 13:06:10-07:00
a256d813f526f887b0341427ea8c0b402db2bdae,"Merge pull request #374 from mrocklin/partial

Replace use of curry with partial",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 13:26:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 13:26:33-07:00
1c0eb1d788185f965ca0b25b256bdeb48ad320df,Add heartbeat receiving to scheduler,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 10:59:40-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 15:34:34-05:00
0554e17f2aaa74e5ec91c802748dc87cbb61d80d,Add heartbeat function to worker.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 14:51:45-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 15:34:34-05:00
e6e0f4c4a2b2f290685e98bb878bb262e64ae023,Add heartbeat test.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 14:52:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 15:34:34-05:00
85da03406b545f0492e4a3a39fa5b930e8fd0814,"Fix test broken by adding heartbeat

The test was not expecting the Scheduler.workers dict ot contain
'last-seen' times.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 15:33:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 15:36:08-05:00
56f03f607747a484a5ada63222488f9aae5c04a8,update readme,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 14:13:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 14:13:00-07:00
7246934ed54623242bb62160530443e988aae68d,"add thunder to related work in readme

cc @freeman-lab",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 14:13:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 14:13:22-07:00
0bb70361ba264c9bba93c41b5ae999acffb03f40,Add diagnostics docs,Jim Crist,crist042@umn.edu,2015-06-29 16:38:06-05:00,Jim Crist,crist042@umn.edu,2015-06-29 16:38:06-05:00
ac27053468f82d593ac5fc9c6e75eee3ce536a4e,Add bokeh to travis,Jim Crist,crist042@umn.edu,2015-06-29 16:39:28-05:00,Jim Crist,crist042@umn.edu,2015-06-29 16:39:28-05:00
67affc924a479b4f2db5bbc2dbbb54e5a9d1ec18,add use dask bag section,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 14:52:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 14:52:44-07:00
77496044ffd0e54ee5bf7a9e9fac07e9f7312eda,"fix test broken from heartbeat

test did not expect scheduler.workers dict to have 'last-seen' times in
it.",Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 17:28:15-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 17:28:15-05:00
516798eb20d589681d59ff10ddcc95df03655828,Move heartbeat stop to worker.close method.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 17:32:10-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 17:32:10-05:00
40d7e3f9fa775b04e8bf51ecaca5d3611552b617,No rease to use apply_sync with send_to_scheduler,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 17:34:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 17:34:43-05:00
a1d887ead120f181e10a75ffc006654d46ccd1a4,"Add profiler tests

- Add tests for profiler
- Only install bokeh if python > 2.6",Jim Crist,crist042@umn.edu,2015-06-29 17:53:07-05:00,Jim Crist,crist042@umn.edu,2015-06-29 17:53:07-05:00
7db090f6b58b892b75b8b547ac7ab4b53d2f1ca1,Correct renumbering.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 18:15:30-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 18:15:30-05:00
823967224add1dfded64b1f8b34a4c0f6cbc2579,Doc cleanups for diagnostics,Jim Crist,crist042@umn.edu,2015-06-29 18:17:48-05:00,Jim Crist,crist042@umn.edu,2015-06-29 18:17:48-05:00
f83fc93fdcc264e27447ae59c4b86ee2e52d3fc5,Add heartbeat on/off switch,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 18:24:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 18:24:59-05:00
37eb206f1d5335937acdf545c9f7fb74785df347,Don't use heartbeats in test_worker.py,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 18:25:23-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 18:25:23-05:00
f28ee6b899bea57dc7f06eacc460d11cf2bbf396,Touchups on prof_visualize code,Jim Crist,crist042@umn.edu,2015-06-29 18:30:05-05:00,Jim Crist,crist042@umn.edu,2015-06-29 18:30:05-05:00
04b56b88861c4950ea08b9ea601a05d49b42458a,Merge remote-tracking branch 'upstream/master' into profile,Jim Crist,crist042@umn.edu,2015-06-29 18:33:08-05:00,Jim Crist,crist042@umn.edu,2015-06-29 18:33:08-05:00
52d5f0b548723f82ffb5aa1b27e869abb9002c62,"Merge pull request #363 from jcrist/profile

Profiler",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 17:26:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 17:26:28-07:00
be394674bbe6d20f040e8f4fde1034c47160674d,Add a different failing test case,Phillip Cloud,cpcloud@gmail.com,2015-06-29 20:42:49-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-29 20:42:49-04:00
64c57205b2652ea8172f62e4fc7274dbec19ff39,Simplify a bit,Phillip Cloud,cpcloud@gmail.com,2015-06-29 20:42:55-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-29 20:42:55-04:00
f35ea53ac603ab27f144cc00eb5f72fc86c7d614,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-06-29 20:48:41-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-29 20:48:41-04:00
1adbd396b9883cef877c4a1cad3eede3ad8165c9,Use infer_freq,Phillip Cloud,cpcloud@gmail.com,2015-06-29 21:12:07-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-29 21:12:07-04:00
d562f06e5e693339e57fae06b6c0b9a69c184d93,Passing,Phillip Cloud,cpcloud@gmail.com,2015-06-29 21:12:14-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-29 21:12:14-04:00
d8de992d9fedac48c92d5a987b4908e1e5301c35,Combine heartbeat_on heartbeat_pulse to heartbeat,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 21:06:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 21:06:05-05:00
50535fd88264fd7784b77acd2dfccc41a793ed2a,Change heartbeat kwarg usage in tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 21:15:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-06-29 21:15:29-05:00
7ed1fac7064f6b495ad98512d23b6a2950f2872e,"Merge pull request #375 from cowlicks/gh-341

WIP: Add heartbeats from workers",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:15:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:15:13-07:00
42a17506a65068a5e89b1f0c4450bb558dba2c98,"Merge pull request #377 from mrocklin/update-readme

Update readme",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:15:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:15:42-07:00
dbcbf17f506bcdc0905e72374dbf51220cec486d,coerce_loc_index repects np.datetime64s,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 16:29:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:36:08-07:00
1a134bdb70ff6f48a4db707f94693af6a90512a0,set_partition supports immediate computation,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 16:29:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:36:08-07:00
ec0082922d6c2f7793d585d39032f224d8acdb2c,dask.dataframe respects globals get,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 17:09:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:36:08-07:00
8cf3d279f01c2424d98bb57825e733a82e67f22a,set_index computes by default,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 17:29:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:36:08-07:00
c9525bc94fdad5feed1246ca10729fad9b4364b6,include index.dask in set_index computation,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:14:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:36:08-07:00
a7df7ab6d207e470261e9c77fdbe658613bfbac8,listify dict.keys,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:23:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:36:08-07:00
986e5fc51451d4ea2de8e73e8a1cea312e23e431,change client worker tests to be blind to heartbeats,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:26:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:43:15-07:00
5b786031ec649cac305ff2893af11b24da49d99a,"Merge pull request #378 from mrocklin/various-dataframe

Various dataframe changes",Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:49:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 20:49:30-07:00
560d7f571450e938efae4362c8b42855b4b7508f,replace nodes with workers,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 21:11:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-29 21:11:37-07:00
906d477021b77f1e7044b62e303e3fd8c72d6752,small edit to conclusion,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 07:21:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 07:21:17-07:00
ba21e9bbe91f87ba703e9530a47825a230cbbcef,spellcheck,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 07:21:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 07:21:45-07:00
ce3b32b1e9b64f32f9241712683e32b7eb4737dc,"Merge pull request #376 from mrocklin/spark-docs

Spark comparison docs",Matthew Rocklin,mrocklin@gmail.com,2015-06-30 10:55:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 10:55:59-07:00
3a84f1a0ec50c41dc5fe9711fd3c2cc3aa004b21,minor edits to docs index,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 10:56:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 10:56:58-07:00
e07212c3c19fcae97577bb862d04e008d974f038,tighted introductory prose in docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:12:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:12:41-07:00
987d6a72606deaa32451238d8680ba55260aa9a7,small edits to spark docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:19:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:19:55-07:00
ff57666208fd10c18c91d5208949a9b6fc019428,remove strict bcolz dependency,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:30:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:30:04-07:00
16f875bf5e0d29d8d07273bb5ccddee133b1a44a,remove psutil dependency,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:31:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:31:26-07:00
7f1419169ee1178c2728b8039eb66e6a1686e0f0,state version dependence on partd,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:32:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:32:20-07:00
8620f72ec88fe251db088b7ca8afda2de701e586,use pytest to skip bcolz tests,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:39:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:39:49-07:00
cf611bdbddf6a0f4765f45160a075c04dc43ede7,install partd as part of conda recipe,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:43:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:43:10-07:00
28a8a59d05b5f7b3a6885de102bd0346b144fe14,import bcolz in dataframe_from_ctable,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:45:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:45:54-07:00
86d87ab0e2b99bfd2a415ab3e373fbbf4f917792,import bcolz in doctest,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:52:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 11:52:02-07:00
aa7910f88f9342b0dfe6d1c66e9e19896ddb3b45,add partd to conda recipe,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 12:49:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 12:49:28-07:00
d9e9c87c23c4159a3963fc83182371c42fdd0b5e,bump version to 0.6.0,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 12:50:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 12:50:55-07:00
8b599fbfcc092031999a3a9352d8a0020f85564a,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-06-30 16:04:32-04:00,Phillip Cloud,cpcloud@gmail.com,2015-06-30 16:04:32-04:00
0cf137f9a3ddd0fb36949173080601b7d88b591e,"First pass at optimization docs

- Added prose example for word counting graph optimization",Jim Crist,crist042@umn.edu,2015-06-30 16:18:55-05:00,Jim Crist,crist042@umn.edu,2015-06-30 16:18:55-05:00
a0fbb78c327aa011a90fe1b5b7a02a75231b8747,Cleanup optimization docstrings,Jim Crist,crist042@umn.edu,2015-06-30 16:40:22-05:00,Jim Crist,crist042@umn.edu,2015-06-30 16:40:22-05:00
8a9c1463021f62df55c1369d878fbc7375d87ffa,"Cleanup optimize example typos

Missing functions in inline_functions.",Jim Crist,crist042@umn.edu,2015-06-30 16:41:37-05:00,Jim Crist,crist042@umn.edu,2015-06-30 16:41:37-05:00
093cafd2f1a12e21faff6ca03f180591301e3dbd,add youtube screencast to distributed docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 15:43:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 15:43:13-07:00
12d20092cc2ed900e55182a4d80ab6218cd14381,move screencast lower in distributed docs,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 15:50:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-06-30 15:50:02-07:00
00af2aeaeca2cf04753d21314e1d291913802fe8,"Add rewrite rule prose docs

Also some small cleanups in optimization docs.",Jim Crist,crist042@umn.edu,2015-07-01 12:15:28-05:00,Jim Crist,crist042@umn.edu,2015-07-01 12:15:28-05:00
6c296baaa2c4d860c1d1a98401995782f7b0fe26,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-07-03 12:02:01-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-03 12:02:01-04:00
c33f9f98d58fa56e34fefcfc639478b1b3f8e855,Easier-to-reproduce testing,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:34:53-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:34:53-04:00
e038958de615027b41b2c4e127d8970169fbbf7f,imports,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:35:02-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:35:02-04:00
bc4edef65730f84b1341c4c27146cb51d648a3bd,New resample algo that uses the pandas anchor resample option in the cpcloud/resample-anchor branch,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:35:48-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:35:48-04:00
b84a8873fd555a3ec73418acd68b78c2c5928eeb,clean up style,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:36:05-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:36:05-04:00
1862f6c93db3b67343781f99f724cb2ee0fc1d8c,Tell us when we might have requested duplicate old/new,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:36:28-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-03 16:36:28-04:00
05517975c97189ea8e441c3bdb395ca78c6db4d9,Xfail on cases where our divisions do not match df.index[0],Phillip Cloud,cpcloud@gmail.com,2015-07-04 11:23:33-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-04 11:23:33-04:00
5c19c4343d62ad71aacc50cfdc15e91e385f6314,Implement failure on df.index[0] not in our new divisions,Phillip Cloud,cpcloud@gmail.com,2015-07-04 11:24:00-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-04 11:24:00-04:00
991528c0dce425b57187744eb3c6ec156c14af4f,end_callback takes value,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 12:02:37+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 12:02:37+02:00
98c4bed40ebe71f98f90d84131008a5def658902,"Add dd.from_dask_array function

Example
-------

>>> import dask.array as da
>>> import dask.dataframe as dd
>>> x = da.ones((4, 2), chunks=(2, 2))
>>> df = dd.io.from_dask_array(x, columns=['a', 'b'])
>>> df.compute()
   a  b
0  1  1
1  1  1
2  1  1
3  1  1

cc @ogrisel",Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:16:38+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:21:08+02:00
0ad5a0461f2f40b09c34ecd385112ea94019b508,raise value error on bad ndims,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:27:41+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:27:41+02:00
8ad9a4cbb1e21a3b8bb28213d7137400b091b66e,improve informative error around columns,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:30:10+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:30:10+02:00
b4f3f4dd37ce083421371f6befe5ad17682fa329,"Merge pull request #389 from mrocklin/array-to-dataframe

Add dd.from_dask_array function",Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:35:02+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 16:35:02+02:00
62077891fa2708b1ca9d58f2faeaa9ca59e59a5c,make dd.from_array accept columns and regular numpy arrays,Olivier Grisel,olivier.grisel@ensta.org,2015-07-06 16:37:18+02:00,Olivier Grisel,olivier.grisel@ensta.org,2015-07-06 16:47:25+02:00
7607cc2ee919ef25c32d9b58bac3e081f0e07168,dd.from_array on one-dim array without names uses None,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 17:07:32+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 17:07:32+02:00
788521e5130f19df8ec194e59978cb5071d39823,correct from_array divisions,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 17:21:32+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 17:21:32+02:00
f425e11ba89b5391114f453c021558941d08f93b,"Merge pull request #381 from jcrist/optimize_docs

[WIP] Optimization Docs",Matthew Rocklin,mrocklin@gmail.com,2015-07-06 22:28:58+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 22:28:58+02:00
b872d7b587c1b600cce04cd98e5ea4aa5ae75e0a,"Add remove_excess keyword argument to coarsen

This trims excess from uneven chunk sizes relative to factor",Matthew Rocklin,mrocklin@gmail.com,2015-07-06 22:59:31+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 23:05:23+02:00
ca99432a2bb29eb9db5b5f866fd0af84e59cbfa7,"Merge pull request #392 from mrocklin/coarsen-excess

Add remove_excess keyword argument to coarsen",Matthew Rocklin,mrocklin@gmail.com,2015-07-06 23:11:52+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 23:11:52+02:00
6033eb3db1abb993bccee677296ab5bbf1d4b735,Cache uses new key for output dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 11:01:33+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 11:01:33+02:00
9081e08656f857ba802518cd85ce9e0fe3c918d3,"da.to_hdf5 function

This handles dataset creation and file handling for hdf5 files.

Also simplifies the existing to_hdf5 method.",Matthew Rocklin,mrocklin@gmail.com,2015-07-07 12:59:05+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 12:59:05+02:00
e3359e9153ada3848a8d5b7dbb67e7be81691c15,rewrite to_hdf5 docstring,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:03:02+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:10:11+02:00
cbadb45544fa8ad50c9022353948b9bd361cb778,update array store documentation,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:19:01+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:19:01+02:00
4373fbd485cf04d6ec78de3fb9f5d840897873c6,"Merge pull request #398 from mrocklin/to-hdf5

da.to_hdf5 function",Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:37:09+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:37:09+02:00
ba40340531fd71081cdc84dc7e3ec77526bfc73f,"add to_castra method to DataFrame

This gives us a nice efficient store for DataFrames",Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:55:55+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-07 13:55:55+02:00
7206b7fcb24839dbc56cd4d30a50ce8a8bfd2f71,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-07-07 17:11:58-05:00,Phillip Cloud,cpcloud@gmail.com,2015-07-07 17:11:58-05:00
add21202d8c15298a9d919e3352ffc3e4784af70,"numpy_compat.divide uses np.divide

Fixes #391

cc @jcrist does this miss something with np.divide?",Matthew Rocklin,mrocklin@gmail.com,2015-07-08 12:19:49+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 12:19:49+02:00
274d5d977010b3e3dbe9723e208a6dcf1a91e63e,add nlargest to Series,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 12:29:32+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 12:29:32+02:00
6294413bdfaeb1d47301d42819dadb08c17c8366,"Merge pull request #402 from mrocklin/nlargest-series

add nlargest to Series",Matthew Rocklin,mrocklin@gmail.com,2015-07-08 12:36:26+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 12:36:26+02:00
b0b5a2e33fcdadbd02c638fd28e8c853dae77630,"Merge pull request #394 from mrocklin/cache-key

Cache uses new key for output dataframe",Matthew Rocklin,mrocklin@gmail.com,2015-07-08 21:47:00+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 21:47:00+02:00
5d18187d1626f9db9749ec86242a2bfe3bc9901f,Assertions,Phillip Cloud,cpcloud@gmail.com,2015-07-08 16:02:26-05:00,Phillip Cloud,cpcloud@gmail.com,2015-07-08 16:02:26-05:00
7f87505415a0ae42a83781b0bd2f079352e5d86e,Lower than nanos and not day divisible should raise,Phillip Cloud,cpcloud@gmail.com,2015-07-08 16:03:18-05:00,Phillip Cloud,cpcloud@gmail.com,2015-07-08 16:03:18-05:00
d84097682d486c0b8c65fa7cdfa1f55c4cce9c9d,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-07-08 16:03:22-05:00,Phillip Cloud,cpcloud@gmail.com,2015-07-08 16:03:22-05:00
ae1499f80554435af8f8db198ee2ea5e47bb0c2e,"Fix broken link to Blaze

Fixes #407

Thanks @NelleV !",Matthew Rocklin,mrocklin@gmail.com,2015-07-09 09:42:49+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 09:42:49+02:00
3b07ead64442284adfbc2b0c414912bb6c035a96,Merge branch 'master' of github.com:ContinuumIO/dask,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 09:44:46+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 09:44:46+02:00
49928ecf9152a2a6d9c0348e7465d9ec0b811755,dot visualization robust to long keys,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 11:28:23+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 11:28:23+02:00
788de3259c59f31eec2bce90de3ed37fedfdb0c7,fix typo,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 22:56:55+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 22:56:55+02:00
c4063da872653ba0bd95eac77aabc7c062e41fad,use active voice in spark doc,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 23:01:58+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 23:01:58+02:00
0486d555af232e3bee0d8d2f8d480443841eee28,First pass at imperative dask composition,Jim Crist,crist042@umn.edu,2015-07-09 18:42:22-05:00,Jim Crist,crist042@umn.edu,2015-07-09 18:42:22-05:00
12d6207250afa242ee80383bb1643cbddacfd82d,"Merge pull request #399 from mrocklin/to-castra

add to_castra method to DataFrame",Matthew Rocklin,mrocklin@gmail.com,2015-07-10 15:35:28+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-10 15:35:28+02:00
34364a37302dbdf0b32587f59e197d207dbc6408,"Merge pull request #388 from mrocklin/end-callback

end_callback takes value",Matthew Rocklin,mrocklin@gmail.com,2015-07-10 15:37:27+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-10 15:37:27+02:00
8eab73759bc5d7b4fec3d7a8b7be01cf25d801e5,add order function,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 14:59:48+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
995fae0fbdc5ef746562f098270225f28ed8a9b5,use order to sort async scheduler,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 15:08:57+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
c627d5545ae096e79aa1ac4bdb1f19ce867eb444,more ordering tests,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 15:53:42+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
e07522faca72a24ae5ce423a0355af84fa50369e,use sortkey in finish_task in distributed,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 21:28:24+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
33a60ed3f8e86193298e4474cd93d1184feddd8d,from_array names,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 21:28:41+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
e557394484459e855af3f5ee35b7969039e68e7f,"sort in unreversed order when adding tasks to stack

We recall that we're popping from the end of the stack and so we want
largest scores at the end.",Matthew Rocklin,mrocklin@gmail.com,2015-07-08 21:44:58+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
33aa43903eec38ed199a58b1a4eda91eaf3e9733,py34 compat,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 22:12:39+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
d06bdbb8e4cc4e25e974ec7a7dc56e67687cc017,dfs manages seen set,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 23:04:46+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
9c0b26ad1b0fc080f4a2312ea791cb4e74f95e09,avoid mutating dependencies set,Matthew Rocklin,mrocklin@gmail.com,2015-07-08 23:51:58+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
b4c232c0ef88821c8c05ba1059b4e9487937e1ab,subtract just a little in child_max,Matthew Rocklin,mrocklin@gmail.com,2015-07-09 00:12:54+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 13:59:58+02:00
2a57091395d1cebe79ad5e359691b35e487c5781,"Few changes to compose

1.  Add simple tests
2.  Add .dask property
3.  Don't use partial if avoidable",Matthew Rocklin,mrocklin@gmail.com,2015-07-11 16:31:51+02:00,Jim Crist,crist042@umn.edu,2015-07-11 12:47:18-05:00
ab94474c89e95ce00e6e969368741a654234e240,value supports explicit names,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 16:36:43+02:00,Jim Crist,crist042@umn.edu,2015-07-11 12:47:18-05:00
82ef6b60807da804b64ec2b65b884855a53858ea,add visualize method,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 16:42:33+02:00,Jim Crist,crist042@umn.edu,2015-07-11 12:47:18-05:00
39cead6c0421a06e0ae795f86de4fd26f2396147,replace uuid with name,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 16:47:08+02:00,Jim Crist,crist042@umn.edu,2015-07-11 12:47:18-05:00
1671935d84d9f16b31064b0959cad469980db0e6,update DAGuE link to PaRSEC,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 21:49:03+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 21:49:03+02:00
2099bf579a5359f6cd4bdb38aba72d5fc62f4999,"Raise informative error on chunks=None

Fixes #415

Example
-------

In [1]: import dask.array as da

In [2]: da.random.random(size=(100, 100))
ValueError: You must specify a chunks= keyword argument.
This specifies the chunksize of your array blocks.

See the following documentation page for details:
  http://dask.pydata.org/en/latest/array-creation.html#chunks

cc @jdwarner",Matthew Rocklin,mrocklin@gmail.com,2015-07-11 22:35:10+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 22:35:10+02:00
c71104d9cc3671bea981045988c2ea857efeb297,"Change uuid to robust tokenize

Could be cleaned up, but robust to common cases.",Jim Crist,crist042@umn.edu,2015-07-11 15:42:24-05:00,Jim Crist,crist042@umn.edu,2015-07-11 15:42:24-05:00
a99075bde0bbb95e1af5adbe2b0e0c9d7c9fb8cd,normalize chunks continues to respect null dimensions,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 22:43:07+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 23:15:39+02:00
66929ed016fbd35e2782362252ec39fd7512f973,"change chunks to property

This avoids accidental mutation and redirects users to the rechunk method

Example
-------

In [1]: import dask.array as da

In [2]: x = da.ones(6, chunks=3)

In [3]: x.chunks = 2
ValueError: Can not set chunks directly

Please use the rechunk method instead:
  x.rechunk(2)

cc @JDWarner",Matthew Rocklin,mrocklin@gmail.com,2015-07-11 22:59:59+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 23:15:42+02:00
552214cac0e278ae6844ddec38914b4ae53fdb52,"chunks setitem raises TypeError

cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-07-11 23:31:01+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-11 23:31:01+02:00
45f9c2f71a70e7986911c66276890180b7cc6213,add contact information to dask website,Matthew Rocklin,mrocklin@gmail.com,2015-07-12 10:53:13+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-12 10:53:13+02:00
e8e3cac2ee3edcf67dbb54d2fc6a9e45c5c9fcbd,Add support for nested args to compose,Jim Crist,crist042@umn.edu,2015-07-12 22:55:08-05:00,Jim Crist,crist042@umn.edu,2015-07-12 22:55:08-05:00
5dac6cbe40f2272c6c4c1307b310320cc11e7d0c,"Insert `list` before list literals

In tasks, now apply the following transformation:

    [1, 2, 3] -> (list, [1, 2, 3])

This is needed due to how `get` works with literal lists",Jim Crist,crist042@umn.edu,2015-07-13 00:08:23-05:00,Jim Crist,crist042@umn.edu,2015-07-13 00:08:23-05:00
e48bef767b00b58a3093069f9e9cf888e84e3e86,"Add da.random.seed

Example
-------

In [1]: import dask.array as da

In [2]: da.random.seed(123)

In [3]: da.random.normal(size=10, chunks=5).compute()
Out[3]:
array([ 0.62222165,  1.56881177,  0.77953283, -1.02660604, -0.36680407,
       -0.35867012,  0.97187258, -0.07658328, -0.86469693, -0.95657365])

In [4]: da.random.seed(123)

In [5]: da.random.normal(size=10, chunks=5).compute()
Out[5]:
array([ 0.62222165,  1.56881177,  0.77953283, -1.02660604, -0.36680407,
       -0.35867012,  0.97187258, -0.07658328, -0.86469693, -0.95657365])

Fixes https://twitter.com/QuantAtRisk/status/620531751933247490",Matthew Rocklin,mrocklin@gmail.com,2015-07-13 08:26:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 08:26:50-07:00
4580a2f3fe7129ffba0d32e372639b9f7ee31a36,don't install castra under python 3,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 08:34:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 08:37:55-07:00
7c9bef125226bc169e629fd167337deac5e92758,"Merge pull request #420 from mrocklin/random-seed

Add da.random.seed",Matthew Rocklin,mrocklin@gmail.com,2015-07-13 17:46:22+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 17:46:22+02:00
0fd8f4c7fc00ea7202f62740c6b9564c0409770c,Add more operators to Value,Jim Crist,crist042@umn.edu,2015-07-13 12:51:03-05:00,Jim Crist,crist042@umn.edu,2015-07-13 12:51:03-05:00
0a6045278c8e37fadecb249652c7092beba13819,"Add more methods to Value & cleanups

- Supports most magic methods
- Explicitly forbid mutating values
- Explicitly forbid iteration
- Dynamically generate proxy methods on values
- `__dir__` method to still allow for tab completion
- Sort methods to make easier to read",Jim Crist,crist042@umn.edu,2015-07-13 15:39:37-05:00,Jim Crist,crist042@umn.edu,2015-07-13 15:39:37-05:00
15aaf91163d3374dc04999ec3107c82f6cf8ab74,"daskify -> do

Rename function",Jim Crist,crist042@umn.edu,2015-07-13 15:46:03-05:00,Jim Crist,crist042@umn.edu,2015-07-13 15:46:03-05:00
f542a2fdf4ca6f85f2bad9e8ab4bafbaf8cc5ea5,"Merge pull request #416 from mrocklin/chunks-error

Raise informative error on chunks=None",Matthew Rocklin,mrocklin@gmail.com,2015-07-13 13:56:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 13:56:20-07:00
3c47a30dc8c6064fcd4f0c1991f7395021150864,"add doc section on pytables/bcolz compatibility

cc @ogrisel",Matthew Rocklin,mrocklin@gmail.com,2015-06-17 07:32:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 13:59:04-07:00
ec909cb3c77ef30ea3affe3958f4e613cca0b68b,replace ooc with dataset,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 14:00:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 14:00:03-07:00
aaf9d1762c87daeec434954806c656415cb08b80,"Merge pull request #321 from mrocklin/on-disk-docs

add doc section on pytables/bcolz compatibility",Matthew Rocklin,mrocklin@gmail.com,2015-07-13 14:17:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 14:17:24-07:00
f7246759d34419a32451894bc845d3cbac9baeef,Add rudimentary docstrings,Jim Crist,crist042@umn.edu,2015-07-13 16:35:08-05:00,Jim Crist,crist042@umn.edu,2015-07-13 16:35:08-05:00
e8445af3c55f0fd56171ff42cb37ca1ea39b8f0a,Add tests for compose,Jim Crist,crist042@umn.edu,2015-07-13 17:12:24-05:00,Jim Crist,crist042@umn.edu,2015-07-13 17:12:24-05:00
551aa54092f343fe7e8d7a50ceaeac9af351454e,Fix failing doctest,Jim Crist,crist042@umn.edu,2015-07-13 17:20:18-05:00,Jim Crist,crist042@umn.edu,2015-07-13 17:31:24-05:00
2d1f7c8d66ac6f14a810af31a3f64798922b603e,"Add worker_death function.

function to unblock Worker.collect function if it is requesting data
from a dead worker",Blake Griffith,blake.a.griffith@gmail.com,2015-07-04 16:52:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
023eb2a44b0eb050edd27677611bd7c4485fd809,"Add scheduler prune_workers and prune_and_notify

prune_workers unregisters workers from the scheduler that have not
recently sent heartbeats

prune_and_notify runs prune workers then notifies living workers to
interrupt any ongoing computation that depends on the dead worker.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-01 16:08:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
bc9eccb3ccb287dd13bc4940cfef46678290613a,tests,Blake Griffith,blake.a.griffith@gmail.com,2015-07-01 16:08:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
0515fd1859a2581309f457f378be3e24b7dcb262,Fix tests using heartbeat wrong.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-06 20:02:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
42a1af94415da391fe41135202b8318c96d82078,fix tests,Blake Griffith,blake.a.griffith@gmail.com,2015-07-06 20:03:34-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
3250c3fca0090e66757c634108b9b1ee65d48a71,fix worker to track keys being collected.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-06 20:05:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
af850c87ecb78b4239f91d5e49300ac1fbe9d759,Make CM wait for workers to register.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-07 11:30:47-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
d7b64e33057fb7798d2623699d39e71ba4b9ccc5,Merge worker registration & heartbeats on scheduler,Blake Griffith,blake.a.griffith@gmail.com,2015-07-07 11:37:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
453a6cb7e06973a44a2aff4c00c9c4ff171c1886,fix test_scheduler to work w heartbeat registration,Blake Griffith,blake.a.griffith@gmail.com,2015-07-07 11:38:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
985f9042a9e4a27644db4248cf0ea34758c7bf29,fix test_worker to work with heartbeat registration,Blake Griffith,blake.a.griffith@gmail.com,2015-07-07 11:39:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
1c24405908ebf988af97ee9142aad4c497bb8b0a,Combine registration & heartbeat on worker.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-07 11:40:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
74fe4650c33442361390c45775f281a917e05b19,Resiliency bugs.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:33:48-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
53bca24f47a7c93a0ca5bcbcae7e5b940b114c46,Tests for resiliency.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:00-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 17:42:31-05:00
022e56c295dd39a3db15f8345af61a8103c33cff,refactor test_scheduler,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 18:08:17-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 18:08:17-05:00
046eebda3996f4398dbdddbaa602f8c8608c1207,Add worker heartbeat monitoring to scheduler.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 18:17:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 18:17:55-05:00
8a5ead056272ce5a10104bc9e163d3e913afbc4e,Test monitor heartbeats.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 18:25:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-13 18:25:03-05:00
0bcb4aed8f9bb07b1e5aa2e6d2843aef52eaf565,"Add dask.array.from_func

Fixes GH344",Stephan Hoyer,shoyer@climate.com,2015-07-07 09:44:35-07:00,Stephan Hoyer,shoyer@climate.com,2015-07-13 17:22:32-07:00
6861392866da348ce110cc7cd48d6f26071571e3,"from_func: dtype optional, add unit test",Stephan Hoyer,shoyer@climate.com,2015-07-07 14:32:14-07:00,Stephan Hoyer,shoyer@climate.com,2015-07-13 17:22:32-07:00
908f45e850fd5d8455e0addd6b67ae11d9caac73,Add args and kwargs & remove from_func from dask.array,Stephan Hoyer,shoyer@climate.com,2015-07-13 17:16:03-07:00,Stephan Hoyer,shoyer@climate.com,2015-07-13 20:22:46-07:00
25f82ccaf6c095f38009be74a97fc92c9223d4fe,expand order docstrings,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 07:38:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 07:38:42-07:00
96494ba56c43c74f20c448a97f2c558e362acc51,move order code from async.py to order.py,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 07:59:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 07:59:37-07:00
349f535265c62f5814ecfee0f779068b218dbac6,"Merge pull request #403 from mrocklin/order

Break ties in async scheduler",Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:05:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:05:37-07:00
e64077d2f68a3fc3e4638d75c49bd0b72d18238f,"add rerun_on_exception kwarg to async scheduler

This reruns the failing task in the main process when an exception
occurs.  This enables the use of tools like ``pdb`` on parallel code
with errors.",Matthew Rocklin,mrocklin@gmail.com,2015-07-05 23:42:28+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:06:13-07:00
c388c9a48394c2e7eccdbf9e9ea6709c75ba816c,add rerun_on_exception to docstring,Matthew Rocklin,mrocklin@gmail.com,2015-07-05 23:50:11+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:06:13-07:00
e5eb43bc5fa36705812f655ff5f49c2b252717af,expand exception message,Matthew Rocklin,mrocklin@gmail.com,2015-07-05 23:50:21+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:06:13-07:00
334ad25d20deaa617b5dba1a531844a406115813,test rerun_on_exception,Matthew Rocklin,mrocklin@gmail.com,2015-07-05 23:57:38+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:06:39-07:00
4a401b6c9d53953e53fee0028753e0fea2a378bf,rename to rerun_exceptions_locally,Matthew Rocklin,mrocklin@gmail.com,2015-07-06 00:00:27+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:07:00-07:00
4bbed51f62e1bb893846bd7065728a7dfd4281b7,expand rerun_exceptions_locally error message,Matthew Rocklin,mrocklin@gmail.com,2015-07-13 14:24:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:07:00-07:00
59a536794b47461bc215d5e0f62ee549551d8d59,rerun_exceptions_locally in set-options,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:02:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:07:00-07:00
04ee1805ee3692418b4f659a4e888a1d13fa18ea,"Merge pull request #387 from mrocklin/async-debug

Add rerun_on_exception kwarg to async scheduler",Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:15:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:15:56-07:00
f939c50f3707f74f0177bd1f42c4bba604863cbe,test 0d reduction types on sum,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:27:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 08:27:40-07:00
972dccaf16a3e6cac2292138d6d9f5c4057b5c07,Don't mutate non-local variable in s.collect,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 11:03:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 11:03:01-05:00
bb94bb6bbd120ea33482b0092340913d02f140be,Add support for attributes on Values,Jim Crist,crist042@umn.edu,2015-07-14 11:47:26-05:00,Jim Crist,crist042@umn.edu,2015-07-14 11:47:26-05:00
07e5f1c783cfbe612c3839595745e906f9343169,test that stack works with scalars,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 09:51:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 09:51:58-07:00
1befdebc629bb86cda47289ab388cf3b1690fc28,"DataFrame quantiles produce Series, supports categoricals

This is necessary when using dask.dataframe to set a categorical index",Matthew Rocklin,mrocklin@gmail.com,2015-07-14 10:20:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 10:20:00-07:00
46ec497790da516b4a536c6a5fea33ef1be2cb5e,Lock Scheduler.close,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 12:35:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 12:35:44-05:00
684a24fa4bc03ec8cbd09b5b6401a45e757026b9,Throttle worker monitor thread.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:08:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:08:21-05:00
63b782d7a8c161c9d341c63ebd56792a74e09bb0,Refactor Scheduler imports.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:09:44-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:09:44-05:00
72cc294e3a88d66c2d823b91282cfcdeabe2d199,scheduler_kwargs -> kwargs,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:31:34-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:31:34-05:00
7f229ae6862a729abe4717f5aad4f7811c924fbc,support categorical indexes in categorize methods,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 11:51:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 11:51:45-07:00
f63d2a0b8e6082ca03a6eddd1b432d7138e92cfd,rotate categorical index to .index in categories dict,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 11:52:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 11:52:07-07:00
bb680a05082aad51f0fb4417a396e35dcef4d3bb,Test refactoring.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:56:27-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 13:56:27-05:00
ecf8f3c14157a54a3ca5403629eec29f7cf2043c,dot-graph returns IPython.display.Image,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 12:37:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 12:37:05-07:00
e79cf913f9c02da7fb7834467149f4615d1ae3cf,visualize methods return result from dot_graph,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 12:38:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 12:38:25-07:00
f3a4a36a9f4f0db6e5619bd9ecc1f131c9065e3e,spelling,Stephan Hoyer,shoyer@climate.com,2015-07-14 13:35:04-07:00,Stephan Hoyer,shoyer@climate.com,2015-07-14 13:35:04-07:00
5ed40818dc5ae0345ca31be7b89183e66cbcdc1c,Safely remove workers in Scheduler.close_workers,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 15:51:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 15:51:05-05:00
eb9e80299e78bef6e81e0fbcd5c3bd0610f9bcea,remove useless lock,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 15:54:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 15:54:56-05:00
dd33b4540db64b7859d11c27ddf5f380cc416cde,worker.worker_death docstring,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 15:55:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 15:55:32-05:00
c526eb6246ed3d40ab15ef383419270c83fc1762,"Rework of composition

- `Value` no longer key in dask. This was causing problems with
  comparison in the scheduler, which wasn't being caught because
  `Value`s were implicitly true. Truthiness of Values is no forbidden.
- Computations using basic python collections are no handled properly,
  by converting all collections into tasks. This may add overhead for
  large tasks/collections, but for workloads I tried it on the overhead
  seemed negligible.
- Cleaned up some tests and docs",Jim Crist,crist042@umn.edu,2015-07-14 16:09:41-05:00,Jim Crist,crist042@umn.edu,2015-07-14 16:09:41-05:00
8bbc3322f8faa52f603b1fd1622c30c736266391,Fix py2.6 compatibility,Jim Crist,crist042@umn.edu,2015-07-14 16:19:05-05:00,Jim Crist,crist042@umn.edu,2015-07-14 16:19:05-05:00
afb821344d532a40023ce8d78b6e1659d22a1fd4,make concatenate3 robust to scalars,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 14:27:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 14:27:09-07:00
b91374bbd158577a738eb5570e0239312ccf8b31,"Merge pull request #424 from mrocklin/dot-ipy-image

dot_graph returns IPython.display.Image",Matthew Rocklin,mrocklin@gmail.com,2015-07-14 14:34:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 14:34:19-07:00
918ccbbfaaf61b31e3395a3aeb791019c6455a0d,"Add doctest/test for to_task_dasks

Also move tokenize to before partial applied to func in ``apply_func``.
This is important because
    ``hash(partial(foo, bar=2)) != hash(partial(foo, bar=2))``",Jim Crist,crist042@umn.edu,2015-07-14 17:33:20-05:00,Jim Crist,crist042@umn.edu,2015-07-14 17:33:20-05:00
e1eda61a6d72196cc39fcf768db193bfe9c7e4fa,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-07-14 18:56:33-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-14 18:56:33-04:00
da41e46d934999f21e05bea1e59e43a1e7e86e25,"Merge pull request #401 from mrocklin/divide

numpy_compat.divide uses np.divide",Matthew Rocklin,mrocklin@gmail.com,2015-07-14 16:29:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 16:29:09-07:00
451260ceea0cffa70f7cc89ca2f214a3df152a32,"Merge pull request #400 from shoyer/from_func

Add dask.array.from_func",Matthew Rocklin,mrocklin@gmail.com,2015-07-14 16:29:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 16:29:50-07:00
b5ef6be0aa8820bdd436163667f1277cf15307dc,replace _StringIO with BytesIO from compatibility,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 16:43:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-14 16:43:37-07:00
0ae628e547610d9c3f1076f6d5eb990b2aeeb579,Don't interate over dicts.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 20:45:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 20:45:57-05:00
29f0b74c22aab15abc0445871014a9585c808a63,"Remove test_prune_worker from test_scheduler.py

This test is redundant with test_prune_and_notify.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 20:58:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 21:19:36-05:00
76f80fd43037f9ee6bd3f7e5a453f585a4154116,Typo,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 21:21:49-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 21:21:49-05:00
2e9f3ab0d64aeea0ddfe5b57ebfb85ff62d6a4ec,Better repr for distributed workers.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 21:40:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-14 21:49:32-05:00
5ae43e94dcd338d74e926869fae796bb062cf83e,put tests under get_sync block,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 06:46:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 06:46:57-07:00
4a10a770f465c5147a3f283fb7d5e394b5947151,use shard_df_on_index correctly with categorical index,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 06:56:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 06:56:09-07:00
2ba0dbcc495f92443af68ab1251b0cbadbb8538c,use BytesIO from io in Python2,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 07:25:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 07:25:57-07:00
3e74aa52c012dbcbce23d5948579406662be3f81,"Add do, value to main __init__",Jim Crist,crist042@umn.edu,2015-07-15 09:47:08-05:00,Jim Crist,crist042@umn.edu,2015-07-15 09:47:08-05:00
1ca794eb5a7686bb705b1b5e018d0a6d5d412f7a,Check for dead workers after first timeout period.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 10:29:35-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 10:29:35-05:00
5405d79b7a5a1c022c848d226e983298946630a1,"Improve tests for compose, doc fixes",Jim Crist,crist042@umn.edu,2015-07-15 11:00:31-05:00,Jim Crist,crist042@umn.edu,2015-07-15 11:00:31-05:00
54406bf66c69fa10fa84ed5a8467f7b392dca836,"Merge pull request #422 from mrocklin/set-index-categoricals

DataFrame quantiles produce Series, supports categoricals",Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:00:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:00:59-07:00
10aa5069bc29221e17219cc734296af93bd9d8ed,"Merge pull request #425 from mrocklin/dataframe-fixes

A few small dataframe fixes",Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:04:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:04:49-07:00
e21d8a63335608aeec2221aadde46a3a04772a31,move file_size from dataframe.io to utils,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:07:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:07:36-07:00
886151343059add41ce07cd6d98057063bc5a61c,Value.visualize returns graph,Jim Crist,crist042@umn.edu,2015-07-15 11:13:51-05:00,Jim Crist,crist042@umn.edu,2015-07-15 11:13:51-05:00
6a2d82869e1ba43bfa53f725e95ad641b4f43f1f,Bag supports large text files,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:25:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:25:24-07:00
0b9271a415453f90e123b72eef219b29c8042198,support gzip compression in bag large files,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:27:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:27:01-07:00
9aef7a8284b9bbb30aff96e9d4e185d0c014ca49,add docstring to from_filenames,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:29:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 09:29:41-07:00
08ef9d676933e6007241a06966e851e96d3b2429,Rename compose to imperative,Jim Crist,crist042@umn.edu,2015-07-15 11:37:24-05:00,Jim Crist,crist042@umn.edu,2015-07-15 11:37:24-05:00
ecf9e013a2f460682b6c24e975639623f509ed6b,"Merge pull request #408 from jcrist/compose

Imperative dask composition",Jim Crist,crist042@umn.edu,2015-07-15 11:47:37-05:00,Jim Crist,crist042@umn.edu,2015-07-15 11:47:37-05:00
4495710247dbc1038ee53e5798d57345c2b72cd4,"Rm worker tests from test scheduler.

These are moved to test worker. test_collect already exists in
test_workers.py so it is deleted.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 11:46:31-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 11:49:17-05:00
0a9b0357d5f503fc8bde0454e83775dc7ba69a7c,Add test_worker_death,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 11:48:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 11:50:00-05:00
a7a7c73f05a46564a673ffb67315fac41a739baa,locations_copy -> locations,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 11:53:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 11:53:33-05:00
4ac416ae96ba2d703a4888fa8fc287240817a42e,decode bytes in large files,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 10:04:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 10:04:58-07:00
e9b6f65eb3802005fcd957c228d01ca863de59d4,Remove networkx as dependency,Jim Crist,crist042@umn.edu,2015-07-10 18:05:01-05:00,Jim Crist,crist042@umn.edu,2015-07-15 12:07:06-05:00
ce69ab0f8886e605379e165c1b7f2a340aeb71a2,Add pydot to travis,Jim Crist,crist042@umn.edu,2015-07-10 18:11:06-05:00,Jim Crist,crist042@umn.edu,2015-07-15 12:07:06-05:00
07c7b2e2261a66cfb79979763babff441d84bfbb,"Queue msg m['got_key'] -> m['status']

and the values changed from True/false to 'success'/'failed'",Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 12:34:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 12:34:07-05:00
e1f2c677b7c8828051d33cec586e3c9cb1abcb6c,queues_by_worker = defaultdict(defaultdict(set)),Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 12:40:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 12:40:21-05:00
5bb9b9761092ac4f9e6f89668ef00cd2d0ee741e,py26 compat,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 10:45:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 10:45:04-07:00
095698cbff48adca551b5fe4fd4cad0407da769a,"Propogate ""Bad key"" message to collect.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 13:13:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 13:13:07-05:00
6f8b3d61515a926555264cf3dd77f9b8981c1ab9,Raise when worker.collect fails to find key. Test.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 13:23:58-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 13:23:58-05:00
a023cfebde7a9b1764fe704787037c5ff7bb5164,"Tweak test_collect_retry timings.

To make tests more robust on travis.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 13:38:13-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 13:38:13-05:00
522394f3fa212602b41950b6240557343930f6aa,"Change graph drawing to use graphviz

This now works for python 2.6, 2.7, and 3.3+.",Jim Crist,crist042@umn.edu,2015-07-15 14:10:16-05:00,Jim Crist,crist042@umn.edu,2015-07-15 14:10:16-05:00
4a2c55ecd82fa3cbc3174b0a5179a8c1239efa58,Add graphviz to travis,Jim Crist,crist042@umn.edu,2015-07-15 14:12:24-05:00,Jim Crist,crist042@umn.edu,2015-07-15 14:12:24-05:00
ec5dcca08b114d3658e4d54034f90f7d98d47e63,Use apt to install graphviz on travis,Jim Crist,crist042@umn.edu,2015-07-15 14:32:01-05:00,Jim Crist,crist042@umn.edu,2015-07-15 14:32:01-05:00
3dec8e3526520459668ced05f8e144fd7605d5ec,"Merge pull request #409 from jcrist/dot_cleanup

Remove networkx as dependency",Jim Crist,crist042@umn.edu,2015-07-15 15:00:51-05:00,Jim Crist,crist042@umn.edu,2015-07-15 15:00:51-05:00
984c6d1a6547767c44232861d49f79b65550e8c4,"Fix test_collect_retry

Prune and notify is running automatically so we should not call it in
this test.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 15:34:48-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-15 15:34:48-05:00
2743d350d3c3e4ff4a13c60873740b8a2a2693d6,"Merge pull request #427 from mrocklin/bag-large-files

Break apart large files in dask.bag.from_filenames",Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:45:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:45:28-07:00
8196e3c34cd4fb78fe0fc90eea46d0a37ce54706,add dataframe.io.to_hdf,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 11:05:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:51:34-07:00
cac09030668630358f6b0007ea862401cc01f714,add pytables to .travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 11:12:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:51:34-07:00
b90186ba00d5ac1d6a2e3c3a0c71dc8f52fdba15,add dataframe.io.read_hdf,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 11:43:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:51:34-07:00
519c7b6e604e5e6ee7ce6df63868d5c18c4913c9,use apply from compat,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 11:45:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
ca61712499d3262bf1fef57f263266a75295f867,add unittest2 for pytables,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 11:53:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
aee300d6663e2d976dd9aea56c9c0dc9a2fa19e7,use pytest.importorskip rather than ignoring,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 11:59:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
15ace6939e2b4b678a5aa2746abd632acec104eb,include categoricals directly in graph in set_index,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 12:19:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
cf4b63a52bda271e855e8ffbf813f9b3cc48f9b8,to_castra protects list of categories,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 12:32:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
407dcd619c67075204de9e913631a26422bd834d,set head default to 5,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 13:08:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
c4c17a1dbce0678191f865c077e5125e3cb0eb88,move to_castra to io,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 14:42:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
7538294104dabd71ebe33f4bcaaec8bf5c728669,to_castra operates sequentially,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 14:47:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
68508d6125c8e214f856f03f7b35b8abdc2c10ee,ensure that index information passes through castra,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 14:48:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-15 16:53:47-07:00
883f4c2bf224f78a02a18ef8777161ba7d92696c,_link docstring,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 06:36:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 06:36:10-07:00
d00ee04396dbd68117acc5734a2b5c384ce4efd4,"Merge pull request #428 from mrocklin/to-hdfstore

add dataframe.io.to_hdf",Matthew Rocklin,mrocklin@gmail.com,2015-07-16 07:08:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 07:08:43-07:00
60d220b4b0c0005aabe5677cca8a8c5851c887a5,Align import,Phillip Cloud,cpcloud@gmail.com,2015-07-16 10:34:32-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-16 10:34:32-04:00
22da23e7bff7948cc2547d97f660d5b36a532bdd,Docstring and perf note,Phillip Cloud,cpcloud@gmail.com,2015-07-16 10:49:58-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-16 10:49:58-04:00
a3737238f3a45a01a937f4faedfa1f065162c8c7,Make it easier to profile because map is opaque,Phillip Cloud,cpcloud@gmail.com,2015-07-16 10:57:51-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-16 10:57:51-04:00
59c469f6bd6a58f7ddd9f0def1041de21ef19da0,"Merge pull request #382 from cowlicks/gh-380

WIP: cluster resiliency, remove workers if they die",Blake Griffith,blake.a.griffith@gmail.com,2015-07-16 10:23:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-16 10:23:33-05:00
5a1687992263cc6675a6b8498bef2d50457552e2,remove id from worker repr,Blake Griffith,blake.a.griffith@gmail.com,2015-07-16 10:41:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-16 10:41:21-05:00
e53538f21df3ffd9451b454cdff450cb9a169f30,"Merge pull request #426 from cowlicks/worker-repr

Better repr for distributed workers.",Matthew Rocklin,mrocklin@gmail.com,2015-07-16 09:47:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 09:47:50-07:00
4e7be4164cdbc551b30ead0c43f3750f5e59bdc7,"Raise informative error on bad keyword arguments

Example
-------

In [1]: import dask.array as da

In [2]: x = da.ones(6, chunks=3)

In [3]: da.minimum(x, out=None)
TypeError: minimum does not take the following keyword arguments ['out']

Fixes #429",Matthew Rocklin,mrocklin@gmail.com,2015-07-16 12:32:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 12:32:02-07:00
9280fc00e91f0add1f94f54ae8d959c270185b1a,raise informative kwarg error in atop,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 12:37:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 12:37:04-07:00
7417b95120a60af88857dd81a07b72819e455fd1,"Merge pull request #430 from mrocklin/raise-kwargs

Raise informative error on bad keyword arguments",Matthew Rocklin,mrocklin@gmail.com,2015-07-16 17:38:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 17:38:51-07:00
1027a4bc0bfdf396fa803c9870a9c2b9f1587cfc,add array-extend doc,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 18:13:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 18:16:01-07:00
0adc55754623a0a52d3d77f89f6762d8845209f8,"Merge pull request #432 from mrocklin/array-extend

add array-extend doc",Matthew Rocklin,mrocklin@gmail.com,2015-07-16 19:16:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-16 19:16:24-07:00
56cf0e3b777ea324485928caf5fa811892aa986f,README.rst: Use SVG badge from Travis CI. [ci skip],John Kirkham,kirkhamj@janelia.hhmi.org,2015-07-17 08:41:56-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-07-17 08:49:29-04:00
7dc2b2ef7f064b9231e0025afb0530df74525b41,README.rst: Switch to shields.io as pypip.in appears to be down ( https://github.com/badges/pypipins/issues/37 ) and shields.io has an SVG. [ci skip],John Kirkham,kirkhamj@janelia.hhmi.org,2015-07-17 08:42:16-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-07-17 08:49:36-04:00
6a316e2956a65ad40618438913ed6ace47f1b2d1,"Merge pull request #434 from jakirkham/readme_badges

DOC: Readme badges (use SVGs)",Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:00:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:00:05-07:00
2efc02f1ddf8d19888f5f1eb95fbdd92c5886e12,extend array design document,Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:11:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:11:28-07:00
1ab60a0a22bdbf2e93197e316826a55b0cb36639,"fix broken link in distributed docs

Fixes #435

Thanks @jakirkham",Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:20:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:20:18-07:00
4c67345fc978702b874ac66fda205cb828abfd00,README.rst: Show PyPI version. [ci skip],John Kirkham,kirkhamj@janelia.hhmi.org,2015-07-17 10:33:57-04:00,John Kirkham,kirkhamj@janelia.hhmi.org,2015-07-17 10:36:49-04:00
ff989c454887012d6b94d6fb1e900238482be2cb,"Merge pull request #437 from jakirkham/readme_version

Show PyPI version",Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:37:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-17 07:37:49-07:00
f307757749fd10488294c6601fe7c731d947110b,"Add Client.send_recv method.

This combines the send_scheduler, and receive_scheduler methods into
one. Since a common idiom was

send_scheduler(...)
result = recv_scheduler()",Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 10:04:34-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 10:04:34-05:00
8611c33d522faac2b0d8c30f30b4c98a1d5ffaf8,test micro-optimization.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 10:06:11-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 10:06:11-05:00
2378f7741fc98af58641d8f15aef4728d121a858,"Check for closed socket.

This avoids the ""socket operation on non-socket"" errors we were seeing.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 11:21:45-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 11:21:45-05:00
339c41ae6efd6c2fa893b474f7bb619f6dd42bb8,"Use event to signal monitor workers thread to end

Previously this thread would sleep to check workers heartbeats every `timeout`
seconds. Now we use a threading event to signal when we want to close.
So we don't have to wait for the `sleep` to finish for monitor_workers
thread to finish.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 11:28:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 11:28:01-05:00
71bcde311dec0ad360bb02b4c0c79edae2eb3ff3,test_multiple_clients optimize,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 11:48:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 11:48:50-05:00
cc7ecc9ea7114669540c425fd9456aeec30d630e,Fix hang in test_collect_retry,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 15:41:27-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 15:46:17-05:00
9f1c4e004eeeb9ebda8d6d5f4e50f2ba5affad18,Close _moniter_workers_thread with other threads.,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 16:31:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-17 16:56:17-05:00
0632dfe6b3e7e94a234ed0b36f844913da560956,"Improve labeling of tasks in diagnostics

- dot graphs now use `...` to indicate nested tasks
- profiler shows whole task, with `_` to indicate variables
- profiler hover now handles html escape characters",Jim Crist,crist042@umn.edu,2015-07-17 17:15:32-05:00,Jim Crist,crist042@umn.edu,2015-07-17 17:15:32-05:00
6352cdce3896c72a2b06f0a32b631e679e17ce6c,value_counts sorts by default,Matthew Rocklin,mrocklin@gmail.com,2015-07-18 08:04:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-18 08:04:39-07:00
3bb07d7b6d40cbc028c9e1aff712b36de8277d59,"Merge pull request #443 from mrocklin/value-counts-sort

value_counts sorts by default",Matthew Rocklin,mrocklin@gmail.com,2015-07-18 09:56:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-18 09:56:39-07:00
45406cc26efcd392fc1f5fde434e5c598089acbe,"Merge pull request #440 from cowlicks/dist-cleanup

Dist cleanup",Blake Griffith,blake.a.griffith@gmail.com,2015-07-18 15:51:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-18 15:51:12-05:00
e9b7ae5cb8c56ebc1477efdfc1cc8945ddb6ca4b,"Merge pull request #436 from mrocklin/array-extend-2

extend array design document",Matthew Rocklin,mrocklin@gmail.com,2015-07-19 10:35:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-19 10:35:13-07:00
038b1550e5d557e85d73c96628393e4b078c77d4,"Fix dot_graph

Use subprocess.check_call so we get an error message if the command
fails (e.g., because graphviz is not installed).

Actually generate pngs (not pdfs) so visualization in notebooks works.",Stephan Hoyer,shoyer@climate.com,2015-07-19 19:49:52-07:00,Stephan Hoyer,shoyer@climate.com,2015-07-19 19:49:52-07:00
319e1e869f36fe4457e3d7f44af36d269b08479e,"Merge pull request #444 from shoyer/fix-dot

Fix dot_graph",Matthew Rocklin,mrocklin@gmail.com,2015-07-19 21:44:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-19 21:44:23-07:00
7ba29bdf4663304b715a2ad338bb6b90335e915b,loc of bad element raises KeyError,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 11:45:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 11:45:08-07:00
b5827ec358adfe5ec5b72be732aecc10e4b08da6,"Merge pull request #441 from jcrist/improve_labels

Improve labeling of tasks in diagnostics",Matthew Rocklin,mrocklin@gmail.com,2015-07-20 13:02:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 13:02:30-07:00
08c60e6e4800592696c72b91f1564c2339079e26,fix windows dtype error,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 13:22:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 13:22:00-07:00
3566fada400f9eb5c61273d69bc3bac709ef9f64,use os.linesep rather than \n,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 13:24:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 13:24:22-07:00
144de96dab967c34319da3fce0797466138ef807,make test robust to windows linesep,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 14:28:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-20 14:28:44-07:00
ebe3d1a723b7dae3424d4d8ac72e21811a241760,"Test for dask.array.histogram

We test for different options to reproduce
numpy.histogram",Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 16:11:40-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 16:11:40-07:00
14c33236fafc1cc33edc48bd916faffb7af4564a,Histogram implemented in wrap module,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 16:12:02-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 16:12:02-07:00
397f6d36e5bc1c9b1219b7743938b568ecb863a6,Added more compatibility with original numpy.histogram,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 17:30:30-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 17:30:30-07:00
755455680a9c028ca00778650374ebdb3be6b08c,Removed dict comprehension for python 2.6,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 17:41:27-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-20 17:41:27-07:00
e9298ce9aa13f0c10e705f7192e8186bbc268efe,"Don't test conda.recipe/run_test.py with py.test

Before, when running py.test from the dask root directory, py.test would
try to ""test"" the conda.recipe/run_test.py file, and fail, since it is
not for unit-tests.",Blake Griffith,blake.a.griffith@gmail.com,2015-07-20 21:17:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-07-20 21:17:56-05:00
8d7be0519dc02923bbdffed5a67628d07360b847,removed name-token separator,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 08:47:36-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 08:47:36-07:00
1852f3298f14365aa564476e7738f70e20e444f1,"Moved histogram to dask.array.core

Also:

- correct dtype with/without weights
- better naming
- tests refactored and splitted
- cleanup unused references from wrap module",Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:10:33-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:10:33-07:00
683e4f9d7c3afefe361ddaa413628d4bfe94d891,Added missing asserts,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:21:41-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:21:41-07:00
957a8c2762418da2f5ef809c8f3c0b859c328cab,Removed superfluous dtype check,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:35:04-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:35:04-07:00
c8e8bef501eabfa2ad3ce712fa3ef2063956bf28,histogram return dtypes consistent with np.histogram implementation,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:35:37-07:00,Gabriele Lanaro,gabriele.lanaro@gmail.com,2015-07-21 09:36:10-07:00
c5a4b8c15767b3c72ae734ec190f8ca37ca2472b,"Merge pull request #448 from gabrielelanaro/feature-hist

Adding a blocked version of numpy.histogram",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 10:12:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 10:12:11-07:00
d4bb5638d4eab9758c4d8eed832d62d448416cf0,"Fix long slicing from dask.keys() sorted issue

Fixes #452",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 13:11:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 13:11:54-07:00
3e7e1890382d0f10d0fa6827c4c1eb7f8f886c79,"Merge pull request #453 from mrocklin/long-slice

Fix long slicing from dask.keys() sorted issue",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 13:27:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 13:27:56-07:00
0a27ceb78da42ab3ad764e2409ce4f2590da65d8,"getarray handles newaxis for non-numpy arrays

Previously computations that uesd `np.newaxis` on top of array-like
objects like `h5py.Datasets` that didn't support it we got a runtime
error.  This offloads newaxis handling to the `getarray` function which
protects the downstream array objects from having to implement this.",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 13:54:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 13:54:30-07:00
23b321bb851b7d0a966b29233acb9497acc6a662,"Add `pure` kwarg to `do`

Can now specify if a wrapped function is pure or not (default is False).
This is important for functions like `random` or `time`.

Also changed `tokenize` to default to incremental token if hashing
fails. This means we don't do common-subexpression-elimination as
aggressively as we did earlier, but people shouldn't be relying on dask
preventing repeat computations anyway. This is probably a more sane
default than we had originally.",Jim Crist,crist042@umn.edu,2015-07-21 16:18:15-05:00,Jim Crist,crist042@umn.edu,2015-07-21 16:22:32-05:00
3c7d332c7fbfd081feaa181210f96259a14ef8de,"Merge pull request #454 from mrocklin/h5py-newaxis

getarray handles newaxis for non-numpy arrays",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 14:24:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 14:24:28-07:00
3f0010198dce7eabfbaea4d363ed24e2572d6da4,Forbid setitem in Values,Jim Crist,crist042@umn.edu,2015-07-21 16:25:48-05:00,Jim Crist,crist042@umn.edu,2015-07-21 16:25:48-05:00
449555f7639bf39f7dc197c165575cf7ead8d7ac,"Merge pull request #456 from jcrist/imperative_tokens

Add `pure` kwarg to `do`",Jim Crist,crist042@umn.edu,2015-07-21 16:38:11-05:00,Jim Crist,crist042@umn.edu,2015-07-21 16:38:11-05:00
8f2897cdd4eafaa880c4ee708ec305b9de3c7ed1,"add DataFrame.to_csv

Fixes #455",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 14:57:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 14:57:15-07:00
95de57a2c7eb63cea1f6950073b6420f8280aec8,"Merge pull request #446 from mrocklin/dataframe-fixes-3

[WIP] Various fixes to dataframe",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 15:11:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 15:11:39-07:00
7f3705e0231e4badbd19e1ff58246c6cce9555ac,"Merge pull request #449 from cowlicks/skip-conda-recipe-with-pytest

Don't test conda.recipe/run_test.py with py.test",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 15:11:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 15:11:59-07:00
c95e6a27d7b6e7cde3d32739a69718e6a991eb44,small edits to distributed,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 16:39:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 16:39:35-07:00
28f13398ee197d61419df631123729bc4dc50c74,remove old wrap function,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:43:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:43:29-07:00
4d8eb4e3ac89b4f2e454052aaa48968b33259b22,remove _get_blocksizes,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:45:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:45:53-07:00
e2de63e2a6bad66e51356ad785e13f99382c8341,remove old names for tokens,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:52:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:52:30-07:00
1d1bb1d78b2841143f37a8160ebaeeb30c6927b1,"Merge pull request #458 from mrocklin/to-csv

add DataFrame.to_csv",Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:53:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:53:14-07:00
b2ca195eeb6c27b068b9106bd1b33daac425d739,categorize doctest,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:59:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 17:59:02-07:00
001ee3e0eddd0e1cd02c3535750bcca156cacedf,remove old visualization code,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:05:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:05:03-07:00
363b3a86f4e7b866fd4664696f37ab1ae99f2cda,test random distributions,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:21:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:21:34-07:00
69a49db75b1f6a0a659968516d2b72b0fd8fced3,uncomment valid test,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:24:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:24:36-07:00
fbfade989509877eae5d13a9309bf8b72d0ead78,add h5py to travis,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:39:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-21 18:39:16-07:00
951619e131d5f20f7943c4bebf0a5278fd3c7ce5,"Remove extraneous magics on Value

Remove `__concat__`, `__not__` and `__inv__`.",Jim Crist,crist042@umn.edu,2015-07-21 23:45:21-05:00,Jim Crist,crist042@umn.edu,2015-07-21 23:45:21-05:00
b5bdf8f9cacb124bb14c902b60ee64eafaae64d4,Remove __delitem__ on Value,Jim Crist,crist042@umn.edu,2015-07-21 23:56:47-05:00,Jim Crist,crist042@umn.edu,2015-07-21 23:56:47-05:00
4b81980d3c72e14e9309efe41a280ac68fa0a2f1,"Merge pull request #463 from jcrist/value_magics

Remove extraneous magics on Value",Jim Crist,crist042@umn.edu,2015-07-22 00:04:57-05:00,Jim Crist,crist042@umn.edu,2015-07-22 00:04:57-05:00
898bcfaefed75252e4b17d80127dc3b261faa42b,"Merge pull request #461 from mrocklin/coverage

Coverage",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 07:45:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 07:45:47-07:00
f34977d47093f18716e72505a3878e89265e9faf,"Merge pull request #460 from mrocklin/small-distributed-edits

small edits to distributed",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 08:20:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 08:20:21-07:00
d7dd219cfc60bea317828d3dee29583f8e1d4faa,to-csv works with single partition,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 08:26:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 08:26:08-07:00
500aacbb51bc18f98130550150048e9b5b536117,"Merge pull request #464 from mrocklin/to-csv-single-partition

to-csv works with single partition",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 08:30:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 08:30:43-07:00
1d338ffe644b01f1d2b79a9fa291c1bf4cb572f5,make to_csv robust to the absense of get,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 09:01:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 09:01:06-07:00
9432207ca9deaa6f8aa2fad46a2d17a3938e0d9a,"support nrows in read_csv

This creates a dask DataFrame with a single partition with the
desired number of rows.

Some issues:

1.  This adds a significant amount of complexity
2.  This does not work with multiple csv files",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 10:13:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 10:13:15-07:00
3b7a414496cd3aed9bc65234fa24cf670e9b73cb,"normalize text in dataframe/tests/test_io

cc @rea725",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 10:18:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 10:18:10-07:00
4ed5eb817d6632d12f4f9cebb59d4dad5f0d728d,"Merge pull request #466 from mrocklin/normalize-text

normalize text in dataframe/tests/test_io",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 10:29:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 10:29:27-07:00
e63f7f3992da19a5acd635e5f6dd3f8e877b5754,"Fixes to distributed test suite

- Specify hostname for all Schedulers/Workers
- Use fewer threads per worker",Jim Crist,crist042@umn.edu,2015-07-22 12:48:44-05:00,Jim Crist,crist042@umn.edu,2015-07-22 12:48:44-05:00
5678858815740f2ba05e67410e3eb63e83270145,"Merge pull request #467 from jcrist/hostnames

Fixes to distributed test suite",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 12:12:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 12:12:19-07:00
0bbb78a902a8f7289f0106a8eba961551f0e1c67,bump version to 0.6.1,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 12:33:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 12:33:39-07:00
b5e82f3e0c497ebbfb2892503dcbe57a399e09ce,First pass at dask.imperative docs,Jim Crist,crist042@umn.edu,2015-07-22 17:37:45-05:00,Jim Crist,crist042@umn.edu,2015-07-22 17:37:45-05:00
5ac60cdf6b25d006eee2c3ba9e7dc919a24bb3fa,Few touchups for imperative docs,Jim Crist,crist042@umn.edu,2015-07-22 17:54:57-05:00,Jim Crist,crist042@umn.edu,2015-07-22 17:54:57-05:00
79310121febd73b1a46730dfe30c22d5a331010b,"Merge pull request #468 from jcrist/imperative_docs

First pass at dask.imperative docs",Jim Crist,crist042@umn.edu,2015-07-22 17:59:34-05:00,Jim Crist,crist042@umn.edu,2015-07-22 17:59:34-05:00
86a9a18f40ed8623590136eae6f49ad5b9291b75,"Handle empty slice case correctly

Fixes #470

cc @shoyer",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 16:55:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 16:55:23-07:00
963871cadf5be49ff931215c9ec5ced88ed4bbd7,fix slicing optimization test,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 17:25:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 17:25:34-07:00
e521a3259a1d49751535e0faa5b1c8912705f889,"Merge pull request #471 from mrocklin/array-ellipsis

Handle empty slice case correctly",Matthew Rocklin,mrocklin@gmail.com,2015-07-22 17:39:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-22 17:39:45-07:00
b982546e9a6267afc578672ddce31c44a79cd52c,"Fix GH #472: Add fallback for `apply` if `args` isn't a list, add better (but still incomplete) multiple arg detection for class constructors",Stuart,stuart.owen@gmail.com,2015-07-24 14:00:59-07:00,Stuart,stuart.owen@gmail.com,2015-07-24 14:00:59-07:00
956d68b6e29b1e319d043945393db3825b5167d1,Allow for tuple-based args in map also,Stuart,stuart.owen@gmail.com,2015-07-24 14:24:57-07:00,Stuart,stuart.owen@gmail.com,2015-07-24 14:24:57-07:00
c441bc465ebe251eedf2f037decc18dc4295ffee,"Add DataFrame.query

Fixes #474

Example
-------

In [1]: import dask.dataframe as dd

In [2]: import pandas as pd

In [3]: df = pd.DataFrame({'x': [1, 2, 3, 4], 'y': [5, 6, 7, 8]})

In [4]: a = dd.from_pandas(df, npartitions=2)

In [5]: a.compute()
Out[5]:
   x  y
0  1  5
1  2  6
2  3  7
3  4  8

In [6]: a.query('x**2 > y').compute()
   x  y
2  3  7
3  4  8",Matthew Rocklin,mrocklin@gmail.com,2015-07-24 22:00:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-24 22:00:15-07:00
704abdc982337cc4cdc3b741d1329364b5643807,"Merge pull request #465 from mrocklin/csv-nrows

support nrows in read_csv",Matthew Rocklin,mrocklin@gmail.com,2015-07-25 09:24:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-25 09:24:03-07:00
8c4db9dca7839fd11bdeb95e3cd2172bf2ef5d58,In progress for properly detecting one arity builtins,Stuart,stuart.owen@gmail.com,2015-07-26 21:13:16-07:00,Stuart,stuart.owen@gmail.com,2015-07-26 21:13:16-07:00
5f123587fd4bc73d1ad9eae6c33b86fa703da412,"Added arity detection for builtins and fixed arity detection for constructors, added tests for both",Stuart Owen,stuart.owen@gmail.com,2015-07-26 22:48:08-07:00,Stuart Owen,stuart.owen@gmail.com,2015-07-26 22:48:08-07:00
e44f45c9286e71a3104b6728698ceb53bde5a0d8,"API: qunatile compat with pandas

pandas uses [0, 1] for quantile, and calls it quantile
instead of quantiles.",Tom Augspurger,tom.w.augspurger@gmail.com,2015-07-25 15:02:05-07:00,Tom Augspurger,tom.w.augspurger@gmail.com,2015-07-27 16:55:20-05:00
60f2b47fd06adec4d44952f3d396ff9090ea539d,"Merge pull request #479 from TomAugspurger/df-quantile

API: qunatile compat with pandas",Matthew Rocklin,mrocklin@gmail.com,2015-07-27 15:02:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-27 15:02:33-07:00
f12f035bb89733a1038606cb04e8ffa9c9676c97,"Fix GH #472: Add fallback for `apply` if `args` isn't a list, add better (but still incomplete) multiple arg detection for class constructors",Stuart,stuart.owen@gmail.com,2015-07-24 14:00:59-07:00,Stuart Owen,stuart.owen@gmail.com,2015-07-27 16:02:01-07:00
2cbbcb6c900869d37f9a11ae56ea38f548233274,Allow for tuple-based args in map also,Stuart,stuart.owen@gmail.com,2015-07-24 14:24:57-07:00,Stuart Owen,stuart.owen@gmail.com,2015-07-27 16:02:01-07:00
7c14811a81c83d4289f841212e086be5b7ffea0f,In progress for properly detecting one arity builtins,Stuart,stuart.owen@gmail.com,2015-07-26 21:13:16-07:00,Stuart Owen,stuart.owen@gmail.com,2015-07-27 16:02:01-07:00
0a158b83b3137969285db5e3f5b8883107b0ca08,"Added arity detection for builtins and fixed arity detection for constructors, added tests for both",Stuart Owen,stuart.owen@gmail.com,2015-07-26 22:48:08-07:00,Stuart Owen,stuart.owen@gmail.com,2015-07-27 16:02:01-07:00
d77dfe696452b34793789ebca9d1f8e6012c4e82,"First pass at a progress bar

Works in both terminal and notebook.",Jim Crist,crist042@umn.edu,2015-07-27 18:21:02-05:00,Jim Crist,crist042@umn.edu,2015-07-27 18:21:02-05:00
914d95fed14fc06915c5fedb13f3a06e08ed4aed,"Add type-sensitive method chaining for `dask.Bag`, allowing it to be extended easily.",Stuart Owen,stuart.owen@gmail.com,2015-07-27 16:23:00-07:00,Stuart Owen,stuart.owen@gmail.com,2015-07-27 16:23:00-07:00
65cca6e5bf780bc0801393ebb82fe3a04bdb28d0,"Merge pull request #486 from StuartAxelOwen/bag-extendability

GH #484 - Increase dask.Bag extendibility",Matthew Rocklin,mrocklin@gmail.com,2015-07-27 22:00:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-27 22:00:00-07:00
62a41b6e78b3f49b1cf9d0aca2c2dbbe6039504c,add numexpr nthreads comment in docstring,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 09:16:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 09:16:29-07:00
d8e1ecb5bc53bb3f4174dabaaac25f3dfb1ce51d,"Revision to callback design

Callbacks now are a namedtuple with four fields. They can be globally
registered with `set_options`. There is no longer a need to wrap a `get`
function.",Jim Crist,crist042@umn.edu,2015-07-28 14:05:56-05:00,Jim Crist,crist042@umn.edu,2015-07-28 14:05:56-05:00
476b0f828cdfb822b0912c0c0352e5d5a0dbe752,"Add support for diagnostics as context managers

The following syntax now works:

```
>>> with ProgressBar():
...     get(dsk, keys)
[#################################################] | 100% Completed
```",Jim Crist,crist042@umn.edu,2015-07-28 14:32:47-05:00,Jim Crist,crist042@umn.edu,2015-07-28 14:35:32-05:00
c235d84934507a030afd7137b540a7ec0b7b73a5,Fix profiler doctest,Jim Crist,crist042@umn.edu,2015-07-28 14:42:58-05:00,Jim Crist,crist042@umn.edu,2015-07-28 14:42:58-05:00
6d6fb216e1d52362f602cdbaf407aa04be544d0a,"Add support for multiple callbacks at once.

Can now do (python 2.7+ only):

```
with ProgressBar(), Profiler() as prof:
    result.compute()
prof.visualize()
```",Jim Crist,crist042@umn.edu,2015-07-28 16:42:40-05:00,Jim Crist,crist042@umn.edu,2015-07-28 16:42:40-05:00
092848f460cbeb16f149c20342633218bcd2347c,"add point slicing to dask.array.core

This is equivalent to numpy slicing with multiple input lists.

We could use a better name.  cc @shoyer @jhamman

Example
-------

>>> x = np.arange(56).reshape((7, 8))
>>> x
array([[ 0,  1,  2,  3,  4,  5,  6,  7],
       [ 8,  9, 10, 11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20, 21, 22, 23],
       [24, 25, 26, 27, 28, 29, 30, 31],
       [32, 33, 34, 35, 36, 37, 38, 39],
       [40, 41, 42, 43, 44, 45, 46, 47],
       [48, 49, 50, 51, 52, 53, 54, 55]])

>>> d = from_array(x, chunks=(3, 4))
>>> result = isel(d, [0, 1, 6, 0], [0, 1, 0, 7])
>>> result.compute()
array([ 0,  9, 48,  7])

Fixes #433",Matthew Rocklin,mrocklin@gmail.com,2015-07-17 09:18:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:07:24-07:00
14a35bb7075eb4dba12c9c8f228d93f366047445,work on full slice point-wise indexing,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 13:25:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:07:24-07:00
b6fc879a3d2ffe5f9162d3f730d83dbfbb986954,support empty arrays in dask.array,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:01:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:07:24-07:00
360caf731b73b892d7f664507cd6f5e337d6af3f,point-wise indexing with None works,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:01:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:07:24-07:00
e299c96d022f2cdb7b98072f63b2e953866dfd15,add vindex getter,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:17:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:17:27-07:00
a016461ece5901106a6d20a29f5405dee222e81f,unite vindex error,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:27:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:27:46-07:00
291643957c3e9ae1781ecacc33959c3cfa49a0cf,fix doctests,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:35:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:35:42-07:00
3d19ae6bbca42bd0e6b3a10a55031cd93119665c,support np.ndarrays in point slicing,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:42:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 15:42:04-07:00
d683898061e9b64e6cb37073b3ac4c2cd90e13eb,Cleanup callback normalization,Jim Crist,crist042@umn.edu,2015-07-28 18:06:11-05:00,Jim Crist,crist042@umn.edu,2015-07-28 18:12:27-05:00
68cf3afe33582d14b0a36c4de405e60e5498bf1f,bump toolz dependency to 0.7.2,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 16:36:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 16:36:17-07:00
25076003412725ac7b3ae56fe7b0eb9928427134,raise error on multi-dimensional key in vindex,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 16:39:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-28 16:39:24-07:00
e3862ca905d494e469cab94bf1af17f62089154a,async state respects data in cache,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 08:46:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 08:46:31-07:00
8aa8f54973dcafe08566ef39013ca9d2cd704713,distributed scheduling reuses data in memory,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:02:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:02:26-07:00
de0b2ee6400f2a785a8eb37783f87099f46e3403,bring points to first dimension in point slicing,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:55:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:55:46-07:00
e0fee0f6071213a1b249ebd4173ff2fa8d0cc30f,remove dead code,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:56:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:56:24-07:00
f71fa532a2b5bf6f0fd1fa34e41e28d35d87c5f3,add docstring,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:57:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 09:57:04-07:00
5919ac1a03a49f21d40b2d9b8bedd3d81645feb6,Add test for k bigger than chunk,Phillip Cloud,cpcloud@gmail.com,2015-07-29 12:58:02-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-29 12:58:02-04:00
4e738fde7331c0f85a5d240227cab78c67d29bc4,Fix k bigger than chunk,Phillip Cloud,cpcloud@gmail.com,2015-07-29 13:00:14-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-29 13:00:14-04:00
9cd3d788f0f708b039c7532bdafc56b6ef673965,"Merge pull request #475 from mrocklin/dataframe-query

Add DataFrame.query",Matthew Rocklin,mrocklin@gmail.com,2015-07-29 10:05:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 10:05:34-07:00
603e3906b12d3ab203776f16d8f5a439e6393925,"Merge pull request #490 from cpcloud/fix-k-bigger-than-chunk

Fix k when k bigger than chunk in topk",Phillip Cloud,cpcloud@gmail.com,2015-07-29 13:10:09-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-29 13:10:09-04:00
5829294ebbf923269d1ba552fff98ba7e9492d26,"Add timing to ProgressBar

Now runs on a background thread.",Jim Crist,crist042@umn.edu,2015-07-29 13:47:01-05:00,Jim Crist,crist042@umn.edu,2015-07-29 13:47:01-05:00
a51d5213e5d44626211929c155e2feb2aa74f7bf,"Improved docstrings, added tests for diagnostics",Jim Crist,crist042@umn.edu,2015-07-29 14:38:52-05:00,Jim Crist,crist042@umn.edu,2015-07-29 14:39:51-05:00
a38697669ed54472ca1762e1d69985c03a3cb4fe,"Update docs for diagnostics

- Updated Profiler docs to reflect changes
- Added docs for ProgressBar
- Added section on creating custom diagnostics",Jim Crist,crist042@umn.edu,2015-07-29 15:29:17-05:00,Jim Crist,crist042@umn.edu,2015-07-29 15:29:17-05:00
61934d38f307cd052fb739ca3ef4e42dda647c0e,"Merge pull request #485 from jcrist/progress_bar

Progress bar and diagnostics improvements",Matthew Rocklin,mrocklin@gmail.com,2015-07-29 13:50:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-29 13:50:11-07:00
303108ec5ca71176266a0266ed5c50c40d86175c,Add imports to dask.imperative docs,Jim Crist,crist042@umn.edu,2015-07-29 16:04:05-05:00,Jim Crist,crist042@umn.edu,2015-07-29 16:04:05-05:00
1f3b6fb3b45c8d4423bd0e3755b87311913fb059,Small cleanups to doc formatting,Jim Crist,crist042@umn.edu,2015-07-29 16:04:21-05:00,Jim Crist,crist042@umn.edu,2015-07-29 16:04:21-05:00
2c48dd5fa2aa159984237f9c98a15ea2a1d6b44a,"Add compute function to dask.imperative

Can now compute multiple values at once in a trivial way:

```
>>> from dask.imperative import value, compute
>>> a = value(1)
>>> b = a + 2
>>> c = a + 3
>>> compute(b, c)
(3, 4)
```",Jim Crist,crist042@umn.edu,2015-07-29 16:46:24-05:00,Jim Crist,crist042@umn.edu,2015-07-29 16:46:24-05:00
f2a8b44f30a01934c5b0d441b78daa623ef6a006,"Merge pull request #492 from jcrist/doc_cleanup

Doc cleanup",Jim Crist,crist042@umn.edu,2015-07-29 16:49:18-05:00,Jim Crist,crist042@umn.edu,2015-07-29 16:49:18-05:00
a4878cb19a8fe05521f30da1df6ed47a569080b5,Add dask.imperative.compute to docs,Jim Crist,crist042@umn.edu,2015-07-29 16:53:50-05:00,Jim Crist,crist042@umn.edu,2015-07-29 16:53:50-05:00
fe31c2120ba39b34107efeddafd7db47e046a2e4,"Remove single value special case in compute

`dask.imperative.compute` now always returns a tuple.",Jim Crist,crist042@umn.edu,2015-07-29 17:07:19-05:00,Jim Crist,crist042@umn.edu,2015-07-29 17:07:19-05:00
0b84d14aa8f390bc83e0c299400b06c879678bc7,"Merge pull request #493 from jcrist/imp_compute

Add `compute` method for dask.imperative",Jim Crist,crist042@umn.edu,2015-07-29 17:17:53-05:00,Jim Crist,crist042@umn.edu,2015-07-29 17:17:53-05:00
8985f2fe75474d36c22385133fa97758aaf1c825,Merge branch 'master' of github.com:StuartAxelOwen/dask,Stuart,stuart.owen@gmail.com,2015-07-29 17:37:46-07:00,Stuart,stuart.owen@gmail.com,2015-07-29 17:37:46-07:00
51821b82251496e202aefeb03ddfc1d9b479ea08,don't release data that was around before,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:15:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:15:43-07:00
9127c8d50a985a7077639f2866178f98d0007858,scheduler can keep results,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:18:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:18:25-07:00
7b2e17dc9ddcdbf17cabb289219d87fb40f3c6a6,add keep_results kwarg to Client.get,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:21:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:21:54-07:00
ab7ed7af42798f2f0f146078997d69b87433fbec,add cull_redundant_data scheudler method,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:47:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:47:40-07:00
655199bcc197a970aeeb3933d319b32830cd6ce8,improve cull test,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:50:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:50:13-07:00
e993ec9029c0eed9ab8556e1de9298221142543f,schedule culls by default,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:50:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 10:50:19-07:00
5ea6eabac9c54448b4dd97c151812d4a6c60effa,"Concatenate on non-iterable returns input

Fixes #494",Matthew Rocklin,mrocklin@gmail.com,2015-07-30 11:21:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 11:21:50-07:00
368c43333f471a2e6acfa5269505da42eab18e1f,"Add rolling computations for dask.dataframe

Only support for unary rolling functions so far.",Jim Crist,crist042@umn.edu,2015-07-30 14:13:09-05:00,Jim Crist,crist042@umn.edu,2015-07-30 14:13:09-05:00
1e27666fa58f52902563b274b4857c49ca9458ab,"Merge pull request #495 from mrocklin/scalar-reduction

Concatenate on non-iterable returns input",Matthew Rocklin,mrocklin@gmail.com,2015-07-30 12:21:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 12:21:19-07:00
1b6217a3840b951f9a404b42fbcc7a9d53f4d473,Move `takes_multiple_arguments` to `dask.utils`,Stuart,stuart.owen@gmail.com,2015-07-30 12:58:32-07:00,Stuart,stuart.owen@gmail.com,2015-07-30 12:58:32-07:00
d5091ec1ca74468d01e823ae44aa2ce2b0e58fcc,Improve tab completion for dataframe objects,Jim Crist,crist042@umn.edu,2015-07-30 15:00:27-05:00,Jim Crist,crist042@umn.edu,2015-07-30 15:00:27-05:00
713e5da1d8b98ceff8a92d7912f9694c4f323012,Fixed doctest and added tests for `takes_multiple_arguments`,Stuart,stuart.owen@gmail.com,2015-07-30 13:28:24-07:00,Stuart,stuart.owen@gmail.com,2015-07-30 13:28:24-07:00
549068ca2781966b34b43ca9fc721644326af98d,"Cleanup imports, unused vars in dataframe

Only the super-important linting stuff. Got rid of unused imports and
never used variables.",Jim Crist,crist042@umn.edu,2015-07-30 15:32:20-05:00,Jim Crist,crist042@umn.edu,2015-07-30 15:32:20-05:00
b228b0b97b99d94f44ce5c0a561b4675022858be,Fix doctest,Stuart,stuart.owen@gmail.com,2015-07-30 13:33:40-07:00,Stuart,stuart.owen@gmail.com,2015-07-30 13:33:40-07:00
f2cd21ac1c304051b12212c171418f20416e0f14,"Merge pull request #498 from jcrist/df_cleanups

Few dataframe cleanups",Matthew Rocklin,mrocklin@gmail.com,2015-07-30 13:46:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 13:46:32-07:00
4d68f1e438391e3bcc778c7d6631e553af271f37,Add support for lists for Values in compute,Jim Crist,crist042@umn.edu,2015-07-30 16:06:56-05:00,Jim Crist,crist042@umn.edu,2015-07-30 16:06:56-05:00
49bcbb679196585d40b33d5f687d8bf1b76e03b2,"Merge pull request #499 from jcrist/imp_compute2

Add support for lists of Values in compute",Jim Crist,crist042@umn.edu,2015-07-30 16:17:59-05:00,Jim Crist,crist042@umn.edu,2015-07-30 16:17:59-05:00
fc149c851954d51b28a64809782fae97fb3350a6,point slicing supports incomplete index,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:18:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:18:23-07:00
fd62919ce0c007e9e02ffe74fb01922d8797038b,vindex: raise error on mismatched lengths,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:21:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:21:16-07:00
e3ba75eb9b3e6aa2411a229b95b613a6912b0eb7,style edits to takes_multiple_arguments,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:48:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:48:32-07:00
48b623a8ed8a3f4d3274d275999720de2d202c03,Merge branch 'tma',Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:49:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-30 18:49:02-07:00
b35adb3c153904e4a2e0b468da2d73a38778bcf6,"Finish callback called on error in scheduler

Allows for cleanup of diagnostics resources on error.",Jim Crist,crist042@umn.edu,2015-07-31 09:52:35-05:00,Jim Crist,crist042@umn.edu,2015-07-31 09:52:35-05:00
d38a0b284770e900c8e3b1e2a007f713b6a4a80a,"Fix add_callbacks.__exit__ to handle errors

More resilient to errors in enclosed code block.",Jim Crist,crist042@umn.edu,2015-07-31 10:27:32-05:00,Jim Crist,crist042@umn.edu,2015-07-31 10:27:32-05:00
1ab72aa532868405829932c18e47fbaf9af336c4,"Merge pull request #501 from jcrist/callback_on_error

Finish callback called on error in scheduler",Jim Crist,crist042@umn.edu,2015-07-31 10:34:03-05:00,Jim Crist,crist042@umn.edu,2015-07-31 10:34:03-05:00
4a5a4719763300471a99cbf37e7b7bc14e0fd1cf,don't release preexisting data,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 12:07:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 12:07:41-07:00
82b5d43ff0ffbd8ef831289913536b817ebe6829,Fix bug where entire dask was being computed in concat,Phillip Cloud,cpcloud@gmail.com,2015-07-31 15:13:41-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-31 15:13:41-04:00
f907799f1e283ec27e4652ed99f2519e5e4af3f3,"Merge pull request #503 from cpcloud/bag-bug

Fix bug where entire dask was being computed in concat",Matthew Rocklin,mrocklin@gmail.com,2015-07-31 12:20:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 12:20:11-07:00
9cdc8d784c6da911926f2e4dc7c5b14a8ed8e072,"Small fixes to dask.dataframe.rolling

- Use iloc
- Use common tokens from dask.dataframe.core",Jim Crist,crist042@umn.edu,2015-07-31 15:17:02-05:00,Jim Crist,crist042@umn.edu,2015-07-31 15:17:02-05:00
370eebd5e2ea4b85be0f90bd72423b1360c7a591,Merge branch 'master' of github.com:ContinuumIO/dask into resample,Phillip Cloud,cpcloud@gmail.com,2015-07-31 16:38:01-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-31 16:38:01-04:00
286846ba106ee7e33a7881934ee524019501293f,Catch the TypeError when we have an empty result whose period cannot be inferred,Phillip Cloud,cpcloud@gmail.com,2015-07-31 16:43:12-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-31 16:43:12-04:00
fc696e167d0499056870a935097ff3171b627e97,"Fix rolling_* functions edge cases

- Correctly handle 0 and 1 size windows
- Error on negative/non-integer window sizes
- Forbid `freq` kwarg for now",Jim Crist,crist042@umn.edu,2015-07-31 15:43:25-05:00,Jim Crist,crist042@umn.edu,2015-07-31 15:43:25-05:00
dda9e75d427977763b21f811761d25ed9aa72446,"Forbid `how` kwarg in rolling_* functions

Also add tests for asserting these errors.",Jim Crist,crist042@umn.edu,2015-07-31 16:03:44-05:00,Jim Crist,crist042@umn.edu,2015-07-31 16:03:44-05:00
10a68018abbed15cb67c201b2739c1eb35aff832,"Merge pull request #496 from jcrist/df_rolling

Add rolling computations for dask.dataframe",Jim Crist,crist042@umn.edu,2015-07-31 16:15:42-05:00,Jim Crist,crist042@umn.edu,2015-07-31 16:15:42-05:00
d759b323670f1941a22c205a93898edff3825e2a,Remove unused imports,Phillip Cloud,cpcloud@gmail.com,2015-07-31 17:34:17-04:00,Phillip Cloud,cpcloud@gmail.com,2015-07-31 17:34:17-04:00
a5986709bb2e8c4c915647f0adc6bd9cbb485074,"Merge pull request #439 from mrocklin/point-slice

add point slicing to dask.array.core",Matthew Rocklin,mrocklin@gmail.com,2015-07-31 16:29:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 16:29:43-07:00
ce18aeba1ceecd51eff78be654077a82a9804d98,add scheduling policy tech doc,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 17:08:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 17:08:03-07:00
c60ac07b3b5a35d3e4ef704f3ab54a219e75707b,Add DataFrame arithmetics,sinhrks,sinhrks@gmail.com,2015-08-01 17:46:37+09:00,sinhrks,sinhrks@gmail.com,2015-08-02 20:30:38+09:00
1a8c037625554eef651472a27e1e38d78dadda7d,Add DataFrame.dropna,sinhrks,sinhrks@gmail.com,2015-08-02 16:45:52+09:00,sinhrks,sinhrks@gmail.com,2015-08-02 20:40:25+09:00
fd3de805125c6bbedb33ba329e94960179db2471,"Merge pull request #509 from sinhrks/dropna

Add DataFrame.dropna",Matthew Rocklin,mrocklin@gmail.com,2015-08-02 11:37:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 11:37:13-07:00
c2a379cae93eeba0d595849358f765e1b756c7c3,"Merge pull request #506 from sinhrks/frame_ops

Add DataFrame arithmetics",Matthew Rocklin,mrocklin@gmail.com,2015-08-02 11:39:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 11:39:15-07:00
4be42826916f82ae07212c5627e554f185ae6b86,First pass at base class for collections,Jim Crist,crist042@umn.edu,2015-07-31 15:10:35-05:00,Jim Crist,crist042@umn.edu,2015-08-03 11:52:37-05:00
7ec8354c938d79fcb33b4d8c1a13c102cfd4f2bd,"Add _finalize method to each collection.

This is the first step in uniting `compute`/`get` across all
collections.",Jim Crist,crist042@umn.edu,2015-08-03 11:41:45-05:00,Jim Crist,crist042@umn.edu,2015-08-03 11:52:37-05:00
bd87c2434f29bf0d548764228ce709dd39738238,"Redo `_finalize` for all collections

Now called after `get`.",Jim Crist,crist042@umn.edu,2015-08-03 13:12:35-05:00,Jim Crist,crist042@umn.edu,2015-08-03 13:12:35-05:00
f26b49e294295d0e9e4dde43500693eab81026b9,Rename `DaskBase` to `Base`,Jim Crist,crist042@umn.edu,2015-08-03 13:14:35-05:00,Jim Crist,crist042@umn.edu,2015-08-03 13:14:35-05:00
c3c97e65552e307b59317729a7bff98f39d2c109,add register and unregister methods to Diagnostic,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 11:52:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 11:52:50-07:00
c8d95c610690bee7041ac0a710cba55646beb9c5,"Merge pull request #515 from mrocklin/register-callbacks

[WIP] Diagnostic register method",Matthew Rocklin,mrocklin@gmail.com,2015-08-03 12:04:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 12:04:19-07:00
dfe773718f62076fb99d197da0a6c2801281fb5e,update authors,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 12:20:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 12:20:15-07:00
51b591668e64ab130294d238030a179931037e93,"Unify `compute`

All collections now use the same `compute` function defined under
`Base`.",Jim Crist,crist042@umn.edu,2015-08-03 15:09:09-05:00,Jim Crist,crist042@umn.edu,2015-08-03 15:09:09-05:00
616b77fb5fc840f34220e87a2b2d9371b379416f,num-workers kwargs passes through to threaded get,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 13:35:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 13:35:56-07:00
824a526f9761b3cab2ed0a4e24db4cc6e45c031d,"Merge pull request #516 from mrocklin/add-authors

Update authors",Matthew Rocklin,mrocklin@gmail.com,2015-08-03 13:46:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 13:46:22-07:00
1e11517d4b37bb6c87aa4ba0c83eff079771140e,"Add `Config` class to dask.base

This holds the configuration for each collection, and simplifies the
number of `_*` methods needed for each class. It also allows for
removing the specialized `get` functions from each collection.",Jim Crist,crist042@umn.edu,2015-08-03 16:48:07-05:00,Jim Crist,crist042@umn.edu,2015-08-03 16:48:07-05:00
fe72915d1372efac258a107313b9818e447e1761,"Merge pull request #518 from mrocklin/threaded-num-workers

num-workers kwargs passes through to threaded get",Matthew Rocklin,mrocklin@gmail.com,2015-08-03 14:50:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 14:50:09-07:00
ac27da8a15b2bddbb57863484bc6f9d8fb504ce8,"Re-add `_visualize` to `Base`, and deprecate it

Users should use `visualize` instead.",Jim Crist,crist042@umn.edu,2015-08-03 17:06:50-05:00,Jim Crist,crist042@umn.edu,2015-08-03 17:06:50-05:00
e942399b5d2f1c51e1a790c2d286d1085d40ec47,Cleanup imports after adding dask.base,Jim Crist,crist042@umn.edu,2015-08-03 17:23:57-05:00,Jim Crist,crist042@umn.edu,2015-08-03 17:23:57-05:00
7e1c6b09b0919f0ccaf8d0b342bac492a863e4dc,"Add tests for dask.base

Also reconfigured `dask.base.compute` to work with differing collections
properly.",Jim Crist,crist042@umn.edu,2015-08-03 18:14:02-05:00,Jim Crist,crist042@umn.edu,2015-08-03 18:14:02-05:00
bf75f3669dd127c293d48905d0635e75c6e3c732,replace Config object with Base._get method,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 20:05:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 20:05:07-07:00
bd469128fc10eba581c4c330f26b16a728d856ef,"Merge pull request #3 from mrocklin/collections

Replace Config object with Base._get method",Jim Crist,crist042@umn.edu,2015-08-03 22:56:31-05:00,Jim Crist,crist042@umn.edu,2015-08-03 22:56:31-05:00
441520e0f1f5bd1847204cd5f73bc4966755201e,test mixed default_get compute,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 07:43:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 07:43:01-07:00
1a1bbca1999c2a270abcbf5fd8694f9c39d3158a,support py3 by avoiding dict.values()[0],Matthew Rocklin,mrocklin@gmail.com,2015-08-04 07:45:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 07:45:23-07:00
970ed1e2322d03582429d0d3b61b588b9e5e62fa,test visualize,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 07:50:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 07:52:25-07:00
ce2af433310483b1932e1c3e9b74888be8d27bea,"Merge pull request #4 from mrocklin/collections

Collections",Jim Crist,crist042@umn.edu,2015-08-04 10:33:22-05:00,Jim Crist,crist042@umn.edu,2015-08-04 10:33:22-05:00
06e1f56b88ca352f817fd9322e5934362d080549,Few cleanups to dask.base,Jim Crist,crist042@umn.edu,2015-08-04 10:50:19-05:00,Jim Crist,crist042@umn.edu,2015-08-04 10:50:19-05:00
19c67e90af1b82a19d824c5c3c7609999bbe4f73,"Merge pull request #504 from jcrist/collections

Unify Collections",Matthew Rocklin,mrocklin@gmail.com,2015-08-04 08:59:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 08:59:26-07:00
45c39de1b0ff0f37291bfbde977a75c15778dbc6,"Dask imperative plays well with other collections.

```
>>> import dask.array as da
>>> import dask.bag as db
>>> from dask.imperative import do
>>> from dask.diagnostics import ProgressBar
>>> from dask.async import get_sync
>>> import numpy as np

>>> arr1 = np.arange(100).reshape((10, 10))
>>> arr2 = arr1.dot(arr1.T)
>>> darr1 = da.from_array(arr1, chunks=(5, 5))
>>> darr2 = da.from_array(arr2, chunks=(5, 5))
>>> b = db.from_sequence([1, 2, 3])
>>> seq = [arr1, arr2, darr1, darr2, b]
>>> out = do(sum)([i.sum() for i in seq])
>>> with ProgressBar():
...     out.compute()
[########################################] | 100% Completed |  0.1s
```",Jim Crist,crist042@umn.edu,2015-08-04 12:21:29-05:00,Jim Crist,crist042@umn.edu,2015-08-04 12:21:29-05:00
a4371d5dc9ccac3cdc95a33cc2e27fbcb9fadd41,Value subclasses from Base,Jim Crist,crist042@umn.edu,2015-08-04 12:49:52-05:00,Jim Crist,crist042@umn.edu,2015-08-04 12:49:52-05:00
54506dc046184925ec3378770b2bc5c416e4ae40,Add dask.array.fft with fft and ifft,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 14:50:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 15:10:14-05:00
7bf47ceb1872db834a91cbcc2193366bff1abb58,Add tests for fft and ifft,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 14:53:15-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 15:10:14-05:00
1d2bd7664547d7121ac0d84f8c88a737bbd9108a,Add fft and ifft to dask.array.__init__,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 14:54:02-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 15:10:14-05:00
99daed6020267277f9a3d8e8ada40c4cacd32c27,"Rework printing of tasks for profiler

Now print variables as `_`, constants as `*`. This results in shorter
task names that are consistent across constants (which is what we
usually want).",Jim Crist,crist042@umn.edu,2015-08-04 15:17:18-05:00,Jim Crist,crist042@umn.edu,2015-08-04 15:20:29-05:00
5db51602fb24b40b676464a4c77e3b8e84136d40,Use concrete instead of list in imperative,Jim Crist,crist042@umn.edu,2015-08-04 15:32:55-05:00,Jim Crist,crist042@umn.edu,2015-08-04 15:32:55-05:00
220c0cbb60f5261d951c10daece9324419ad539b,Update profile plot in docs,Jim Crist,crist042@umn.edu,2015-08-04 16:06:54-05:00,Jim Crist,crist042@umn.edu,2015-08-04 16:06:54-05:00
e09e9ade97714cb228f1bac58ef25f969a0c234e,"Remove included javascript/css in profile plot

Works on my computer, hopefully still works on sphinx...",Jim Crist,crist042@umn.edu,2015-08-04 16:11:08-05:00,Jim Crist,crist042@umn.edu,2015-08-04 16:11:08-05:00
1f675a87880904bd84aa3c90833482eaef7834fb,"Merge pull request #489 from mrocklin/distributed-state

[WIP] Reuse Distributed State",Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:15:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:15:33-07:00
f134f9c8b3fdd0d33cb9b6caacb903ecf7bd2147,read_csv fails on no filenames,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 17:14:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:09-07:00
a212e6ec72ffd5fcbb1c04aee11da1f3d22c382f,use md5 for token in read_csv,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 12:37:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:09-07:00
65944de5d36ef274d7cdbd67d6d7e985d2fd7924,concat uses deterministic naming scheme,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 12:41:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:48-07:00
9f0ccccae16ff5b02b9d538ab24f6afdbec731c6,read_csv token hash includes modification time,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 12:48:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:48-07:00
3d0689fb0d7a391e3768b283216dfb04f9f3a30c,use hashed names in from_pandas and elemwise,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 13:23:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:48-07:00
bdb44c0c020a58bb62b1c6f2ab549c2e9a347c62,use deterministic names in reductions,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 13:29:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:48-07:00
8f3a4d6a9520c0a251d5a9e0a8d012e6a35d6d4d,use deterministic hashed names in apply-concat-apply,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 13:38:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:16:48-07:00
c13ce740b973c7b51465f4152faeb451c0543d2a,pull md5 into tokenize function,Matthew Rocklin,mrocklin@gmail.com,2015-08-02 13:45:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:17:26-07:00
2e317ec440ad151829fa3fa2c12d4f4e1ebcce7c,more hashing of dataframe operations,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 09:24:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:18:40-07:00
b5e65ed84296e375d6ec7aa9bbe95122864a8459,map_partitions uses hashed names,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 09:59:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:18:40-07:00
35f1e7f1e5503b9954659f571f441db66bc8d4bb,remove tokens from dataframe/io,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 10:17:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:19:14-07:00
ad5445d86841376a7f9a317b1c46c55213288e6e,use hashed names in dataframe/multi.py,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 10:24:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:19:14-07:00
68de85c6838f1915b0c8167ac27418ac3dcf19bf,use hashed names in dask/dataframe/rolling.py,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 10:36:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:19:14-07:00
af95337ab5ac9eb9123a583d4bcbf78ba9e91242,"shuffle uses hashed names for final results

We use uuid for the ephemeral on-disk partd state.
This will need to be recomputed if we need to use it.
We still use hashed names for the final results though so that we can
skip shuffling if everything above is cached.",Matthew Rocklin,mrocklin@gmail.com,2015-08-03 10:46:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:19:35-07:00
e388ed8e20097d708758c4002272fb92feb09777,py34 fix,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 13:38:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:20:36-07:00
9ad488eb609a730e4712ef4d0f37a83efe02a2c0,more tests for deterministic names,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 13:45:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:20:36-07:00
72dc43cb13053cc86596eca9069979e1ef9ff768,"Merge pull request #523 from jcrist/prof_labels

Rework printing of tasks for profiler",Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:21:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:21:24-07:00
62aff86ebcb67f27471ccd1de88be5bfaf947d76,"Merge pull request #520 from jcrist/imp_compat

Dask imperative plays well with other collections.",Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:23:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:23:36-07:00
55f04742cc3b2fcece50929a6744069717b4a2f0,"Merge pull request #510 from mrocklin/dataframe-hash

Use deterministic names for dataframe",Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:29:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 14:29:44-07:00
ce023f8c6d3e92d3a3134b779b588d9479c7a6ad,"Run Worker.close from main thread

Previously we ran this operation from a thread.  This was bad because
this operation kills the thread pool in which it runs.  We create a
special set of remote functions that get run in the main event loop",Matthew Rocklin,mrocklin@gmail.com,2015-08-04 16:35:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 16:35:00-07:00
58954d3903e2386afcbed52b1b04f32eda2d2b19,to_castra supports compute=False,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 16:49:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 16:49:56-07:00
b6eb72bc92b4873496d16a8b23b196eefc4c0c30,"Add rfft, irfft, hfft, ihfft. better errors.",Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 22:10:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 22:10:22-05:00
ec8058d8056db78d409885d18430a7eff6fda284,"Add tests for rfft, irfft, hfft, ihfft",Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 22:11:54-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 22:11:54-05:00
355f90ad474ddbb2450703070781f0179c7ad1a8,Fix dataframe tests to use eq,sinhrks,sinhrks@gmail.com,2015-08-03 22:37:27+09:00,sinhrks,sinhrks@gmail.com,2015-08-05 14:57:35+09:00
3258ff8f0b9caec9bc790dad385f8ede0f25134c,API: Fix return types to be compat with computation result,sinhrks,sinhrks@gmail.com,2015-08-04 21:45:24+09:00,sinhrks,sinhrks@gmail.com,2015-08-05 14:59:40+09:00
7617b19e39795764e0bfbf96370362951bfbad17,simplify test_arithmetic_frame,sinhrks,sinhrks@gmail.com,2015-08-04 21:58:19+09:00,sinhrks,sinhrks@gmail.com,2015-08-05 15:37:32+09:00
d0f423d24e16e2b8267721f681ebf60faefd570a,DOC: Fix Series accessor methods,sinhrks,sinhrks@gmail.com,2015-08-05 15:41:23+09:00,sinhrks,sinhrks@gmail.com,2015-08-05 15:41:23+09:00
047bf939cb188d801d2163a532c39b6dfede55c0,"Merge pull request #527 from sinhrks/acc_docstring

DOC: Fix Series accessor methods",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:27:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:27:01-07:00
f54f354614abd584e006cf4e31871f2c0f82d1fe,"Merge pull request #512 from sinhrks/assert_frame

Use appropriate dask instance based on its computation result / Improve tests",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:39:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:39:47-07:00
4df5abc5362d1cf5101a78d5e666273c60865cdf,"Merge pull request #524 from mrocklin/distributed-threads

Run Worker.close from main thread",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:42:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:42:30-07:00
7664703d2dfac12860a5468bc926b7259f10ae64,"Merge pull request #526 from mrocklin/castra-fix

to_castra supports compute=False",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:43:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:43:02-07:00
dff56cbe0522d91c3ddfa08cc06c3ad82122fde6,"Make concat that works on both Frams and Indexs.

closes gh-517",Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 12:59:38-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:46:40-07:00
bef94a14ed8261db685979abc736dd0f64392b5d,Regression test for gh-517,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 13:01:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:46:40-07:00
73b7a84bc25653dea899f128df8eb5f2ea45ea95,"Use df._concat instead of my concat

_concat is more generic",Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 15:32:55-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:46:40-07:00
5cf31a54153c025cbe0e0960bde8567ba1752b44,Add .count and .nunique methods to Index,Blake Griffith,blake.a.griffith@gmail.com,2015-08-04 20:40:10-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 07:47:18-07:00
e7c7a7dd67007e1f148be920cb8f5031699b19f7,Refactor fft tests. Consolidate test data.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 12:37:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 12:37:07-05:00
5fa2ae1bea82f0bb0aa923722b5e13875fe3fee0,"Add support for ""n"" fft kwarg. Fix out sizes.",Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 14:38:08-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 14:38:08-05:00
65d3f323ed878acbb6d5b739fd49f208c637f207,Add n kwarg and size tests to ffts.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 14:43:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 14:43:50-05:00
ee2edc2260ca14ed0d7b590afe83456e99e70f8c,"Add ""n"" kwarg, and return value docs for FFTs.",Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:00:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:00:05-05:00
d76d345f69567243d5bb90da1a19b70313e8978c,Abbreviate tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:24:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:24:07-05:00
638e730838aab5d31495406c2285043d1a24d342,Remove unittest class. Use bare tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:34:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:34:51-05:00
68ad2c860992c8ca558ef88339a8d64749a729f8,Use NumPy's docstrings directly.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:49:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 15:49:32-05:00
f92b671304674ec51a82bc6bd7af4acc1cbf6e2a,BUG: SeriesGroupBy.nunique may return incorrect result,sinhrks,sinhrks@gmail.com,2015-08-05 21:23:58+09:00,sinhrks,sinhrks@gmail.com,2015-08-06 06:03:35+09:00
b57fb6bf6c4d26e1d2bff1ea7d3927821148afb9,"Add rff, irff, hfft, ihfft to __init__.py.",Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 16:07:35-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 16:07:35-05:00
1fda60beb90da3d7cbe4a93df8bad2aa38de9ae6,Remove fft imports from __init__.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 16:15:25-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 16:15:25-05:00
7bf28a551611c43e08453216ef49d2272889ddde,"Merge pull request #529 from sinhrks/nunique

BUG: SeriesGroupBy.nunique may return incorrect result",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 14:16:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 14:16:36-07:00
24b46e97414523df27faacd8be6c199981e28049,Refactor fft wrapper to do it all.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 16:53:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 16:53:33-05:00
57bd1417076ab15466c5320a7f2b331bb3b26bc6,Consolidate doc preambles. Simplify _fft_wrap.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 22:39:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 22:39:51-05:00
79ae559e604590ca0469a38a5e87d5b1e362e2bf,"Make progress bar work in notebook

Call to sys.stdout.flush() in posttask is needed because ipython buffers
printed output from background threads in the notebook. This gets around
that by calling flush in the main thread. This means that the
progressbar will not update as frequently in the notebook as it would in
the terminal, but still works in both.",Jim Crist,crist042@umn.edu,2015-08-05 23:05:21-05:00,Jim Crist,crist042@umn.edu,2015-08-05 23:05:21-05:00
33dc576eed1463bfc924e2c3c492a5813248d254,Ignore dask/array/fft.py doctests (with py.test),Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 23:09:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-05 23:09:01-05:00
ee8b057feca83b7f9935ff93a90f6baa9954ec19,"Merge pull request #533 from jcrist/ipy_prog_bar

Make progress bar work in notebook",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 21:14:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 21:14:49-07:00
e6db9b33df4101acbf4e3e4fa0fdf21703f4c252,Fix Index repr / index attribute access,sinhrks,sinhrks@gmail.com,2015-08-06 20:31:28+09:00,sinhrks,sinhrks@gmail.com,2015-08-06 20:31:28+09:00
7ced411827d5d3edfc0ddbdcb784a8d2ff210a77,"Merge pull request #534 from sinhrks/index

Fix Index repr / index attribute access",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 07:46:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 07:46:23-07:00
1aef27bf75d33807f5669af60823d802fba6a286,"Remove `Diagnostic` class.

Now everything can be done with single `Callback` class.",Jim Crist,crist042@umn.edu,2015-08-06 10:40:40-05:00,Jim Crist,crist042@umn.edu,2015-08-06 10:40:40-05:00
3047ea897a156e2887b50ff6569a825d4b5cc96a,"Add heuristics around map_partitions names

Policy is as follows:

1.  The map_partitions function expects explicit column names/name
2.  The map_partitions function will infer return type based on names
3.  The map_partitions method accepts either columns=, or name= and
    defaults to its own columns if nothing is given",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 08:50:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 08:50:16-07:00
9e395141cc958c3dfc7fee95893e8d037ca9dd77,Updated diagnostics docs to new callback design,Jim Crist,crist042@umn.edu,2015-08-06 10:51:36-05:00,Jim Crist,crist042@umn.edu,2015-08-06 10:51:36-05:00
30ec23d8a5be575d0c5953a03f1c763f7799ca7c,Add fft module import too dask/array/__init__,Blake Griffith,blake.a.griffith@gmail.com,2015-08-06 11:24:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-06 11:24:14-05:00
39d3bdf4c54d1f5111f37291d77104f6a553753b,Add DataFrame.tail,sinhrks,sinhrks@gmail.com,2015-08-06 20:54:51+09:00,sinhrks,sinhrks@gmail.com,2015-08-07 02:56:51+09:00
0671f83a1bb634e153567b17134393e6df46c776,"Merge pull request #535 from sinhrks/tail

Add DataFrame.tail",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:07:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:07:59-07:00
6adc47ea83d1e2dc97d0ce881dca4e7c47a75467,"Merge pull request #537 from jcrist/callback_ver2

Remove `Diagnostic` class.",Jim Crist,crist042@umn.edu,2015-08-06 13:08:37-05:00,Jim Crist,crist042@umn.edu,2015-08-06 13:08:37-05:00
43804a7eca170d8f4de508462d8a19988d6bfe2e,"Merge pull request #522 from cowlicks/gh-405

Add dask.array.fft",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:13:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:13:04-07:00
bbf798529810b8f1478c63ef59db583505fbb553,use only columns= kwarg in map_partitions method,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:26:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:26:03-07:00
763ddbc729354e1965976d2978a1e4cbf2fd3a10,"raise informative error on mismatched columns, return_type",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:30:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:30:51-07:00
f4af4334ff4ad078fbd0a67ee1a44f5cb961487c,Add compute to collection namespaces,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:01:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:34:07-07:00
42783cc3ba8815ff0f34f33771d49d5557df6b1b,to_castra uses the right keys,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 15:01:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:35:35-07:00
b1cb1b93807fa075d65def649e558c051c28ef4b,"Update ordering

1.  Now lower number has higher priority
2.  Better tests (with ASCII art!)
3.  Allow scores to creep into child max
4.  Depth first computation marks nodes as seen after computation, not neighbor
    viewing.  Increases cost to O(E) but nicer in useful cases.",Matthew Rocklin,mrocklin@gmail.com,2015-08-05 16:59:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:35:35-07:00
ce54e68c01a77149b43ef4682f4f0a0dbd7f6156,to_castra uses get_sync,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 17:09:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:35:35-07:00
45d6832bbdee3e671b25b6ec57d68b6a605478f6,correct doctests in order.py,Matthew Rocklin,mrocklin@gmail.com,2015-08-05 17:31:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:35:35-07:00
c23b88769b554c612d27536e49a25cef58a2d7ee,typo,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:32:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:35:35-07:00
a751ba272fc154733c7b766ec162ac3ddbcaa732,"Merge pull request #530 from mrocklin/to-castra-fix

Fixes around to-castra",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:43:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 11:43:49-07:00
16a8a4da5cc065e9657c73b6642acd32e5bf383e,Support random_state kwarg in DataFrame.sample,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 12:02:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 12:02:33-07:00
8748a768e0916e398df97ca48ca773969426e37c,"Merge pull request #539 from mrocklin/compute-module

Add compute to collection namespaces",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 12:55:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 12:55:21-07:00
e5d6db20109d00cff4fece1bab3f29aebde39fb4,callback docstring,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 13:00:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 13:00:58-07:00
cbaa8176185d1f7e394758af6edf174121298b72,add subclass note to callback docstring,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 14:41:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 14:41:05-07:00
622da7df93025055bba6835d0f6b585038201170,"Merge pull request #542 from mrocklin/various

Callback docstring",Jim Crist,crist042@umn.edu,2015-08-06 16:47:24-05:00,Jim Crist,crist042@umn.edu,2015-08-06 16:47:24-05:00
71b6504c1a63848f2c3883d407f3a879de6aef4a,"Use sentinel value for fold(..., initial=)

See https://github.com/ContinuumIO/dask/pull/519",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 16:12:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 16:12:09-07:00
ac3335e4329a5a2ff951a4fcb19f4e6d30b24195,"Merge pull request #544 from mrocklin/bag-fold

Use sentinel value for fold(..., initial=)",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 16:25:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 16:25:08-07:00
f5cb23bb22a7c09604fb10c79694747b5e9d886a,"add DataFrame.drop

See http://stackoverflow.com/questions/31867983/cant-drop-columns-or-slice-dataframe-using-dask",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 21:37:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 21:37:47-07:00
ef8ff4433fa5f1095bf039aaa614ce46da0e90f5,"Merge pull request #546 from mrocklin/dataframe.drop

add DataFrame.drop",Matthew Rocklin,mrocklin@gmail.com,2015-08-06 21:46:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-06 21:46:17-07:00
36c767c69d9b82a0f6aa6acf0c3b7dcea1a56bcf,"Merge pull request #538 from mrocklin/map-partitions-names

Add heuristics around map_partitions names",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:04:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:04:36-07:00
d462484e7af23d0bab3805045504f4cb3188a8e9,"Merge pull request #540 from mrocklin/dataframe-sample-random-state

Support random_state kwarg in DataFrame.sample",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:04:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:04:42-07:00
bca17d33924d3e4bb7fef3ffa68bef2c00d98f61,remove return_type from map_partitions,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:11:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:11:43-07:00
e9ed9f51d55afa7ff31b34d7f1b68a7a7d8c2306,"Merge pull request #547 from mrocklin/map-partitions-return-type

remove return_type from map_partitions",Sinhrks,sinhrks@gmail.com,2015-08-08 00:27:43+09:00,Sinhrks,sinhrks@gmail.com,2015-08-08 00:27:43+09:00
d6683a2086e63f07173287c96558ebd80abb6286,Fix intermittent error in test_collect_retry,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:32:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 08:32:57-07:00
bb9760b4f7a27302e3b3e98ea214b04601964d75,BUG: DataFrame.columns and Series.name may be incorrect,sinhrks,sinhrks@gmail.com,2015-08-06 22:12:40+09:00,sinhrks,sinhrks@gmail.com,2015-08-08 00:50:25+09:00
7ec5a45c1b0fb5c9e8ca83a8c7266b5d79ef3994,"Merge pull request #536 from sinhrks/test_columns

BUG: DataFrame.columns and Series.name may be incorrect",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 09:56:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 09:56:05-07:00
4a1efce8d71231ff134a145022951f09be66d0dc,Add DataFrame aggregations,sinhrks,sinhrks@gmail.com,2015-08-01 17:46:37+09:00,sinhrks,sinhrks@gmail.com,2015-08-08 02:17:01+09:00
d697415f91fe02f9e79b1a72371c9de8cb4deae4,"Merge pull request #513 from sinhrks/dfagg

Add DataFrame aggregations",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 11:00:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 11:00:03-07:00
81bcc32f74d44f0dc33953134f9d6dd3870bd088,make progressbar robust to no tasks,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 11:55:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 11:55:21-07:00
45a13fc534a61b2df8a54c24da1210d4a5c348b2,"Merge pull request #550 from mrocklin/progressbar-debug

Make progressbar robust to no tasks",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 12:31:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 12:31:12-07:00
aaf4a2e32524056100d2e4f20bbb7a2ae9fee10d,Fix for pandas Categorical.name deprecation,sinhrks,sinhrks@gmail.com,2015-08-08 07:19:23+09:00,sinhrks,sinhrks@gmail.com,2015-08-08 07:19:23+09:00
59635a9f5362eec20c74fd7f858d3db3a6801473,"Merge pull request #552 from sinhrks/categorical_name

Fix for pandas Categorical.name deprecation",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 15:36:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 15:36:50-07:00
caa219c19b98b1593c0750ee3a957642b43d5fde,Add GroupBy aggregations,sinhrks,sinhrks@gmail.com,2015-08-08 05:26:25+09:00,sinhrks,sinhrks@gmail.com,2015-08-08 08:01:35+09:00
03f0238065216f62eda2411c60dfede3b5c6cc84,"Quote list literals given to fold

When we give a list to the fold method the schedulers interpret it
as a generator, this can upset user code.  Here we quote the initial
value with a call to `list`.

This should be replaced by a more robust `quote` function.

Fixes #554",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 17:22:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 17:22:03-07:00
b178786241d1e9b84cca37636be1c168d2fa7443,"Merge pull request #555 from mrocklin/fold-list

Quote list literals given to fold",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 17:31:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 17:31:00-07:00
211243fffa950398e3c0e924f607115af680ff0f,"Merge pull request #553 from sinhrks/groupagg

Add GroupBy aggregations",Matthew Rocklin,mrocklin@gmail.com,2015-08-07 17:38:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 17:38:33-07:00
49f0f7fa3932d0a17f3e453a59c7927a39c45505,Use meaningfull token name,sinhrks,sinhrks@gmail.com,2015-08-09 11:11:51+09:00,sinhrks,sinhrks@gmail.com,2015-08-09 17:41:46+09:00
6fe6593bf435c92f933f56ca367603f1f0802e32,"Merge pull request #556 from sinhrks/agg_graph

DataFrame to use meaningfull token name",Matthew Rocklin,mrocklin@gmail.com,2015-08-09 08:31:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-09 08:31:32-07:00
586965c193989e2fc2163a71f388078ff4626bde,"Remove ""do not use"" comment from dask.dataframe",Blake Griffith,blake.a.griffith@gmail.com,2015-08-09 16:22:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-09 16:22:05-05:00
717dc3e5981c40a2d66ec579224a7f6f233329c9,"Groupby with multiple keys

Groupby with multiple keys",sinhrks,sinhrks@gmail.com,2015-08-09 14:32:46+09:00,sinhrks,sinhrks@gmail.com,2015-08-10 06:55:20+09:00
576b085e2793f5b98af3ff8c43c205188df879eb,"Merge pull request #559 from sinhrks/group_mult

Groupby aggregation raises TypeError when grouped with multiple keys",Sinhrks,sinhrks@gmail.com,2015-08-10 07:00:13+09:00,Sinhrks,sinhrks@gmail.com,2015-08-10 07:00:13+09:00
6eb2bb4a45478b4b5f92a963d81846170b6deed3,Series aggregation with nan may be incorrect,sinhrks,sinhrks@gmail.com,2015-08-09 16:04:08+09:00,sinhrks,sinhrks@gmail.com,2015-08-10 07:00:39+09:00
ada387c664f2db6f0201caf34b72e7719a886c5a,"Merge pull request #558 from sinhrks/nanops

BUG: Series aggregation may output incorrect results",Sinhrks,sinhrks@gmail.com,2015-08-10 07:12:10+09:00,Sinhrks,sinhrks@gmail.com,2015-08-10 07:12:10+09:00
caf537f4864b3dab2c02dd2c21179249eed36b9c,shorten sleep time in distributed test,Matthew Rocklin,mrocklin@gmail.com,2015-08-09 17:57:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-09 17:57:13-07:00
2f384b830b22b3a8190145f5fe46b400dcc70bc8,Fix repartition edge case bugs,sinhrks,sinhrks@gmail.com,2015-08-10 15:27:14+09:00,sinhrks,sinhrks@gmail.com,2015-08-10 19:28:21+09:00
ff1b5df791eba6e14f8b000e299e7deeac90e0ea,move notebooks to anaconda.org,Christine Doig,christine.doig.cardet@gmail.com,2015-08-10 16:02:35+02:00,Christine Doig,christine.doig.cardet@gmail.com,2015-08-10 16:02:35+02:00
c3cf4bfdc6ec8e26863354fc70f8fe61837938ab,"Merge pull request #561 from sinhrks/dd_merge

Fix repartition edge case bugs",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 07:23:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 07:23:11-07:00
e8e334dd514d6eba739fd8d1ff6d67dcedc9a1b6,add link to notebooks in readme,Christine Doig,christine.doig.cardet@gmail.com,2015-08-10 16:24:54+02:00,Christine Doig,christine.doig.cardet@gmail.com,2015-08-10 16:24:54+02:00
4369368c17d68e512b610b71fff5f395935324f0,Replace hash strings when dot printing,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 07:43:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:03:04-07:00
38ba0a55a0eeb6ff83dd5d6ebd41d7642a71505c,provide default filename to visualize method,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 07:45:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:03:07-07:00
682853c10716c0efeba759a6bf29f642db6ad7ab,"Merge pull request #548 from mrocklin/distributed-fix

Fix intermittent error in test_collect_retry",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:36:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:36:25-07:00
4c9d735692c2b512818daf7fa6dc9c3e0193ce80,Make `bag.fold` documentation more explicit,Stuart,stuart.owen@gmail.com,2015-08-03 14:07:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:43:42-07:00
fb8049dbf88142af241be00a5f1eb04fa65f3c71,update fold docstring,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:42:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 08:44:19-07:00
2d94da1cad5b22718b03c92cb400f76ca23b2cf5,"Merge pull request #563 from mrocklin/dot-fixes

Dot fixes",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:26:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:26:14-07:00
e21b906d3f6bed73cb7e4bcb2cc6cc63154566b2,add more complex fold example,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:40:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:40:37-07:00
8da68c6c9190da2c076a526fc5bf8e451ab49f28,"Merge pull request #565 from mrocklin/update-fold-docs

Update fold docs",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:45:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:45:08-07:00
77fe814295ee7f3cefb68217803fed13e5268b2c,protect test against numexpr absence,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:51:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:51:51-07:00
b097b163595dc134ae6b6e8c4f26a4889d2fc57a,ignore importerror around scipy,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:56:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 09:56:41-07:00
ec411c608003ce353174b46b784f1df738b1bd9b,"Merge pull request #566 from mrocklin/numexpr-scipy-tests

Numexpr scipy tests",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:03:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:03:39-07:00
c1ebfc85208044a8d02a0d9664f4cb85fd89b2cb,Fix csv modification time to wait until filesystem syncs,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:44:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:44:43-07:00
0e035edf43ae122c3b4d938f35c36063ca886860,Ignore errors on ProgressBar printing,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:51:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:51:23-07:00
330fc0fd9de19c2995c571e9d10cc30f6d72eb0e,add sleep import,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:53:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 10:53:21-07:00
65fab44c257c09c8fc55864da54e22cbc2a11213,"Merge pull request #568 from mrocklin/ignore-progress-stdout-error

Ignore errors on ProgressBar printing",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 11:04:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 11:04:55-07:00
54e04769a24901702918392fa6a3504b978ed3f4,add fuse_optimize function,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 13:53:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 14:24:32-07:00
3f10b9cc0544215a8f66a0e16794a5ca90e69073,use fuse_optimize in dask.dataframe,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 13:53:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 14:24:34-07:00
d6b930bb5fea43e3711b87a00eae674fa1338923,Add unique id to replace hash,sinhrks,sinhrks@gmail.com,2015-08-11 02:25:29+09:00,sinhrks,sinhrks@gmail.com,2015-08-11 07:59:17+09:00
b4cf70d4a85bddf6128ae271f95786e6cdce2443,"Merge pull request #567 from sinhrks/dot_graph

Add unique id to replace hash of dot_graph",Matthew Rocklin,mrocklin@gmail.com,2015-08-10 16:09:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 16:09:38-07:00
d0da36c2913ae8f149e1c83f3eb2b96dda9720b2,"Merge pull request #569 from mrocklin/fuse-getitem

Fuse getitem optimization",Matthew Rocklin,mrocklin@gmail.com,2015-08-11 07:07:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 07:07:56-07:00
bf4ff8c177a00db8b6b892e643807f730ccd7b6f,start callbacks happen before start_state generation,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 09:13:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
be49a12129be83f87217a8da3f28fe3a46ee7927,add cache profiler,Matthew Rocklin,mrocklin@gmail.com,2015-07-31 09:40:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
16bc9c9fd5dfb3caf12e7a8ed3fb777f033ccf2c,"rename cache->Cache, support direct inputs",Matthew Rocklin,mrocklin@gmail.com,2015-08-03 12:36:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
d30001b1bd996aff9689a4ed0f667b97914f6bba,skip doctest,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 14:53:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
6a51950a1817d5cd11277cc6b7a97f9901919802,async guards input dask graph with copy,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 14:58:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
19b0dfca404c0610196bfb64d53be4695648753d,unregister cache in doctest,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 15:14:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
39fdd33c735aa527445a2b21dae832b6a8244116,skip tests if cachey not available,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 15:25:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
7acd91331d97a9a4c2190c7d6c8844bd4b7ccfe3,add cache to diagnostics/__init__.py,Matthew Rocklin,mrocklin@gmail.com,2015-08-03 15:26:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
eaf7c4f5447b9305703e8cf7f0f411c49c75bff6,cache prefers cheap dependents,Matthew Rocklin,mrocklin@gmail.com,2015-08-04 15:18:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:02-07:00
af6edb4ffeb6c48ed79b6410895bab81acb39f99,Replace Diagnostic with Callback in Cache,Matthew Rocklin,mrocklin@gmail.com,2015-08-07 11:47:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:13:37-07:00
4880407aa733a53f10719c0120293df5524f9629,strip dd.optimize tests of fuse,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 14:19:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:35:36-07:00
aa8e5fd24a50fd17e6ddcfc984c88be891f64e24,turn off numexpr,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 07:58:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:35:39-07:00
10a178578d9ddeaa290b420f35434ae6e251fdf0,use overhead in cache computations,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:00:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:35:39-07:00
741a5ed550505e3043c97c9643a53850df94c10b,clear timing data on finish,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:49:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 08:49:55-07:00
91bd28c1a2153dcc8f21d68a95cef1419fe7ae56,provide instructions to install dot,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 15:01:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-11 16:23:46-07:00
8d55cc21c95ddcc0c4e5f121bed27215fed9acb6,"Add `sorted_column_index` option to `to_castra`

This is for setting a known to be sorted column as the index when
storing in castra.",Jim Crist,crist042@umn.edu,2015-08-11 19:51:35-05:00,Jim Crist,crist042@umn.edu,2015-08-11 19:51:35-05:00
80fc901cd9c101bf5311cf852b406187126c29fd,Meaningful label for elemwise with scalar,sinhrks,sinhrks@gmail.com,2015-08-11 10:58:28+09:00,sinhrks,sinhrks@gmail.com,2015-08-12 11:43:24+09:00
91d01c4e87533300e28a7f05431a3242aefd8b69,"Merge pull request #571 from sinhrks/elemwise_name

Meaningful label for elemwise with scalar",Jim Crist,crist042@umn.edu,2015-08-11 21:51:32-05:00,Jim Crist,crist042@umn.edu,2015-08-11 21:51:32-05:00
a96bbf9cde9fd3b4961bf35d2e4f73832783b5ae,"Merge pull request #574 from jcrist/castra_setindex

Add `sorted_column_index` option to `to_castra`",Matthew Rocklin,mrocklin@gmail.com,2015-08-12 07:49:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 07:49:09-07:00
80d15a5184e2d3b859a66bdbcd0f7a75f240e3d4,"Merge pull request #573 from mrocklin/dot-install

Provide instructions to install dot",Matthew Rocklin,mrocklin@gmail.com,2015-08-12 07:49:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 07:49:15-07:00
3a330c6b79743d9c5f108d8682e5b66b21b9cfe6,"Merge pull request #502 from mrocklin/cachey

Cachey",Matthew Rocklin,mrocklin@gmail.com,2015-08-12 08:41:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 08:41:37-07:00
1051efbaf8cec5a8249a3c060be15f39223cc005,make doctest blind to int dtype,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:30:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:30:41-07:00
563a517f7bd1eef20e39aa3cb04a88e63f275f11,call finish callbacks on keyboard interrupt,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:31:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:31:48-07:00
daf8fce3c0f67a8e122c737e26c4deb3ad2e3ca8,mark read_csv getmtime test as slow,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:53:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:53:27-07:00
40b63653ca263b6987801dc8168b40154030b046,mark compression test as slow,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:54:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 13:54:28-07:00
a31f4a9cd77a1a82d2a375484e7b2b2962184da8,raise after cleaning up finish callbacks,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 14:32:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 14:32:10-07:00
4a2b382ee3a1b302b564f43a64863c5d470fdaee,"Merge pull request #577 from mrocklin/various-fixes

Various fixes",Matthew Rocklin,mrocklin@gmail.com,2015-08-12 15:09:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 15:09:57-07:00
a18492a1cc14c768c2c59aa88a772adab517c385,DataFrame related doc fixes,sinhrks,sinhrks@gmail.com,2015-08-13 11:22:27+09:00,sinhrks,sinhrks@gmail.com,2015-08-13 11:22:27+09:00
ccf8366a8801de7a3a03ddd36921ddbba348ab19,"Merge pull request #579 from sinhrks/df_doc

DataFrame related doc fixes",Matthew Rocklin,mrocklin@gmail.com,2015-08-12 21:46:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 21:46:54-07:00
5c1910ce57021895b235399e019cfef3a5850fcc,docfix in dask.array.ghost,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 10:43:38-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 10:43:38-05:00
dcd9e5ff7ea68059b117d5d9740ada5058661d11,"Make progressbar robust to cacheing affects

Now ntasks is initialized on the first call to ``posttask``. This
assumes that the dask graph only changes after between the call to
``start`` and the first task being run, which is true for the current
async scheduler implementation.",Jim Crist,crist042@umn.edu,2015-08-13 12:36:50-05:00,Jim Crist,crist042@umn.edu,2015-08-13 12:36:50-05:00
add9342db498897fec8d475a66fdac05a463ac5a,Move cache to top-level,Jim Crist,crist042@umn.edu,2015-08-13 12:43:57-05:00,Jim Crist,crist042@umn.edu,2015-08-13 12:43:57-05:00
b2307eec82a759e140c8666356839a00fec8efd3,Py 2.6 compat fix for progressbar test,Jim Crist,crist042@umn.edu,2015-08-13 12:53:41-05:00,Jim Crist,crist042@umn.edu,2015-08-13 12:53:41-05:00
72226c900578a9097cee5a6004e4568fdc2369d4,"Move tokenize to base

Also add sleep to dataframe test so it passes on osx.",Jim Crist,crist042@umn.edu,2015-08-04 18:18:36-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
4a04133c5b744002bf5b529d5172a272d3fcfc15,"Removes `names` in dask.array

`names` iterator is gone in favor of deterministic tokens.",Jim Crist,crist042@umn.edu,2015-08-06 16:04:33-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
9f985e2962d9f4dd5b80323d4de8ad00098d3b30,"Remove `tokens` iterator from dask.array

`tokens` iterator is removed in favor of deterministic tokens",Jim Crist,crist042@umn.edu,2015-08-06 16:58:33-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
b50e76a1bc883c647637d10287318860334ab07b,Use only deterministic names in da.core,Jim Crist,crist042@umn.edu,2015-08-06 17:05:10-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
fab0b57e0c28336ed1ae771e5b3c94a95dd8b093,Use only deterministic names in da.wrap,Jim Crist,crist042@umn.edu,2015-08-06 17:21:37-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
8eb24f2057a3075a9c82f3684f7bf85e9868f9ae,Use only deterministic names in da.ghost,Jim Crist,crist042@umn.edu,2015-08-06 17:31:20-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
82f8cbda7254a149e7df76a6103906728b66e3e4,Use only deterministic names in da.linalg,Jim Crist,crist042@umn.edu,2015-08-06 17:34:22-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:26-05:00
3b8c224cff65412adf2acfd5b412ad16552a9b22,Use only deterministic names in da.percentile,Jim Crist,crist042@umn.edu,2015-08-06 17:37:13-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
abee4787aab93daef6553d5e709561f607a32598,Use only deterministic names in da.rechunk,Jim Crist,crist042@umn.edu,2015-08-06 17:40:03-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
cf64109d69aa01302485623c1bbb4da0c3351adf,Use only deterministic names in da.slicing,Jim Crist,crist042@umn.edu,2015-08-06 17:44:21-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
a05cda0488d07dd315aded0d0cfbf9a1fadaf360,"Add Dispatch class

Provides extremely simple single dispatch on types. This is useful for
extensible functions, and will be used for `normalize`.",Jim Crist,crist042@umn.edu,2015-08-07 13:26:59-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
ef76a722c0acf78591854d9f9e090739775e83d5,"Use new tokenize method in dask

Tokenize is now variadic, and maps normalize over all arguments.
Dispatch is used for `normalize` to allow extension to custom types. The
following rule of thumb is used when applying `tokenize`:

- If special casing is needed (sorting kwargs, handling pandas objects,
  etc...), pass in each argument separately.
- Else, pass in a tuple containing all arguments.

This allows the dispatch system to handle the special cases, while also
remaining fast for normal use or cases that were already handled locally in each
function.",Jim Crist,crist042@umn.edu,2015-08-07 14:40:43-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
0eca1504925b704a340326e05e83dc877120a22d,Fix failing doctest,Jim Crist,crist042@umn.edu,2015-08-07 15:00:43-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
3e2eb61be87d67472026b8b132df8b288347bb64,"Cleanup Dispatch & normalize, add tests for each",Jim Crist,crist042@umn.edu,2015-08-10 11:56:22-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
ba12555787c48239ab8d7fd99a985c1f8e233736,"Add tests for deterministic tokens in dask.array

Fixes added for bugs as they were found. Biggest issue was deterministic
naming of functions that also knew about partial/compose/curry.",Jim Crist,crist042@umn.edu,2015-08-10 17:59:04-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
fcdcb3140c69620a851e8dd3d3b98e54637e369f,"Fix failing dataframe test in osx

The while loop was causing the test to lockup. Sleeping for 1 second
fixes it on my computer.",Jim Crist,crist042@umn.edu,2015-08-10 18:11:51-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
3b2fb7830d89475fa8bbb5d48314be8dcf1c2d78,"Compatibility fixes for array tokens

- Sorting function as str & tuple comparison is forbidden in python 3
- Apparently sometimes keywords is None on functools.partial objects.
  But not always. And it never is in 2.7, but can be in 2.6 and 3+.
  Which is both odd and annoying :/",Jim Crist,crist042@umn.edu,2015-08-10 18:51:41-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:05:27-05:00
94a538cc03612d51eb42cdecc4b19be10eaf6e26,"A few fixes to normalize_token

- `normalize` -> `normalize_token`
- Compatability fixes for new version of toolz, which changed the
  implementation of `Compose`.",Jim Crist,crist042@umn.edu,2015-08-13 13:45:25-05:00,Jim Crist,crist042@umn.edu,2015-08-13 13:49:44-05:00
4508044d36cd3c7adf89e5079662a86f13a9f454,Add __array/wrap/prepare__ to fix gh-580,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 14:05:05-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 14:05:05-05:00
e6938c01ea21258aabf0d561767d5c3f931504bd,"Fix for gh-580

Note that this does not do ""the right thing"" which would be to make
np.ufunc(dask.dataframe) return a dask.dataframe instead of a numpy
ufunc.",Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 14:05:40-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 14:05:40-05:00
45515d1befcbd0cf843618065e6f1de651986f50,Set .name attribute in Series.__array_wrap__,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 14:48:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 14:48:57-05:00
8a30d893d978c606d6daebaaedf25d2f65cc9384,Remove unnecessary __array_prepare__,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 15:15:53-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-13 15:15:53-05:00
dbad81bc3d5696c9ee1057d486958b6cfb574a04,Move normalizing Array logic to normalize_token,Jim Crist,crist042@umn.edu,2015-08-13 15:42:22-05:00,Jim Crist,crist042@umn.edu,2015-08-13 15:42:22-05:00
c287bdece440ebbb67359afbdaf1969580b45839,"Some dataframe tokenize cleanups

- Normalization of dask.dataframe objects now happens in
  `normalize_token` when it makes sense.
- A few bug fixes for non-deterministic cases, added tests to cover
  these.",Jim Crist,crist042@umn.edu,2015-08-13 16:40:05-05:00,Jim Crist,crist042@umn.edu,2015-08-13 16:40:05-05:00
a35523284f0c3a8351e9f9f881da1229f03c2d31,cmp_dsks -> same_keys,Jim Crist,crist042@umn.edu,2015-08-13 16:57:12-05:00,Jim Crist,crist042@umn.edu,2015-08-13 16:57:12-05:00
4b5f90eea08f21ad71e364472189d9b74c54f8c9,Add DataFrame.get_division,sinhrks,sinhrks@gmail.com,2015-08-14 06:57:01+09:00,sinhrks,sinhrks@gmail.com,2015-08-14 07:39:26+09:00
da31f0990f4a3ace160b332c0ea79e1d472e9141,"Merge pull request #583 from sinhrks/get_division

Add DataFrame.get_division",Matthew Rocklin,mrocklin@gmail.com,2015-08-13 16:00:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 16:00:11-07:00
4b6049f86dc066afb40b03bb02ccf42cb5871c09,"Merge pull request #543 from jcrist/array_tokens

Deterministic names for dask.array",Matthew Rocklin,mrocklin@gmail.com,2015-08-13 16:59:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 16:59:32-07:00
66960853476d0302995181764da0a866ebe085de,"Add da.image.imread function

Example
-------

>>> from dask.array.image import imread
>>> x = imread('2014-*-*.png')
>>> x.shape
(365, 1000, 1000, 3)

Arose in Stack Overflow question:
http://stackoverflow.com/questions/31951507/out-of-core-4d-image-tif-storage-as-hdf5-python",Matthew Rocklin,mrocklin@gmail.com,2015-08-12 17:31:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 17:00:09-07:00
d0a6ef87364e47d82ca5327897edd1d795408390,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-08-12 17:38:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 17:00:09-07:00
92d0701bde9a8428e1fe4e269dd504e21ea5eabe,use tokenize from base,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 17:01:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 17:01:16-07:00
d771470f11db2b61f002a0474571ec9fbd7bb828,"Merge pull request #578 from mrocklin/imread

Add da.image.imread function",Matthew Rocklin,mrocklin@gmail.com,2015-08-13 17:12:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 17:12:25-07:00
33eb263c05489d93b836590af30d3d4bc04a0ed1,Support DataFrame elemwise with different divisions,sinhrks,sinhrks@gmail.com,2015-08-11 11:22:58+09:00,sinhrks,sinhrks@gmail.com,2015-08-14 09:44:05+09:00
616199b45c6926547736a7bcb913f6d3bfaa009e,Support elemwise with divisions which edges are different,sinhrks,sinhrks@gmail.com,2015-08-13 14:45:13+09:00,sinhrks,sinhrks@gmail.com,2015-08-14 09:44:05+09:00
705a151b7ca50927339e6641e7f8be385f7238d8,Add force option to repartition,sinhrks,sinhrks@gmail.com,2015-08-14 07:04:04+09:00,sinhrks,sinhrks@gmail.com,2015-08-14 09:45:22+09:00
12df64d84aa6bad4a752751e64e396ae4fc0bb73,support custom imread function in imread,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 19:24:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 19:24:19-07:00
f1047f26509482a34f417a06e4298b5a411c5e11,"ProgressBar doesn't keep local state

Now robust to aliases in dask, as well as changes due to caching.",Jim Crist,crist042@umn.edu,2015-08-13 21:24:54-05:00,Jim Crist,crist042@umn.edu,2015-08-13 21:24:54-05:00
f3c534077fde088ae28fdceaa4a738db5b1a2913,add preprocess kwarg to imread,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 19:33:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 19:33:46-07:00
6616865d80819aeee5c5d10c3286a4a92cb1d3e7,"Merge pull request #572 from sinhrks/elemwise_align

Support DataFrame elemwise with different divisions",Matthew Rocklin,mrocklin@gmail.com,2015-08-13 19:35:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 19:35:16-07:00
d2222b919f5b8f7fe7e42ad9cf105b2e1e733294,"Merge pull request #581 from jcrist/progressbar_fixes

A few callback related fixes",Matthew Rocklin,mrocklin@gmail.com,2015-08-13 21:22:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-13 21:22:40-07:00
1f08bc2772966edf185d83e20dbf8e9ac2501635,preprocess sample image,Matthew Rocklin,mrocklin@gmail.com,2015-08-14 07:26:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-14 07:26:45-07:00
3cf5053f8450fb891fd69d92af1710a25d52f52c,"Merge pull request #582 from cowlicks/gh-580

dask.dataframe.Series.__array_*_ for better use with ufuncs.",Matthew Rocklin,mrocklin@gmail.com,2015-08-14 07:31:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-14 07:31:54-07:00
3a4118ee43c9e05eea325feb259d56657e6f41f5,Update README.rst,Christine Doig,christine.doig.cardet@gmail.com,2015-08-14 11:12:30-04:00,Christine Doig,christine.doig.cardet@gmail.com,2015-08-14 11:12:30-04:00
afb6faf1018ee31843ceb51b96b6f814a632f971,"Merge pull request #562 from ContinuumIO/chdoig/notebooks

Move notebooks to own repo and anaconda.org",Matthew Rocklin,mrocklin@gmail.com,2015-08-14 09:23:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-14 09:23:18-07:00
26e4981b48038e068791d40da391225187e7a3b3,bump version to 0.7.0,Matthew Rocklin,mrocklin@gmail.com,2015-08-14 12:29:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-14 12:29:25-07:00
e2eb321d27dd2c3283f8ad557c6c90c0481d3918,"Compat fix for new IPython release

- Distributed test robust to versions of IPython
- Add ipyparallel to travis install",Jim Crist,crist042@umn.edu,2015-08-14 16:02:52-05:00,Jim Crist,crist042@umn.edu,2015-08-14 16:02:52-05:00
a23fc744596afb16440c607da02ae260d26614d6,Travis fixes,Jim Crist,crist042@umn.edu,2015-08-14 16:24:16-05:00,Jim Crist,crist042@umn.edu,2015-08-14 16:24:16-05:00
46a23b9862d2b469d93ffaff6f47b813f846b70a,"Merge pull request #590 from jcrist/dist_fixes

Compat fix for new IPython release",Jim Crist,crist042@umn.edu,2015-08-14 16:41:45-05:00,Jim Crist,crist042@umn.edu,2015-08-14 16:41:45-05:00
3fb108189291c8498cf63ab1142a67500ac17fab,Add dd.from_castra,Jim Crist,crist042@umn.edu,2015-08-14 15:21:04-05:00,Jim Crist,crist042@umn.edu,2015-08-14 17:04:03-05:00
d74ea724ace43d0fcb7e9828a82305312039f762,Add minimum time threshold to progressbar,Jim Crist,crist042@umn.edu,2015-08-14 17:28:13-05:00,Jim Crist,crist042@umn.edu,2015-08-14 17:28:13-05:00
d0040522eb70be37c906bb525fb6ebf0eaae8c77,Improve progressbar docs,Jim Crist,crist042@umn.edu,2015-08-14 17:45:11-05:00,Jim Crist,crist042@umn.edu,2015-08-14 17:45:11-05:00
f7183ca8fb30ba72e3eb9aabbf2abe0bf9a76be8,"Merge pull request #591 from jcrist/pbar_min

Minimum time threshold for progress bars",Jim Crist,crist042@umn.edu,2015-08-14 18:07:05-05:00,Jim Crist,crist042@umn.edu,2015-08-14 18:07:05-05:00
1753b740eac7ae77db4985117acd6e6d0fef9cdc,"Changes to profiler plotting

- If `bokeh.plotting.output_notebook()` is called, don't write to file",Jim Crist,crist042@umn.edu,2015-08-14 18:52:10-05:00,Jim Crist,crist042@umn.edu,2015-08-14 18:52:10-05:00
8c7104a82606df8b49e00f737acbd3acaaecfb3b,"Merge pull request #592 from jcrist/profile_notebook

Changes to profiler plotting",Jim Crist,crist042@umn.edu,2015-08-14 20:26:15-05:00,Jim Crist,crist042@umn.edu,2015-08-14 20:26:15-05:00
469d1c4d05cea1fe815f1e12567cf8daa4f54c7a,"Add dask.base.visualize function

This allows the simultaneous visualization of many collections",Matthew Rocklin,mrocklin@gmail.com,2015-08-17 08:08:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-17 08:08:01-07:00
ea7593951cf46b6cde00bd99a7e272339c8cfc38,"Merge pull request #594 from mrocklin/visualize

Add dask.base.visualize function",Matthew Rocklin,mrocklin@gmail.com,2015-08-17 08:29:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-17 08:29:36-07:00
fe5e56e28fdc00e3c051d487e8a7d2c05595bc52,added support for encoding parameter to bag.from_textfiles,Matt Fortier,mfortier@patsnap.com,2015-08-18 16:10:43+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-18 16:10:43+08:00
2fe6fd5f945167972e1fba0224e2a240f8bd2f11,using system default encoding as default encoding for bag.from_textfiles,Matt Fortier,mfortier@patsnap.com,2015-08-18 17:20:02+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-18 17:20:02+08:00
aff751867eeec94bcbd8521f8b83d71bad24d430,"Merge pull request #589 from jcrist/from_castra

Add dd.from_castra",Matthew Rocklin,mrocklin@gmail.com,2015-08-18 10:28:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-18 10:28:54-07:00
a75ac2df80b665df8d19952673aca372d7bb2514,"Add dd.io.to_bag

Allows for converting dask DataFrames and Series to Bags. This is useful
for performing complicated python operations that don't fit the
dataframe model, but use data that starts out in a dataframe format.",Jim Crist,crist042@umn.edu,2015-08-18 13:43:19-05:00,Jim Crist,crist042@umn.edu,2015-08-18 13:43:19-05:00
0115e94bf74a06251851ba61dea7547490da0172,array-overview.rst edited to reflect current functionality,Data1010,naj273@nyu.edu,2015-08-18 14:59:05-04:00,Data1010,naj273@nyu.edu,2015-08-18 14:59:05-04:00
5f2896e85a84ccaa4eed8146141d469a79a429c5,"Merge pull request #599 from jcrist/series2bag

Add ``dd.io.to_bag``",Matthew Rocklin,mrocklin@gmail.com,2015-08-18 12:11:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-18 12:11:53-07:00
45961d583cdd3e04a231a33fa27d28a7d0a42982,"Merge pull request #600 from NoonienSoong/master

array-overview.rst edited to reflect current functionality",Matthew Rocklin,mrocklin@gmail.com,2015-08-18 12:12:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-18 12:12:11-07:00
cec312232acc22be2d04fb955a468831c6d36f03,fix argument,Ruggero Turra,giurrero@gmail.com,2015-08-19 01:09:49+02:00,Ruggero Turra,giurrero@gmail.com,2015-08-19 01:09:49+02:00
845b8c4b96359b6e3fcddf9e0851f44852d48c9a,add additional filename parameter,Ruggero Turra,giurrero@gmail.com,2015-08-19 01:26:52+02:00,Ruggero Turra,giurrero@gmail.com,2015-08-19 01:26:52+02:00
bc9bc5d8432b3d9045cfb694a198061aa6f0e6e1,"Merge pull request #604 from wiso/issue-603

fix argument",Jim Crist,crist042@umn.edu,2015-08-18 18:32:32-05:00,Jim Crist,crist042@umn.edu,2015-08-18 18:32:32-05:00
dea4a7b93c3211196659ae24731fbcbdc261b71a,"Moved encoding to correct position in tuple. Added test case for non-ascii data. Added encoding to to_filenames.
(cherry picked from commit fbc0e52)",Matt Fortier,mfortier@patsnap.com,2015-08-19 10:56:35+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-19 10:59:38+08:00
3389fa4a244a7b74a29a296cc51ed3a7e3829565,Input validation in repartition,sinhrks,sinhrks@gmail.com,2015-08-19 22:29:19+09:00,sinhrks,sinhrks@gmail.com,2015-08-19 22:30:08+09:00
724582f44a65454d02bb3f0ff435ab32a151a526,"Merge pull request #586 from mrocklin/imread2

Add imread and preprocess keyword arguments to imread",Matthew Rocklin,mrocklin@gmail.com,2015-08-19 08:01:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-19 08:01:59-07:00
83b901badd2a698ba0d8bffa63d51274390cd0c5,"Merge pull request #605 from sinhrks/repartition

Input validation for DataFrame repartition",Matthew Rocklin,mrocklin@gmail.com,2015-08-19 08:39:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-19 08:39:21-07:00
40f87b3286ec8a075a84bbc35a6bfa8102ff37b9,Use base.tokenize in dask imperative,Jim Crist,crist042@umn.edu,2015-08-19 15:02:14-05:00,Jim Crist,crist042@umn.edu,2015-08-19 15:02:14-05:00
abdcec69338b3b2c6eda0d94370847338752032a,"Merge pull request #607 from jcrist/tokenize_imp

Use base.tokenize in dask imperative",Jim Crist,crist042@umn.edu,2015-08-19 16:12:05-05:00,Jim Crist,crist042@umn.edu,2015-08-19 16:12:05-05:00
aa9087d6965fd9d275309b1a1d2b4b9f2962a12d,Added decoding step to from_textfiles even when chunkbytes not specified. Modified tests accordingly.,Matt Fortier,mfortier@patsnap.com,2015-08-20 09:57:05+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-20 09:57:05+08:00
aa4a70b0e328d4c581f5dc884b3e597684f7744e,"Small modification to assert default case uses system encoding, matching code logic.",Matt Fortier,mfortier@patsnap.com,2015-08-20 10:00:52+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-20 10:00:52+08:00
3d742309f41671a84d190753763edda27f8ff57d,Force binary read mode for compressed textfiles to allow proper decoding. Modified test cases accordingly.,Matt Fortier,mfortier@patsnap.com,2015-08-20 13:22:53+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-20 13:22:53+08:00
33b2722e4de355e3d059309f43ba4e5533849b2c,Removed keyword argument to decode to preserve python2.6 compatibility,Matt Fortier,mfortier@patsnap.com,2015-08-20 13:29:22+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-20 13:29:22+08:00
3b32ae0f5715b8ffacd22e7a664c2b83eb5a4bc6,"Added proper support for custom encoding in to_textfiles. Added matching test case.

- This implies switching open to codecs.open in core/write function to specify encoding.",Matt Fortier,mfortier@patsnap.com,2015-08-20 14:54:12+08:00,Matt Fortier,mfortier@patsnap.com,2015-08-20 14:54:12+08:00
80545a05237be52dad4bb49bf77ed1dfc865af85,Merge branch 'master' into resample,Jim Crist,crist042@umn.edu,2015-08-20 10:30:03-05:00,Jim Crist,crist042@umn.edu,2015-08-20 10:30:03-05:00
564932d65d6b360fe77af78420ac8ce1828b8978,"A couple fixups for resample

Previously this failed if the index was [17:00, ...] and the frequency
was 6h+. This was because pandas resample boundary algorithm would move
the bounds below the start of the data (6h frequency would have the
first window start at 12:00), which resulted in duplicate indices and
other failures.",Jim Crist,crist042@umn.edu,2015-08-20 13:58:21-05:00,Jim Crist,crist042@umn.edu,2015-08-20 13:58:21-05:00
2521722925878db932a4bda7ab85138b8e40f172,"Merge pull request #596 from fortiema/bag-fromfiles-encoding

Added support for 'encoding' in bag",Matthew Rocklin,mrocklin@gmail.com,2015-08-20 13:13:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-20 13:13:07-07:00
2c7d7c078491592e76a023b28b8fb1e55f09aff9,Change links from ContinuumIO to blaze org,Matthew Rocklin,mrocklin@gmail.com,2015-08-21 10:22:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-21 10:22:08-07:00
c8e364098a88427b3aae287c620e7c70e79d9c02,"Merge pull request #614 from mrocklin/blaze-org

Change links from ContinuumIO to blaze org",Matthew Rocklin,mrocklin@gmail.com,2015-08-21 10:36:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-21 10:36:18-07:00
39efa98dfec94fbb78d3eb74db2de42a1d85b5f4,Add dataframe.core.Scalar arithmetic,sinhrks,sinhrks@gmail.com,2015-08-22 17:18:05+09:00,sinhrks,sinhrks@gmail.com,2015-08-22 23:45:25+09:00
daefa2fce8da0c963dabb41549ac4ce40cc7fc65,Make Series.quantile compat with pandas,sinhrks,sinhrks@gmail.com,2015-08-22 12:32:35+09:00,sinhrks,sinhrks@gmail.com,2015-08-23 06:50:57+09:00
cd7466e10897501d744d5c3092a8626c9e05ff03,"Merge pull request #616 from sinhrks/scalar_ops

Add dataframe.core.Scalar arithmetic",Sinhrks,sinhrks@gmail.com,2015-08-23 06:51:22+09:00,Sinhrks,sinhrks@gmail.com,2015-08-23 06:51:22+09:00
9af324902c65bd074e6365f0454dea4c36a82a80,ENH: add reanme method,Tom Augspurger,tom.w.augspurger@gmail.com,2015-08-01 08:33:20-05:00,Tom Augspurger,tom.w.augspurger@gmail.com,2015-08-23 14:30:55-05:00
d1134d251f5a1ad71b5a53d18fe287932338211e,Allow dot_graph to accept filename=None,sinhrks,sinhrks@gmail.com,2015-08-23 12:02:44+09:00,sinhrks,sinhrks@gmail.com,2015-08-24 05:15:44+09:00
8c1559f82e6c94c3cbfc12ae2003dbbe733c294d,"Merge pull request #508 from TomAugspurger/rename

[WIP] add reanme method to dataframe",Matthew Rocklin,mrocklin@gmail.com,2015-08-23 14:04:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-23 14:04:22-07:00
931b28860c3d88bfa74c9a5969cf368813063fa4,"Merge pull request #615 from sinhrks/squantile

Make Series.quantile compat with pandas",Blake Griffith,blake.a.griffith@gmail.com,2015-08-24 09:15:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-08-24 09:15:33-05:00
4ac4b94df78d1c5b9ddd00c2cf7fe1a7b6c9721e,Cleanup DataFrame / Series aggregations,sinhrks,sinhrks@gmail.com,2015-08-22 15:55:27+09:00,sinhrks,sinhrks@gmail.com,2015-08-25 00:14:59+09:00
5d4c5777053b30aedc56ecec0f63cfac01eb005b,to_hdf uses single thread,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 13:15:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 13:15:21-07:00
7d2fba2c4e5450e5c62ffe2e5240735b58345177,Support Series.to_csv,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 13:25:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 13:25:07-07:00
6af236c9928ff32fb91aab2c3047ec883da9b1cc,"Merge pull request #621 from mrocklin/series-to-csv

Series to_csv",Matthew Rocklin,mrocklin@gmail.com,2015-08-24 16:03:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 16:03:04-07:00
c8b43c63ac22466c80970a6efeedbd5ffd4a5f50,add Series.to_frame,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 16:08:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-24 16:08:35-07:00
facf1ad2d8e87a4bba10fd0b09eb3212c2d8d640,Fix DataFrame hash join bug,sinhrks,sinhrks@gmail.com,2015-08-14 16:22:21+09:00,sinhrks,sinhrks@gmail.com,2015-08-25 21:19:14+09:00
c4d2934795a406f661d55edde43baa560c1bcdb0,Add DataFrame join,sinhrks,sinhrks@gmail.com,2015-08-14 18:03:45+09:00,sinhrks,sinhrks@gmail.com,2015-08-25 21:19:14+09:00
b2e66cdc5b243bcd55d6861bada09b4e04f13eee,Add comprehensive tests,sinhrks,sinhrks@gmail.com,2015-08-15 13:20:42+09:00,sinhrks,sinhrks@gmail.com,2015-08-25 21:19:14+09:00
4ede57bfeadb3bc9f30896e16dbc85761e812246,"Merge pull request #623 from mrocklin/to-frame

add Series.to_frame",Matthew Rocklin,mrocklin@gmail.com,2015-08-25 07:51:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-25 07:51:37-07:00
66518168d7ecb4bc58ea239f29a69fd3fb1d1613,"Merge pull request #587 from sinhrks/merge

Add DataFrame.merge and DataFrame.join",Matthew Rocklin,mrocklin@gmail.com,2015-08-25 07:52:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-25 07:52:18-07:00
04e1770835b0c38d96ad2b9e38ca74faeae3199c,Provide update_bar elapsed in error situation,Matthew Rocklin,mrocklin@gmail.com,2015-08-25 15:10:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-25 15:10:41-07:00
03803dbd008e240d14f929461bd1f91751eb244f,"Merge pull request #626 from mrocklin/bar-error

Provide update_bar elapsed in error situation",Jim Crist,crist042@umn.edu,2015-08-25 23:49:47-05:00,Jim Crist,crist042@umn.edu,2015-08-25 23:49:47-05:00
3ac078ad5eddf4231f4e992ede325529d3a5ece8,"Merge pull request #617 from sinhrks/simplify_agg

Cleanup DataFrame / Series aggregations",Matthew Rocklin,mrocklin@gmail.com,2015-08-26 09:50:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-26 09:50:09-07:00
d80b1a0b3267682bc8c85f42375f7c271cd8b35e,A few cleanups to resample,Jim Crist,crist042@umn.edu,2015-08-26 15:02:01-05:00,Jim Crist,crist042@umn.edu,2015-08-26 15:02:01-05:00
a76cd3ebee3e7ec32eea20345b6133e01a0ab8dc,Merge branch 'master' into resample,Jim Crist,crist042@umn.edu,2015-08-26 15:09:57-05:00,Jim Crist,crist042@umn.edu,2015-08-26 15:09:57-05:00
978da9f4d84479f7435409d175e00ea018bf953b,"Fix fusion optimize bug with castra

Previously we would fuse selections because they used getitem, like column
access.",Matthew Rocklin,mrocklin@gmail.com,2015-08-26 13:08:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-26 13:10:03-07:00
4657e43a99133b41e78c61cce6dcee69cf8d82a4,Use rule.rollforward for resample,Jim Crist,crist042@umn.edu,2015-08-26 16:43:18-05:00,Jim Crist,crist042@umn.edu,2015-08-26 16:43:18-05:00
d2267ca733408b6c4f57e820af99a02f011da9c8,Fix to_task_dasks to not normalize namedtuples,Jim Crist,crist042@umn.edu,2015-08-26 16:54:05-05:00,Jim Crist,crist042@umn.edu,2015-08-26 16:54:05-05:00
12137bda9493eec0ac8085dbf24ad6bb606c325d,istask rejects namedtuples,Jim Crist,crist042@umn.edu,2015-08-26 17:00:55-05:00,Jim Crist,crist042@umn.edu,2015-08-26 17:00:55-05:00
3dbcd65bf3128e5302fea3deb62704c271340288,"Merge pull request #629 from jcrist/imp_nametuple

Fix to_task_dasks to not normalize namedtuples",Jim Crist,crist042@umn.edu,2015-08-26 17:09:30-05:00,Jim Crist,crist042@umn.edu,2015-08-26 17:09:30-05:00
75f830cb6e2587054eab65789d5d77faa14028be,"Fix resample to properly partition index

Now takes into account all args to resample, and uses pandas exposed
methods to group the divisions into proper bins.",Jim Crist,crist042@umn.edu,2015-08-26 18:49:43-05:00,Jim Crist,crist042@umn.edu,2015-08-26 18:49:43-05:00
65e6b9f88faa3cf2f5a982420a3c9f6a1a96c775,"Merge pull request #618 from sinhrks/vis_nofile

Allow dot_graph to accept filename=None",Matthew Rocklin,mrocklin@gmail.com,2015-08-26 20:46:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-26 20:46:17-07:00
e0757b338d9aec69af309895f27c1629ce1f3737,"Add function to make random time series

This is primarily for experimentation and demonstration

Example
-------

>>> import dask.dataframe as dd
>>> df = dd.demo.make_timeseries('2000', '2010',
...                              {'value': float, 'name': str, 'id': int},
...                              freq='2H', partition_freq='1D', seed=1)
>>> df.head()
                       id    name     value
2000-01-01 00:00:00   971   Edith -0.053963
2000-01-01 02:00:00   937   Kevin -0.625998
2000-01-01 04:00:00   965  Xavier -0.922559
2000-01-01 06:00:00  1011   Sarah  0.866421
2000-01-01 08:00:00  1005   Zelda -0.319609",Matthew Rocklin,mrocklin@gmail.com,2015-08-26 20:56:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-26 20:56:12-07:00
70edb7c2fcb14fc77e73be109e825dc248ac806f,add demo to dataframe/__init__.py,Matthew Rocklin,mrocklin@gmail.com,2015-08-26 21:13:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-26 21:13:26-07:00
cade3990c8a17a6368cdff7f6cc1dce5b538df5c,"Merge pull request #628 from mrocklin/castra-selections

Fix fusion optimize bug with castra",Matthew Rocklin,mrocklin@gmail.com,2015-08-27 07:14:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 07:14:05-07:00
7e370c61d53f60054fb6d73e593200a8a61a82b0,Add xfailing to_csv gzip test,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 10:44:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 10:44:04-07:00
65f499b4315a1344eb4e2a41bd95c4b472e00b96,"Merge pull request #631 from mrocklin/dd-demo

Add function to make random time series",Matthew Rocklin,mrocklin@gmail.com,2015-08-27 11:01:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 11:01:00-07:00
b6a45214bb0b6fcc6560b2faefeb7efca37ffe1b,"Merge pull request #613 from jcrist/resample

Resample",Jim Crist,crist042@umn.edu,2015-08-27 13:25:41-05:00,Jim Crist,crist042@umn.edu,2015-08-27 13:25:41-05:00
d5b59000b19da7ee32a64b678713c3d3908af88b,"Enforce names in map_partitions

This ensures that the names of the partitions match the column names
given in ``map_partitions`` calls

Fixes #620
Fixes #627",Matthew Rocklin,mrocklin@gmail.com,2015-08-27 12:48:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 13:10:47-07:00
700bba1e05a710551f938efe76b51f6a016dbfba,Avoid overlapping partitions in make_timeseries,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 14:37:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 14:37:51-07:00
b5a746bddf069011622f07991a323d75d170a2c1,remove debug code,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 14:47:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-27 14:47:54-07:00
e217e220afc12751da09eb422d83b9f9c8a243db,use no_default when renaming columns in map-partitions,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 07:35:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 07:35:20-07:00
0741c67fc16474e96d4195aea9ac9470c76ff5ee,Add Dataframe cumulative methods,sinhrks,sinhrks@gmail.com,2015-08-28 21:56:41+09:00,sinhrks,sinhrks@gmail.com,2015-08-29 00:07:50+09:00
f93a2bfe57a2f7351d86629a4805204f78645520,"Merge pull request #636 from sinhrks/cumsum

Add Dataframe cumulative methods",Matthew Rocklin,mrocklin@gmail.com,2015-08-28 09:20:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 09:20:35-07:00
eefea81c4da297e150afd105968df1e747b0faf4,"Merge pull request #635 from mrocklin/demo-non-overlapping-partitions

Avoid overlapping partitions in make_timeseries",Matthew Rocklin,mrocklin@gmail.com,2015-08-28 09:56:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 09:56:46-07:00
8c6ae0bbfb743838d801bae2f5ae1cd292df8645,"Make Profiler robust to errors

In particular we remove incomplete results from the log",Matthew Rocklin,mrocklin@gmail.com,2015-08-28 14:03:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 14:03:51-07:00
eb8aca8b21b4134786c93bf4055090d65cc6473d,"Merge pull request #632 from mrocklin/to-csv-gzip

Add xfailing to_csv gzip test",Matthew Rocklin,mrocklin@gmail.com,2015-08-28 14:16:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 14:16:34-07:00
3012f77729b06a06b78e9a32b42551f9025a1a15,call bokeh.plotting.save explicitly,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 14:40:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 14:40:01-07:00
87a816ab373c1de121406a3eb95227cbd475142a,Remove hack in _loc,Jim Crist,crist042@umn.edu,2015-08-28 17:11:00-05:00,Jim Crist,crist042@umn.edu,2015-08-28 17:11:00-05:00
f4ec0c5346fa05c8ddf89d5fce236e6c80042db6,profiler names robust to long tasks,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 15:07:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 15:13:24-07:00
1df3d78759bb1bf8e680814d25d28fda1b9450b7,fix profile error test,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 15:16:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 15:16:02-07:00
8208cb1cacd148cc1ca7b70b447df44f48fe4583,create div operator,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 15:26:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-08-28 15:26:27-07:00
e6b261070985660a1d2ef4b82597e30121e19c08,BUG: DataFrame ops with dask and pandas may be incorrect,sinhrks,sinhrks@gmail.com,2015-08-29 12:34:20+09:00,sinhrks,sinhrks@gmail.com,2015-08-29 16:36:19+09:00
40668f4f8cc77e0803db2ed43f61d37f4aa4aac5,"Automatic rechunking and coercion of numpy.ndarrays

Fixes GH290

The implementation of rechunking here is the most basic version possible: it
only succeeds if at most one of the arrays has multiple chunks defined along
an axis.

This suffices for coercing ndarrays -- in the future we can consider more
complete solutions.

Also includes a change to rechunking, where it doesn't bother if the chunk
size is unchanged. We could remove this (and do it in unify_chunks instead),
but it seemed like a general improvement.",Stephan Hoyer,shoyer@climate.com,2015-08-24 19:54:49+02:00,Stephan Hoyer,shoyer@climate.com,2015-08-30 10:20:39+02:00
40bf6006b23a270773867f06838cc6dc0692f52f,Add .real and .imag properties to dask.array,Stephan Hoyer,shoyer@climate.com,2015-08-30 17:45:14+02:00,Stephan Hoyer,shoyer@climate.com,2015-08-30 17:45:14+02:00
f89c4e1a6a98fc239724e30851b9e819b99ad11c,Follow NumPy's dtype promotion rules exactly for dask.array,Stephan Hoyer,shoyer@climate.com,2015-08-30 15:27:32+02:00,Stephan Hoyer,shoyer@climate.com,2015-08-30 18:00:51-07:00
4f859c991b1e9dbab764e8487c549b1656062d8f,"Use max int32 instead of 1 larger for demo

Fix problem on 32 bit platform.",Jim Crist,crist042@umn.edu,2015-08-30 22:32:02-05:00,Jim Crist,crist042@umn.edu,2015-08-30 22:32:02-05:00
e87bf4c83f0c13558ddca0bc5a1c6ff92f062212,"Merge pull request #643 from jcrist/max_int32_demo

Use 2**31 - 1 instead of 2**31 in demo.py",Jim Crist,crist042@umn.edu,2015-08-30 22:57:24-05:00,Jim Crist,crist042@umn.edu,2015-08-30 22:57:24-05:00
90c5276befd48856d0603b1df7ee0f48f7dfe40f,"Add dask.bag.from_castra

Allows for loading data from a castra directly into a bag, with tuples
for each element.",Jim Crist,crist042@umn.edu,2015-08-20 09:19:41-05:00,Jim Crist,crist042@umn.edu,2015-08-31 13:55:49-05:00
df2b7e83138daa7e99418843daf6143dc90f8566,"Merge pull request #642 from shoyer/real-and-imag

Add .real and .imag properties to dask.array",Jim Crist,crist042@umn.edu,2015-08-31 14:00:16-05:00,Jim Crist,crist042@umn.edu,2015-08-31 14:00:16-05:00
7003c9dd9d10fe74b1bfd5bd491e4e4bdcce428f,"BUG: fix da.sign

This was a copy & paste error...",Stephan Hoyer,shoyer@climate.com,2015-08-31 13:59:59-07:00,Stephan Hoyer,shoyer@climate.com,2015-08-31 13:59:59-07:00
d1fa450f8858647f04f1d23a5dd096e5a1772d5c,"Merge pull request #645 from shoyer/fix-da.sign

BUG: fix da.sign",Jim Crist,crist042@umn.edu,2015-08-31 16:12:41-05:00,Jim Crist,crist042@umn.edu,2015-08-31 16:12:41-05:00
e0f9ff4f1e7ffa0c6d7d582ccc871b137af9a71f,Make Castra readonly for db.from_castra,Jim Crist,crist042@umn.edu,2015-09-01 12:16:54-05:00,Jim Crist,crist042@umn.edu,2015-09-01 12:16:54-05:00
83df0fdb7dfecb9b03263f3aab0ea0c024a14c52,dd.from_castra opens castra as readonly as well.,Jim Crist,crist042@umn.edu,2015-09-01 12:28:15-05:00,Jim Crist,crist042@umn.edu,2015-09-01 12:28:15-05:00
5541e5dbf2bfb0edddc34f42c0811bb8365db629,Don't manually open castra in each process,Jim Crist,crist042@umn.edu,2015-09-01 12:46:11-05:00,Jim Crist,crist042@umn.edu,2015-09-01 12:46:11-05:00
8abaa9f48b8b1af2d915543b45d7545240ee3e9c,"Fix deprecation warning from pandas master

`Series.sort` is deprecated in pandas master in favor `sort_values`.",Jim Crist,crist042@umn.edu,2015-09-01 14:26:14-05:00,Jim Crist,crist042@umn.edu,2015-09-01 14:53:53-05:00
b7964c488a20b6415610300e90c33a8022811d57,"Merge pull request #647 from jcrist/pandas_compat

Fix deprecation warning from pandas master",Jim Crist,crist042@umn.edu,2015-09-01 15:22:07-05:00,Jim Crist,crist042@umn.edu,2015-09-01 15:22:07-05:00
23a0ec3245805dedef365a93b5e7905a8366ef68,Less aggressive coercion to dask arrays by elemwise,Stephan Hoyer,shoyer@climate.com,2015-09-01 14:46:15-07:00,Stephan Hoyer,shoyer@climate.com,2015-09-01 14:46:15-07:00
6f290d828a81a2c1ae1b136411750952cab565e7,"Merge pull request #622 from shoyer/coerce-ndarray

Automatic rechunking and coercion of numpy.ndarrays",Stephan Hoyer,shoyer@gmail.com,2015-09-01 15:03:06-07:00,Stephan Hoyer,shoyer@gmail.com,2015-09-01 15:03:06-07:00
a8fc10eddfb07284a8b51add2967b30aa8c77259,"Merge pull request #639 from jcrist/cleanup_loc

Remove hack in _loc",Matthew Rocklin,mrocklin@gmail.com,2015-09-01 15:06:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-01 15:06:32-07:00
bcddc033417137ec9233e0ffabf4b254b972bb04,"Merge pull request #644 from jcrist/castra2bag

Add dask.bag.from_castra",Jim Crist,crist042@umn.edu,2015-09-01 17:06:38-05:00,Jim Crist,crist042@umn.edu,2015-09-01 17:06:38-05:00
adedd0ae16fba56d0c5fb8564f550a799f0516c3,"Merge pull request #640 from sinhrks/ops_pd

BUG: DataFrame ops with dask and pandas may be incorrect",Sinhrks,sinhrks@gmail.com,2015-09-02 21:00:10+09:00,Sinhrks,sinhrks@gmail.com,2015-09-02 21:00:10+09:00
d190c75ae5701790647d0f47c73cafa41681585d,Add dataframe flexible arithmetic methods,sinhrks,sinhrks@gmail.com,2015-08-23 11:30:25+09:00,sinhrks,sinhrks@gmail.com,2015-09-02 21:10:42+09:00
9e62ce97cd37de2f109fbc571e466913aaecd152,"Merge pull request #641 from sinhrks/ops_method

Add dataframe flexible arithmetic methods",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 08:34:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 08:34:11-07:00
5ca628e0294ac5006f29e8b3f07030e53cb80cbe,"rename budget to label_size, add to docstrings",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 08:39:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 08:39:04-07:00
68a7c1136c3640bdb039d45ca3c2f230924ca127,"Merge branch 'master' into map-partition-names

Conflicts:
	dask/dataframe/core.py",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 08:45:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 08:45:06-07:00
7beb4e39e7111bf59aee5c1c08e58ac3d8763bf1,"Merge pull request #638 from mrocklin/profiler-robust-to-errors

Make Profiler robust to errors",Jim Crist,crist042@umn.edu,2015-09-02 11:05:24-05:00,Jim Crist,crist042@umn.edu,2015-09-02 11:05:24-05:00
e1b1cecbbf8a35308396dca9074dc3786610bb60,"use np.bincount call to determine dtype of da.bincount

Previously this hardcoded f8 and i8 dtypes to bincount.
This choice was inaccurate on 32 bit systems.  Now we make a tiny
call to `np.bincount` to determine the appropriate dtype for the
system.",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:17:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:17:47-07:00
b9140e96ddc34d43a6c589eb4fa297fb2c1f51cd,"Merge pull request #649 from mrocklin/bincount-dtype

use np.bincount call to determine dtype of da.bincount",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:45:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:45:48-07:00
df93295e7595d9e91d11a08c5c957e099086b96f,"Merge pull request #634 from mrocklin/map-partition-names

Enforce names in map_partitions",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:49:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:49:16-07:00
f94c7ec9a394bc40543e996f211a5cff046e8d8a,Use 10 threads in distributed tests,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:53:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 09:53:55-07:00
ff6bdbfcdae9b5084ab60f65dc2f9f8083e1ad83,"don't save profiler if file-path not set

This occurs when using the notebook.",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 10:35:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 10:35:10-07:00
77127180342d9da1dbc6fc7b85d7a2bfb61a09a1,"Merge pull request #650 from mrocklin/distributed-nthreads

Use 10 threads in distributed tests",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 10:53:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 10:53:41-07:00
94e657ce4b40a2be0e11ac149221a84ca86bc1ae,"Merge pull request #651 from mrocklin/profiler-notebook-filename

Don't save profiler if file-path not set",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 12:23:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 12:23:37-07:00
1019c883d39deef06b6b0c647eb05304202d2d00,"Use seed in svd_compressed

This uses RandomState(seed).standard_normal rather than just
standard_normal in `svd_compressed`.  This allows for the following:

1.  Parallelism within the random call
2.  Determinism
3.  We avoid an intermittent failure",Matthew Rocklin,mrocklin@gmail.com,2015-09-02 12:07:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 15:16:43-07:00
24977ef8dda54ccaca3d9cce50ab99f83e63d6ba,Consolidate compute calls in svd test,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 12:11:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 15:16:43-07:00
751f3c4a1d42b6808a42604d3a83b3db0af88e4f,add quote function to core,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 07:51:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 16:05:02-07:00
5868975f594762d6c6aa67f117939a0c1d0361cb,use quote in dask.bag,Matthew Rocklin,mrocklin@gmail.com,2015-08-10 07:56:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 16:07:39-07:00
1158c1ec512b8a0d26024c8eb6c4fa16ded63210,quote recurses down lists and tasks,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 16:11:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 16:11:41-07:00
1e7ed5c3437010d961432a745ee4646b22f184bf,Add groupby function to series.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-02 10:26:02-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-02 20:39:14-05:00
66e377ae0ef23ec824b514d61febc1d59411662c,Add test for series groupby,Blake Griffith,blake.a.griffith@gmail.com,2015-09-02 10:26:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-02 20:40:18-05:00
c71f0d0ecd927dd9e05f5b01205738768effc307,"Merge pull request #564 from mrocklin/quote

Quote operation",Matthew Rocklin,mrocklin@gmail.com,2015-09-03 08:38:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 08:38:08-07:00
66d8f8811d2ef31b6232bca83ec9e929af0cb8bf,"Merge pull request #652 from mrocklin/svd-compressed-deterministic

Make svd_compressed deterministic",Matthew Rocklin,mrocklin@gmail.com,2015-09-03 08:38:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 08:38:21-07:00
bbf37c3742a52dd0f51137b06932a608637dd394,add series.nbytes,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 10:52:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 10:52:56-07:00
f7ddd5ef94e8f3a852c5a5f02352e9762ad4eafe,add last_duration attribute to progress bar,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 11:08:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 11:16:59-07:00
461f1bd24bdfa11ed2d3f6ace3a6425f9bfdff8c,"Merge pull request #655 from mrocklin/progress-last-duration

add last_duration attribute to progress bar",Matthew Rocklin,mrocklin@gmail.com,2015-09-03 11:24:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 11:24:50-07:00
be4091ce1743b80895bf29abce8197ac9e4b6857,"Merge pull request #654 from mrocklin/nbytes

add series.nbytes",Matthew Rocklin,mrocklin@gmail.com,2015-09-03 11:33:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 11:33:02-07:00
240005e8733282760a5da4480f71a89611fb42fc,Allow dd.concat to handle known divisions,sinhrks,sinhrks@gmail.com,2015-09-02 21:26:31+09:00,sinhrks,sinhrks@gmail.com,2015-09-04 05:46:27+09:00
dc10dfd9c8a7bd0f4f4de841dd237e7542dd8c11,More series groupby tests.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 15:53:30-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 15:53:30-05:00
d52717344eed68b05a2701da9fee931b4bbf8020,Check the index is a Series with the divisions.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 16:10:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 16:10:19-05:00
214631936ea89de1b024847841a0fc6fb851fd50,Test bad indices raise errors.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 16:10:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 16:10:50-05:00
56bedf2adb5004e889cf8b7127ef94ab35845f45,"Add test_read_bad_csv

tests gh-551",Blake Griffith,blake.a.griffith@gmail.com,2015-08-31 17:02:36-05:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:44:13-07:00
aa6604ba6796e80c058414ef5a3cc4f838ebcfc6,Clean up read_csv a bit,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:00:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:44:19-07:00
7b0a760aa8a01e05f86cc3654ce896d4944e7971,correct dtype csv test,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:00:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:44:20-07:00
2662c2a771175ee70443223b45e02d32a89ee34f,fill unlisted dtypes in read_csv when some dtypes listed,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:09:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:44:20-07:00
adc3b104003634663918ec2139c9cbb5d13f108d,use regexes in read_csv error messaging,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:39:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:44:20-07:00
22b73dee6f6aa3abeb7efc83bbe4336293ae787c,clean up message,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 14:58:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 15:14:30-07:00
bc05e96e3a0888b7614d022b259c45df01c50940,"Remove verbose debug message from exception

Many error reports that we get don't seem to understand this message.
It may be more direct to give them the underlying error report without
explanation.",Matthew Rocklin,mrocklin@gmail.com,2015-09-03 15:09:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 15:20:15-07:00
bf91455d6127249686ee902fe467c7ceb0ca1b03,use headers in remote exception message,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 15:51:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 15:51:48-07:00
86e63dbd1eb71490415e61428271679e3e0eba89,"Merge pull request #657 from mrocklin/remove-debug-message

Remove verbose debug message from exception",Matthew Rocklin,mrocklin@gmail.com,2015-09-03 16:01:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 16:01:46-07:00
f694e239f7fbce74e39225187b7af297ce2b19a6,fix SeriesGroupBy for df.gb('key').foo,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 23:27:32-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 23:27:32-05:00
ed2c4cbe01d9fce8cdc9c51d919ad9fc61f08594,Run series groupby test with for loop,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 23:33:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 23:58:14-05:00
9af8ba9feac6ff15710eeab7473067aa3aaad393,Add interleave_partitions kw,sinhrks,sinhrks@gmail.com,2015-09-02 22:30:56+09:00,sinhrks,sinhrks@gmail.com,2015-09-04 21:06:42+09:00
abdb43c5490b8eef40f4aafea37805347e675756,"Merge pull request #610 from sinhrks/concat

Allow dd.concat to handle known divisions",Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:09:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:09:04-07:00
a896338bbd60d7c580df1e6b200f301f42a21920,"Merge pull request #656 from mrocklin/csv-error-message

CSV error message",Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:09:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:09:21-07:00
7f8cbd849e05437c7ca4fbd9dfe8da351f11644e,"Merge pull request #648 from cowlicks/gh-575

Add groupby to dask.dataframe.Series",Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:11:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:11:49-07:00
38fea06a27f08c116f5d2510186759db9fc50275,add Series.apply,Matthew Rocklin,mrocklin@gmail.com,2015-07-26 10:11:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
79710d9806532660ea2a1a869d66e36421471458,apply uses tokenize and name,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 14:56:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
661e9f2d40819b9405aaed5dcf97ce0b422eff7b,add DataFrame.apply,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 15:09:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
521deb1560ec926795c4e30c7709d0bfd582a8c8,use map_partitions in Series.apply,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 15:11:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
476d8768c7a323afdfaf568f1e0ccef80e3c8fe1,raise NotImplementedError rather than ValueError,Matthew Rocklin,mrocklin@gmail.com,2015-09-02 15:19:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
972c504b3cf9e417d05b862db46be8de95838836,add columns kwarg to Series.apply,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 08:12:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
a32f6ee4534c506026a43ca90a4029f46ee2646f,Change kwarg columns to name in Series.apply,Matthew Rocklin,mrocklin@gmail.com,2015-09-03 08:22:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:12:56-07:00
d4a9a1142a6705423f63dcaf4e1e32952344a7f8,"Merge pull request #482 from mrocklin/dataframe-apply

DataFrame/Series.apply",Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:28:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:28:07-07:00
522a275eece104c220bb47db079a374ef5e86f0f,bump version to 0.7.1,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:45:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 07:46:13-07:00
1b66fd5f542c702e99ad2a6b22321c7f779dfe5e,add release procedure doc,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 08:31:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 08:31:13-07:00
19d8abde2c03a81d5603a1e06266b57779655d85,remove note about anaconda recipe,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 08:31:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 08:31:42-07:00
becc7b7bb765732ec99bb0c82f8ef913754ab08b,move numpy license to separate file,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:24:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:24:09-07:00
a41f5a18aeb9d60ea47d18b3fd11461c0bac1a69,add array function,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:27:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:28:42-07:00
c038c56b5a924b1bfc5f961f7ad0bc40bbae6137,add da.cov,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:28:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:28:45-07:00
03f8f59e679da4575ef20ce53fd3285aa65b2394,add conj as array method,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:36:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 11:36:03-07:00
27ea5d1c9f4629c288660f31922e6555019e7225,Add GroupBy.get_group,sinhrks,sinhrks@gmail.com,2015-09-04 23:05:19+09:00,sinhrks,sinhrks@gmail.com,2015-09-05 05:53:20+09:00
a0efd8889efe39fabcf5ffc9954780764f1bddf3,DataFrame.getitem / iloc raises correct exceptions,sinhrks,sinhrks@gmail.com,2015-09-05 10:18:34+09:00,sinhrks,sinhrks@gmail.com,2015-09-05 10:18:34+09:00
fd4ed38163d2888699a2312cfac8253d5bba761b,support multiple get statements within one profiler run,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 22:18:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 22:18:04-07:00
5e1e34e2451aebc658fc3597d0bc472ba1f5179c,Turn Profiler.results into a list,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 22:25:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-04 22:25:52-07:00
c3153f3f14f7c6ab7dcc091f7893954b6f13807d,"Merge pull request #659 from sinhrks/get_group

Add GroupBy.get_group",Sinhrks,sinhrks@gmail.com,2015-09-05 21:23:07+09:00,Sinhrks,sinhrks@gmail.com,2015-09-05 21:23:07+09:00
c01869a43c05db372a2e5f324c4048b6ce607d01,"Merge pull request #666 from sinhrks/getitem

DataFrame.getitem / iloc raises correct exceptions",Matthew Rocklin,mrocklin@gmail.com,2015-09-05 07:24:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-05 07:24:08-07:00
0cf46c53fe6334e892e17627f6b88098431afd5f,reflect Profiler.results change in docs,Matthew Rocklin,mrocklin@gmail.com,2015-09-05 07:40:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-05 07:40:11-07:00
b5780ab1649985a2ac12ae74a856c76fefbe6fb1,"Document loss of order in shuffle

Fixes #665",Matthew Rocklin,mrocklin@gmail.com,2015-09-05 08:26:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-05 08:26:07-07:00
e7168dfc984565e2e0a01a751a49614b22287d78,dd.conat now supports axis and join kw,sinhrks,sinhrks@gmail.com,2015-09-05 06:57:28+09:00,sinhrks,sinhrks@gmail.com,2015-09-06 06:55:30+09:00
b3dce54e1d15a4a4eec246f9bd6c0980f6318440,"Merge pull request #667 from sinhrks/concat_axis

dd.conat now supports axis and join kw",Matthew Rocklin,mrocklin@gmail.com,2015-09-05 20:09:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-05 20:09:08-07:00
b4f1b96623ee10f39ad23f933faaf0b12d6788e6,Add DataFrame.quantiles,sinhrks,sinhrks@gmail.com,2015-09-05 11:12:27+09:00,sinhrks,sinhrks@gmail.com,2015-09-06 12:28:40+09:00
99916549221f6152d9a0673b4db7b7a3d3e0bfd7,"BUG: Don't use shell=True for subprocess.

This makes us not crash if the user passes a filename containing
characters that the shell interprets in a special way.

It also makes us not delete the filesystem if the user passed
filename='$(rm -f /)'.

Quoting from the Python docs on subprocess:

> Executing shell commands that incorporate unsanitized input from an
  untrusted source makes a program vulnerable to shell injection, a
  serious security flaw which can result in arbitrary command
  execution. For this reason, the use of shell=True is strongly
  discouraged in cases where the command string is constructed from
  external input:",Scott Sanderson,scoutoss@gmail.com,2015-09-06 00:45:09-04:00,Scott Sanderson,scoutoss@gmail.com,2015-09-06 00:53:55-04:00
0277f1b284a68e36c9e75d483d18f82b21a30f11,DataFrame.__getitem__ now accepts non-str,sinhrks,sinhrks@gmail.com,2015-09-06 16:32:53+09:00,sinhrks,sinhrks@gmail.com,2015-09-06 16:32:53+09:00
b524b8047467f0282e303aeec090833baf16dfd9,"MAINT: Use comprehension instead of map(add, ...).

This is more straightforward, and toolz.curried.operator.add requires
the latest toolz, which isn't on travis for some builds.",Scott Sanderson,scoutoss@gmail.com,2015-09-06 13:19:00-04:00,Scott Sanderson,scoutoss@gmail.com,2015-09-06 13:19:00-04:00
efb6cb806ffbf94decc9a951d0802bbea0c8331c,Add datetime properties to index,Matthew Rocklin,mrocklin@gmail.com,2015-09-06 13:12:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-06 13:12:36-07:00
6a0c2fe367ca33f5710b997f52d33acafcb2e472,"refactor accessors, test for consistent names",Matthew Rocklin,mrocklin@gmail.com,2015-09-06 13:19:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-06 13:19:28-07:00
1c57a679115632767cc05dd7834e790ec60a94ac,ENH: Add `ensure_not_exists` to dask.utils.,Scott Sanderson,scoutoss@gmail.com,2015-09-07 02:25:10-04:00,Scott Sanderson,scoutoss@gmail.com,2015-09-07 02:25:10-04:00
b928b1cd8829a0bef7b6fc6292329786ea09b634,"MAINT: Allow users to specify format to dot_graph.

We support 'png', 'pdf', 'dot', 'svg', and 'jpeg' as formats.  If
IPython is installed, passing 'png' or 'jpeg', causes us to return an
IPython.display.Image.  Passing 'svg' causes us to return an
IPython.display.SVG.  In all other cases, or if IPython is not
installed, we return None.",Scott Sanderson,scoutoss@gmail.com,2015-09-07 02:25:38-04:00,Scott Sanderson,scoutoss@gmail.com,2015-09-07 02:25:38-04:00
1a1f4e925d6199191d62eda6a28e9e0d07e20883,"Merge pull request #676 from sinhrks/getitem_scalar

DataFrame.__getitem__ now accepts non-str",Matthew Rocklin,mrocklin@gmail.com,2015-09-07 13:30:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 13:30:55-07:00
7361e85ca8259a44bc263ba91cd39eafef0d4bde,"Merge pull request #669 from mrocklin/document-order-loss

Document loss of order in shuffle",Matthew Rocklin,mrocklin@gmail.com,2015-09-07 13:58:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 13:58:39-07:00
53c3c02d80dbc36a53ba884b98698e25b0cf5a9c,document register and clear in docstring,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 14:50:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 14:50:10-07:00
a59ac5a9fc8ae43e8ce5306c3f40343aadbf1408,remove old results function,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 14:50:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 14:50:17-07:00
b6fb3a34be736fdf70a8ffbae49041eb00bd2c49,"Merge pull request #668 from mrocklin/profiler-multi-get

Support multiple gets within single Profiler run",Matthew Rocklin,mrocklin@gmail.com,2015-09-07 15:41:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 15:41:38-07:00
41368794dfa1edced7f1415039a4fae7391fb098,"MAINT: Don't use set literals.

Python 2.6 was a dark time.",Scott Sanderson,scoutoss@gmail.com,2015-09-07 19:35:55-04:00,Scott Sanderson,scoutoss@gmail.com,2015-09-07 19:35:55-04:00
a0eef9ef3afd0d4c57b4853e3c1718db2725a9ee,"Merge pull request #674 from ssanderson/allow-dot-format-choice

Allow dot format choice",Matthew Rocklin,mrocklin@gmail.com,2015-09-07 17:14:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 17:14:51-07:00
1d5f704a6b0a11abcd893ef3ffdf18d539d99125,add @ssanderson to authors,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 20:23:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 20:23:36-07:00
bcde1a760b57b70455317e003ee4a80ab83a64c5,"Merge pull request #678 from mrocklin/authors-scott

add @ssanderson to authors",Matthew Rocklin,mrocklin@gmail.com,2015-09-07 21:19:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-07 21:19:30-07:00
c804cc3d924882221ceee497f0b6a32746eabf15,"Merge pull request #673 from mrocklin/index-dt-properties

Index dt properties",Matthew Rocklin,mrocklin@gmail.com,2015-09-08 08:27:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-08 08:27:19-07:00
e91484e50eac51014abd1f6d175a4f6037cf0f21,complete test coverage of cov,Matthew Rocklin,mrocklin@gmail.com,2015-09-08 09:15:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-08 09:15:11-07:00
4fcdaa427a9352943f924223660b83415f35edc1,"Merge pull request #663 from mrocklin/cov

Add dask.array.cov",Matthew Rocklin,mrocklin@gmail.com,2015-09-08 10:19:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-08 10:19:08-07:00
2311d66a289071fabbad6de2a44458bb6eee990b,Consolidate ghost depth and boundary coercion.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-18 15:48:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 13:15:10-05:00
c524ecf9acc05114009d449d36238e40191b113d,Test for None in ghost boundaries.,Blake Griffith,blake.a.griffith@gmail.com,2015-08-23 03:06:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 13:47:57-05:00
4e8d8a3ad654917da9920e513b77d30c871355f5,Support None in dask.ghost.boundaries.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 13:45:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 13:47:57-05:00
ffed017b33cfb811f4e2ac094b42bf82562faff5,Default to None boundary if not provided.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 14:17:27-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 14:17:27-05:00
c342695d9f8b78c8622aa337d791b684d39f77ee,Update dask.ghost.ghost docstring.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 14:22:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 14:22:51-05:00
7643d430ee7d03b36ccadcd835432e210150c6b3,Use None boundary in test_ghost,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 14:31:40-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 14:31:40-05:00
20ff5137d15b904500b35acc1721ae9f86dc4951,add datafram.nlargest,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:01:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:03:18-05:00
7fd44f7a191191c036ca6c91103cce0e025aae5c,add test datafram.nlargest,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:01:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:03:46-05:00
b630afd99c0913108ed3440242967f1b7f4c2b8d,skip tests if nlargest not in pandas.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 17:39:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 17:39:12-05:00
a36774ae1322a7f3cbe12f5f1c5fc08f971f1cf4,"None -> 'none', fix accidentally removed test",Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 18:25:28-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 18:25:28-05:00
80e03e1ed56b9a096902c6853c3b0b39e8af6fb3,Manually add docstring instead of @wraps,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 10:49:16-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 10:49:16-05:00
219e74c05d8f6612a0905c8dffe4c21cab8d262a,Raise AttributeError in nlargest on Index,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 10:57:02-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 10:57:02-05:00
e1e88f48b9f125107299de882a4327d0a3e8ee85,expose kwargs in graph in map_partitions,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:06:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:06:24-07:00
6f1e254deedcace45acab871d587c1d8cc7fa5f5,"avoid closure in dask.dataframe.resample

This lets us better introspect the graph",Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:06:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:06:47-07:00
ad01813959cfcdaa67e02d82faca5a194ba3c58b,respect kwargs when tokenizing in map_partitions,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:19:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:19:44-07:00
64e5be99192479276a6c89f1bdbd7f85660b2ed9,"Merge pull request #675 from sinhrks/quantiles

Add DataFrame.quantile",Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:38:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 10:38:01-07:00
07c0b2e8c360661b68bc9a6ed2b5b120bbcb9318,"Merge pull request #685 from mrocklin/clean-map-partitions

Clean map partitions",Matthew Rocklin,mrocklin@gmail.com,2015-09-09 11:15:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 11:15:30-07:00
0ff9f14fb6f6bc18c3d4bd833c0f47ad8f6f9092,docstring for ghost.map_overlap,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 15:36:20-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 15:36:20-05:00
70d0459994894bdd211855bcf253379d6e466897,"Write dask array to a stack of .npy files

Fixes #684

This partitions the dask.array along one axis and stores each block along
that axis as a single .npy file in the specified directory

Example
-------

>>> x = da.ones((5, 10, 10), chunks=(2, 4, 4))  # doctest: +SKIP
>>> da.to_npy_stack('data/', x, axis=0)  # doctest: +SKIP

$ tree data/
data/
|-- 0.npy
|-- 1.npy
|-- 2.npy
|-- info

The ``.npy`` files store numpy arrays for ``x[0:2], x[2:4], and x[4:5]``
respectively, as is specified by the chunk size along the zeroth axis.  The
info file stores the dtype, chunks, and axis information of the array.

You can load these stacks with the ``da.from_npy_stack`` function.

>>> y = da.from_npy_stack('data/')  # doctest: +SKIP",Matthew Rocklin,mrocklin@gmail.com,2015-09-09 13:41:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-09 14:03:00-07:00
a23126cb07ca1abf88b28ed67ba420113464bfa0,Try to add dummy padding for trim_internal,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 17:47:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 17:47:19-05:00
4a1fc0286787aee9b8f9d955dd5f23f4428ceaf9,First pass at a resource profiling,Jim Crist,crist042@umn.edu,2015-09-09 18:14:33-05:00,Jim Crist,crist042@umn.edu,2015-09-09 18:14:33-05:00
2108bcb5b2ea87adb06a08bd1b39f31651189823,rechunk dummy padding,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 18:16:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 18:16:18-05:00
d5473728a4b1553837045622694d66e170c38172,Fix units on memory profile,Jim Crist,crist042@umn.edu,2015-09-09 18:26:47-05:00,Jim Crist,crist042@umn.edu,2015-09-09 18:26:47-05:00
651cd1f4a6010889ccbf493a28b345bbeb9b6cc0,Fix map ovelap doctest.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 18:56:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-09 19:10:39-05:00
fa7b4b161de1eefc13efc669f60efc4c451a351a,"Merge pull request #683 from cowlicks/gh-317

Add dask.dataframe.nlargest",Matthew Rocklin,mrocklin@gmail.com,2015-09-10 07:01:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 07:01:05-07:00
3a14e9acc71df20c8a9c0dc53792a596b95c8c69,Add name keyword to dask.array.map_blocks,Jim Crist,crist042@umn.edu,2015-09-10 10:50:14-05:00,Jim Crist,crist042@umn.edu,2015-09-10 10:50:14-05:00
530951e1db974e96a137ecfd65e566ff514b2442,"make add_dummy_padding its own function, doctest.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 10:59:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 11:01:04-05:00
71782b654d6f54eac9f9946ea29dc2c18231e413,Move doctest to Array.map_overlap,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 11:01:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 11:01:57-05:00
06cf15a92e13eefc6b6473b68ec712635b11deb1,"Merge pull request #691 from jcrist/name_mapblocks

Add name keyword to dask.array.map_blocks",Jim Crist,crist042@umn.edu,2015-09-10 11:04:47-05:00,Jim Crist,crist042@umn.edu,2015-09-10 11:04:47-05:00
89933183e083a74b30373cadef7e33e9fd4932aa,"Merge pull request #681 from cowlicks/none-boundaries

Using `none` in dask.ghost.boundaries does no ghosting.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 11:27:33-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 11:27:33-05:00
9d6b9f03e49f6479e9fd0ce5597995e4068b51b9,add mmap_mode kwarg to from_npy_stack,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 11:32:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 11:32:43-07:00
ceda0c296af420d03b493f2e182c0e85a3e233c1,support chunks kwarg in to_hdf5,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 13:12:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 13:12:34-07:00
6880e6d59df741b7dbd536ef8932bc24f8584a18,"simplify repr for da.Array object

curtail the name, remove chunks",Matthew Rocklin,mrocklin@gmail.com,2015-09-10 13:29:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 13:29:30-07:00
a73b48909dcc25afeca5833bb6dc2508393c62cf,"add chunksize back into repr

also include doctest",Matthew Rocklin,mrocklin@gmail.com,2015-09-10 14:52:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 14:52:41-07:00
a2dd6277964c41dbb7d258fe73330a748ddb3c71,"Cleanups to ResourceProfiler

- Is now it's own callback object
- Visualize now accepts multiple profilers, and plots them all
- Properly handles sigint signals in remote process",Jim Crist,crist042@umn.edu,2015-09-10 18:15:31-05:00,Jim Crist,crist042@umn.edu,2015-09-10 18:15:31-05:00
99bec52d93a7ad1f4e92063da8efb1b2f291ab0f,Actually use ResourceData namedtuple,Jim Crist,crist042@umn.edu,2015-09-10 18:24:19-05:00,Jim Crist,crist042@umn.edu,2015-09-10 18:24:19-05:00
4ec8bb22c15de8262ff2a52ca6efa04e6de3c856,"Use Pipe instead of Event in ResourceProfiler

Fixes lockup issue",Jim Crist,crist042@umn.edu,2015-09-10 19:21:12-05:00,Jim Crist,crist042@umn.edu,2015-09-10 19:21:12-05:00
41c16fc3145361a44e1a64e09295b2aad1bff17b,Add tests for ResourceProfiler,Jim Crist,crist042@umn.edu,2015-09-10 22:52:05-05:00,Jim Crist,crist042@umn.edu,2015-09-10 22:52:05-05:00
64d9b1361e2691dddff273af85ddebdc970278d6,"Add psutil to travis, py26 compat fix",Jim Crist,crist042@umn.edu,2015-09-10 23:01:01-05:00,Jim Crist,crist042@umn.edu,2015-09-10 23:13:29-05:00
fc32d34d2bbd969eca07ce5bfe1a959abb4f2063,support chunks=None in to_hdf5,Matthew Rocklin,mrocklin@gmail.com,2015-09-11 07:59:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-11 07:59:00-07:00
cd13bdbcf188367ceef27fa59325513e6326b8fe,"Merge pull request #692 from mrocklin/array-various

Small changes to array",Matthew Rocklin,mrocklin@gmail.com,2015-09-11 08:49:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-11 08:49:56-07:00
5526bc1d00cce4864d45d19eccc6f60999df0488,"Cleanups to ResourceProfiler

- Stacked plots now align edges
- Bugfix for _finish callback
- Test sleep time shortened, removed slow decorators",Jim Crist,crist042@umn.edu,2015-09-11 11:44:10-05:00,Jim Crist,crist042@umn.edu,2015-09-11 11:46:21-05:00
7e9bff047894c2bc9539370898dc135508739d38,"Merge pull request #687 from jcrist/memprof

Resource profiling",Jim Crist,crist042@umn.edu,2015-09-11 11:55:17-05:00,Jim Crist,crist042@umn.edu,2015-09-11 11:55:17-05:00
710c38596d1171f1f729170437645b5a6fd0ca40,DataFrame cleanups,sinhrks,sinhrks@gmail.com,2015-09-11 21:56:19+09:00,sinhrks,sinhrks@gmail.com,2015-09-12 06:32:07+09:00
1b18cec7dad83106893c105089ea4548657897d9,Base.visualize passes through format kwarg,Matthew Rocklin,mrocklin@gmail.com,2015-09-11 15:12:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-11 15:13:14-07:00
502fb7ccd8825cfaf3edc9e8a5d140a781379f82,BUG: DataFrame.elemwise may have incorrect columns,sinhrks,sinhrks@gmail.com,2015-09-12 09:36:11+09:00,sinhrks,sinhrks@gmail.com,2015-09-12 09:36:11+09:00
12b3d912734cdfed6f9563ae45556a1bd0cbbc4f,Get visualization format from filename,Matthew Rocklin,mrocklin@gmail.com,2015-09-11 15:18:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-12 07:09:12-07:00
951803f09a5eec1dae6d17bfa03b305c318a08cb,don't sort dataframe if already sorted,Matthew Rocklin,mrocklin@gmail.com,2015-09-12 14:49:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-12 14:49:25-07:00
deeaed97ed56ef8f4adea6a8e91930f8150fb684,support sort=False kwarg in from_pandas,Matthew Rocklin,mrocklin@gmail.com,2015-09-12 14:52:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-12 14:52:46-07:00
f146f94d36e83ada4c68996e96ad35c2b273b5fa,Add docstring,sinhrks,sinhrks@gmail.com,2015-09-13 07:01:37+09:00,sinhrks,sinhrks@gmail.com,2015-09-13 07:01:50+09:00
08604646c4e7f3ec8e475c0d52b87c1a5aa092a2,Remote is_frame_or_series,sinhrks,sinhrks@gmail.com,2015-09-13 07:26:41+09:00,sinhrks,sinhrks@gmail.com,2015-09-13 07:26:41+09:00
a0b16facf9b7affa852fd114c61f1add41ea087a,"Merge pull request #698 from sinhrks/elemwise_bug

Fix DataFrame elemwise results in incorrect columns metadata",Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:10:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:10:15-07:00
b8df7d633e7362916d7dffc755a49aacfe5b8a88,"Merge pull request #697 from mrocklin/various-2

Fixes for visualization file formats",Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:10:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:10:26-07:00
5b40bbdbe6265d1212d2db1d4523700bdb2d6e44,"Merge pull request #686 from mrocklin/to-npy-stack

Write dask array to a stack of .npy files",Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:15:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:15:31-07:00
632fb70a439b31b1721d704ed757be9f9104b890,"Merge pull request #703 from mrocklin/sort-from-pandas

Sort from pandas",Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:22:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 07:22:37-07:00
d36053764e8a5776d3c37a7e35beb9ba5cb67386,Add visualize to diagnostics import,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 08:31:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 08:31:17-07:00
26878bcd17f14d1454f07b3865f5a00e5d94bb22,"Merge pull request #704 from mrocklin/add-visualize-to-diagnostics

Add visualize to diagnostics import",Matthew Rocklin,mrocklin@gmail.com,2015-09-13 09:02:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 09:02:12-07:00
ff48e01c3c7ae0c2604721ad85ae0cada2504e68,handle empty task lists in profile_visualize,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 10:52:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-13 10:52:02-07:00
6a2a6cb81ef12fa8f7f234b164544c28c837dd27,single file hdf globbing and test,Blake Griffith,blake.a.griffith@gmail.com,2015-09-03 10:05:57-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
348aebf2b0fd2cd5138647d5e85bc6861384e43b,Add tests for multiple file globbing,Blake Griffith,blake.a.griffith@gmail.com,2015-09-04 15:54:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
3ac4c1765375ca015504dd6f47115506674ef8f3,Support multiple file globbing.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-04 15:54:49-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
52ee5787c604fa30bff2300ee72be41883dc8bd3,Test hdf key globbing,Blake Griffith,blake.a.griffith@gmail.com,2015-09-04 16:51:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
b4a08158647fb7bbc1119ad7278251408dbfd1a4,implement hdf key globbing,Blake Griffith,blake.a.griffith@gmail.com,2015-09-04 16:59:04-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
357e746e3e9689f16404a5318cbad2a12aa0e035,remove extra lamda,Blake Griffith,blake.a.griffith@gmail.com,2015-09-04 17:04:55-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
4e17bd963bcc8fd730a0061c616d119611ef1f6f,"Drop support for start, stop kwargs for >1 files.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-06 22:24:38-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
dde5992b045ee55a7a8497314f845c6e120a5c2a,formatting,Blake Griffith,blake.a.griffith@gmail.com,2015-09-07 10:56:23-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
01ed57bf0acb9ff31b6ad40c1e40db5b2b4220f9,Docstrings in dask.dataframe.read_hdf,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 13:05:21-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
c639ad882dd86cfe535456ac1e5ac01fdae4eb87,More explicit pattern with more unique name.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 13:06:36-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
6abbd48fddd8f83588dc648d28540a596441e599,Add dir kwarg to tmpfile contextmanager,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:42:06-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
54477fd8559dc1cb4c1953be2b9348edde5064aa,Make test_hdf_globbing os agnostic,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:42:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
c1c5d1307facdc3e44bd20cda940ac7529d3a6c7,Better error message for read_hdf start/stop,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 16:53:15-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
679418f946334498effd869ea5b99cc75b36874f,Better execption in read_hdf,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 17:24:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
d1ad4ab81fd0ec35889f4c45c122e235e24f3d91,examples of read_hdf,Blake Griffith,blake.a.griffith@gmail.com,2015-09-08 17:26:29-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
7a6188f2d2c32fef872be8fd4352c0b04846df6f,Fastpath for single path single key case.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 11:22:00-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:02:09-05:00
534e2be3017c1217b2f8f75bdbe04f9afb6212a9,Move short-circuit to concat function.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 12:35:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:03:47-05:00
004bf2a4ebc5b91a58b16bf4bd78def1f83d30f9,test concat with one dataframe,Blake Griffith,blake.a.griffith@gmail.com,2015-09-10 12:43:52-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:03:48-05:00
22974ebdb4fdffd7e86d4efaa78f3799d4ce2c2f,Clean and flatten hdf glob test,Matthew Rocklin,mrocklin@gmail.com,2015-09-10 14:15:21-07:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:03:48-05:00
51b515884c26d8b88951c9b13cf3b82ab2e1dc9a,Remove copy of concat from core.py,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:13:51-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:13:51-05:00
219007a0c75a596d302503b92cbc3b6a193ee44b,Add fastpath to concat in multi.py,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:15:49-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:15:49-05:00
ee56c2fc3000a33dae9292e5268e6d9e1907ecbf,Fix test for concat fastpath,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:16:30-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:16:30-05:00
1c5b888ce3019e2e20c828a3a1df95ab505b08dc,Add concat imports in io.py,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:56:17-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 10:56:17-05:00
e14b13665c3a38bdcf4c5a654e5027c35bf01beb,Cleanup DataFrame.cumxxx,sinhrks,sinhrks@gmail.com,2015-09-14 21:09:26+09:00,sinhrks,sinhrks@gmail.com,2015-09-15 01:54:34+09:00
4ec6d32cd9d7810c875091fa9d63705edc345210,"Merge pull request #705 from sinhrks/cumsum_cln

Cleanup DataFrame.cumxxx",Jim Crist,crist042@umn.edu,2015-09-14 12:05:05-05:00,Jim Crist,crist042@umn.edu,2015-09-14 12:05:05-05:00
bc0f84ba337ed8e2f1ce978971aa26bc39d5acf6,"Merge pull request #664 from cowlicks/gh-624

globbing with read_hdf filenames and keys",Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 12:35:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-14 12:35:03-05:00
d08f57f669eb905dba618c6ed2f5b6a6a3fae993,Add optimization for loading index from castra,Jim Crist,crist042@umn.edu,2015-09-14 16:10:54-05:00,Jim Crist,crist042@umn.edu,2015-09-14 16:10:54-05:00
10e0a9b397a69105f33b4de92692ae1a227ccbb2,Ensure rewrite index only matches on index,Jim Crist,crist042@umn.edu,2015-09-14 17:04:46-05:00,Jim Crist,crist042@umn.edu,2015-09-14 17:04:46-05:00
d5f0fe64a8a3222b6485bae36b3b3f969ada26d2,Move index fusing to separate function,Jim Crist,crist042@umn.edu,2015-09-14 22:51:17-05:00,Jim Crist,crist042@umn.edu,2015-09-14 22:51:17-05:00
90baae9c672b19785472e067ec67abcf8f9adaa4,"Merge pull request #706 from jcrist/rewrite_index

Add optimization for loading index from castra",Matthew Rocklin,mrocklin@gmail.com,2015-09-15 00:06:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 00:06:22-07:00
e0f6d2abe7dbd959264589f2d94e73382672c051,Add more datetime accessors to Index,Jim Crist,crist042@umn.edu,2015-09-15 10:13:39-05:00,Jim Crist,crist042@umn.edu,2015-09-15 10:13:39-05:00
c645042149c1af0f135ed7a5d2f22de349de2b9e,"Merge pull request #707 from jcrist/index_time_attrs

Add more datetime accessors to Index",Jim Crist,crist042@umn.edu,2015-09-15 10:22:42-05:00,Jim Crist,crist042@umn.edu,2015-09-15 10:22:42-05:00
b951cb4c75cf5ba7f5bf3658b81cfc4bbc751641,fix series groupby nunique,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:02:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:04:52-07:00
87574232ee78acb3680d60cbfed4fa340efa3031,"Merge pull request #709 from mrocklin/series-groupby-nunique

Fix series groupby nunique",Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:24:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:24:11-07:00
d5cb53f16060fa3bb9eacd24764ddcd249dfd684,Raise informative error on attempted multi-index,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:35:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:43:02-07:00
47e72e9745047c5329c2ee0074318b1fc658e0dc,"Fix series.groupby.nunique

This follows on to #709 which passed only because the test data was trivial.

This changes the test data and fixes the uncovered issue.",Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:51:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 09:51:53-07:00
5c9a0b4a6c5e40942f0dd6aad8ae1cb1bf5664f8,"Merge pull request #712 from mrocklin/series-nunique-2

Fix series.groupby.nunique",Matthew Rocklin,mrocklin@gmail.com,2015-09-15 10:19:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 10:19:24-07:00
36274056a427cb09c60b0acbf9e73d3a98f418e3,support series.groupby.nunique with ndarray indexer,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 10:56:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 10:56:22-07:00
4541073e206a1719f0d66528ef9bcc75651c5fcb,"Merge pull request #713 from mrocklin/series-nunique-3

support series.groupby.nunique with ndarray indexer",Matthew Rocklin,mrocklin@gmail.com,2015-09-15 12:28:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-15 12:28:57-07:00
97c28ccf86907bb936f1555feab8805164d20cf4,"Merge pull request #711 from mrocklin/error-multi-index

Raise informative error on attempted multi-index",Matthew Rocklin,mrocklin@gmail.com,2015-09-16 08:12:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-16 08:12:03-07:00
8b3042174f01e1ab350ce76b3845b3adc8e04c80,"Change dataframe tests to support pandas 0.17

Fixes #693",Matthew Rocklin,mrocklin@gmail.com,2015-09-16 08:37:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-16 08:37:31-07:00
13a9c38e8f2336efc4ad4d595ed2b8ef6d301d1c,"Merge pull request #708 from mrocklin/profile-visualize-corner-cases

handle empty task lists in profile_visualize",Matthew Rocklin,mrocklin@gmail.com,2015-09-16 09:09:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-16 09:09:20-07:00
72139dc577637587797e5ccfb34352f8fecc1621,if systemencoding == 'ascii' set it to 'utf-8',Blake Griffith,blake.a.griffith@gmail.com,2015-09-16 11:47:56-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-16 12:20:36-05:00
9440f06b40e43815b75eeab8230f29aefaf5c73e,Add test for gh-715.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-16 12:21:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-16 12:21:14-05:00
e578924e49854d15349150361ab64724153505bf,"Merge pull request #718 from cowlicks/gh-715

Use 'utf-8' as system encoding when 'ascii' is detected in dask bag",Blake Griffith,blake.a.griffith@gmail.com,2015-09-16 16:24:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-16 16:24:03-05:00
e767fc6fef5ac2d0b0612e1bcd4d7dddf59412c6,"Merge pull request #716 from mrocklin/pandas-0.17

Change dataframe tests to support pandas 0.17",Matthew Rocklin,mrocklin@gmail.com,2015-09-16 15:23:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-16 15:23:23-07:00
9caf6962f0d016eafcd0ef377cfd3190cfe9b615,Dask imperative now works with Value kwargs,Jim Crist,crist042@umn.edu,2015-09-17 14:17:39-05:00,Jim Crist,crist042@umn.edu,2015-09-17 14:17:39-05:00
c9ad2041539a570dfec7c4ed5e3bfa079906f296,Improve tab completion for Value,Jim Crist,crist042@umn.edu,2015-09-17 14:24:04-05:00,Jim Crist,crist042@umn.edu,2015-09-17 14:24:04-05:00
242d3328e17f8cd287c698ed0e7318b975dcb51d,"Add regression test for textblock, next_newline.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-17 14:40:43-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-17 14:40:43-05:00
a701d0b5420d571712f631b73f9a125a6aaab2f9,"Add next_newline, and fix textblock.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-17 14:42:14-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-17 14:42:14-05:00
911e373068f998ad2b820f140045fa3d04fd3012,Add error for using `set_index` in read_csv,Blake Griffith,blake.a.griffith@gmail.com,2015-09-17 16:58:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-17 16:58:22-05:00
8a4e140c4de2f9c06d4a62fb8cdbcd95d9b60a88,Remove partial in applyfunc,Jim Crist,crist042@umn.edu,2015-09-18 09:32:51-05:00,Jim Crist,crist042@umn.edu,2015-09-18 09:32:51-05:00
2c95f9cb0cbea6fc6cfe4b929efeb5c4c688870c,Add DataFrame.describe,sinhrks,sinhrks@gmail.com,2015-09-18 21:13:40+09:00,sinhrks,sinhrks@gmail.com,2015-09-19 00:05:00+09:00
04073808019298e15d89110192ced383a39aafbc,Test for lineseperators other than newline.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-18 11:10:47-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-18 11:39:36-05:00
3ce1de85b6cbdbef533350081f23b87a81b687af,"Add next_newline -> next_linesep.

Generalizes next_newline to work with a given lineseperator.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-18 11:11:37-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-18 11:39:36-05:00
cdcf5e49f2721af49869f6910081a000aefa6df3,"Resample cleanups

Resample now works on frequencies > day, and properly handles `closed`
and `label` kwargs. Missing values are also now properly handled. Unsupported
keywords have been forbidden with `NotImplementedError`.",Jim Crist,crist042@umn.edu,2015-09-18 13:22:08-05:00,Jim Crist,crist042@umn.edu,2015-09-18 13:22:08-05:00
7265006652f7b3faf71e18255af0b34e50b95dc0,Correct test_textblock test.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-18 13:45:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-18 13:45:18-05:00
01ab838b1387ad06d80008e680115d238d28b07f,"Compatability fix for pandas versions

Addition wasn't associative for timestamps/series in previous version:(.",Jim Crist,crist042@umn.edu,2015-09-18 14:07:37-05:00,Jim Crist,crist042@umn.edu,2015-09-18 14:07:37-05:00
6990ae63046d5318c55b0e7d24a3ef686c80166e,Add DataFrame.where and mask,sinhrks,sinhrks@gmail.com,2015-09-19 07:14:31+09:00,sinhrks,sinhrks@gmail.com,2015-09-19 07:22:15+09:00
e0cb75586569df04df9a0f5fc2a3db585649f349,"Sphinx cleanups

- Add support for building locally with rtfd themes
- Add support for headers in sidebar
- Internal links aren't italicized",Jim Crist,crist042@umn.edu,2015-09-18 18:44:15-05:00,Jim Crist,crist042@umn.edu,2015-09-18 18:44:15-05:00
13c7cef5b820e2c41ddfb1010e03daf0379b57c7,Remove unused TimeGrouper in resample,Jim Crist,crist042@umn.edu,2015-09-18 18:47:14-05:00,Jim Crist,crist042@umn.edu,2015-09-18 18:47:14-05:00
0968cd3190cabbbd9f22d22d582d98a9abe23e19,"Merge pull request #722 from jcrist/do-kwargs

Dask imperative works with kwargs",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 08:36:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 08:36:44-07:00
a03140fe110660dcdc2fc3d650fd1e1e431d580e,"Merge pull request #729 from sinhrks/where

Add DataFrame.where and mask",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:24:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:24:45-07:00
c8a85171b500c384c103b1f15c8aa9b7c79c29c4,"Merge pull request #725 from sinhrks/describe

Add DataFrame.describe",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:25:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:25:12-07:00
5caee0d2bf18bf82234776e509b731dea7bca239,"Merge pull request #728 from jcrist/rereresample

Resample cleanups",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:26:29-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:26:29-07:00
6a666681381908c43186fb058e6f06c608e305a4,"Propagate exceptions without modification in async

Previously in the async scheduler we used to put the traceback into the
exception.  This caused problems because we assumed that all exceptions
expected a single message argument.  This assumption is false and,
we are unable to cleanly modify remote exceptions.

Now our policy is to print out the traceback and then raise the original
exception.",Matthew Rocklin,mrocklin@gmail.com,2015-09-16 09:43:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 09:48:17-07:00
42d76aa238063a879d7f594ea458cbf44e554829,create RemoteException class for remote exceptions,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 10:00:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 10:00:05-07:00
79c1264079b491bb7b26d9b5d59ed3bcb10c4e09,use metaclass for remote exception,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 10:27:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 10:27:31-07:00
ae4c7e6013ae0069846bc7396b28dbbcaa88aa02,Add scheduler-overview docs,Jim Crist,crist042@umn.edu,2015-09-21 12:55:09-05:00,Jim Crist,crist042@umn.edu,2015-09-21 12:55:09-05:00
18f45531bcb31b4a60156ae2c2c2b4c1467d4021,A few touchups for scheduler-overview docs,Jim Crist,crist042@umn.edu,2015-09-21 13:34:39-05:00,Jim Crist,crist042@umn.edu,2015-09-21 13:46:48-05:00
b5f6460eb9fa2361e88c565ed0092ded33ea1c81,"Merge pull request #736 from jcrist/scheduler-docs

Scheduler docs",Jim Crist,crist042@umn.edu,2015-09-21 13:58:10-05:00,Jim Crist,crist042@umn.edu,2015-09-21 13:58:10-05:00
f859bbb79ed2ac0bdcd71114e3e8b9f33f0aa8de,Unpin sphinx from requirements-docs.txt,Jim Crist,crist042@umn.edu,2015-09-21 14:34:54-05:00,Jim Crist,crist042@umn.edu,2015-09-21 14:34:54-05:00
94b2e63e96a020b31ff92f42ff89e1b0ed755721,support dir and getattr magic in RemoteException,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:39:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:39:08-07:00
a086e0a824241450a0a01b90eec0ea2d09afb83a,Test 'index_col' kwarg raises a ValueError.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-21 14:46:41-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-21 14:46:41-05:00
c694b23ffac0f4d77ed06be162d0bbf21486ab4c,"Merge pull request #717 from mrocklin/async-exceptions

Propagate exceptions without modification in async",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:54:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:54:45-07:00
f09d024b9cdf1679d3fc7e53048b1b51e57a1297,"Merge pull request #723 from cowlicks/textblock

WIP fixes to textblock and read_csv encodings",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:56:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:56:19-07:00
8faffd4015a585ad6ee9418302350a5c4491f9a8,"Merge pull request #724 from cowlicks/gh-714

Add error for using `set_index` in read_csv",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 13:32:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 13:32:33-07:00
d380261c8467881cce04c060491aac71c791aa1e,CLN/DOC: Add decorator to handle docstrings more properly,sinhrks,sinhrks@gmail.com,2015-09-19 11:13:16+09:00,sinhrks,sinhrks@gmail.com,2015-09-22 06:05:51+09:00
a4f1be833b31231297cf8e38ccb067958d73e558,Add skip_doctest,sinhrks,sinhrks@gmail.com,2015-09-19 23:19:41+09:00,sinhrks,sinhrks@gmail.com,2015-09-22 06:05:51+09:00
32423a8686b6a0bc69931bbd50d94767b9564e3d,Except all errors on task==key check in subs,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 14:21:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 14:39:46-07:00
6f6eae9c3293668cf91c9e8cd223716f60c095e5,Tokenize numpy arrays with md5,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 15:32:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 15:32:11-07:00
945075277add2fbf574620023262ccef24604887,tokenize pandas dataframe values,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 15:52:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-21 15:57:51-07:00
b51c37e3c20db8abc0163be5e03fa9f7fff415a6,"Make child_max and ndependents iterative to avoide recursion limit.

See #525 for prior work on this.  Tests were copy/pasted from that PR to this PR.",Erik Welch,erik.n.welch@gmail.com,2015-09-21 18:29:40-05:00,Erik Welch,erik.n.welch@gmail.com,2015-09-21 18:29:40-05:00
1a70bf4b967293b77163cf357dd1e3d18ca625f7,"Merge pull request #733 from sinhrks/decorate

CLN/DOC: Add decorator to handle docstrings more properly",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 08:02:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 08:02:32-07:00
ff3aaf952a316aa479de822642c8d6dd4b99782c,"Merge pull request #744 from eriknw/iterative_order

Make child_max and ndependents iterative to avoid recursion limit.",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:13:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:13:17-07:00
485a4ad37e30f4f0a8bfb6ebba4e40749cbabb34,tokenize supports discontiguous data,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:28:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:28:07-07:00
ea58d12438a343583ebc5c33ae75b78ba35342e6,"Merge pull request #740 from mrocklin/subs-except

Except all errors on task==key check in subs",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:34:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:34:54-07:00
43ba4b3617257059b8a9d7823db6a57605158a08,Fixes to read_csv for DateTimeIndex; header titles can have spaces; kwarg nrows fix,Casey Clements,casey.clements@continuum.io,2015-09-15 08:22:59-04:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:35:28-07:00
8f1016bf587e582b6b99b492552d55e065ed21db,Added DateTimeIndex tests for read_csv,Casey Clements,casey.clements@continuum.io,2015-09-16 21:09:41-04:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:35:52-07:00
c291cba5c3c805eb7cd5b026f3fa480d3931841c,Added .DS_Store to .gitignore,Casey Clements,casey.clements@continuum.io,2015-09-16 21:10:42-04:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:35:52-07:00
30bfcb028b9376eeb27d4b31ce36c257d2828819,Clean up kwargs to remove parse_dates columns,Matthew Rocklin,mrocklin@gmail.com,2015-09-17 08:02:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:35:52-07:00
f343a3d4915eb0a517c5419116222850b7b118d2,"Clean up read_csv

A few changes to read_csv

1.  Remove categorize and index functionality to read_csv
    This is now handled in a less efficient but simpler way that is
    easier to maintain
2.  Clean up style issues from #720
3.  Minor fixes to other tests",Matthew Rocklin,mrocklin@gmail.com,2015-09-21 12:20:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:36:17-07:00
a79e2bcded0f14cbf9f3c68c52e71dab80f5d1f9,"Merge pull request #737 from mrocklin/ts-csv

Timeseries CSV tests",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:48:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:48:14-07:00
37ef798e05f56ab18fb0eca3c330947e19337532,"expand support for tokenize ndarray

include datetime, scalar, and py34 support",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:58:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 09:58:46-07:00
0e267a399a1461624040a197843ec376eb350969,use normalize_token rather than tokenize,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 10:29:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 10:29:23-07:00
214ef92010ca639457bb6c7c749f07d96a16eec4,add mock to travis.yml,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 10:49:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 10:49:59-07:00
1df14d99c256f5c4a99525a56e0161c67b349433,"Merge pull request #742 from mrocklin/hash-arays

Hash numpy arrays and pandas dataframes in tokenize",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 11:34:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 11:34:04-07:00
ba3be14cf2fae1765ec5e6e79e154bbfe952f121,"Special case apply in pprint_task

Handles keyword arguments using `apply` in `pprint_task`.",Jim Crist,crist042@umn.edu,2015-09-22 13:41:06-05:00,Jim Crist,crist042@umn.edu,2015-09-22 13:41:06-05:00
b0a5a65c228cf0332a49cedc10da34ff0a9d45e0,Only test ResourceProfiler if psutil installed,Jim Crist,crist042@umn.edu,2015-09-22 13:48:30-05:00,Jim Crist,crist042@umn.edu,2015-09-22 13:48:30-05:00
e86daf98211e68e4fc660c1f7ed687433479d67d,"Fixups to pprint_task

- Add `apply` from `dask.compatibility` in tests
- Fix div-by-zero issue in pprint_task
- Sort kwargs before printing",Jim Crist,crist042@umn.edu,2015-09-22 14:12:56-05:00,Jim Crist,crist042@umn.edu,2015-09-22 15:24:49-05:00
d03a02ea8bb322191456adb3b7d1cc3b821c4119,"Merge pull request #745 from jcrist/apply_pprint_tasks

Special case apply in pprint_tasks",Matthew Rocklin,mrocklin@gmail.com,2015-09-22 14:30:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-22 14:30:49-07:00
67e44907a7e2fef2ab9aec8d1f890e8eecb2b7da,Add add_endianess_to_encoding function.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-21 16:05:04-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:07-05:00
3cde633c931539fc95b6619d0151bbc3f15369ff,Add tests for utf 16/32,Blake Griffith,blake.a.griffith@gmail.com,2015-09-21 16:09:31-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
68a2e268ce917d637948c6ab34a57e97e8e477ab,Add tests for read_csv on utf-16-le/be.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 13:00:52-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
1ec8a2dd507d50fab7b99a8669020b7d8862a944,Prefix blocks in _read_csv with correct bom.,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 13:18:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
f601eaab913007b266921d2e40ff5f08de22c4f0,Add get_bom and get_bin_linesep to dask/utils.py,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 13:19:03-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
02afdf585570a3dcdb8f6374aa5a3a8fec357738,fix bug in textblock,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 13:19:52-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
58de150b21e37a71756042637da338c07905cace,fix test for which broke from changes to _read_csv,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 13:20:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
dfe717a73344aa68fbb637d79e8251a5b9f70c61,python 2.6 compatiblity,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 14:02:27-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
7ccb6e7cae18e7d8c9714b7070983c437720141d,Consolidate tests for gh601,Blake Griffith,blake.a.griffith@gmail.com,2015-09-22 15:11:25-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:01:08-05:00
114d6c1f27b96b57056554cd71dc15f030b6033b,Windows fix test_utils.py::test_gh606,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:27:37-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:27:37-05:00
7333f6ef0886583910c19742caf740114d881a02,Windows fix dataframe test_encoding_gh601,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:56:53-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 11:56:53-05:00
bb5e07dcdfbe3c4dcdb2f150f0ecbaf900f77df9,"Ensure args to elemwise have compatible shapes

Previously we errored later on, and the message was more cryptic. This
replicates numpy's error message, and validates arguments immediately.",Jim Crist,crist042@umn.edu,2015-09-23 17:56:15-05:00,Jim Crist,crist042@umn.edu,2015-09-23 18:23:43-05:00
5d2be4f2f63617f2f7a10072965c9ecb779226eb,"Close memmap'd file when finished.

Fixes a bug in windows.",Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 18:39:48-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-23 18:39:48-05:00
4281cedb20b76fe2157f58a1eb65bb6c35054464,"Merge pull request #750 from jcrist/elemwise_valid

Ensure args to elemwise have compatible shapes",Jim Crist,crist042@umn.edu,2015-09-24 12:06:12-05:00,Jim Crist,crist042@umn.edu,2015-09-24 12:06:12-05:00
10884c15a811730a5a770b42bf5bab91ea70c7e3,Profile plots robust to no data,Jim Crist,crist042@umn.edu,2015-09-24 14:01:39-05:00,Jim Crist,crist042@umn.edu,2015-09-24 14:01:39-05:00
c361d0d40412ea44645d492ef0a15cbfd68a7dc9,"Merge pull request #754 from jcrist/res_plot_empty

Profile plots robust to no data",Jim Crist,crist042@umn.edu,2015-09-24 14:48:32-05:00,Jim Crist,crist042@umn.edu,2015-09-24 14:48:32-05:00
372a1908013b6657a2a0dd7577a71abb3cfd5e1e,"Merge pull request #739 from cowlicks/bom

Fixing issues with UTF-16/32 encodings and dataframe.read_csv",Blake Griffith,blake.a.griffith@gmail.com,2015-09-24 15:00:09-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-24 15:00:09-05:00
643a01d213609a27f71bbdf4546d578c7568df5b,"Merge pull request #753 from cowlicks/windows

Close memmap'd file when finished. Close #748",Blake Griffith,blake.a.griffith@gmail.com,2015-09-24 15:44:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-24 15:44:19-05:00
dee2d9e9b1d7c32dfde1e44cf64f7bbb22b2c61e,Bump version to 0.7.2,Blake Griffith,blake.a.griffith@gmail.com,2015-09-25 12:31:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-25 12:31:18-05:00
752eb60b0a41e98b71e0c98485cbf7f1f2ded749,Bump release to 0.7.3,Blake Griffith,blake.a.griffith@gmail.com,2015-09-25 13:50:02-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-09-25 13:50:02-05:00
cb783074690b10dafad7e088061138d1df1f2917,Ensure random seeds are different. Close #719,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-25 15:22:39-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-25 15:22:39-07:00
472862edfad23f5f1e940eb0f07dbcc01a555c84,Implement da.ravel(),Stephan Hoyer,shoyer@climate.com,2015-09-26 21:05:33-06:00,Stephan Hoyer,shoyer@climate.com,2015-09-26 22:22:53-06:00
b702819821c90825c29f90e9516708efc9572a63,Implement da.core.unravel(),Stephan Hoyer,shoyer@climate.com,2015-09-26 22:16:28-06:00,Stephan Hoyer,shoyer@climate.com,2015-09-26 22:26:20-06:00
dc7828fefef28e62822c95f18e9c9b2d57cb47c0,Implement da.reshape(),Stephan Hoyer,shoyer@climate.com,2015-09-26 22:21:53-06:00,Stephan Hoyer,shoyer@climate.com,2015-09-26 22:33:50-06:00
45f3dc8c427785a416e7ce19d3305886af4b7c45,Support Array.reshape(*shape),Stephan Hoyer,shoyer@climate.com,2015-09-26 22:44:22-06:00,Stephan Hoyer,shoyer@climate.com,2015-09-26 22:44:22-06:00
953d53718c1179884b9f77958532fd166647e767,Handle unknown sizes (-1) in reshape,Stephan Hoyer,shoyer@climate.com,2015-09-26 23:14:59-06:00,Stephan Hoyer,shoyer@climate.com,2015-09-26 23:14:59-06:00
c163c30596898d661512fc33d493fa29683d5e58,"Support struct dtypes in dd.from_dask_array

Example
-------

In [1]: import numpy as np

In [2]: x = np.array([(1, 'a'), (2, 'b')], dtype=[('a', 'i4'), ('b',
'object')])

In [3]: import dask.array as da

In [4]: y = da.from_array(x, chunks=(1,))

In [5]: import dask.dataframe as dd

In [6]: df = dd.from_dask_array(y)

In [7]: df
Out[7]: dd.DataFrame<from-dask-arrayd332533ff03b86defb56f10bc4fd3468,
divisions=(0, 1, 1)>

In [8]: df.compute()
Out[8]:
   a  b
   0  1  a
   1  2  b

Fixes https://github.com/blaze/dask/issues/747",Matthew Rocklin,mrocklin@gmail.com,2015-09-27 08:50:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-27 08:50:21-07:00
d5f8537b2b4067b48c9ce7340e7769c1313e22a3,"Merge pull request #758 from shoyer/reshape

Add reshape and flatten for dask.array",Matthew Rocklin,mrocklin@gmail.com,2015-09-27 13:53:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-27 13:53:07-07:00
eba04e8936aa861ba8d2c2a031f149a776be5e3d,"Merge pull request #759 from mrocklin/from-dask-array-struct-dtype

Support struct dtypes in dd.from_dask_array",Matthew Rocklin,mrocklin@gmail.com,2015-09-27 13:53:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-27 13:53:54-07:00
281ec36a8a1b4a728d402ed39f0daf17cc1daa8b,clean up svd_compressed test,Matthew Rocklin,mrocklin@gmail.com,2015-09-27 12:07:58-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 17:11:45-07:00
40757ada31b06b2ca18b85c82c4cd1c4bbe4f398,update random dependent doctest,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 17:17:26-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 17:17:26-07:00
af7f68ddcc290022cff5416588f556157f613d37,update docs for random seeds,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 17:46:30-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 17:46:30-07:00
eed011b6ef5b57edbd82c0608e7f29dfd35eb1f5,use random_state as parameter name instead of seed,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 21:13:33-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 21:13:33-07:00
1db9c8334ddd5feda743e2252d82c49f83d9bfa0,make random_state default to None,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 21:27:04-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-28 21:27:04-07:00
aea7edc8cb79d653fe07a4163ea40f4d41a11fb4,fix name test,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-29 06:45:23-07:00,Clark Fitzgerald,clarkfitzg@gmail.com,2015-09-29 06:45:23-07:00
86d79d22b2f60308aa350eb3895fa7d188bc1286,"Use lock in dd.read_hdf

Fixes #760",Matthew Rocklin,mrocklin@gmail.com,2015-09-29 08:42:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-29 08:42:57-07:00
b44803f2b4984dd716eda1403f2fbba2ab8884a4,add test for segfaulting read_hdf,Matthew Rocklin,mrocklin@gmail.com,2015-09-29 14:50:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-29 14:50:23-07:00
29930af88ac6c794743c93ce5e25488ec1a26778,"Remove ready-set from async scheduler state

This ends up not being strictly necessary",Matthew Rocklin,mrocklin@gmail.com,2015-09-29 16:14:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-29 16:15:18-07:00
e29fa69279094280859d91d1a8363231c4526909,"Merge pull request #763 from mrocklin/remove-ready-set

Remove ready-set from async scheduler state",Matthew Rocklin,mrocklin@gmail.com,2015-09-30 07:31:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-30 07:31:31-07:00
d9f623baaa8e1d1075f9132108ed7bb11eea39b0,"Replace dask.get from core.get to async.get_sync

We really shouldn't publish core.get anywhere, particularly in the
top level API.",Matthew Rocklin,mrocklin@gmail.com,2015-09-30 17:08:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-09-30 17:08:42-07:00
80a0be609e3a46783384317536041f5f1eb8ea2e,"Merge pull request #756 from clarkfitzg/random_seeds

Ensure random seeds are different.",Matthew Rocklin,mrocklin@gmail.com,2015-10-01 07:38:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-01 07:38:52-07:00
66554f6a5c88cb9b59b03ca34bf9a9f168128465,"Merge pull request #762 from mrocklin/dd.read_hdf5-lock

Use lock in dd.read_hdf",Matthew Rocklin,mrocklin@gmail.com,2015-10-01 07:38:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-01 07:38:59-07:00
de3633b2693e67f0acccebda4dfc58332aefb527,"Merge pull request #765 from mrocklin/replace-dask.get

Replace dask.get from core.get to async.get_sync",Matthew Rocklin,mrocklin@gmail.com,2015-10-01 17:23:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-01 17:23:36-07:00
c1fbac63d1b267223fdd6e6f564b3647c7ecb919,"Ignore importerror when defining RandomState.choice

Fixes #766",Matthew Rocklin,mrocklin@gmail.com,2015-10-02 17:12:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-02 17:14:52-07:00
f8a6ab4d0559ed74145d6bd112214e2051389a6f,"Merge pull request #767 from mrocklin/random-ignore-choice

Ignore importerror when defining RandomState.choice",Matthew Rocklin,mrocklin@gmail.com,2015-10-02 18:06:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-02 18:06:11-07:00
4b56a224cfe27d1b748df8f3e0d895f751bed300,"ravel array in tokenize

This supports 3.2

See https://github.com/scikit-image/scikit-image/issues/1740#issuecomment-145275737",Matthew Rocklin,mrocklin@gmail.com,2015-10-03 11:43:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-03 11:43:21-07:00
d16891021e1cee84f578d9f85ee061332630e7a2,"Merge pull request #768 from mrocklin/base-ravel-tokenize

ravel array in tokenize",Matthew Rocklin,mrocklin@gmail.com,2015-10-05 07:55:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-05 07:55:43-07:00
3429fdd80afce2d2739d27e58c02ef888272c888,Add DataFrame.append,sinhrks,sinhrks@gmail.com,2015-09-21 19:08:37+09:00,sinhrks,sinhrks@gmail.com,2015-10-06 21:35:22+09:00
a66ebe32ac41c430062840d3dda397b025dffabb,"Merge pull request #769 from sinhrks/append

Add DataFrame.append",Matthew Rocklin,mrocklin@gmail.com,2015-10-06 06:55:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-06 06:55:07-07:00
98ce640b461d499b564f692629fa06fa0009d86a,"BUG: fixes for nan-skipping aggregation functions

Fixes GH773",Stephan Hoyer,shoyer@climate.com,2015-10-07 13:55:54-07:00,Stephan Hoyer,shoyer@climate.com,2015-10-07 13:55:54-07:00
84a6013f0d72664b8d5376fd1fa06f3ee0d53df1,"Merge pull request #776 from shoyer/nan-reduce-fixes

BUG: fixes for nan-skipping aggregation functions",Jim Crist,crist042@umn.edu,2015-10-08 11:50:30-05:00,Jim Crist,crist042@umn.edu,2015-10-08 11:50:30-05:00
cb8e13ace5f7dc16e1ddc9c14110204626059b2d,"A few imperative fixes

- Key names in do prepend function name
- Value keys use type name as prelude
- Correct intend of tokenize(..., True) to pure=True",Matthew Rocklin,mrocklin@gmail.com,2015-10-09 09:29:40-07:00,Jim Crist,crist042@umn.edu,2015-10-09 15:00:25-05:00
87a651743a36f6120bfc7770df99f12d5b0faef0,Allow methods on Value objects to be pure,Jim Crist,crist042@umn.edu,2015-10-09 15:32:45-05:00,Jim Crist,crist042@umn.edu,2015-10-09 15:32:45-05:00
fb26f3712329f17ae943dd918b2ae0eaea70db28,"Merge pull request #780 from jcrist/imperative-fixes

A few imperative fixes",Jim Crist,crist042@umn.edu,2015-10-09 16:21:36-05:00,Jim Crist,crist042@umn.edu,2015-10-09 16:21:36-05:00
46a2f4a491f14a338661caa438b556fc0daa1d19,"Fix for numpy 1.10 divide

Need to test for another fail-case for np.divide, and use our custom
version for that as well.",Jim Crist,crist042@umn.edu,2015-10-09 17:07:16-05:00,Jim Crist,crist042@umn.edu,2015-10-09 17:07:16-05:00
d8d9286bbb11440294324038c3cc15a13c6edfb6,Fix read_csv compatibility issues with pandas 0.17,Jim Crist,crist042@umn.edu,2015-10-12 12:24:57-05:00,Jim Crist,crist042@umn.edu,2015-10-12 12:24:57-05:00
570efd0cdc26a107aefb93af80e7065ecf51f7e8,"Fix loc with numpy dtypes

Need to explicitly cast to same datetime dtype before comparing",Jim Crist,crist042@umn.edu,2015-10-12 12:25:29-05:00,Jim Crist,crist042@umn.edu,2015-10-12 12:25:29-05:00
d7e2d410db21408c632ad6f7933f1719c75f98f7,"Pin versions in travis.yml for py2.6

Conda is incredibly slow for python2.6 due to dropped support for
python2.6. We pin a few packages to decrease solve time.",Jim Crist,crist042@umn.edu,2015-10-12 13:04:06-05:00,Jim Crist,crist042@umn.edu,2015-10-12 17:05:51-05:00
b6b7bd9f45652a1a790dab2f36fc729bb5a71886,"xfail distributed test

Not sure why it's failing - something to do with ipyparallel.",Jim Crist,crist042@umn.edu,2015-10-12 17:05:59-05:00,Jim Crist,crist042@umn.edu,2015-10-12 17:05:59-05:00
4ce29f716a81d9902dc97361673903095978974a,Pin versions in travis.yml for py3.3 as well,Jim Crist,crist042@umn.edu,2015-10-13 11:40:55-05:00,Jim Crist,crist042@umn.edu,2015-10-13 11:40:55-05:00
40fa04ffebe4a547cf23880976f136be0b4e3a28,"Merge pull request #782 from jcrist/numpy-pandas-upgrade

Version compatibility fixes",Jim Crist,crist042@umn.edu,2015-10-13 11:52:44-05:00,Jim Crist,crist042@umn.edu,2015-10-13 11:52:44-05:00
65e315b53734500bc630d137181957a19da520a3,Pass kwargs to visualize through as graph attributes,Matthew Rocklin,mrocklin@gmail.com,2015-10-13 14:16:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-13 14:16:11-07:00
4b9df5dfbda933112adcb01a26e49c51f99f00f3,"Merge pull request #783 from mrocklin/dot-attributes

Pass kwargs to visualize through as graph attributes",Matthew Rocklin,mrocklin@gmail.com,2015-10-13 17:29:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-13 17:29:23-07:00
2be9313aff436bf743e8a94604cc3ddbc014b106,First pass at cache profiling,Jim Crist,crist042@umn.edu,2015-10-14 13:59:35-05:00,Jim Crist,crist042@umn.edu,2015-10-14 13:59:35-05:00
1880b3fbfbeb3f203cb50ffd694b7e9e0075d9cc,"Fixes for docs

- Pin pandas version so docs build on RTD
- Fix headings in many docstrings to standard numpydoc formatting
- Add numpydoc setting to conf.py, removes 1000+ lines of warnings on
  each build
- Remove references to non-existant functions
- A few rst formatting fixes throughout

Docs now build with minimal terminal output, and without silently
dropping parts of docstrings.",Jim Crist,crist042@umn.edu,2015-10-14 16:47:59-05:00,Jim Crist,crist042@umn.edu,2015-10-14 16:54:34-05:00
8a7ecb89b19fd78546b33a22744532bc71655b96,"Remove duplicate, unused doc page",Jim Crist,crist042@umn.edu,2015-10-14 17:05:38-05:00,Jim Crist,crist042@umn.edu,2015-10-14 17:05:38-05:00
1f11d3a3516f72bb2b7cbdf9c6217acc7e7e5f53,"Remove explicit links to html in docs

Use :doc: tag instead.",Jim Crist,crist042@umn.edu,2015-10-14 18:02:47-05:00,Jim Crist,crist042@umn.edu,2015-10-14 18:02:47-05:00
0d5231e4335de6ef7ff1a267418c1abdc05efbcd,Remove unused dataframe doc pages,Jim Crist,crist042@umn.edu,2015-10-14 18:03:44-05:00,Jim Crist,crist042@umn.edu,2015-10-14 18:03:44-05:00
5af933ae74c2ba63200fa155fe6bb0c2caba7bd9,"Merge pull request #785 from jcrist/doc-fixes

Doc fixes",Jim Crist,crist042@umn.edu,2015-10-14 18:16:03-05:00,Jim Crist,crist042@umn.edu,2015-10-14 18:16:03-05:00
a4fcd6be0a79df7fa46f8d83f197f280d1753855,add future warning to dask.distributed,Matthew Rocklin,mrocklin@gmail.com,2015-10-15 14:34:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-15 14:34:08-07:00
d3d94a1692c7a1bc3502f014619becc636ef4176,"Merge pull request #660 from mrocklin/document-release-procedure

Document release procedure",Matthew Rocklin,mrocklin@gmail.com,2015-10-15 15:15:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-15 15:15:14-07:00
17a63a90ec8c41e5641b0970ac2b3dc4f7bf91b2,Move diagnostics import of funcname to utils.py,Jim Crist,crist042@umn.edu,2015-10-16 12:36:14-05:00,Jim Crist,crist042@umn.edu,2015-10-16 12:36:14-05:00
f08c178b60b49c95a3001df8d28206afcf700929,"Fixups for CacheProfiler

- Add tests
- Allow zoom on y-axis
- Some docstring fixes",Jim Crist,crist042@umn.edu,2015-10-16 14:22:39-05:00,Jim Crist,crist042@umn.edu,2015-10-16 14:22:39-05:00
0c6ab2985cbfb7b0366ae6e42956ff5d6bd930c4,"Merge pull request #784 from jcrist/cache_diagnostics

[WIP] Cache profiling",Jim Crist,crist042@umn.edu,2015-10-16 15:20:58-05:00,Jim Crist,crist042@umn.edu,2015-10-16 15:20:58-05:00
a4af1787479f0ac434c58ce4b525211f26686a15,add link to gitter in docs,Matthew Rocklin,mrocklin@gmail.com,2015-10-16 14:15:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-16 14:15:41-07:00
c1a25ba8b7ea1bd5da6529a2eaf82050432993f3,add caching doc,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 08:55:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 08:55:51-07:00
3cf755ccd26316c9fcf92fa4f3952b61e2721059,add disclaimer to caching doc,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:00:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:00:00-07:00
a92d3c69716206e4cf8baf2a6a9590f6169ed722,"Merge pull request #786 from mrocklin/deprecate-distributed

add future warning to dask.distributed",Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:08:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:08:27-07:00
efaef36a56b5ae604eb1f166a390cd6bbbeff452,edits to caching doc,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:22:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:22:34-07:00
cb87c55d6fd08e7e5c68bb36b79a75a1052841bb,Merge branch 'master' of github.com:blaze/dask,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:23:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-18 09:23:01-07:00
9e86d6fe8ae4526df182071451f62a2d99228791,add visualize and base to __init__,Matthew Rocklin,mrocklin@gmail.com,2015-10-19 18:22:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-19 18:22:03-07:00
07922ed480e124b76df1d30e82783ea0077c68e1,"Fix bcolz column order

Fixes #787",Matthew Rocklin,mrocklin@gmail.com,2015-10-20 08:41:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 08:41:04-07:00
35b27fadcb8994b55db735ef2d0d5568324ffb43,hdf globbing test uses sync scheduler,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 08:50:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 08:50:15-07:00
89401060f77eb540938b29dce73f13ae8c9e8739,"Merge pull request #793 from mrocklin/read-hdf-lock

hdf globbing test uses sync scheduler",Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:08:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:08:55-07:00
286e60f906185006c797321be3e4b327281735f4,"Merge pull request #791 from mrocklin/imports

add visualize and base to __init__",Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:32:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:32:15-07:00
cd74eb1c69f27aca60020fe9592d977a1a17e95b,fix dataframe_from_ctable doctest,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:34:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:34:06-07:00
24cd6085aa649226ce0ca3f40a2b4f2e3b2fac62,use dtype= in call to empty in ghost,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:59:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 10:59:50-07:00
8c6c572a43b3a8dd3a165c6d1ce5ed6d38709772,Merge branch 'master' of github.com:blaze/dask,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 11:00:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 11:00:21-07:00
5a27f6a4a140eda9b373089e26aa1edffcc5ea13,fix array doctest,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 11:28:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 11:28:30-07:00
f2e5e0719ecdaa5d66814059fe869bb62a4c94d4,"Merge pull request #792 from mrocklin/from-bcolz-column-order

Fix bcolz column order",Matthew Rocklin,mrocklin@gmail.com,2015-10-20 12:12:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-20 12:12:35-07:00
c2669bc7ee1b12db1b67396d402ef5f4f6148824,"Implement dask.array.from_value

Fixes GH701",Stephan Hoyer,shoyer@climate.com,2015-10-20 14:51:37-07:00,Stephan Hoyer,shoyer@climate.com,2015-10-20 14:53:14-07:00
0bb7189738134e4f9596ee0142a47e6d2d37e4b3,add from-raw-dask-graphs section to dataframe-create,Matthew Rocklin,mrocklin@gmail.com,2015-10-21 15:00:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-21 15:00:04-07:00
ac19788b12de9dbf9081213289d80371a0fd4fec,Rename from_value to from_imperative,Stephan Hoyer,shoyer@climate.com,2015-10-22 15:36:16-07:00,Stephan Hoyer,shoyer@climate.com,2015-10-22 15:36:16-07:00
a7fcb0d5d1104d1089be645a8b3611946c2dd487,Add from_imperative to dask-array-api docs,Stephan Hoyer,shoyer@climate.com,2015-10-22 15:37:23-07:00,Stephan Hoyer,shoyer@climate.com,2015-10-22 15:37:23-07:00
910f3ebae54fc130b8a0dbec74e7a558c65f1ce9,histogram computes dtype from numpy,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 15:09:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 15:38:09-07:00
e807b2347a54c35eb95457c95f8b3d686b328adb,"Merge pull request #794 from shoyer/from_value

Implement dask.array.from_value",Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:13:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:13:55-07:00
2366677c5e0fa6fb0bcc0e3f8c0ec66c1522d569,bump version to 0.7.4,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:16:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:16:28-07:00
9f344bbf38610e03f723ac034f9c4a390a7debec,Merge branch 'master' of github.com:blaze/dask,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:17:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:17:12-07:00
1856aba20d3112df92316fcc5d03a3c5d6db0d73,"Remove dask.distributed

Replace with http://distributed.readthedocs.org/en/latest/",Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:36:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:36:44-07:00
d45f3feaff4054e255ed6e8fd24aab1431693123,remove pyzmq and ipyparallel from travis.ci,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:39:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-22 16:39:23-07:00
d4e9ad997c0d56468f1a7e69954bffac3a88bcc7,"Document da.from_imperative

I didn't realize I needed to add this to the API docs twice.",Stephan Hoyer,shoyer@climate.com,2015-10-22 16:54:16-07:00,Stephan Hoyer,shoyer@climate.com,2015-10-22 16:54:16-07:00
7c26ed03f940dce3c31c66ad17fc00aff71d068c,"Merge pull request #797 from shoyer/from_imperative-docs

Document da.from_imperative",Stephan Hoyer,shoyer@gmail.com,2015-10-22 16:55:45-07:00,Stephan Hoyer,shoyer@gmail.com,2015-10-22 16:55:45-07:00
ab18cb2aa29b8f1c72b6432dc135d6d6d6336a51,standardize imports,Matthew Rocklin,mrocklin@gmail.com,2015-10-23 08:02:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-23 08:02:50-07:00
ffcd1216ade17e04dce10c453b686a251b5ae3d8,"avoid toolz in optimize.py

Fixes https://gitter.im/blaze/dask?at=5629d717d73f9e4f3b1b9202
As reported by @bnaul",Matthew Rocklin,mrocklin@gmail.com,2015-10-23 08:23:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-23 08:24:06-07:00
a0e29389379c01bf5b51bfc840f3e88aa1453136,"Merge pull request #798 from mrocklin/imports-2

Standardize imports",Matthew Rocklin,mrocklin@gmail.com,2015-10-23 08:38:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-23 08:38:59-07:00
ac4a9bc357b3e5545339debc5868e9b3e1e7d2ec,Fix small typo in docs Optimization section.,Kurt Smith,kwmsmith@gmail.com,2015-10-24 14:08:06-05:00,Kurt Smith,kwmsmith@gmail.com,2015-10-24 14:08:06-05:00
b8defc89909bb355f113ddfd5dd5b881bc485fa2,"Merge pull request #800 from kwmsmith/docs/fix-typo

Fix small typo in docs Optimization section.",Matthew Rocklin,mrocklin@gmail.com,2015-10-24 12:35:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-24 12:35:27-07:00
672978e3905534fcddc64a8ab7db13c4658e4c6c,bump version to 0.7.5,Matthew Rocklin,mrocklin@gmail.com,2015-10-24 19:50:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-24 19:50:49-07:00
6f4f05f0e491336c094ee1226750575c44c1883d,Add badge and note note binder in README,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 09:12:10-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 09:20:29-05:00
3903aef19d1bc92b2cd87a45274efd3ce975bd94,Make from_bcolz threadsafe.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 09:02:16-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 12:57:37-05:00
6d887e137efe3366ed5b1957d9077d33d05badbd,Add from_bcolz threadsafety test,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 13:11:50-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 13:11:50-05:00
4f3925255e722b80acb910336b16382cff5efe48,"Merge pull request #803 from cowlicks/bcolz-thread-safe

Make from_bcolz threadsafe",Matthew Rocklin,mrocklin@gmail.com,2015-10-26 11:56:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-26 11:56:26-07:00
ed386d45d1a0b7d8ecbfc568ec19c00da6d9a865,Add reference to array tutorial in docs.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 14:11:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 14:11:01-05:00
2e59dc8849b44521c8b8c573e12889f89bc9afdd,Add link to dataframe tutorials.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 14:23:19-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 14:23:19-05:00
c47255930b76101d7bec31445f3e2ca9a4637aa4,Note the imperative binder in the docs.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 14:27:01-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-26 14:27:01-05:00
06a7d38b6c7bf7cdd097efb8b97ba7e78acb6be4,"Merge pull request #796 from mrocklin/nuke_distributed

Remove dask.distributed",Matthew Rocklin,mrocklin@gmail.com,2015-10-26 16:54:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-26 16:54:39-07:00
ea8dc258811aa54bb4b2275380fc89b614f6a5de,"remove optimization in dask.imperative

Previously we called both cull and fuse

Now cull is called automatically within the async scheduler and fuse
gets in the way of the profiler.

See conversation at https://gitter.im/blaze/dask?at=562ebac470e3dd4b5039bf5b",Matthew Rocklin,mrocklin@gmail.com,2015-10-26 16:48:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-26 16:55:12-07:00
a23700059fb1be6b609b551dacd5c836bb457ef9,"Merge pull request #805 from mrocklin/imperative-optimize

remove optimization in dask.imperative",Matthew Rocklin,mrocklin@gmail.com,2015-10-26 17:05:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-26 17:05:23-07:00
9775c3872712a54c410825e97d062be4674b4223,Support kwargs in tokenize,Matthew Rocklin,mrocklin@gmail.com,2015-10-26 18:47:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-26 18:47:22-07:00
6e4e9940240c28f8173f5617632086f3a7d17360,NotImplementedError on groupby(as_index=False),Blake Griffith,blake.a.griffith@gmail.com,2015-09-25 10:48:22-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-27 11:56:39-05:00
0b35929bfc9cff3574693a22404fc347b913cdce,Test gb.(as_index=False) NotImplementedError,Blake Griffith,blake.a.griffith@gmail.com,2015-09-25 10:50:12-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-27 11:56:39-05:00
57429793360b0f48ae677b8c329721950b99a758,Add dataframe.reset_index.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-27 11:48:07-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-27 11:56:39-05:00
48130aa81cfc03eef882d01a978b0ead4fa0c7d8,Add test for reset_index.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-27 11:49:26-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-27 11:56:39-05:00
59d85a1b7e91addd1dccc91bf9b42ba7a4a82753,"Merge pull request #806 from mrocklin/tokenize-kwargs

Support kwargs in tokenize",Jim Crist,crist042@umn.edu,2015-10-27 12:33:38-05:00,Jim Crist,crist042@umn.edu,2015-10-27 12:33:38-05:00
623b932f2c505676c68bcf64e736772432685810,"Merge pull request #807 from cowlicks/gh-735

Add dask.dataframe.reset_index, and raise exception when groupby(...as_index=False) is used.",Matthew Rocklin,mrocklin@gmail.com,2015-10-27 11:00:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-27 11:00:10-07:00
e5077a82ecb70f7de6ae95def03863e9ddb9a32b,Note in dataframe docs no MultiIndex.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-28 09:46:24-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-28 09:46:24-05:00
d4e0dd7c76823078de3cc127143258303b3f9017,Use nbviewer instead of binder for imperative.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-28 17:56:00-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-28 17:56:00-05:00
d11f916854390f65d0f862c0cac6e1298fc33de7,Note timeseries binder and nbviewer.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-28 18:51:30-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-28 18:51:30-05:00
c8419fed872d8b4340aac2da511d87669ff93f5e,"Refactor read_csv

This pulls out a little bit of logic to make read_csv friendlier for
other systems, notably distributed.hdfs.",Matthew Rocklin,mrocklin@gmail.com,2015-10-29 10:50:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-29 11:04:33-07:00
f5fa09f0fff33cc9423914cd855d36e3ebc3b827,"Merge pull request #813 from mrocklin/refactor-csv

Refactor read_csv",Matthew Rocklin,mrocklin@gmail.com,2015-10-29 17:10:03-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-29 17:10:03-07:00
60015a3c086ebe272249bdc88373a7a1906f4c60,"Merge pull request #810 from blaze/docs-note-no-multi-index

Note lack of MultiIndex support in DataFrame docs.",Matthew Rocklin,mrocklin@gmail.com,2015-10-29 17:12:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2015-10-29 17:12:54-07:00
d7b313b5f41757a86fd542b32f6aece77e45b9fd,"Merge pull request #801 from cowlicks/gh-771

Add badge and note binder in README",Blake Griffith,blake.a.griffith@gmail.com,2015-10-30 14:54:18-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-10-30 14:54:18-05:00
c51553cf236320c5cc18ffce5f4cb006229f2cc1,Raise exception with pd.MultiIndex.,Blake Griffith,blake.a.griffith@gmail.com,2015-10-30 14:30:59-05:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-04 11:33:28-06:00
53aa498eb9a4c2115926408b12776553016b28f1,Add new MultiIndex groupby testcase.,Blake Griffith,blake.a.griffith@gmail.com,2015-11-04 11:32:34-06:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-04 11:33:51-06:00
e23698af64f46348c15631082275c54f7e0883f6,Revert note about no MultiIndex support.,Blake Griffith,blake.a.griffith@gmail.com,2015-11-04 11:42:56-06:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-04 11:42:56-06:00
f7670c12aa37a1132400c9f89182e6b98779d595,"Merge pull request #818 from cowlicks/revert-gh-810

Revert note about no MultiIndex support.",Matthew Rocklin,mrocklin@gmail.com,2015-11-07 07:33:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-07 07:33:21-08:00
91d288831dafdf69167a51c59a6efc7e55ecb89b,"Allow literals in dask.compute

This allows for non-collections in calls to dask.base.compute

    >>> compute(my_dask_array, 10)",Matthew Rocklin,mrocklin@gmail.com,2015-11-07 13:56:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-07 13:56:56-08:00
7c06661582276885da7c85459a982aa17d57dea3,pass literals through calls to visualize,Matthew Rocklin,mrocklin@gmail.com,2015-11-07 14:08:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-07 14:08:12-08:00
24573b01893eb22888c42e8b8b3100b89050127b,"Expand tensordot to expose intermediates

Previously the main operation used to compute da.tensordot computed
the chunkwise tensordots and summed them together in a single in-memory
operation.  This possibly resulted in memory blowup, particularly in
short-and-fat .dot. tall-and-skinny cases.

Now we treat each sub-tensordot call as an independent task.  This
allows the scheduler to clear out intermediate results more
intelligently.  We expose more of the algorithm to the scheduler.

Fixes #821",Matthew Rocklin,mrocklin@gmail.com,2015-11-07 20:36:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-07 20:57:12-08:00
71d1a54b60086a6fa365817200e67c4373199c56,"Support single partition in to_hdf

See https://github.com/blaze/dask/issues/823#issuecomment-154778026",Matthew Rocklin,mrocklin@gmail.com,2015-11-08 06:58:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-08 06:58:18-08:00
4488ba0d997592419ba744ce9d233a2d1bdbe586,"properly infer header with all kwargs, including sep",Matthew Rocklin,mrocklin@gmail.com,2015-11-08 07:08:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-08 07:08:09-08:00
518a963fe7b679468c3484d9967d66de6c0230c0,"Merge pull request #824 from mrocklin/csv-hdf-fixes

Csv hdf fixes",Matthew Rocklin,mrocklin@gmail.com,2015-11-08 08:18:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-08 08:18:01-08:00
dc2b6fa78491b929708ba299864e342237d57367,"Mark svd_compressed test as slow

This was failing on ARM.  Now we increase the size and number of
power iterations to improve relative accuracy.  We also mark the test
as slow to avoid slogging down tests.

Fixes #825",Matthew Rocklin,mrocklin@gmail.com,2015-11-08 12:15:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-08 12:15:54-08:00
c60d22f01ec901918131c8fea308fae54e40776e,"Replace infer_header with pandas logic

Previously we used a heuristic to determine if the CSV file had a
header or not.  Now we replicate the logic followed by pandas, which
ends up being significantly simpler.

cc @DSLituiev",Matthew Rocklin,mrocklin@gmail.com,2015-11-08 16:12:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-08 16:12:00-08:00
818299af4aac4ec1532eb50d3507fb46bdd6adb4,"Merge pull request #827 from mrocklin/replace-infer-header

Replace infer_header with pandas logic",Matthew Rocklin,mrocklin@gmail.com,2015-11-08 16:19:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-08 16:19:18-08:00
4afeab49cd7edd9baaf97e0ff1c8fc9abae29491,"Merge pull request #820 from mrocklin/compute-literals

Allow literals in dask.compute",Matthew Rocklin,mrocklin@gmail.com,2015-11-09 07:40:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-09 07:40:58-08:00
5a8b0b1c28848d19e0c65053231adfb22f68a047,"Merge pull request #822 from mrocklin/tensordot-expand

Expand tensordot to expose intermediates",Matthew Rocklin,mrocklin@gmail.com,2015-11-09 07:41:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-09 07:41:03-08:00
2d51e264d5e8a3ef42474a20173f7e46642cc9e9,mimicing -> mimicking,Blake Griffith,blake.a.griffith@gmail.com,2015-11-12 10:11:03-06:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-12 10:11:03-06:00
e9889c2fcec4622866e2e40b677a75134a4c1b5c,closes gh-814,Blake Griffith,blake.a.griffith@gmail.com,2015-11-12 10:32:11-06:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-12 10:35:58-06:00
922567b9e5543243956523105c7ddd071a81c203,"Merge pull request #828 from cowlicks/gh-814

closes gh-814",Matthew Rocklin,mrocklin@gmail.com,2015-11-12 08:46:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-12 08:46:02-08:00
3e159f0c165ca1c966693c1f8b972244a8ad660c,"Use uuid to tokenize unknown types

Fixes #829

Previously we used `repr` as a catch-all for tokenize.  This failed
when different objects repred identically.  Now we default to random
uuids.  This requires us to be more diligent in the simple case but
makes us much more conservative about avoiding collisions.",Matthew Rocklin,mrocklin@gmail.com,2015-11-12 15:06:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-12 15:09:43-08:00
29f21109963f6d3ead6d46343b3c024a9bdf6bc5,use filename and modification time for memmapped arrays,Matthew Rocklin,mrocklin@gmail.com,2015-11-12 15:40:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-12 15:40:56-08:00
ab35e56424f2540169b5ff7ebdb8caea9ad3ed8a,descend down sequences in normalize_token,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 11:52:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 11:52:24-08:00
0a57063c2bc560e2710818ded53c857c2761f1e7,tokenize ordereddict,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 11:58:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 11:58:51-08:00
b3be1fad954937f7f9b8b9febec6a423ce6f624d,use uuids rather than tokens in imperative,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 12:21:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 12:21:33-08:00
5740e803c2cd1e7ecd434833d2fb56b4dc7cd2a7,"normalize slice, np.generic",Matthew Rocklin,mrocklin@gmail.com,2015-11-13 12:23:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 12:23:42-08:00
7ccb56e7b05ec7385c1a1b5c430a52e81ebe6737,update tokenize docstring,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 12:30:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-13 12:30:55-08:00
92fd1dba3665fdd79c3b11fa80d2213e3939ad7d,"Merge pull request #830 from mrocklin/tokenize-uuid

Use uuid to tokenize unknown types",Matthew Rocklin,mrocklin@gmail.com,2015-11-14 17:36:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-14 17:36:07-08:00
a24b1fb5725c7be79a564df0a107302889f8745e,"Merge pull request #826 from mrocklin/svd-compressed-slow

Mark svd_compressed test as slow",Matthew Rocklin,mrocklin@gmail.com,2015-11-14 17:36:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-14 17:36:18-08:00
2cbc6a989a57227e2e18d110e2f92a6da2946ba7,support compute on only literals,Matthew Rocklin,mrocklin@gmail.com,2015-11-15 18:53:50-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-15 18:55:20-08:00
125d3dbd5b6c19f1fcd8ff151aeb80e42ef0f615,Treat lists as lists,Matthew Rocklin,mrocklin@gmail.com,2015-11-15 19:35:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-15 19:40:31-08:00
2bc7b8f8947f067561072b94de52ff4aed5b6af7,swap unquote to use straight lists,Matthew Rocklin,mrocklin@gmail.com,2015-11-16 08:38:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-16 08:38:22-08:00
8916b4b356dd443b2cd34cbdbb3c6179b375271b,"Merge pull request #816 from cowlicks/gh-772

Raise exception with pd.MultiIndex.",Blake Griffith,blake.a.griffith@gmail.com,2015-11-16 11:44:29-06:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-16 11:44:29-06:00
686d0ac6d15c79bed16a0e13fde2fe2b60d67081,fix doctest,Matthew Rocklin,mrocklin@gmail.com,2015-11-16 09:57:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-16 09:57:32-08:00
62c99c1345c287c57972860b8b9090601b1002d6,"Merge pull request #834 from mrocklin/list-list

Treat lists as lists",Matthew Rocklin,mrocklin@gmail.com,2015-11-16 13:49:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-16 13:49:35-08:00
ca9c50c9f0ef603d59f89d22ff9b8c041a64cf09,"Merge pull request #833 from mrocklin/various-3

support compute on only literals",Matthew Rocklin,mrocklin@gmail.com,2015-11-16 13:49:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-16 13:49:42-08:00
5aff66e28b77fbf47080261144c08c2e665c6b31,"add dask.array.view

https://gitter.im/blaze/dask?at=564cb635167ee3a91d43b95d",Matthew Rocklin,mrocklin@gmail.com,2015-11-18 09:59:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-18 09:59:05-08:00
40db70c4379f8956ce6667a6ff283d4d72e13341,use dtype.itemsize in view,Matthew Rocklin,mrocklin@gmail.com,2015-11-18 10:15:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-18 10:37:07-08:00
022163c4c5d3b09416703ce6b87a62a8a331e4d5,use ascontiguousarray rather than copy in view,Matthew Rocklin,mrocklin@gmail.com,2015-11-18 10:18:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-18 10:37:09-08:00
2884e4bb2683673cf4d72e807d1184f19d5a5257,ensure view shape is integral,Matthew Rocklin,mrocklin@gmail.com,2015-11-19 08:16:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-19 08:16:31-08:00
cbc2c5aae473b350eaff85c1d70cf5410399652b,add order kwarg to view,Matthew Rocklin,mrocklin@gmail.com,2015-11-19 12:24:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-19 12:24:21-08:00
dc22739a3564afc124fc7a9b392fc4c810a647fd,First pass at tree reductions,Jim Crist,crist042@umn.edu,2015-11-19 16:53:15-06:00,Jim Crist,crist042@umn.edu,2015-11-19 16:53:15-06:00
1ec803a745379531ddf4974e826852d3eae25d7e,Merge branch 'master' of https://github.com/ContinuumIO/dask into tree_red,Jim Crist,crist042@umn.edu,2015-11-19 16:53:33-06:00,Jim Crist,crist042@umn.edu,2015-11-19 16:53:33-06:00
4d1f8352878f20cb6fbff63b57a1a783e9466a8a,"Cleanups to tree reductions

- Input cleanup
- More tests
- Fix integer `max_leaves` input bug",Jim Crist,crist042@umn.edu,2015-11-20 16:36:35-06:00,Jim Crist,crist042@umn.edu,2015-11-20 16:36:35-06:00
a610bbac3ddb518d9b6128495da1458adb62ce49,add warning in view docstring,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 09:14:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 09:14:38-08:00
2e2fe9fcecc482c5a5a612386ba1c8665534b18c,"Simplify Bag.from_castra

We were running into serialization issues of the `Pandas` namedtuple
object generated within pd.DataFrame.iteritems.  This replaces those
with dictionaries for the time being.

I've also simplified the from_castra function to always match the partitions
found in the castra file rather than possibly bundle them up.  This behavior
seems orthogonal.",Matthew Rocklin,mrocklin@gmail.com,2015-11-23 09:58:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 09:58:58-08:00
d2c4acba1aff5224427883760a644efba40c5e4d,keep tests valid with older pandas versions,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 10:09:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 10:21:31-08:00
d047c8730e839d56fad73b19c27da4cf9bf8a5a3,COMPAT: Remove warnings caused by pandas 0.17.0,sinhrks,sinhrks@gmail.com,2015-11-23 10:37:55+09:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 10:21:33-08:00
f7f7062e772d7201eb9e5590f4a58e2c21e27504,"Merge pull request #844 from mrocklin/bag-from-castra

Simplify Bag.from_castra",Matthew Rocklin,mrocklin@gmail.com,2015-11-23 10:28:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 10:28:13-08:00
bad3fd5001ed6253c27857ea1a3302ec63c5eef1,simplify elemwise calls in view,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 11:08:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 11:08:17-08:00
36933ba47ff2f7ee633f77b2b5d4bb3181e0aa6a,Merge branch 'view' of github.com:mrocklin/dask into view,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 11:16:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 11:16:40-08:00
92c8e67be0336a14dd1151271230ab36729ab31a,pep8 fixes,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-22 22:13:21+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-23 20:31:18+01:00
6970837fd6db1275adf2223ef37367dbe67777d6,Modified _chunk_read_file iterate over a chunk according to its start and end bytes without requiring an extra pass over the data to determine the exact start and end bytes. This modification results in a huge performance gain when processing a single large text file with multiple parallel processes.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-22 23:09:40+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-23 20:31:19+01:00
b276d7acc76b6120a64f525b582561461676d3ab,"Merge pull request #837 from mrocklin/view

add dask.array.view",Matthew Rocklin,mrocklin@gmail.com,2015-11-23 12:07:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 12:07:26-08:00
397734b3fb9af46901cab6d74fed5d6a7ccac874,add keep and subset arguments to drop_duplicates,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 15:00:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-23 20:03:52-08:00
ffe887de73703184946524bc76fb098ee0f1316a,"Merge pull request #846 from mrocklin/drop-duplicates-args

add keep and subset arguments to drop_duplicates",Blake Griffith,blake.a.griffith@gmail.com,2015-11-23 22:50:46-06:00,Blake Griffith,blake.a.griffith@gmail.com,2015-11-23 22:50:46-06:00
0d42a83ef1d2c29bae38b06ecc7e731da12a7a70,Added more efficient readline function that supports arbitrary line separators. Bug fixes and modifications to support the new readline function in the _textblock function.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-24 23:52:27+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-24 23:52:27+01:00
e443d1884405ca6cde72511988af90613e4c137b,Fixed python3 issue. Added arbitrary linesep argument to non-chunked file reader. Added linesep argument to from_filenames function. Modified tests accordingly.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-25 22:43:54+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-25 22:43:54+01:00
3fac890ab296cc4d08fea7e5257881756dd7a011,add test for h5py tokenization,Matthew Rocklin,mrocklin@gmail.com,2015-11-27 09:30:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-27 09:30:15-08:00
909a838849c751190c0e1cc9c5d0144c1fd55b9f,"Merge pull request #850 from mrocklin/h5py-names

add test for h5py tokenization",Matthew Rocklin,mrocklin@gmail.com,2015-11-27 12:56:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-27 12:56:48-08:00
7b18d083601577d2073adf561563880724392309,"Modified _textblock to use io.{BufferedReader, TextIOWrapper} to handle provided line separators and removed custom _readlines function. Modified tests accordingly. Added a warning to _textblock if chunksize is less than the length of a line which may result in duplicate processing of that line.",Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-28 11:32:57+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-28 11:32:57+01:00
5f92e2310800da41cbd6d203d2b52a7840306f06,Fixed invalid import in tests file.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-28 11:40:22+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-28 11:40:22+01:00
9445cf49ea0a26d3e1c2a3c783650f6c21dd4010,Fixed string type for 'newline' argument in io.TextIOWrapper since python versions other than 2.7 seem to dislike byte strings there.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-28 13:27:08+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-11-28 13:27:55+01:00
6647f0a035f70f429cac51f2b25bc839eb60aaa0,"Add drop_dims/new_dims kwargs to map_blocks

This allows map_blocks to support functions that create or destroy
dimensions.

Example
-------

In [1]: import dask.array as da

In [2]: x = da.arange(16, chunks=(8,))

In [3]: y = x.map_blocks(lambda blk: blk.reshape((2, 2, 2)), chunks=(2, 2, 2), new_dims=[1, 2])

In [4]: y
Out[4]: dask.array<atop-3b..., shape=(4, 2, 2), dtype=None, chunksize=(2, 2, 2)>

In [5]: y.compute()
Out[5]:
array([[[ 0,  1],
        [ 2,  3]],

       [[ 4,  5],
        [ 6,  7]],

       [[ 8,  9],
        [10, 11]],

       [[12, 13],
        [14, 15]]])",Matthew Rocklin,mrocklin@gmail.com,2015-11-25 16:38:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-28 07:46:06-08:00
f0a01ea919fd11280c6d8bd8a03f9e84869efbd2,add parameters to map_blocks docstring,Matthew Rocklin,mrocklin@gmail.com,2015-11-25 16:55:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-28 07:46:06-08:00
7d16e616f4d93cd2f4bc858c08b20c7734259a2d,support constants in map_blocks,Matthew Rocklin,mrocklin@gmail.com,2015-11-26 08:28:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-28 07:46:06-08:00
a89a512b281ca41ffc4303528c7d2e633b8e3142,support kwrags in map_blocks,Matthew Rocklin,mrocklin@gmail.com,2015-11-26 08:31:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-28 07:46:07-08:00
fa219ae071af80285dc1d9ecb2e2b7ca5402e9cc,construct dask graph manually in map_blocks,Matthew Rocklin,mrocklin@gmail.com,2015-11-27 07:53:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-28 07:46:07-08:00
78c3a9714698e3da5dfe162e2edf806b27089847,support broadcasting in map_blocks with top,Matthew Rocklin,mrocklin@gmail.com,2015-11-27 08:36:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-28 08:00:56-08:00
c3be56d1fa611f615c60bd62efcae8a977ceaa38,fix and new test for filename and format handling in dot_graph,Pedro M Duarte,pmd323@gmail.com,2015-11-28 08:54:18-08:00,Pedro M Duarte,pmd323@gmail.com,2015-11-28 20:19:25-08:00
3e4d084559d04272c60acda6c4a85123b4380db3,"Merge pull request #851 from PedroMDuarte/dot_graph-filename

Dot graph filename",Matthew Rocklin,mrocklin@gmail.com,2015-11-29 11:37:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-29 11:37:52-08:00
c4df983f03eeac02b5b99ba0628b2ead84b42a17,add @pedromduarte to authors,Matthew Rocklin,mrocklin@gmail.com,2015-11-29 11:38:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-29 11:38:39-08:00
c81ac726b6ed58af2c0d406d2a235aef86fd90fe,add numblocks example to map_blocks docstring,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 09:55:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 09:55:52-08:00
a87672e949365075e19cd90b81ddb18f63e3178a,replace drop/new_dims with drop/new_axis,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 09:57:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 09:57:29-08:00
8e06b9e2d67252e71a9a9c877a4f4b4070fc1af9,add dask.array.compress,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 10:57:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 10:57:58-08:00
4e8028d4bb659e6c4aa36e9bcc690a4a384daea9,get_sync works with num_workers kwarg,Jim Crist,crist042@umn.edu,2015-11-30 18:01:47-06:00,Jim Crist,crist042@umn.edu,2015-11-30 18:01:47-06:00
c62b39cb1cb98d10bbbb99ac099625c32f6ee38c,"Merge pull request #856 from jcrist/get_sync_num_workers

get_sync works with num_workers kwarg",Matthew Rocklin,mrocklin@gmail.com,2015-11-30 16:29:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 16:29:39-08:00
b256d43664816e4099efafc7eac5737af7d2611c,"Merge pull request #848 from mrocklin/drop-new-axes

Add drop_dims/new_dims kwargs to map_blocks",Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:03:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:03:32-08:00
842f8e1c407507233d17df388e00eda241b67ca8,"Merge pull request #853 from mrocklin/compress

add dask.array.compress",Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:03:42-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:03:42-08:00
0137180c48e0da3c49767e933bf2c733b20951ae,add vstack,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 11:04:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:04:45-08:00
12653a7f69fe41be020f0b6a409367f96851980e,"add hstack, dstack",Matthew Rocklin,mrocklin@gmail.com,2015-11-30 11:28:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:05:00-08:00
7320bf93c236284dfd379d75a4c8b939b13e07f2,"Merge pull request #854 from mrocklin/vhstack

v/h/d stack",Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:17:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-11-30 18:17:57-08:00
0e1dc781e4e4b08f18855a647086e5b6b209378b,Visualize now works with dask dicts,Jim Crist,crist042@umn.edu,2015-11-30 20:41:37-06:00,Jim Crist,crist042@umn.edu,2015-11-30 20:41:37-06:00
f59609a86b9af9ff9a5b9c24fa61aa50a74a0f37,"Merge pull request #857 from jcrist/visualize_dsk

Visualize now works with dask dicts",Jim Crist,crist042@umn.edu,2015-12-01 12:53:43-06:00,Jim Crist,crist042@umn.edu,2015-12-01 12:53:43-06:00
f0bd26a7f3fd0df067c16e391ba78dce5ee54781,"Force hdf key to have front slash

Fixes #858",Matthew Rocklin,mrocklin@gmail.com,2015-12-01 13:16:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-01 13:16:11-08:00
fdd031f671e03e7751385dd1e3688a7b9d39d2fb,"Merge pull request #859 from mrocklin/read_hdf_front_slash

Force hdf key to have front slash",Matthew Rocklin,mrocklin@gmail.com,2015-12-01 13:30:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-01 13:30:37-08:00
84f3a3fb549239e559048daa51e1e607813871c5,"Tree reductions work for moment, var, and std",Jim Crist,crist042@umn.edu,2015-12-01 15:32:56-06:00,Jim Crist,crist042@umn.edu,2015-12-01 15:36:41-06:00
a001092ae57d7ba410dad34bb77ec4253eb45c81,Add support for arg_* tree reductions,Jim Crist,crist042@umn.edu,2015-12-02 18:24:13-06:00,Jim Crist,crist042@umn.edu,2015-12-02 18:24:13-06:00
c2e5767174f293f5d5abb6f8645ab396c45fd5c3,max_leaves -> split_threshold,Jim Crist,crist042@umn.edu,2015-12-03 11:51:20-06:00,Jim Crist,crist042@umn.edu,2015-12-03 11:51:20-06:00
b1e22471da5f1ea50868540a8b7d646e9735d544,"Different token for reduce with split_threshold

Previously `a.sum().name == a.sum(split_threshold=2).name`. This has
been removed, as distributed assumes keys with the same name have the
same dependencies.",Jim Crist,crist042@umn.edu,2015-12-03 12:07:36-06:00,Jim Crist,crist042@umn.edu,2015-12-03 12:07:36-06:00
27712308c75b32e0dc5b889fa676af0e9c50a918,Improve depth tests for tree reductions,Jim Crist,crist042@umn.edu,2015-12-03 12:45:37-06:00,Jim Crist,crist042@umn.edu,2015-12-03 12:45:37-06:00
7b285ddc6f98e83b481700574cb9ff0fd08d438a,"Add split_threshold to set_options, default at 32",Jim Crist,crist042@umn.edu,2015-12-03 12:59:21-06:00,Jim Crist,crist042@umn.edu,2015-12-03 12:59:21-06:00
6598c34824b1771a6d517cea93d8a67eed2e9804,"Adjust memory bounds on ResourceProfiler plot

Now lower bound of memory axis is the minimum value, instead of 0.",Jim Crist,crist042@umn.edu,2015-12-03 13:45:35-06:00,Jim Crist,crist042@umn.edu,2015-12-03 13:45:35-06:00
0c437889f25c42a4e7001813021248c4be807ccf,"Merge pull request #861 from jcrist/rprof_membounds

Adjust memory bounds on ResourceProfiler plot",Jim Crist,crist042@umn.edu,2015-12-03 15:37:25-06:00,Jim Crist,crist042@umn.edu,2015-12-03 15:37:25-06:00
2475078d14707cdd82d332acfac09d6bafa96cae,"Merge pull request #839 from jcrist/tree_red

Tree reductions for dask.array",Jim Crist,crist042@umn.edu,2015-12-03 16:26:28-06:00,Jim Crist,crist042@umn.edu,2015-12-03 16:26:28-06:00
89b93ffc197c153a5bfa81e85b36e4b353b686c9,"modified docs and setup. centrlized choice between dill/cloudpickle at
dask.multiprocessing. this commit: test with dill",Pedro M Duarte,pmd323@gmail.com,2015-12-03 22:20:50-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-05 11:20:39-08:00
f8410941cbcb2e810c399877d3959171773cf3da,add a test that fails with dill (and should pass with cloudpickle),Pedro M Duarte,pmd323@gmail.com,2015-12-05 11:41:10-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-05 11:41:10-08:00
4322feffa4aa9e982e7563ff4f337d5d02feb568,switch from dill to cloudpickle,Pedro M Duarte,pmd323@gmail.com,2015-12-05 12:33:06-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-05 12:33:24-08:00
9626cb9dbda2099480ae6b18b98b9048d9199e3e,attempt to fix deep recursion error when pickling,Pedro M Duarte,pmd323@gmail.com,2015-12-05 13:02:12-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-05 13:29:34-08:00
d37b24bbe0602723b3675ad9e6c94626f07c6b8a,fixed line breaks in docstring,Pedro M Duarte,pmd323@gmail.com,2015-12-06 13:08:43-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-06 13:08:43-08:00
95239619fcb715c93b28eeb4b28955f445c218ec,try out solution that falls back to pickle for cloudpickle exceptions,Pedro M Duarte,pmd323@gmail.com,2015-12-06 15:50:12-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-06 16:08:44-08:00
2bcc704a3dbcc8d6e380ea8bce5d233c07ea256b,Allow 'block_id' parameter to also be a keyword-only parameter of the function for dask.array.map_blocks,Erkka Rinne,erkka.rinne@vtt.fi,2015-11-28 00:12:48+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 07:49:30-08:00
f60050204a7a95adc0821e6490c9a7c4f523502a,"Support map_blocks block_id kwarg in python 2

Python 2 does not accept keyword-only arguments.",Erkka Rinne,erkka.rinne@vtt.fi,2015-12-07 12:18:05+02:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 07:50:55-08:00
be73a36343e6669c693db88d7a21cc877e70b329,Make value objects picklable,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 16:08:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 16:08:10-08:00
7cd009962f1ca8e3cb4e7a463b85ee25f41b7d88,"Merge pull request #869 from mrocklin/value-picklable

Make value objects picklable",Matthew Rocklin,mrocklin@gmail.com,2015-12-07 16:41:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 16:41:01-08:00
5fc84d1b75f8eeabfd8e2df280f94c75745ef17d,Raise error on bad chunks argument,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 19:52:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 19:52:57-08:00
9a0bce43d17c02763601961bbfa2edee06aa7367,"Merge pull request #870 from mrocklin/raise-bad-chunks

Raise error on bad chunks argument",Matthew Rocklin,mrocklin@gmail.com,2015-12-07 20:10:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-07 20:10:52-08:00
f39bb841b63ca4562b005a8722139210d68a171e,add @ererkka to authors,Matthew Rocklin,mrocklin@gmail.com,2015-12-08 07:11:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-08 07:11:02-08:00
4cf36225903f5b3f83d7c57be753b72ccd1a2018,Extend sanitize_index to disallow floats,Matthew Rocklin,mrocklin@gmail.com,2015-12-08 07:43:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-08 07:43:46-08:00
71edfc33a85ab7a2e7aed2d02d993fc3276fc97f,sanitize shape in reshape,Matthew Rocklin,mrocklin@gmail.com,2015-12-08 08:01:14-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-08 08:02:33-08:00
4c51130cb9edeac941b8728a257177a2ed146579,try out method_descriptor pickling registered with copyreg,Pedro M Duarte,pmd323@gmail.com,2015-12-08 10:57:57-08:00,Pedro M Duarte,pmd323@gmail.com,2015-12-08 10:57:57-08:00
a94720f3209b276ed6b4517e5d741b2dbdb15f48,"Forward kwargs to compute to both get and optimize

Now

```
x.compute(some_kwarg_here='foo')
```

Gets forwarded to both `x._optimize` and `x._get`. This allows fine
tuning of both steps of the compute process when using dask collections.",Jim Crist,crist042@umn.edu,2015-12-09 15:50:11-06:00,Jim Crist,crist042@umn.edu,2015-12-09 16:02:02-06:00
969507314038f9f4b33ed98994d7e49222ed43e9,Remove out of date kwarg/doc in db.from_castra,Jim Crist,crist042@umn.edu,2015-12-09 17:07:15-06:00,Jim Crist,crist042@umn.edu,2015-12-09 17:07:15-06:00
924eeb3c5f9ae40ba78adba8d54c54c91119a740,"Merge pull request #865 from PedroMDuarte/replace_dill_with_cloudpickle

Replace dill with cloudpickle",Matthew Rocklin,mrocklin@gmail.com,2015-12-09 20:09:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-09 20:09:25-08:00
d9e89f525f41688647c98ee579bb48d439c7064c,split_threshold -> split_every,Jim Crist,crist042@umn.edu,2015-12-11 17:18:18-06:00,Jim Crist,crist042@umn.edu,2015-12-11 17:18:18-06:00
2d2de260aec5133268049e970ecf885152a6cd1a,"Merge pull request #876 from jcrist/split_every

split_threshold -> split_every",Jim Crist,crist042@umn.edu,2015-12-11 17:28:48-06:00,Jim Crist,crist042@umn.edu,2015-12-11 17:28:48-06:00
b6cb5e3bf716ec97a75d9ee8f5d6e0ff2cfd8fe5,"Merge pull request #875 from jcrist/forward_kwargs

Forward kwargs to compute to both get and optimize",Jim Crist,crist042@umn.edu,2015-12-11 17:43:10-06:00,Jim Crist,crist042@umn.edu,2015-12-11 17:43:10-06:00
29575c1e6fe398b1a96c21b81279edf79fc5fe38,DOC: Fix Array.cache examples,sinhrks,sinhrks@gmail.com,2015-12-13 00:24:30+09:00,sinhrks,sinhrks@gmail.com,2015-12-13 00:24:30+09:00
313ad275072932825fa665bea6da1ac1ec42f99a,"Merge pull request #877 from sinhrks/cache_doc

DOC: Fix Array.cache examples",Jim Crist,crist042@umn.edu,2015-12-12 12:14:29-06:00,Jim Crist,crist042@umn.edu,2015-12-12 12:14:29-06:00
8ae7ed4b687d46460b7376d7d3d60dc28af43304,"Merge pull request #873 from mrocklin/check-array-floats

Check array floats",Matthew Rocklin,mrocklin@gmail.com,2015-12-15 09:56:04-06:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-15 09:56:04-06:00
0c8f11360f491d2fb9600cbd970f21e04a776f77,"Implement Series.iteritems, DataFrame.iterrows and DataFrame.itertuples.",Vikhyat Korrapati,c@vikhyat.net,2015-12-16 16:42:48+00:00,Vikhyat Korrapati,c@vikhyat.net,2015-12-21 08:28:13+00:00
495e92a4f39317319ee382d022406f691b05e88b,"Merge pull request #882 from vikhyat/master

Implement dask.dataframe.iterrows and dask.dataframe.itertuples",Matthew Rocklin,mrocklin@gmail.com,2015-12-21 07:49:52-06:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-21 07:49:52-06:00
077b1b82ad03f855a960d252df2aaaa72b5b1cc5,add @vikhyat to authors,Matthew Rocklin,mrocklin@gmail.com,2015-12-21 07:50:47-06:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-21 07:50:47-06:00
bc545deaf83408203256bbc100c7220bf6cdfb44,add docs on chunks choice,Matthew Rocklin,mrocklin@gmail.com,2015-12-23 07:21:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-23 07:21:12-08:00
b9ae4b5e79e34495d4c87f8f9b8679a520ead7b0,Added io.BaseIO compatibile classes of GzipFile and BZ2File for Python 2.6. Fixed bug in 'textblock' and moved it to dask.utils. Adapted dask.dataframe code that uses 'textblock' accordingly. Added centralized 'open' function which handles compression inference and modified code to use this function. Added compression argument to dask.bag.from_filenames and dask.bag.to_textfiles.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-23 18:35:18+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-23 18:35:18+01:00
813d5c4ef4a5bea9c42a98520f90a8cd83298b8b,Fixed Python 3.x bug in 'textblock'.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-24 00:36:03+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-24 00:36:03+01:00
0083d5f6d0d8b3c28599ef48334c2e95f5cf8747,Fixed Python 3.x bug in tests.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-24 01:15:50+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-24 01:15:50+01:00
7f39dc62789cd2b5230123fd3e5dcbfd49f5546a,Added doctest to 'textblock' function.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-25 15:06:34+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2015-12-25 15:06:34+01:00
062bfd8e2cdefbada2be75610d28a8b93597c635,Add skipna option for aggregations,sinhrks,sinhrks@gmail.com,2015-10-04 16:06:34+09:00,sinhrks,sinhrks@gmail.com,2015-12-27 10:26:55+09:00
551b5594a96066b76ea8925cc27534975d223129,"Avoid fusing keys in dask.array.optimize

Fixes #866",Matthew Rocklin,mrocklin@gmail.com,2015-12-26 20:25:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-26 20:25:02-08:00
d6a41ae23cd876477f4c2c4ca2dfd1144e52eef4,avoid fusing output keys in bag,Matthew Rocklin,mrocklin@gmail.com,2015-12-26 22:22:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-26 22:22:34-08:00
12df1feb5309f5a29dbb319f93c14a244691990b,"Merge pull request #890 from mrocklin/avoid-fuse-array

Avoid fusing keys in dask.array.optimize",Matthew Rocklin,mrocklin@gmail.com,2015-12-26 22:29:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-26 22:29:27-08:00
09a75c141410afbabda9f06fc7ef9f03f8941da5,"Merge pull request #889 from sinhrks/skipna

Add skipna option for DataFrame aggregations",Matthew Rocklin,mrocklin@gmail.com,2015-12-26 22:29:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-26 22:29:43-08:00
7036e8db2957abd2d21cd7e7b5cbb11da836c142,protect keys in dealias,Matthew Rocklin,mrocklin@gmail.com,2015-12-27 08:56:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-27 08:56:40-08:00
48bebf6fccd4d3b455c4305e918f120fb8b1549c,pass keys to dealias in array optimize,Matthew Rocklin,mrocklin@gmail.com,2015-12-27 08:59:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-27 09:10:21-08:00
62d30196d07f63d417beb72ce2099372503e3351,Support sampling with replacement,Matthew Rocklin,mrocklin@gmail.com,2015-12-28 22:01:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-28 22:01:09-08:00
f01c30434f7cc4ce1a6db0655b5d7168184571c2,"Merge pull request #891 from mrocklin/dealias-keys

Dealias keys",Matthew Rocklin,mrocklin@gmail.com,2015-12-29 07:30:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-29 07:30:44-08:00
c8bf598c2625d4a42800ebead3c5a86ff573b36a,"Merge pull request #893 from mrocklin/sample-with-replacement

Support sampling with replacement",Matthew Rocklin,mrocklin@gmail.com,2015-12-29 07:30:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-29 07:30:57-08:00
c2002b8444233826069cede757f1b3f52f4ae2d2,return old exception if remote_exception fails,Matthew Rocklin,mrocklin@gmail.com,2015-12-29 08:26:16-08:00,Matthew Rocklin,mrocklin@gmail.com,2015-12-29 08:26:16-08:00
bb29074541393707edcaf3c981dccaafadcf83ce,"Modified 'textblock' to properly deal with multi-byte line separators, added a 'buffersize' argument, and made its start-stop semantics consistent with slices. Added a test for multi-byte line separators.",Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2016-01-02 13:59:15+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2016-01-02 13:59:15+01:00
05e2e6679a5bd43435f57c58d77cb41d1314b4fc,"Finalize no longer accepts the dask object

This was tricky when putting finalize into the dask graph itself,
as is necessary when we ask a remote worker to compute a dask object.

In these cases we had a full copy of the dask object within the dask
graph, which caused some serialization issues.

Now the _finalize staticmethods of each collection only accept the
results and don't have access to any of the object metadata.",Matthew Rocklin,mrocklin@gmail.com,2016-01-02 16:44:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-02 16:44:22-08:00
c7586ef027184ff94c3c2bcfac559d3f3642f66a,avoid lambdas including self in cumulative aggregates,Matthew Rocklin,mrocklin@gmail.com,2016-01-02 16:51:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-02 16:51:24-08:00
4de82c7d75b04785ff8d06c9ce8e9dd93e3f33d8,clean up finalize in imperative,Matthew Rocklin,mrocklin@gmail.com,2016-01-02 17:41:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-02 17:41:33-08:00
5c6607d6f4739eee6616c1fbd7d2ba091ce8f177,"Merge pull request #895 from mrocklin/remote-exception-check

Return old exception if remote_exception fails",Matthew Rocklin,mrocklin@gmail.com,2016-01-03 11:55:16-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-03 11:55:16-08:00
25fe0b060fcf7a56bff8ccc0b233945c06c6ed03,"Merge pull request #899 from mrocklin/finalize

Avoid including dask collection within dask graph",Matthew Rocklin,mrocklin@gmail.com,2016-01-03 11:57:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-03 11:57:56-08:00
7c8e6796c0ce2cb0e54cc03ccff3bdb70f84bae6,"Use lambdas for cumulative reductions

Turns out that the pandas.Series.cum* methods are very hard to
serialize.  This reverts back to lambdas.",Matthew Rocklin,mrocklin@gmail.com,2016-01-03 19:22:11-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-03 19:22:11-08:00
15de6bf3c0c799208512b6a00dabd4fdf3b902c6,Made compatibility implementations of GzipFile and BZ2File only inherit from BufferedIOBase which delegate method calls instead of multiple inheritance. Added tests for 'textblock' with gzip/bz2 compression.,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2016-01-04 16:15:56+01:00,Sigurd Spieckermann,sigurd.spieckermann@gmail.com,2016-01-04 16:15:56+01:00
3a726ed1e343e58ed366fc751c310565869fe016,"Merge pull request #842 from sisp/chunked_file_reader

Significant performance improvement in bag.core._chunk_read_file",Matthew Rocklin,mrocklin@gmail.com,2016-01-04 09:28:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 09:28:59-08:00
28497d0dbf8564f600b9dddcdcbc466ee0c50b74,add @sisp to authors,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 09:30:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:28:33-08:00
4ff75c814f487ba01024210b61163b2026af2c36,"Merge pull request #900 from mrocklin/cum-agg-serialize

Use lambdas for cumulative reductions",Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:31:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:31:32-08:00
05ddd68e566daa1b3eb124002d4e3cf53ee407c3,include output keys in inline_functions,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:04:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:33:14-08:00
4bcbbd4b2cf75a971101425d341adc1f9b66f07d,respect output keys in remove_full_slices,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:20:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:33:18-08:00
a9d791ee1065190f63965add181bd3bbe8bcc553,dont inline output keys in dealias,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:25:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:33:18-08:00
c1572fecfa62398f5accb356f7322decd1bf81c2,"Merge pull request #903 from mrocklin/respect-output-keys

Respect output keys in optimizations",Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:59:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 10:59:06-08:00
35e0d7790f78ffddf5b524ab07066f894e71c61c,"Merge pull request #902 from mrocklin/sisp-authors

add @sisp to authors",Matthew Rocklin,mrocklin@gmail.com,2016-01-04 19:26:53-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 19:26:53-08:00
e9c0cfaac7180bd63fd580a78a9e8a67ec4bb7c5,Various windows fixes,Matthew Rocklin,mrocklin@gmail.com,2016-01-04 19:52:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 10:27:23-08:00
28e3835e99f8bc468cc98ba02e6386b441116774,"Merge pull request #904 from mrocklin/windows

Various windows fixes",Matthew Rocklin,mrocklin@gmail.com,2016-01-05 10:38:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 10:38:24-08:00
d8a148e802c143149d8e599ce9104ea05286feec,"broadcast_chunks with singleton dimensions

Fixes #872",Matthew Rocklin,mrocklin@gmail.com,2016-01-05 10:50:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 10:50:44-08:00
11417057bb9393736b5cc2b7daeb2ca9c50c546b,"Merge pull request #905 from mrocklin/gh-872

broadcast_chunks with singleton dimensions",Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:09:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:09:32-08:00
09d3d7659b557cebda26c7c2069bdd0e90c0c8c8,add 3.5 testing to travis.yml,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:02:30-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:12:43-08:00
0a74304775d8cbc473bcd811cfe710bdb5f7291e,relax pickling test,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:27:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:27:43-08:00
18a8f55c5dd3640836ec7fb12d0e5a0971808b2b,"Merge pull request #906 from mrocklin/3.5

add 3.5 testing to travis.yml",Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:35:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 11:35:00-08:00
232e3ba615a227796f5d77a28fc16230bf7c500a,bump version to 0.7.6,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 12:14:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-05 12:14:25-08:00
7c3225ec67e60406953156b0fe86d5f01b4972b2,Change split_every default to 4,Jim Crist,crist042@umn.edu,2016-01-05 17:59:30-05:00,Jim Crist,crist042@umn.edu,2016-01-05 17:59:30-05:00
918489c6f91a443c5fb8b834557b86c8d387e5fd,"Merge pull request #907 from jcrist/lower_split_every

Change split_every default to 4",Jim Crist,crist042@umn.edu,2016-01-05 18:09:34-05:00,Jim Crist,crist042@umn.edu,2016-01-05 18:09:34-05:00
713a237eb2292b1079a3bc96a15b7bcc170639a5,"Infer compression based of file extension

Fixes #909.",Jim Crist,crist042@umn.edu,2016-01-08 10:59:57-06:00,Jim Crist,crist042@umn.edu,2016-01-08 10:59:57-06:00
ae4204f66f94b45c945e1292eb659c087df1821e,"Merge pull request #910 from jcrist/infer_comp

Infer compression based of file extension",Matthew Rocklin,mrocklin@gmail.com,2016-01-11 21:57:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-11 21:57:35-08:00
6bd5038a3e14dad9947b0f88509d0896f3d51149,"Update documentation

This was a collective effort by following developers:

@kerrywatson1
@electronwill
@FirecatSue
@mathsguy42",Will Warner,electronwill@gmail.com,2015-12-08 11:18:44-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-12 14:20:31-08:00
67f5e44bc53a3df79d9272e5314e8d8fc1638cbd,Merge branch 'master' of github.com:blaze/dask,Matthew Rocklin,mrocklin@gmail.com,2016-01-12 14:20:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-12 14:20:54-08:00
55f9dbeb788c329d88e388d50e057c3a286b6785,"Explicitly call str in partial_by_order

Fixes #912",Jim Crist,crist042@umn.edu,2016-01-13 01:33:27-05:00,Jim Crist,crist042@umn.edu,2016-01-13 01:33:27-05:00
587c2ea9b4ab08e4a3ec1764e3eb519d1b7d834f,Compat fixes for new bokeh release,Jim Crist,crist042@umn.edu,2016-01-13 01:48:13-05:00,Jim Crist,crist042@umn.edu,2016-01-13 01:48:37-05:00
475543c4c928e510673e31c66d05a35c2f023a54,"Merge pull request #913 from jcrist/timedelta

Explicitly call str in partial_by_order",Jim Crist,crist042@umn.edu,2016-01-13 01:51:43-05:00,Jim Crist,crist042@umn.edu,2016-01-13 01:51:43-05:00
3a43f085fc6158635ad29871783ac1e798478109,"Merge pull request #914 from jcrist/bokeh-compat

Compat fixes for new bokeh release",Jim Crist,crist042@umn.edu,2016-01-13 01:54:56-05:00,Jim Crist,crist042@umn.edu,2016-01-13 01:54:56-05:00
5ebb87332311d7356f90cfb84fef9451ab667054,add dask.dataframe.from_imperative,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 09:24:04-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 09:24:04-08:00
8ffc4d7f4184821eb42676bc0f66bcb8b1d19c41,"Merge pull request #917 from mrocklin/dataframe-from-imperative

add dask.dataframe.from_imperative",Matthew Rocklin,mrocklin@gmail.com,2016-01-14 09:52:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 09:52:40-08:00
ebdd359d4e92f6609bf1060f68b85178dc7b8c36,"update xray link, also whitespace",Matthew Rocklin,mrocklin@gmail.com,2016-01-14 11:08:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 11:08:48-08:00
62cbac61e73ed04b15ac2966617ed38031011d0f,add to_imperative method on each collection,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 12:27:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 12:36:33-08:00
36a77df2ee2947ffdf173bea39484d18ff2f0c01,dask.array.to_imperative returns a numpy array,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 12:35:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 12:36:33-08:00
dec9523fb57500d6d1c292d635dcd36fbb67dada,"Merge pull request #918 from mrocklin/to-imperative

add to_imperative method on each collection",Matthew Rocklin,mrocklin@gmail.com,2016-01-14 14:13:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-14 14:13:21-08:00
1b3cf04968b2cc5b0bdbc85858fb32c9446fd669,test csv with integer column names,Matthew Rocklin,mrocklin@gmail.com,2016-01-15 11:58:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-15 11:58:44-08:00
bef3c049587bc0f87dcb91af8447ce6c3d3d93a8,remove .columns attribute from Series,Matthew Rocklin,mrocklin@gmail.com,2016-01-15 12:27:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-15 12:27:45-08:00
6423046697d67c0b6f579c819a500a18c81bb563,docstring fix,Matthew Rocklin,mrocklin@gmail.com,2016-01-18 10:57:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-18 10:57:19-08:00
46243ff25d789b9e020bcfa845ddfe4a0a268f20,"Add cumulative reductions to dask array

Example
-------

In [1]: import dask.array as da

In [2]: da.arange(12, chunks=4).cumsum(axis=0).compute()
Out[2]: array([ 0,  1,  3,  6, 26, 31, 37, 44, 68, 77, 87, 98])

n [3]: da.ones((5, 5), chunks=(3, 3)).cumsum(axis=0).compute()
Out[3]:
array([[ 1.,  1.,  1.,  1.,  1.],
       [ 2.,  2.,  2.,  2.,  2.],
       [ 3.,  3.,  3.,  3.,  3.],
       [ 3.,  3.,  3.,  3.,  3.],
       [ 4.,  4.,  4.,  4.,  4.]])

In [4]: da.ones((5, 5), chunks=(3, 3)).cumsum(axis=1).compute()
Out[4]:
array([[ 1.,  2.,  3.,  3.,  4.],
       [ 1.,  2.,  3.,  3.,  4.],
       [ 1.,  2.,  3.,  3.,  4.],
       [ 1.,  2.,  3.,  3.,  4.],
       [ 1.,  2.,  3.,  3.,  4.]])

Fixes #923",Matthew Rocklin,mrocklin@gmail.com,2016-01-18 12:42:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-18 12:42:49-08:00
9bbf15d632b11473b7b7c088aea4ec2a5c3e52bd,resolve docstring issues.  add imports,Matthew Rocklin,mrocklin@gmail.com,2016-01-18 12:54:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-18 12:54:02-08:00
558c3399379f28934acf84cf43c96b61eb3e53d3,"Merge pull request #919 from mrocklin/remove-series-columns

remove .columns attribute from Series",Matthew Rocklin,mrocklin@gmail.com,2016-01-19 07:47:53-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-19 07:47:53-08:00
738550bf15174c5a61c2e2f7a38105247c0d7d5d,"Merge pull request #925 from mrocklin/cumulative-reductions

Cumulative reductions",Matthew Rocklin,mrocklin@gmail.com,2016-01-19 07:48:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-19 07:48:02-08:00
e7a827273273b324f0555eb1f18b12b101f13cbc,"Add categorical accessor to Series

Allows odo.discover to work with dask.dataframe objects with
categorical dtypes.",Jim Crist,crist042@umn.edu,2016-01-19 18:17:24-06:00,Jim Crist,crist042@umn.edu,2016-01-19 18:17:24-06:00
c9458d8b35653e9248865eba1d85fefbca06b0d1,"Remove unnecessary calls to ``__getattribute__``

``__getattr__`` is only called if the base lookup fails. So these
try/except blocks using ``object.__getattribute__`` will always hit the
fail case - no use to test for them.",Jim Crist,crist042@umn.edu,2016-01-19 18:25:54-06:00,Jim Crist,crist042@umn.edu,2016-01-19 18:25:54-06:00
b12de483f11e3b924f3356c4708a327f46802bb1,"Only compute head if key is cat

Reduces change of misspellings causing accidental computation.",Jim Crist,crist042@umn.edu,2016-01-19 18:36:35-06:00,Jim Crist,crist042@umn.edu,2016-01-19 18:36:35-06:00
8e5e1594f6fd26aa75c521a210a00b98ea85bbd8,"Merge pull request #929 from jcrist/cat_access

Add categorical accessor to dd.Series",Matthew Rocklin,mrocklin@gmail.com,2016-01-19 20:58:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-19 20:58:09-08:00
c0b8ffa5ebe1389e70762fb91d936c3e715eb661,ENH: Add da.tril and da.triu,sinhrks,sinhrks@gmail.com,2016-01-19 21:09:41+09:00,sinhrks,sinhrks@gmail.com,2016-01-20 21:59:23+09:00
25a072692567f2ed1455905fdf88a01c32a625ce,ENH: Add LU decomposition,sinhrks,sinhrks@gmail.com,2015-12-18 20:49:22+09:00,sinhrks,sinhrks@gmail.com,2016-01-20 22:10:38+09:00
87cf3d47d18e90f7fe49c6c2d8574c9a915da327,"Merge pull request #885 from sinhrks/lu

ENH: Add LU decomposition",Matthew Rocklin,mrocklin@gmail.com,2016-01-20 07:35:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-20 07:35:06-08:00
298ed0ac28433e8a29040fa96d3676f7c4dc88dd,"Merge pull request #926 from sinhrks/array_tri

ENH: Add da.tril and da.triu",Matthew Rocklin,mrocklin@gmail.com,2016-01-20 10:31:44-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-20 10:31:44-08:00
2a06df3b3ed81cc86dacaa3700b1129a60b42498,Fixes lu/tri array dtypes,sinhrks,sinhrks@gmail.com,2016-01-22 03:41:34+09:00,sinhrks,sinhrks@gmail.com,2016-01-22 03:41:34+09:00
8b87a0587d75265cdf896f6336235bb2d9e7cc17,"Merge pull request #933 from sinhrks/arr_dtype

Fixes lu/tri array dtypes",Matthew Rocklin,mrocklin@gmail.com,2016-01-21 11:42:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 11:42:41-08:00
c4eba18a43d08abec096c263fa2e2f3d15249a88,move eq to array.utils,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:25:47-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:25:47-08:00
521519db1955ae55c01d0097f72451a404375c51,respect dtypes in linalg,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:25:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:25:58-08:00
01f1fa99d6bda5037fe7cce2254ba5a91eda7761,fix cumulative reductions,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:36:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:36:46-08:00
461f36ee8ad66359628adf7275bddf62b9e1b1d4,handle parse_dates with multiple columns,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:53:45-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:53:45-08:00
590f01f1fe319f07e6590f7bf3d81fa1c640c45d,rename eq to assert_eq,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:57:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 14:57:29-08:00
47061f5bd1eb844da54bee3d5bf688c2187171a3,"Merge pull request #934 from mrocklin/eq

Eq",Matthew Rocklin,mrocklin@gmail.com,2016-01-21 15:28:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 15:28:26-08:00
eb3bbc4e671a2dd58e5bac37fd24405d15b2df53,ignore index in test,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 15:40:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 16:38:14-08:00
242029ccaaba93d8adb010e2b790f8b44898203a,"Merge pull request #935 from mrocklin/parse-dates-multi-col

handle parse_dates with multiple columns",Matthew Rocklin,mrocklin@gmail.com,2016-01-21 17:56:38-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-21 17:56:38-08:00
7e367bb69a7c479ebc9f166ef1fc06b7da23d2ac,ENH: Add linalg.solve_triangular,sinhrks,sinhrks@gmail.com,2016-01-19 21:35:06+09:00,sinhrks,sinhrks@gmail.com,2016-01-22 21:25:03+09:00
f9772769d6b6c09352ded38f2a1424e4f8c753d5,Split .dot to be separate nodes,sinhrks,sinhrks@gmail.com,2016-01-22 21:17:33+09:00,sinhrks,sinhrks@gmail.com,2016-01-22 21:50:10+09:00
1f2e01393d7a9bf2cce89f90187e1690dfbf1673,ENH: Add da.eye,sinhrks,sinhrks@gmail.com,2016-01-22 22:51:58+09:00,sinhrks,sinhrks@gmail.com,2016-01-22 23:01:31+09:00
0fbd09ed83b4caa16856cca10709870ceda4d11b,"Merge pull request #936 from sinhrks/eye

ENH: Add da.eye",Matthew Rocklin,mrocklin@gmail.com,2016-01-22 07:45:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-22 07:45:49-08:00
8bfc2a290ea454ec355939ff5794b62f29c85100,"Merge pull request #927 from sinhrks/solve_tri

ENH: Add linalg.solve_triangular",Matthew Rocklin,mrocklin@gmail.com,2016-01-22 07:47:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-22 07:47:27-08:00
c18c70b1cd03b435705bb89aeb08e46935aacac9,"support sep kwarg in read_csv

Fixes #880",Matthew Rocklin,mrocklin@gmail.com,2016-01-22 08:19:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-22 08:19:39-08:00
50409720cd1790ecd10c64e55eca27804d759799,"Merge pull request #937 from mrocklin/read_csv_sep

support sep kwarg in read_csv",Matthew Rocklin,mrocklin@gmail.com,2016-01-22 14:49:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-22 14:49:03-08:00
d16071cdf227b5cadde4a176eb38e8edd4657806,ENH: add da.linalg.solve,sinhrks,sinhrks@gmail.com,2016-01-23 04:58:20+09:00,sinhrks,sinhrks@gmail.com,2016-01-23 10:20:07+09:00
02b87695079e02c2d6ead835efccb754d693fb55,"Merge pull request #938 from sinhrks/solve

ENH: add da.linalg.solve",Matthew Rocklin,mrocklin@gmail.com,2016-01-23 06:41:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-23 06:41:34-08:00
c9fcec43b4761e1c996723955a0901364f7f8db2,ENH: add da.linalg.inv,sinhrks,sinhrks@gmail.com,2016-01-23 04:58:20+09:00,sinhrks,sinhrks@gmail.com,2016-01-24 06:52:52+09:00
e821eaec37c74fdd85b089bd1a65807950d29021,"Merge pull request #939 from sinhrks/inv

ENH: add da.linalg.inv",Matthew Rocklin,mrocklin@gmail.com,2016-01-24 15:38:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-01-24 15:38:15-08:00
2a5bdb2694641a09047d04c1d83cc5712842ee2c,ENH: add da.linalg.cholesky,sinhrks,sinhrks@gmail.com,2016-01-23 11:53:24+09:00,sinhrks,sinhrks@gmail.com,2016-01-25 21:34:50+09:00
3c00a96872a231b01e82165afb3501b13227a0b9,Add sym_pos option to solve,sinhrks,sinhrks@gmail.com,2016-01-25 21:40:15+09:00,sinhrks,sinhrks@gmail.com,2016-01-25 21:43:05+09:00
b5858a662888f805b5edb50a8f249097bae51c9b,Make _cholesky both returns L and U,sinhrks,sinhrks@gmail.com,2016-01-26 00:00:38+09:00,sinhrks,sinhrks@gmail.com,2016-01-26 00:00:38+09:00
d91b3986e5f292749808c56cced7afc0a05958dd,TST: Use pytest,sinhrks,sinhrks@gmail.com,2016-01-26 20:56:46+09:00,sinhrks,sinhrks@gmail.com,2016-01-26 20:56:46+09:00
7ab6289ef743b6b32c7bc7ab9c2d654046a7d2c2,"Merge pull request #940 from sinhrks/cholesky

ENH: add da.linalg.cholesky",Jim Crist,crist042@umn.edu,2016-01-26 10:10:44-06:00,Jim Crist,crist042@umn.edu,2016-01-26 10:10:44-06:00
1f590b90a1c98edad01ab7fcc7d46486c2755080,ENH: add da.linalg.lstsq,sinhrks,sinhrks@gmail.com,2016-01-26 21:35:41+09:00,sinhrks,sinhrks@gmail.com,2016-01-27 21:34:39+09:00
017a89496da4975a5648a225b8e8d67ba23ef14e,"Merge pull request #942 from sinhrks/lstsq

ENH: add da.linalg.lstsq",Jim Crist,crist042@umn.edu,2016-01-27 08:46:24-06:00,Jim Crist,crist042@umn.edu,2016-01-27 08:46:24-06:00
dad681244783146e3b99bd67f2fba19bd2c4ebb6,"Catch np.divide warning

Fixes https://github.com/blaze/distributed/issues/89",Matthew Rocklin,mrocklin@gmail.com,2016-02-01 10:26:14-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-01 10:27:21-06:00
dc1ddf40638cf19e1bb4cffef4de7f98e93be3e5,"Cleanups to profile visualization

- Better layout for multiple plots
- Better default color scheme
- Add gridlines to CacheProfiler plot",Jim Crist,crist042@umn.edu,2016-02-01 17:45:06-06:00,Jim Crist,crist042@umn.edu,2016-02-01 17:45:06-06:00
399b36e2d5e2d204f0ca7b748556693589935f0a,"Update docs for diagnostics

- Update docstrings for ``Callback``
- Update prose section for diagnostics",Jim Crist,crist042@umn.edu,2016-02-01 17:46:06-06:00,Jim Crist,crist042@umn.edu,2016-02-01 17:48:48-06:00
ed0918f834cae25d2bbfe1c41318468017149c0f,"Merge pull request #946 from mrocklin/catch-warnings

Catch np.divide warning",Matthew Rocklin,mrocklin@gmail.com,2016-02-01 21:35:36-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-01 21:35:36-06:00
6089e92b37210a124a8cb616bcd1dcdd84da482c,"Cleanup a few typos in diagnostics docs.

Typos and formatting fixes.",Jim Crist,crist042@umn.edu,2016-02-01 21:54:38-06:00,Jim Crist,crist042@umn.edu,2016-02-01 21:54:38-06:00
1167f51d083fd883d0924299348a4f8296a2b727,"Merge pull request #947 from jcrist/diag_doc

Update diagnostics docs",Jim Crist,crist042@umn.edu,2016-02-01 22:21:37-06:00,Jim Crist,crist042@umn.edu,2016-02-01 22:21:37-06:00
49498bfaee8e9db001bd0bab9f9f649efb3b73f6,"Speedup for dd.from_dask_array

Previously `range` (or `xrange` for python 2) was used to generate
the index. Now `np.arange` is used instead. This results in a 40x
speedup on my particular problem (for this part), and also releases the
GIL for this step.",Jim Crist,crist042@umn.edu,2016-02-02 12:12:48-06:00,Jim Crist,crist042@umn.edu,2016-02-02 12:12:48-06:00
ce5ef70645ea9e11d3ffa0ff6666d277c2119b81,"Merge pull request #948 from jcrist/dd_from_array_speedup

Speedup for dd.from_dask_array",Jim Crist,crist042@umn.edu,2016-02-02 13:34:54-06:00,Jim Crist,crist042@umn.edu,2016-02-02 13:34:54-06:00
0cb479bb39e1dc6286d27891572fe5ab42d30d60,add dask.bag.from_imperative function,Matthew Rocklin,mrocklin@gmail.com,2016-02-03 10:29:26-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-03 15:05:09-06:00
84805f781759a9ed3115132a6d61249d1525cfb7,avoid bad wraps in do in python 2,Matthew Rocklin,mrocklin@gmail.com,2016-02-03 11:03:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-03 15:05:12-06:00
fc055880de5df1b270127ee4718052f970f82071,"Merge pull request #951 from mrocklin/bag-from-imperative

Add dask.bag.from_imperative",Matthew Rocklin,mrocklin@gmail.com,2016-02-03 15:35:59-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-03 15:35:59-06:00
6b79f699731f8a6cb02e97fad3baf21d7d40fc22,CLN: Cleanup dataframe file structures,sinhrks,sinhrks@gmail.com,2016-02-07 18:34:43+09:00,sinhrks,sinhrks@gmail.com,2016-02-07 21:39:14+09:00
58617772418b1e57b09e963ca5152ff7c5f738e3,update install docs to avoid pip confusion,Matthew Rocklin,mrocklin@gmail.com,2016-02-07 09:05:29-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-07 09:05:29-08:00
85cc8dd9c5d01aa947a3775d154da1711a6ef61e,"Merge pull request #964 from sinhrks/cln

CLN: Cleanup dataframe file structures",Matthew Rocklin,mrocklin@gmail.com,2016-02-07 09:34:57-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-07 09:34:57-08:00
466b6cf82cdcf38be8340d72461edef98accaf0d,"Merge pull request #966 from mrocklin/install-docs

update install docs to avoid pip confusion",Matthew Rocklin,mrocklin@gmail.com,2016-02-07 09:35:49-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-07 09:35:49-08:00
2e28f00f03b65a578862fa2f13f5a0e0d54aa1db,Compat dd.from_array and from_dask_array,sinhrks,sinhrks@gmail.com,2016-02-07 23:08:01+09:00,sinhrks,sinhrks@gmail.com,2016-02-08 22:43:50+09:00
57e9fb57867bb0a0dc02c3276e9ab2148b3ea4a9,"Merge pull request #965 from sinhrks/dd_dask

Fix incompatibility between dd.from_array and from_dask_array",Matthew Rocklin,mrocklin@gmail.com,2016-02-08 06:30:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-08 06:30:27-08:00
1d8781ff7fe3610ee99dd6126d33d73525b511ef,fixed raising exception when try to use from_pandas with multi-index dataframe,Jon Renner,rennerjc@gmail.com,2016-02-08 21:25:26-06:00,Jon Renner,rennerjc@gmail.com,2016-02-08 21:25:26-06:00
d00db8bde806962974ab3ed80698adb79cf5b14b,"Merge pull request #969 from jrenner/patch-1

fixed raising exception when try to use from_pandas with multi-index ",Matthew Rocklin,mrocklin@gmail.com,2016-02-08 20:04:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-08 20:04:32-08:00
2ca2682a00137fca04ab16b5a3b3385c317d0ddb,support pandas series in sanitize_index,Matthew Rocklin,mrocklin@gmail.com,2016-02-09 06:57:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-09 07:00:32-08:00
faee392bd084d4bb6bcf713d7d63cfcbab6ddfc4,"Merge pull request #972 from mrocklin/sanitize-index

Sanitize index",Matthew Rocklin,mrocklin@gmail.com,2016-02-09 11:55:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-09 11:55:18-08:00
4bb1232ce9cb4d87e1318d6896d4d7641c1b454e,use np.array to sanitize index,Matthew Rocklin,mrocklin@gmail.com,2016-02-10 07:15:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-10 07:15:41-08:00
e17d262784a1e0f9b48d22f945a1b72c6827b36d,"Merge pull request #974 from mrocklin/sanitize-index-2

use np.array to sanitize index",Matthew Rocklin,mrocklin@gmail.com,2016-02-10 16:06:53-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-10 16:06:53-08:00
9a79e4b4eadd931d68723442fd9838231c220ebb,BUG: dd.concat cant handle Series,sinhrks,sinhrks@gmail.com,2016-02-11 11:37:13+09:00,sinhrks,sinhrks@gmail.com,2016-02-11 13:14:56+09:00
771f491e9740d156b621a53a9d7ab00b4ab6eeaf,ENH: Add Series.unique,sinhrks,sinhrks@gmail.com,2016-02-11 16:01:26+09:00,sinhrks,sinhrks@gmail.com,2016-02-11 16:01:26+09:00
1243427dbf334941ccc6397d4db2ceee90616915,"Merge pull request #976 from sinhrks/concat

BUG: dd.concat cant handle Series",Matthew Rocklin,mrocklin@gmail.com,2016-02-11 08:32:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 08:32:37-08:00
b250d426b2a661da026aa3576b4abd1278cb4ced,"Merge pull request #977 from sinhrks/unique

ENH: Add Series.unique",Matthew Rocklin,mrocklin@gmail.com,2016-02-11 08:33:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 08:33:31-08:00
7794c3247831df55d50f98700182524d663fd75a,Improve dataframe metadata handling,sinhrks,sinhrks@gmail.com,2016-02-06 10:11:21+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 01:37:04+09:00
67169c91bb885da8c073313194763838ad7b4e2b,Merge metadata and empty data handling logics,sinhrks,sinhrks@gmail.com,2016-02-07 14:11:34+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 01:37:27+09:00
74391876f92c51d1364ea8883450a98633f56c27,Fix io and merge to preserve metadata,sinhrks,sinhrks@gmail.com,2016-02-07 16:59:45+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 01:37:44+09:00
054213935a5dd3cc3e28247d41e2ea1805883f78,Allow to change columns / name,sinhrks,sinhrks@gmail.com,2016-02-07 21:34:39+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 01:37:44+09:00
108b45bb4f9ee53674a12704b8ae4cc7fd2d033c,Add _rename_dask to rename property value,sinhrks,sinhrks@gmail.com,2016-02-09 10:56:32+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 01:37:44+09:00
21ff4c32f00fc8435d0aa2040c36432712662a25,Infer result using internal cache,sinhrks,sinhrks@gmail.com,2016-02-09 17:35:54+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 01:38:59+09:00
cd52eae47f22bf049ec552b1c7f6c70d0b1b1bcd,Fix reviewed points,sinhrks,sinhrks@gmail.com,2016-02-11 13:52:59+09:00,sinhrks,sinhrks@gmail.com,2016-02-12 02:04:57+09:00
130ec344a688a5c8e2a20951876ab20cb7150e59,Move to dask organization,Matthew Rocklin,mrocklin@gmail.com,2016-02-10 16:41:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 10:22:04-08:00
515aebe4823fb27fc181678b51ece8742bfa41b4,"Merge pull request #975 from mrocklin/blaze-dask

Move to dask organization",Matthew Rocklin,mrocklin@gmail.com,2016-02-11 10:22:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 10:22:27-08:00
fec899fd5e3c8c79e105d9b4b26519848dc7f961,Add tree reductions to dask bag,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:21:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:21:46-08:00
024fa8b5a26d0a8b2770f8787dcd8c32b3bf4b67,use reduction in frequencies,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:29:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:29:59-08:00
8a254dc85a097505c458442d6672f407513c2e5d,use split_every in common reductions,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:32:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:32:43-08:00
3204195430a2ac96273526c579dbb4f2cbab2dba,document out_type in Bag.reduction,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:50:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 13:50:40-08:00
b41b638afdf25a5ebf2233773a3082f4ef7ed74a,fix multi-level nested frequencies,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 14:25:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 14:25:08-08:00
77761d0b30ee543eca9cd34527c6eefb89221278,reify frequencies intermediate results,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 14:43:36-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 14:43:36-08:00
8f52f0a01ad9283e19bac65428f6e57c6d761c05,"Add corrcoef, improve diag

- Add diagonal extraction to da.diag
- Add da.diag support for numpy arrays
- Move da.diag from creation to core
- Add da.corrcoef",Jim Crist,crist042@umn.edu,2016-02-11 17:03:07-06:00,Jim Crist,crist042@umn.edu,2016-02-11 17:03:07-06:00
2016afbd74762b63687f16a39b9fe2f60d95a012,Reduce size of intermediate expression in corrcoef,Jim Crist,crist042@umn.edu,2016-02-11 19:25:59-06:00,Jim Crist,crist042@umn.edu,2016-02-11 19:25:59-06:00
5d02965eed1a37f5b88ff1548f06a1fe0e8be16e,"Merge pull request #961 from sinhrks/df_meta

Improve dataframe metadata handling",Matthew Rocklin,mrocklin@gmail.com,2016-02-11 18:06:31-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-11 18:06:31-08:00
81bdad98b00e76ad3b6de156204a08c38c85dc1b,"Merge pull request #980 from mrocklin/tree-reductions

Add tree reductions to dask bag",Matthew Rocklin,mrocklin@gmail.com,2016-02-12 07:34:56-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-12 07:34:56-08:00
228fc79a239efe95d3bef9e143b04babeeed72ed,Improve error message in diag,Jim Crist,crist042@umn.edu,2016-02-12 09:50:55-06:00,Jim Crist,crist042@umn.edu,2016-02-12 09:50:55-06:00
d82cf2ac3fa3a61912b7934afe7b2fe9e14cc4ff,"Merge pull request #981 from jcrist/corrcoef

Add corrcoef, improve diag",Jim Crist,crist042@umn.edu,2016-02-12 10:00:06-06:00,Jim Crist,crist042@umn.edu,2016-02-12 10:00:06-06:00
61f69380aa844e9a9014d45a6c80853eb2b000ce,Use tokenize in dask.bag,Jim Crist,crist042@umn.edu,2016-02-12 12:17:49-06:00,Jim Crist,crist042@umn.edu,2016-02-12 12:17:49-06:00
90834c7a850134324d6a4c5c6ed6cbd83a66c3df,More verbose names for tasks in dask.bag,Jim Crist,crist042@umn.edu,2016-02-12 13:00:45-06:00,Jim Crist,crist042@umn.edu,2016-02-12 13:00:45-06:00
388c2a7f9fd8a862c3228656975f82b7b048e77f,"Merge pull request #986 from jcrist/tokenize_bag

Use tokenize in dask.bag",Jim Crist,crist042@umn.edu,2016-02-12 13:13:07-06:00,Jim Crist,crist042@umn.edu,2016-02-12 13:13:07-06:00
cc8ac80ab941096e5e4e7e6d29123e0be1c4c58d,Remove hdfs support in dask.bag,Jim Crist,crist042@umn.edu,2016-02-12 13:08:18-06:00,Jim Crist,crist042@umn.edu,2016-02-12 13:14:51-06:00
1b0c5440124c660d41764131d44047102bd8a0db,"Merge pull request #988 from jcrist/nuke_hdfs

Remove hdfs support in dask.bag",Jim Crist,crist042@umn.edu,2016-02-12 14:18:03-06:00,Jim Crist,crist042@umn.edu,2016-02-12 14:18:03-06:00
f89c63d9a726316b76a5a1a2dd04355f5606b744,"dd.Series.map works with pandas series

Previously these were getting partitioned by elemwise, when they should
be kept whole as an argument to `pd.Series.map`.",Jim Crist,crist042@umn.edu,2016-02-12 14:59:33-06:00,Jim Crist,crist042@umn.edu,2016-02-12 14:59:33-06:00
ee5b714e05fd0742d19168834341a33d8540f5c7,add range to bag,Matthew Rocklin,mrocklin@gmail.com,2016-02-12 15:38:41-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-12 15:38:41-08:00
5776fba4f324e5038e6de8ad7f8f17dddd4c8651,"Merge pull request #990 from mrocklin/bag-range

add range to bag",Matthew Rocklin,mrocklin@gmail.com,2016-02-12 18:47:18-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-12 18:47:18-08:00
43720e430da4f43525708406df3a63decc9ebff0,bag.fold uses bag.reduction,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 07:52:40-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 07:52:40-08:00
ec77b1317635a99ae104f740fb8a25abacf54610,use bag.reduction in bag.distinct,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 08:00:12-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 08:00:12-08:00
32d7bde4522c5bf99886af9466974a6447d76d96,tweak reduction names to aid diagnostic heuristics,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 08:21:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 08:21:52-08:00
856d630c058dbddbc74d657a1204ecdc2f4327d9,"don't split mean, var, std",Matthew Rocklin,mrocklin@gmail.com,2016-02-13 08:51:17-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 08:51:17-08:00
366a861f5af0d2236ea2743b446551d6acc8b1d8,"Merge pull request #989 from jcrist/map

dd.Series.map works with pandas series",Matthew Rocklin,mrocklin@gmail.com,2016-02-13 10:49:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 10:49:28-08:00
f3577992fec5a1f68ac63dd44a13b3bb27fd4fe7,"Merge pull request #991 from mrocklin/more-branching

More branching",Matthew Rocklin,mrocklin@gmail.com,2016-02-13 10:50:09-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 10:50:09-08:00
058d637c7ea4e68778d5dcececa5e655864ce26c,fix reduction in case of single partition,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 11:15:46-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 11:15:46-08:00
4cee85ed278a07fec35aec6a9bb754d05b3f3e95,add bag.repartition,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 18:42:58-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-13 18:42:58-08:00
aad0e122fddf6a8152a1c4d48f764bdc2381d4ed,"Merge pull request #992 from mrocklin/repartition

add bag.repartition",Matthew Rocklin,mrocklin@gmail.com,2016-02-14 07:00:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-14 07:00:02-08:00
7cb2428705fea3555f7269ba4be456783e02e194,Compat fix in resample for pandas 0.18.0,Jim Crist,crist042@umn.edu,2016-02-15 14:31:29-06:00,Jim Crist,crist042@umn.edu,2016-02-15 14:32:39-06:00
9d9a9efc06eb69cd2943ccd7046e53f3cd93bb86,"Update resample to use lazy object instead of how

`how` kwarg for resample is deprecated in pandas 0.18.0. This fix is
backwards compatible with the previous pandas release, but internally
uses the same lazy `Resampler` object for both implementations.",Jim Crist,crist042@umn.edu,2016-02-15 17:16:17-06:00,Jim Crist,crist042@umn.edu,2016-02-15 17:23:45-06:00
0fe08edb7ce370f3821b7fcdf70b787463433721,"Merge pull request #996 from jcrist/resample_compat

Resample compat",Jim Crist,crist042@umn.edu,2016-02-15 17:52:28-06:00,Jim Crist,crist042@umn.edu,2016-02-15 17:52:28-06:00
9467dd8deb43de6a493d0cfe102228176e8d2ff9,Add word count example,Kristopher Overholt,koverholt@gmail.com,2016-02-15 22:12:49-06:00,Kristopher Overholt,koverholt@gmail.com,2016-02-15 22:42:13-06:00
45a22593ce333ad33eae8f96ab355d1d12c4116a,"Update requirements

- Remove dill completely
- Remove outdated packages on travis
- Update conda recipe to include bokeh and psutil",Jim Crist,crist042@umn.edu,2016-02-16 10:35:03-06:00,Jim Crist,crist042@umn.edu,2016-02-16 10:44:00-06:00
a9ec183a42be2350989450c1f9829072f6c08ca5,"Merge pull request #998 from jcrist/dep_fixes

Update requirements",Matthew Rocklin,mrocklin@gmail.com,2016-02-16 08:54:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-16 08:54:35-08:00
45e0298081e1ab6d0fa433a1816935f938982701,Updates to word count example,Kristopher Overholt,koverholt@gmail.com,2016-02-16 11:37:16-06:00,Kristopher Overholt,koverholt@gmail.com,2016-02-16 13:33:52-06:00
07403531d75b8d83303dcdc62c13e69ad5c0f573,"Merge pull request #997 from dask/docs/word-count-example

Add word count example to docs",Kristopher Overholt,koverholt@gmail.com,2016-02-16 14:28:46-06:00,Kristopher Overholt,koverholt@gmail.com,2016-02-16 14:28:46-06:00
02b972268b21a74b74247e9b3c66ded968265938,add note to install.rst about how to run tests,Matthew Rocklin,mrocklin@gmail.com,2016-02-08 19:48:13-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-16 13:45:07-08:00
4b9bd3721e575f8cd9b8099b576484904e892341,Merge branch 'add-testing-notes',Matthew Rocklin,mrocklin@gmail.com,2016-02-16 14:05:32-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-16 14:05:32-08:00
9b49a0bb7d451199bf93a8473761acc5cfbcabf6,bump version to 0.8.0,Matthew Rocklin,mrocklin@gmail.com,2016-02-16 14:06:28-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-16 14:06:28-08:00
17f7b1731d51042cf7dbd675ea292c7b290f1310,Update conda recipes,Kristopher Overholt,koverholt@gmail.com,2016-02-17 01:56:13-06:00,Kristopher Overholt,koverholt@gmail.com,2016-02-17 03:17:02-06:00
d3f4afb737a5dd6eefe4cf1b1eb933e06e3a0058,Pass through kwargs in dd.io.to_hdf,Matthew Rocklin,mrocklin@gmail.com,2016-02-17 12:25:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-17 12:25:24-08:00
e30787bc1ea03a5413babf2dfc44afbc524d9c84,"remove self from closures in dask.dataframe

Previously the dataframe object contained tasks that closed over the
dataframe itself.  This made certain tasks very costly to serialize.",Matthew Rocklin,mrocklin@gmail.com,2016-02-17 20:41:27-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-17 20:41:27-08:00
8cd57b88e6ee26440edf3ddaf4a093478d28aa04,"Merge pull request #1003 from mrocklin/to-hdf-kwargs

Pass through kwargs in dd.io.to_hdf",Matthew Rocklin,mrocklin@gmail.com,2016-02-18 10:27:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 10:27:54-08:00
227bcb43489fd61dfcd4e797d3fae28bb8329586,"Merge pull request #1004 from mrocklin/improve-serialization

Remove self from closures in dask.dataframe",Matthew Rocklin,mrocklin@gmail.com,2016-02-18 10:36:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 10:36:24-08:00
41c38104e8fa35a06d4e6d210c4cef432eba5956,"Fix imperative tests when .array, .bag missing

Running pytest.importorskip('dask.array') at the module level skips the
whole module's tests if the import fails - that's not what we want if
we're just making sure 'pip install dask[imperative]' works.",Thomas Smith,smithtg@ncbi.nlm.nih.gov,2016-02-18 15:41:20-05:00,Thomas Smith,smithtg@ncbi.nlm.nih.gov,2016-02-18 15:44:35-05:00
e9046cd97c1deba9ba70bf60cfdba81eba6e0210,Add dep on toolz 0.7.2 for imperative extra,Thomas Smith,smithtg@ncbi.nlm.nih.gov,2016-02-18 15:41:55-05:00,Thomas Smith,smithtg@ncbi.nlm.nih.gov,2016-02-18 15:46:17-05:00
7965196df59ba91530d2444d8e410a4f432a07f1,support empty dataframe in from_imperative,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 12:52:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 12:52:19-08:00
ae77893168a702b54225a9f596b951258ef087a4,"Merge pull request #1007 from mrocklin/dd.from_imperative-empty

support empty dataframe in from_imperative",Matthew Rocklin,mrocklin@gmail.com,2016-02-18 13:12:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 13:12:39-08:00
ed0446e12ea82862c5c347e5b9282fdd216907ea,"Merge pull request #1006 from tgs/imperative-requires-toolz

Tell setuptools that dask.imperative requires toolz",Matthew Rocklin,mrocklin@gmail.com,2016-02-18 13:13:03-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 13:13:03-08:00
da9967c9b162d4d87205134e871c97bc1d53978e,"Merge pull request #1001 from dask/update-conda-recipe

Update conda recipe",Matthew Rocklin,mrocklin@gmail.com,2016-02-18 16:19:21-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-18 16:19:21-08:00
b4d80d16e753db8c55fc5505f4b9e20660287d32,support proper metadata in dd.read_hdf,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 07:11:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 07:11:39-08:00
a3fe0ba60b417054b7a73efdd2c488b819554930,propagate metadata in dd.Series.to_frame,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 07:15:01-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 07:15:01-08:00
bb6445137e7836cb46f57d1d0e4f51c1d6ae0c7e,"avoid list in tasks for single inputs

This cleans up the task graphs a bit and improves serialization
options downstream.",Matthew Rocklin,mrocklin@gmail.com,2016-02-19 07:44:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 07:44:20-08:00
e1e06504693fdb51d86b44fc5e65bdd8519309ec,"Merge pull request #1009 from mrocklin/dd-metadata-fillin

Propagate metadata in dask.dataframe functions",Matthew Rocklin,mrocklin@gmail.com,2016-02-19 15:29:33-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 15:29:33-08:00
cb4cc8127028fc736e295c114acfbeed15b71617,"add optional get= keyword argument to to_castra

By default we still want graphs ending in this opertion to be run
sequentially.  Otherwise intermediate results pile up while awaiting
being written to disk.

Still though, we should allow people to opt-out of this decision.

http://stackoverflow.com/questions/35516305/dask-computation-not-executing-in-parallel/",Matthew Rocklin,mrocklin@gmail.com,2016-02-19 15:36:24-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-19 15:37:43-08:00
3c55beeea29d10d7915eb8ddab0aaf9acd165bdb,propagate get= keyword argument to various dd.io functions,Matthew Rocklin,mrocklin@gmail.com,2016-02-20 11:46:34-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-20 11:46:34-08:00
bee2eec6035ca6886a8cfd5ef8664687045f2908,"normalize arguments to isin to list

Fixes #1012",Matthew Rocklin,mrocklin@gmail.com,2016-02-22 12:42:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-22 12:42:10-08:00
4145f8e3f666c3f43744aa64d1d10b16ad9d1a17,"Merge pull request #1011 from mrocklin/dask-io-get

propagate get= keyword argument to various dd.io functions",Matthew Rocklin,mrocklin@gmail.com,2016-02-22 12:48:07-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-22 12:48:07-08:00
3b3787420f2a4d5c9c4d6b6f9d6a9c8322cad7e2,"Merge pull request #1013 from mrocklin/isin

normalize arguments to isin to list",Matthew Rocklin,mrocklin@gmail.com,2016-02-22 16:05:54-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-22 16:05:54-08:00
584ce2c7b4114b37079692dfcf13442f76d14755,"Update README.rst

Update the README to describe the distributed scheduler.",Travis E. Oliphant,travis@continuum.io,2016-02-26 10:25:44-08:00,Travis E. Oliphant,travis@continuum.io,2016-02-26 10:25:44-08:00
9b3b1825b7fdabdcb982837952971a62253fee4d,ENH: dd.melt,sinhrks,sinhrks@gmail.com,2016-02-11 13:50:03+09:00,sinhrks,sinhrks@gmail.com,2016-02-27 10:20:02+09:00
bfc7a08b59052bc23efd8a4e9494582aebd7b528,TST: Make dataframe test_multi to be little strict,sinhrks,sinhrks@gmail.com,2016-02-20 13:39:07+09:00,sinhrks,sinhrks@gmail.com,2016-02-27 10:56:01+09:00
be91fea38b4f7e42a0f1442f36adf30310f133f9,ENH: Add drop option to set_index,sinhrks,sinhrks@gmail.com,2016-02-27 12:19:41+09:00,sinhrks,sinhrks@gmail.com,2016-02-27 12:19:41+09:00
ab898e8de7dd3c16cf6c35aafd7bb329de856b01,"Merge pull request #1015 from sinhrks/multi_test

TST: Make dataframe test_multi to be little strict",Matthew Rocklin,mrocklin@gmail.com,2016-02-27 08:49:55-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-27 08:49:55-08:00
21717066ab3ef9706bea1bf0259313adf6bed3be,"Merge pull request #1014 from sinhrks/melt

ENH: Add dd.melt",Matthew Rocklin,mrocklin@gmail.com,2016-02-27 08:50:02-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-27 08:50:02-08:00
d9b8a146f17455780ed553df344396fbca0bdbd0,"Merge pull request #1016 from sinhrks/set_index_drop

ENH: Add drop option to set_index",Matthew Rocklin,mrocklin@gmail.com,2016-02-27 08:51:08-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-02-27 08:51:08-08:00
f4ef7820e63e4e2a7622c63d747da27eddbfba67,"Speedup db.Bag.frequencies, db.merge_frequencies

- Previously results of the map step of `frequencies` were passed around
  as lists of tuples, and were repeatedly transformed into dicts, then
  back into lists during each reduction step. For large dicts, this was
  very expensive (45 seconds for the enron dataset for each
  intermediate). Switching to passing around dicts as intermediates
  drops this to only 5 seconds.

- `toolz.merge_with` creates a list of all the values, then applies `sum`
  to them. This is less efficient than just manually incrementing
  counts.

Results in a drop from 12:30 to 7:30 for doing wordcount on the enron
emails on my laptop.",Jim Crist,crist042@umn.edu,2016-02-29 15:27:25-06:00,Jim Crist,crist042@umn.edu,2016-02-29 16:00:17-06:00
9b02abd569d43980244317d58048b8c0669829ae,"db.Bag.topk is a reduction.

`topk` now uses the reduction interface, which means it now takes
`split_every` as a keyword. No speedup, but results in more uniform
interface, and removes some code duplication.",Jim Crist,crist042@umn.edu,2016-02-29 15:48:16-06:00,Jim Crist,crist042@umn.edu,2016-02-29 16:00:17-06:00
5b1adc269198023806a43d68503bb75c3d9ed844,"Remove dead code, pep8 cleanups for dask.bag

- Remove some dead imports and variables
- A few pep8 cleanups",Jim Crist,crist042@umn.edu,2016-02-29 15:57:06-06:00,Jim Crist,crist042@umn.edu,2016-02-29 16:00:17-06:00
09bda79a79acc261f31a446425efc5dd2fb42b9a,"Merge pull request #1019 from jcrist/bag_speedups

Bag speedups",Jim Crist,crist042@umn.edu,2016-02-29 16:41:54-06:00,Jim Crist,crist042@umn.edu,2016-02-29 16:41:54-06:00
e6b242bf68b28bd1cb2bf4b4105f513ce8d6970a,"Bugfixes for arg reductions

- Properly handle `axis=None` case (default). In this case, the result is
  equivalent to `a.ravel().argfunc(axis=0)`. This is handled in an
  efficient way, avoiding the need to actually ravel the array.
- Properly handle arrays larger than 2 dimensions.",Jim Crist,crist042@umn.edu,2016-03-03 01:39:28-06:00,Jim Crist,crist042@umn.edu,2016-03-03 01:39:28-06:00
2597f35e094b1b972d1d8b37a5c7b7de787a81c1,"Merge pull request #1024 from jcrist/argmin_fixes

Bugfixes for arg reductions",Jim Crist,crist042@umn.edu,2016-03-03 09:56:08-06:00,Jim Crist,crist042@umn.edu,2016-03-03 09:56:08-06:00
e565cae31c5bfb4bf3db1d9dcf059765d16f4e3b,"dask/bag/core: use the always-lazy zip from toolz

The existing uses of zip in bag core already use it assuming py3k
semantics (e.g. several list(zip(...)) patterns).  Additionally this
matches the existing shadowing of builtin filter, map, and reduce for
similar reasons.",Joshua T Corbin,joshua@uber.com,2016-03-03 08:04:41-08:00,Joshua T Corbin,joshua@uber.com,2016-03-03 09:27:49-08:00
2d68573b125b8f713caf15fb68a17bb151d1cc61,"Move cachey import to local import

Displays nicer error on failed Cache creation. Fixes #868.",Jim Crist,crist042@umn.edu,2016-03-03 11:31:19-06:00,Jim Crist,crist042@umn.edu,2016-03-03 11:31:19-06:00
80e24dafe07bfbeb7c199829dbff863212adfd06,Add dask.bag.zip,Joshua T Corbin,joshua@uber.com,2016-03-03 08:37:32-08:00,Joshua T Corbin,joshua@uber.com,2016-03-03 10:20:25-08:00
8ac6005f29957ad7e9eae56657e7df00aec831bb,"Merge pull request #1026 from jcrist/cachey_import

Move cachey import to local import",Jim Crist,crist042@umn.edu,2016-03-03 13:11:16-06:00,Jim Crist,crist042@umn.edu,2016-03-03 13:11:16-06:00
82e7f7d0f1fff5f4b61a7afabd7d3bc59bec6e15,"Throw useful error if graphviz fails.

The conda version of graphviz (the c library, not the python binding of
the same name) is missing png support. In this case, an empty string is
returned from the command. Now we throw a useful error in this case,
pointing the user to the relevant github issue.",Jim Crist,crist042@umn.edu,2016-03-03 13:48:03-06:00,Jim Crist,crist042@umn.edu,2016-03-03 13:48:03-06:00
a84e563c9a81eb49cf9d4369106123b99f425b1e,AUTHORS.md: add myself,Joshua T Corbin,joshua@uber.com,2016-03-03 11:56:41-08:00,Joshua T Corbin,joshua@uber.com,2016-03-03 11:56:41-08:00
6dc9229362f2d3b1dfa466a8a63831c3c832b4be,"Merge pull request #1025 from jcorbin/bag_zip

Add dask.bag.zip",Jim Crist,crist042@umn.edu,2016-03-03 14:07:13-06:00,Jim Crist,crist042@umn.edu,2016-03-03 14:07:13-06:00
22571777fc9cb59b69fc3b2547db7c8804dab313,"`nanarg` reductions handle all NaN slices

Previously chunks with all NaN slices would cause errors at runtime,
even if the whole array didn't have an all NaN slice. This is now
handled at runtime by replacing `NaN`s with inf/-inf in each chunk upon
error. An error is still thrown if the whole array contains an all `NaN`
slice, matching numpy behavior. Fixes #777.",Jim Crist,crist042@umn.edu,2016-03-03 15:48:51-06:00,Jim Crist,crist042@umn.edu,2016-03-03 15:48:51-06:00
ac1ac10fc49d6595ff877f2eb45469f519d9776a,"Merge pull request #1027 from jcrist/graphviz_error

Throw useful error if graphviz fails.",Jim Crist,crist042@umn.edu,2016-03-03 15:57:56-06:00,Jim Crist,crist042@umn.edu,2016-03-03 15:57:56-06:00
0771dba0b7504847bf2143f4c9ebb67467ac983b,"Merge pull request #1028 from jcrist/nanarg_fix

`nanarg` reductions handle all NaN slices",Jim Crist,crist042@umn.edu,2016-03-04 10:33:46-06:00,Jim Crist,crist042@umn.edu,2016-03-04 10:33:46-06:00
9c042668aa4bb409722c97e542f598670b097505,FIX: bcolz indexing,thequackdaddy,pquack@gmail.com,2016-03-05 20:16:09-06:00,thequackdaddy,pquack@gmail.com,2016-03-05 20:16:09-06:00
8a23e91dc3a43f0fe1d6253316e4509ab23a3118,TST: adding a test...,thequackdaddy,pquack@gmail.com,2016-03-06 11:53:49-06:00,thequackdaddy,pquack@gmail.com,2016-03-06 11:53:49-06:00
46a2f42d980f0252d3a63c70dda0dfd18f56948a,DOC: dataframe.apply,sinhrks,sinhrks@gmail.com,2016-03-07 16:46:59+09:00,sinhrks,sinhrks@gmail.com,2016-03-07 17:15:21+09:00
12a3449dda562c1d2800a37c8bdb53f75717d099,"Merge pull request #1031 from sinhrks/apply_doc

DOC: dataframe.apply",Matthew Rocklin,mrocklin@gmail.com,2016-03-07 07:27:25-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-07 07:27:25-08:00
a0e297c3989e9416f8b035a210f385e96bb0ff4c,"Merge pull request #1029 from thequackdaddy/bcolz_fix

FIX: bcolz indexing",Matthew Rocklin,mrocklin@gmail.com,2016-03-07 08:51:48-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-07 08:51:48-08:00
6c53e46fa2c731ae27b272ef3aa0bc5429100e16,"Add corr and cov for dask.dataframe

Implements `corr` and `cov` methods for both `DataFrame` and `Series`
objects. Note that only Pearson correlation is implemented, the other
methods require a sort. The computation is done in a single pass, and is
numerically stable.",Jim Crist,crist042@umn.edu,2016-03-07 22:22:42-06:00,Jim Crist,crist042@umn.edu,2016-03-08 13:05:56-06:00
0698d9261b5a0fc1b91426a2227c9f5e27dc224e,"Compatibility fix with numpy 1.9.2

This is the last numpy available on conda. It doesn't have `stack`, so
we use `concatenate` instead. Also a few minor edits to docstrings.",Jim Crist,crist042@umn.edu,2016-03-08 13:55:05-06:00,Jim Crist,crist042@umn.edu,2016-03-08 13:55:05-06:00
d8641ae69785ab1b8c18399ee5458ba6e1d8a733,"Fix slicing bug

This fixes a pretty bad bug due to iterating through a dictionary,
relying on it to be sorted (but never actually sorting it). This was
causing slices to be inserted incorrectly in the generated slicing
graphs, which led to incorrect output.",Jim Crist,crist042@umn.edu,2016-03-08 16:17:27-06:00,Jim Crist,crist042@umn.edu,2016-03-08 16:17:27-06:00
3f35739dc6a657f2a91e209c27f69664bcbd5745,"Merge pull request #1038 from jcrist/xr_issue

Fix slicing bug",Jim Crist,crist042@umn.edu,2016-03-08 17:33:03-06:00,Jim Crist,crist042@umn.edu,2016-03-08 17:33:03-06:00
24028c0f6067e14c2c4da57018d38a9a4a429686,"Check slicing inputs in dask.array

Previously we did not err in cases like the following:

    x = da.ones(5, chunks=(3,))
    x[[100]]

Now we do.",Matthew Rocklin,mrocklin@gmail.com,2016-03-07 14:49:15-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-08 16:40:44-08:00
ace2eca835db7ddae995ad30666d68aa4f20ef83,"Merge pull request #1032 from mrocklin/oob-checks

Check slicing inputs in dask.array",Matthew Rocklin,mrocklin@gmail.com,2016-03-08 17:02:23-08:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-08 17:02:23-08:00
ac4b52e457cb7f0ca5e013328647595bcc76c3dd,"Merge pull request #1037 from jcrist/df_cov_corr

Add corr and cov for dask.dataframe",Jim Crist,crist042@umn.edu,2016-03-08 19:02:44-06:00,Jim Crist,crist042@umn.edu,2016-03-08 19:02:44-06:00
2ea1bdb763883e44696b6af1b99cd0666769a180,"ENH: Allow dataframe.from_pandas to accept chunksize or npartitions

DOC/TST: Edited the tests and updated docs per sinhrks suggestions

FIX: Should be ==, not !=.

DOC: Updated docs to be more numpydoc correct.",thequackdaddy,pquack@gmail.com,2016-03-07 19:09:36-06:00,thequackdaddy,pquack@gmail.com,2016-03-10 12:48:22-06:00
dd6017add0015f82a450eff7d9d162ae9aebebfb,"Merge pull request #1035 from thequackdaddy/pd_dataframe_chunksize

ENH: Pandas dataframe chunksize",Jim Crist,crist042@umn.edu,2016-03-10 13:00:04-06:00,Jim Crist,crist042@umn.edu,2016-03-10 13:00:04-06:00
d1b95086dd8b73e46aa6276990cffc0966d14633,"Update authors file

Add several missing names.",Jim Crist,crist042@umn.edu,2016-03-10 13:38:31-06:00,Jim Crist,crist042@umn.edu,2016-03-10 13:38:31-06:00
fceeafbfe994c51aa40b2e8511808982f11f48e2,"Pandas compat fixes, 0.18.0rc2

- Fix resample tests to use the appropriate api, depending on pandas
  version installed.
- Fix bug in resample implementation for 0.18.0
- Fix bug in loc implementation that was exposed by new assert statement
  in pandas code.",Jim Crist,crist042@umn.edu,2016-03-10 16:47:19-06:00,Jim Crist,crist042@umn.edu,2016-03-10 17:13:05-06:00
36d08139f3a0822cebb2321fc02a0aaa0189f48a,"Merge pull request #1043 from jcrist/pandas_018rc2

Pandas compat fixes, 0.18.0rc2",Jim Crist,crist042@umn.edu,2016-03-11 11:36:39-06:00,Jim Crist,crist042@umn.edu,2016-03-11 11:36:39-06:00
cf5a6599fbd6269b67792842fc38e0b4dbbb778f,Version number to 0.8.1,Jim Crist,crist042@umn.edu,2016-03-11 11:49:14-06:00,Jim Crist,crist042@umn.edu,2016-03-11 11:49:14-06:00
7249133f5d0bbcd0d19c4a0cde25e2521c2ba982,make astype idempotent,Matthew Rocklin,mrocklin@gmail.com,2016-03-14 19:54:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-14 19:54:23-07:00
eb458cfca5ad9d64de281c721d25b2e20f3094cc,Respect dtype logic in concatenate,Matthew Rocklin,mrocklin@gmail.com,2016-03-14 19:55:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-14 19:55:44-07:00
ca441cc2369b12f61117c6dca7e5728c2965cd1a,"update from_dask_array doctest

This changed with Pandas 0.18.0",Matthew Rocklin,mrocklin@gmail.com,2016-03-14 21:49:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-14 21:49:49-07:00
445b05365d1c1981d5102ca3181ae6f0bbe8fed8,"Merge pull request #1051 from mrocklin/concatenate-dtypes

Concatenate dtypes",Matthew Rocklin,mrocklin@gmail.com,2016-03-15 10:24:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-15 10:24:08-07:00
3d4b5798b09116c580026f8fe6d47765d1390f94,allow user-provided locks to da.store,Matthew Rocklin,mrocklin@gmail.com,2016-03-15 10:25:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-15 10:25:42-07:00
6d7d3b44a1a35ab31cbe61e65f4b472c75f49a88,dataframe.Scalar: add key property,Joshua T Corbin,joshua@uber.com,2016-03-15 16:32:45-07:00,Joshua T Corbin,joshua@uber.com,2016-03-15 16:32:45-07:00
657eed05584f863ade737ad0adc707879ad75ec7,"Merge pull request #1055 from jcorbin/df_scalar_key

Add .key property to dataframe.Scalar",Jim Crist,crist042@umn.edu,2016-03-15 21:52:53-05:00,Jim Crist,crist042@umn.edu,2016-03-15 21:52:53-05:00
d5ca42758ea0bbcdcd7f975e3aa942096c871060,support compute=False in da.store,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 08:48:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 08:50:45-07:00
8d7fadf707be221bf95b4a18a8bd417df0ae8201,Add Lock testing classes,Stephan Hoyer,shoyer@gmail.com,2016-03-16 09:14:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 09:14:01-07:00
a8b9e3f141fcb4cffa7775935212bfdee7596141,support lock=False and test array locks,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 09:14:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 09:14:23-07:00
57b02030812f537ad96fe8a0e7fe0b06617c11a3,test locks with many threads,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 09:33:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 10:55:21-07:00
3d2cc08f82e15de798b0e60cd16ea113929ad259,da.store locks by default,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 15:05:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-16 16:47:29-07:00
2d3ac1d6b08d74b11323f4c86070d2c2392c139c,dask.bag: add unpack_kwargs,Joshua T Corbin,joshua@uber.com,2016-03-15 13:35:25-07:00,Joshua T Corbin,joshua@uber.com,2016-03-16 20:53:06-07:00
68f36e53a87271fed1c746792440bc69732f3ccd,Bag.map: simplify dsk build,Joshua T Corbin,joshua@uber.com,2016-03-15 13:47:06-07:00,Joshua T Corbin,joshua@uber.com,2016-03-16 20:53:06-07:00
9793de57ddbfe8daec6776b2c7d81978dafd0247,Bag.map_partitions: simplify dsk build,Joshua T Corbin,joshua@uber.com,2016-03-15 13:47:58-07:00,Joshua T Corbin,joshua@uber.com,2016-03-16 20:53:06-07:00
285fc5d034e0cf32b0b64a7ad860bf57057f3817,Bag.map: support **kwargs passed to func,Joshua T Corbin,joshua@uber.com,2016-03-15 13:49:20-07:00,Joshua T Corbin,joshua@uber.com,2016-03-16 20:53:07-07:00
60cacc7281df4d5eca6e298df590eb5bd4b7a436,Bag.map_partitions: support **kwargs passed to func,Joshua T Corbin,joshua@uber.com,2016-03-15 13:49:35-07:00,Joshua T Corbin,joshua@uber.com,2016-03-16 20:53:07-07:00
2aaeef2281621838819b4950eee89de465d6f013,"Merge pull request #1054 from jcorbin/map_kwargs_redux

Add **kwargs support to Bag.map and Bag.map_partitions",Jim Crist,crist042@umn.edu,2016-03-16 23:24:52-05:00,Jim Crist,crist042@umn.edu,2016-03-16 23:24:52-05:00
e49a21b20c864a7113cbee4ad4104cbb021495b1,"Merge pull request #1053 from mrocklin/lock-store

allow user-provided locks to da.store",Matthew Rocklin,mrocklin@gmail.com,2016-03-17 07:53:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-17 07:53:39-07:00
5a03172f364538147a178fc206ae4ecba069861a,dask.bag.Item: add to_imperative,Joshua T Corbin,joshua@uber.com,2016-03-14 19:02:17-07:00,Joshua T Corbin,joshua@uber.com,2016-03-17 09:58:32-07:00
17392358aaa63dd4f89633eb5e0a7e8e0969a315,dask.bag.Item: add .from_imperative,Joshua T Corbin,joshua@uber.com,2016-03-17 10:08:12-07:00,Joshua T Corbin,joshua@uber.com,2016-03-17 10:08:12-07:00
e6d65c403d8f67fec41f48b6ea5fd89cb24b943c,FIX: From array should not skip last division,thequackdaddy,pquack@gmail.com,2016-03-20 13:28:25-05:00,thequackdaddy,pquack@gmail.com,2016-03-20 13:28:25-05:00
6e20c5e609d80d3d73a88a82ed15f61a437ce078,TST: Adding a test to demonstrate problem,thequackdaddy,pquack@gmail.com,2016-03-20 13:39:07-05:00,thequackdaddy,pquack@gmail.com,2016-03-20 13:39:07-05:00
2288b909866b4a7fb9991c61f9e01e301799383a,add dask.imperative collections example,Matthew Rocklin,mrocklin@gmail.com,2016-03-21 08:16:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-21 08:16:11-07:00
d01a4ad0a2656560e11a66727f7acb35bca6e4ca,"Merge pull request #1059 from thequackdaddy/array_divisions

BUG: Array divisions skip the last partition unnecessarily",Matthew Rocklin,mrocklin@gmail.com,2016-03-22 12:41:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-22 12:41:18-07:00
6a2db34cb29d9057a932d3c7a96325de5665ec1d,"add cheat sheet

add cheat sheet",Will Warner,electronwill@gmail.com,2016-03-22 16:17:45-05:00,Will Warner,electronwill@gmail.com,2016-03-22 16:17:45-05:00
94db5df04c18093e33e338da51c3f97a12ff4aac,"Merge pull request #1061 from electronwill/add-cheat-sheet

add cheat sheet",Matthew Rocklin,mrocklin@gmail.com,2016-03-22 19:10:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-22 19:10:34-07:00
7ac09ea03ed6bf0d68227493a6523446fcdbc995,"Merge pull request #1056 from jcorbin/item_to_value

Add support for converting imperative.Value <-> bag.Item",Matthew Rocklin,mrocklin@gmail.com,2016-03-22 19:14:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-22 19:14:59-07:00
d8dceec7aae6735a5450515567638ded48d7aab3,"Add Series.isnull

Fixes #1064.",Jim Crist,crist042@umn.edu,2016-03-28 10:02:30-05:00,Jim Crist,crist042@umn.edu,2016-03-28 10:02:30-05:00
203572572d28ef65fbdc506482827ed9028267bd,"Merge pull request #1065 from jcrist/df_isnull

Add Series.isnull",Jim Crist,crist042@umn.edu,2016-03-28 10:28:26-05:00,Jim Crist,crist042@umn.edu,2016-03-28 10:28:26-05:00
20c0c0ed86a9d3f99e9de235171e6c7676adc8ac,"Add dask.dataframe.tseries to setup.py

Fixes #1067.",Jim Crist,crist042@umn.edu,2016-03-29 11:53:13-05:00,Jim Crist,crist042@umn.edu,2016-03-29 11:53:13-05:00
62abf5b6e0f6ed9ebd5c271b7361721aaa60bf93,Change to_textfiles behavior to compute right away,Eyad Sibai,eyad.alsibai@gmail.com,2016-03-30 18:08:05+02:00,Eyad Sibai,eyad.alsibai@gmail.com,2016-03-30 18:31:51+02:00
98854e40dfa51ca55a4587ab67c56993985ebf5b,"Merge pull request #1070 from eyadsibai/change-to-textfiles-behavior

Change to_textfiles behavior to compute right away",Matthew Rocklin,mrocklin@gmail.com,2016-03-30 09:57:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-30 09:57:57-07:00
b41736892f7cfc8c5702c5077d7df47bdeb9bb01,Add Eyad Sibai to AUTHORS,Matthew Rocklin,mrocklin@gmail.com,2016-03-30 09:59:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-30 09:59:39-07:00
947ccbf8a6132874b5f6d8b1ef0ed2427cd93f07,Fixed two typos,Carlos De la Guardia,dela3499@gmail.com,2016-03-30 18:51:26-07:00,Carlos De la Guardia,dela3499@gmail.com,2016-03-30 18:51:26-07:00
f0a25d4570fbbbec6e9dfd5cdc5d1eb3850e6191,"Merge pull request #1071 from dela3499/patch-1

Fixed two typos",Matthew Rocklin,mrocklin@gmail.com,2016-03-30 20:53:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-30 20:53:23-07:00
cd650edc3c5593671eff780f2af14ab8f2a5451b,Use function name within array keys,Matthew Rocklin,mrocklin@gmail.com,2016-03-31 10:03:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-03-31 12:07:02-07:00
3cf8c8bf06e315c60c6394f1c82450cfe8d02d99,encode unicode as utf-8 by default,Matthew Rocklin,mrocklin@gmail.com,2016-04-03 09:11:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-03 09:11:18-07:00
a389a02f39e1f8213ad038214d2254eaad903340,xfail castra tests,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 11:51:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 13:05:28-07:00
863279ebe6e2aec1499c579f5353e6266c01b0f6,"Merge pull request #1080 from mrocklin/xfail-castra

deprecate castra tests",Matthew Rocklin,mrocklin@gmail.com,2016-04-04 13:38:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 13:38:33-07:00
16c3fe5b166ae2fcdfd63c2a6719837424f60657,add distributed import file,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:04:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:04:53-07:00
77aa446a0ab54c9cd2d934044700d67dca1bfa3e,"Merge pull request #1073 from mrocklin/array-names

use function name within array keys",Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:11:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:11:07-07:00
044a7466ae9c49efebabc8ea3a1aa02bcbd93d92,"Merge pull request #1079 from mrocklin/tokenize-numpy-unicode

encode unicode as utf-8 by default",Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:12:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:12:31-07:00
56f67159a1507cdf2cfac0bda76c8edc801fb63a,Add endlines to bag elements in to_textfiles,Matthew Rocklin,mrocklin@gmail.com,2016-03-31 16:49:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:41:22-07:00
22dfcf7cbd22beeb84813635e59b74524834d194,"Merge pull request #1082 from mrocklin/distributed-imports

add distributed import file",Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:43:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 14:43:09-07:00
d637977c4c41c4a57c8fcae7aacb327c1af9d49d,"Merge pull request #1074 from mrocklin/bag-endlines

Add endlines to bag elements in to_textfiles",Matthew Rocklin,mrocklin@gmail.com,2016-04-04 15:47:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 15:47:01-07:00
8e46984e6dc689fe87d167df6062193384b36d8a,update doc index page,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 13:24:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 16:14:21-07:00
3591989697b3f44861c64e2bee5b08abcee463ff,"Merge pull request #1081 from mrocklin/docs

Update doc index page",Matthew Rocklin,mrocklin@gmail.com,2016-04-04 16:49:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-04 16:49:39-07:00
82e9fcbe3ba91bda6ff8f140fec06f8de4e4f6a7,Migrates broadcast_to to numpy_compat,Phillip J. Wolfram,phillipwolfram@gmail.com,2016-04-02 17:08:25-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-05 08:37:32-07:00
337eab0d9e1cfd82e01c4d94e76d9ac178260879,Adds nancumsum and nancumprod,Phillip J. Wolfram,phillipwolfram@gmail.com,2016-04-01 16:05:37-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-05 08:44:26-07:00
2c5a3b300d3558bd3c6046b61abd88f1dc3ae9dc,DOC: missing colon in diagnostics.rst,Stephan Hoyer,shoyer@gmail.com,2016-04-05 08:44:59-07:00,Stephan Hoyer,shoyer@gmail.com,2016-04-05 08:44:59-07:00
aa1c0ad14a33e0bd74c03e46d44daadb1a83f092,"Merge pull request #1083 from dask/shoyer-fix-colon

DOC: missing colon in diagnostics.rst",Jim Crist,crist042@umn.edu,2016-04-05 10:55:32-05:00,Jim Crist,crist042@umn.edu,2016-04-05 10:55:32-05:00
d9184d1467cfed407f80c47bb0cdfdfaafbc7e5a,"Rename do to delayed

This renames the `do` function to `delayed` but keeps around the old
function name as an alias.

This was for the following reasons:

1.  Hopefully `delayed` is easier for people to understand starting out
2.  This conforms to the API set by Joblib",Matthew Rocklin,mrocklin@gmail.com,2016-04-05 12:21:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-05 12:21:00-07:00
7183fd0bb5f61b45f3300fa30db62f196489ac17,"Merge pull request #1085 from mrocklin/do-delayed

Rename do to delayed",Matthew Rocklin,mrocklin@gmail.com,2016-04-06 08:58:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-06 08:58:17-07:00
ca6f01fcab0aabf472fc8778b940ebcfdc53baef,"Fix numeric stability for dd.corr and dd.cov

- Improve numeric stability of `corr` and `cov`
- Fix issue with `_get_numeric_data` when dtype is unknown",Jim Crist,crist042@umn.edu,2016-04-06 16:59:35-05:00,Jim Crist,crist042@umn.edu,2016-04-06 17:25:15-05:00
23fdb54913e1265f580b4f7d94789bde0f73ec75,Cleanup dd.groupby,sinhrks,sinhrks@gmail.com,2016-03-09 16:51:00+09:00,sinhrks,sinhrks@gmail.com,2016-04-07 23:00:25+09:00
5bdd478ed16220c1618fc46749aa358413ba6021,"Merge pull request #1017 from sinhrks/groupby

Cleanup dd.groupby metadata handling",Jim Crist,crist042@umn.edu,2016-04-07 09:50:42-05:00,Jim Crist,crist042@umn.edu,2016-04-07 09:50:42-05:00
3e079b4de0f5c22ba616693c36a2ee22a1ec4b34,"Merge pull request #1087 from jcrist/corrcov_stability

Fix numeric stability for dd.corr and dd.cov",Matthew Rocklin,mrocklin@gmail.com,2016-04-07 09:14:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 09:14:50-07:00
54fbb379300c04bed88776d5c4113671b32af1f1,use dtypes in dd.demo,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 09:48:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 10:09:20-07:00
c9ea181b522869e7727fe6670c69b7db37249c17,add dataframe.astype,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 09:53:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 10:09:20-07:00
27d0c75d5f5ccf6d3b805f66e7248e8f8ca5ca5b,add citation doc,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 10:22:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-07 10:22:45-07:00
1c2ae306caefc02437ccd77d7e4b2e8f5adbe5f7,added xz file / lzma support,Daniel Waeber,daniel.waeber@gameduell.de,2016-03-29 09:40:47+02:00,Daniel Waeber,daniel.waeber@gameduell.de,2016-04-11 15:09:11+02:00
3f31873ae40461bc9eabf2df86a209df4f531b02,"Merge pull request #1088 from gameduell/lzma

added xz file/lzma support",Jim Crist,crist042@umn.edu,2016-04-11 08:43:38-05:00,Jim Crist,crist042@umn.edu,2016-04-11 08:43:38-05:00
e5a6f6dd51aa9db3915ff3ed02bd6f13bd8b492b,try to load lzmaffi for efficient seek/tell,Daniel Waeber,daniel.waeber@gameduell.de,2016-04-12 10:57:41+02:00,Daniel Waeber,daniel.waeber@gameduell.de,2016-04-12 12:34:27+02:00
504159eed88581c7ce098e45308cc9ef77d99955,"Merge pull request #1089 from mrocklin/webinar

Various fixes associated to upcoming webinar",Matthew Rocklin,mrocklin@gmail.com,2016-04-12 09:15:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-12 09:15:22-07:00
1061fb5e89123c136fd8f27caf7ed51ee4e45785,Add scipy 2015 paper,Matthew Rocklin,mrocklin@gmail.com,2016-04-12 09:27:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-12 09:27:50-07:00
2b1eca5fe9b64cbb752604941c9fa8783b16b90b,Add cloudpickle version to requirements,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 07:55:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 08:48:53-07:00
44e01880fb2afceceadf3669bb10229d6f36f754,"Remove pandas nan/inf series test

Reporting this as a pandas bug upstream for now",Matthew Rocklin,mrocklin@gmail.com,2016-04-13 09:09:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 09:09:59-07:00
7f398f2a00e23b105790b6aca4edc6816379089b,bump version to 0.8.2,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 09:20:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 09:20:11-07:00
fb7c6894b2087e60255cb7b6588b5eea7b80a349,Strip down readme,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 09:54:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 09:54:33-07:00
ee4e27c4ddad60cb3d912e2906bd1070686405a5,"Merge pull request #1096 from gameduell/lzma

try to load lzmaffi for efficient seek in .xz",Jim Crist,crist042@umn.edu,2016-04-13 12:12:00-05:00,Jim Crist,crist042@umn.edu,2016-04-13 12:12:00-05:00
9804a6957bf1a37390f9e0aeba379dd641d3d388,"Merge pull request #1100 from mrocklin/no-readme

Strip down readme",Matthew Rocklin,mrocklin@gmail.com,2016-04-13 10:23:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 10:23:43-07:00
b435b8546e34fe92b239ab64519f8c8a682145fc,"Merge pull request #1090 from mrocklin/cite

Add citation doc",Matthew Rocklin,mrocklin@gmail.com,2016-04-13 12:20:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-13 12:20:02-07:00
819b37646adf59a071d21597c5c1aa9d5d88b96c,"Improve hashing in dd.shuffle

Previously, python's `hash` function was used to hash indices for
partitioning in shuffle. This could lead to non-ideal behavior, as
python's hash function could have low entropy (on my machine `hash((a,
b)) % 5 == 1` for any integers `a` and `b`. This also was slow-ish for
large chunks, as it doesn't take advantage of numpy/pandas vectorized
operations.

This implements a custom elementwise hashing operation for use in
shuffle partitioning. Each pandas dtype has a small function to map a
series of that type deterministically to an integer array (the hashes),
which are then combined iteratively with a simple `new_hash = 3 * hash1
+ hash2`. This is both faster (as it takes advantage of vectorization
for non object columns), and seems to partition more evenly in many
cases.

This also fixes a bug where empty partitions would lack the requisite
metadata (column names or dtypes), which caused problems with subsequent
operations.",Jim Crist,crist042@umn.edu,2016-04-13 18:17:56-05:00,Jim Crist,crist042@umn.edu,2016-04-13 18:34:01-05:00
7dba9ede5cac25b299b85a4f7a003652d70a7a71,"Merge pull request #1102 from jcrist/fix_shuffle

Improve hashing in dd.shuffle",Jim Crist,crist042@umn.edu,2016-04-13 19:01:34-05:00,Jim Crist,crist042@umn.edu,2016-04-13 19:01:34-05:00
913b514837a47c181a3bbd9d7380b1a906a46409,test distributed import,Matthew Rocklin,mrocklin@gmail.com,2016-04-12 09:05:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-14 14:20:39-07:00
98679e9935213058389c556b6e552b4ab5a25140,"TestCase for get functions (#1078)

* Added general test suite for get functions. Used it to test get_async.

* removed GetFunctionTestCase from the toplevel namespace",Pedro M Duarte,pmd323@gmail.com,2016-04-17 13:03:51-07:00,Jim Crist,crist042@umn.edu,2016-04-17 15:03:51-05:00
f3b6498809dafaed96310ee4e4711b9ff95771fd,"Merge pull request #1095 from mrocklin/test-distributed

Test distributed import",Matthew Rocklin,mrocklin@gmail.com,2016-04-18 07:29:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-18 07:29:39-07:00
5423c2539c9576a0acb6cce6f92b66aa4c33fb3c,Reorganize array docs,Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:54:29-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
9cc3e8795e36ffbff3240da7d984ee53a01bb7a0,Reorganize bag docs,Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:54:45-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
d296c4092eacad494edbf4a52e439bf8e1f2a662,Reorganize dataframe docs,Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:55:03-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
ad99dbe7800f8d806051977a7a6133eef543059e,Reorganize imperative docs,Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:55:26-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
72b5d1ab6668f8f978b6defbafe03acfbdd7b5d2,Move Blaze docs page,Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:55:49-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
3f3cc7eb59bce3260e2be6c2c931bf256a06d10c,Reorganize examples docs,Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:56:10-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
84c01b749ebcfe35ebe613e3b60c294f93475ea9,"Clean up docs, update index",Kristopher Overholt,koverholt@gmail.com,2016-04-13 22:56:35-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
b6fcfa40b0e74f3e0699538f4fb4cf9605727c16,Minor docs fixes,Kristopher Overholt,koverholt@gmail.com,2016-04-13 23:08:19-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
d7f4ca519eccd8129a58d6d92a5f19015302d53d,Fix doc build warnings/errors,Kristopher Overholt,koverholt@gmail.com,2016-04-13 23:26:35-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
aa3db0b40ffddc5db5c61d1b496de9725c122f67,Remove duplicate Dask Bag example,Kristopher Overholt,koverholt@gmail.com,2016-04-14 11:14:22-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
a2cca599400e9a3a83b3a84903c8a728d65a3e3c,Reorganize arrays section,Kristopher Overholt,koverholt@gmail.com,2016-04-14 22:29:01-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
1b6acf51b1281af69dc5c6be77cc11a9add697c4,Rework examples docs,Kristopher Overholt,koverholt@gmail.com,2016-04-14 23:14:05-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
7197b525469e5b619437c816894ee75ce3697e1c,Add examples docs,Kristopher Overholt,koverholt@gmail.com,2016-04-14 23:15:55-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
70c4e9c65e8daffb2d930a51d6d4f7633616c0ba,"More updates to docs: array and bag APIs, examples",Kristopher Overholt,koverholt@gmail.com,2016-04-15 21:48:14-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
ce44cad3ce296136ad2f4601a79f4dbef3b01515,Move array pickle example,Kristopher Overholt,koverholt@gmail.com,2016-04-15 22:09:11-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
c38d071e10b5ed3aac729158ad82fb5e3e4d1206,Move bag execution into bag overview,Kristopher Overholt,koverholt@gmail.com,2016-04-15 22:13:14-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
048fa3ff71330e1d3ea375a665171919005f8591,"Add autosummary to bag API, other cleanup",Kristopher Overholt,koverholt@gmail.com,2016-04-15 22:22:12-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
9a8e45d4f462d1a4d71c5e2f7efa86285f234175,add extensive array API documentation,Matthew Rocklin,mrocklin@gmail.com,2016-04-16 18:37:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
103dcdab0156f95c0021c048a6a2a11b7754c1d5,Tweaks to examples,Kristopher Overholt,koverholt@gmail.com,2016-04-16 22:33:47-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
6e469a7a83d7404ab4370393d3f1af22c75fca2b,Expanded API docs for bag and dataframe,Kristopher Overholt,koverholt@gmail.com,2016-04-16 22:54:12-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
1468ecff0457e4d0b9a282ff87c2bf02030b6551,Remove array-random docs page in lieu of API docs,Kristopher Overholt,koverholt@gmail.com,2016-04-16 22:57:20-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
8ceecfd22f3f06b4d8534c40192a6e0c45ed1774,rework dask.array docs,Matthew Rocklin,mrocklin@gmail.com,2016-04-17 09:30:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
e3d39f0a84ba3939e3b4ff1ff4285fcf4ff1486d,reword bag docs,Matthew Rocklin,mrocklin@gmail.com,2016-04-17 10:49:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
7fde5e90a7351d0fd68e687719c0cdae8f129888,add function serialization to faq,Matthew Rocklin,mrocklin@gmail.com,2016-04-17 10:51:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:51-07:00
c2d82ef3d1b01781793a3995368a2cf215ed31dc,rework dataframe docs,Matthew Rocklin,mrocklin@gmail.com,2016-04-17 11:26:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:52-07:00
cdf18e060f856fab90790631baff362d663fb897,rework delayed docs,Matthew Rocklin,mrocklin@gmail.com,2016-04-17 11:31:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:52-07:00
449afc440de6798c2bc46cead04b76b442b61950,Respond to comments on collection docs,Matthew Rocklin,mrocklin@gmail.com,2016-04-18 08:01:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 08:37:52-07:00
1487c8d18743c03df4070b5ab6f66d2cc3929e91,"Merge pull request #1103 from dask/docs-reorganize

Reorganize docs (collections, examples)",Matthew Rocklin,mrocklin@gmail.com,2016-04-19 09:05:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-19 09:05:48-07:00
730d178828571bfefd91d1cf229e905063580874,"Fix bug in ResourceProfiler resource cleanup

Previously a `__del__` method was on the `_Tracker` class, which would
join the tracker upon cleanup. This worked fine if the parent process gc
hit it first, but failed if the child process gc did (as child processes
can't join themselves). After this happens, if a new resource profiler
was created, then it would try to grab information from all of its
sibling processes, including the one that failed to cleanup properly.
Process information can't be gathered from a zombie process, so this
would error, leading to another zombie process, and so on...

The fix is to move the `__del__` cleanup to the `ResourceProfiler`
class, and also filter out zombie processes in the `_Tracker` class.

Fixes #1094.",Jim Crist,crist042@umn.edu,2016-04-20 13:36:13-05:00,Jim Crist,crist042@umn.edu,2016-04-20 13:50:44-05:00
41773a734be11aa1b3a033367d8e5a2d8869551c,BUG fixed utils.file_size with compression (#1097),Daniel Davis,wabu@fooserv.net,2016-04-20 22:20:15+02:00,Jim Crist,crist042@umn.edu,2016-04-20 15:20:15-05:00
7702ac37f44b4b7fbe9f8b0707a8faa51d6ae9b3,pass on chunkbytes & index after file globbing (#1106),Daniel Davis,wabu@fooserv.net,2016-04-20 22:32:01+02:00,Jim Crist,crist042@umn.edu,2016-04-20 15:32:01-05:00
a8d55b68e2683528f26fa50e50aa49e77ab7ee6e,"Merge pull request #1105 from jcrist/rprof_cleanup

Fix bug in ResourceProfiler resource cleanup",Matthew Rocklin,mrocklin@gmail.com,2016-04-20 13:35:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 13:35:32-07:00
2e4434a4ec7470cab577f16aea820412c19f5c5b,add A property to dask.array,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 17:00:01-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 17:00:01-07:00
8fef30326f0eff77653083b24644e860871b56b0,Support numpy arrays in da.tensordot,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 17:00:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 17:18:21-07:00
920979a976a36bd61986cf41494ef652938ed1a2,Add test and docs for MatrixLinearOperator,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 17:02:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-20 17:18:24-07:00
ee1e0a0be118f1fb34a33014164b032cf39cd57b,add sorted_divisions_locations,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 07:39:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 08:45:58-07:00
e340ac720fa9ff828ddbdf4726e6e1eef7441f1b,test division accuracy,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 07:39:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 08:46:00-07:00
29144975d1f99ddb419c755c08e0419fc8836b1b,use sorted_divisions_locations in from_pandas,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 08:28:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 08:46:00-07:00
d31886b249e6fed90715364aca4b9c12746701c3,fix repartition to handle repeated end divisions,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 08:29:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 08:46:00-07:00
f6c326349da1bd4bde2ff82a9526505c7d9322ec,support Frame.loc in non-informative index,Matthew Rocklin,mrocklin@gmail.com,2016-04-21 14:22:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 09:02:00-07:00
fee53b9ef8c89899082b5b94e0232061774a6127,"Add lock= keyword to from_bcolz

This allows for custom locks or no lock at all to be used.

Fixes #1033",Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:01:21-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:01:21-07:00
6e7fea680dc7eaf6f96452e00625e0466c110532,"Merge pull request #1107 from mrocklin/LinearOperator

Linear operator",Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:04:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:04:51-07:00
ec812488efbf4157913b75b496f7707ac625db64,"add Array.copy

Fixes #911",Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:06:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:06:58-07:00
1bc2dc638a745dcefaf9f9c2c2f1ddfd5c3a45eb,add dataframe.repartition(npartitions=int),Matthew Rocklin,mrocklin@gmail.com,2016-04-22 16:47:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:29:48-07:00
90c2d3f23ed3b4abedb428352d11f319c9bdd05d,"Rename imperative to delayed (#1111)

* rename _imperative to _delayed

* move imperative files to delayed

* print -> warn

* add imperative file

* `value` -> `delayed`, `Value` -> `Delayed`

`delayed` now supports both wrapping functions and wrapping objects to
create objects of type `Delayed` (was `Value`). All prior functionality
still works the same way as before, but with a nice united interface for
both options.",Jim Crist,crist042@umn.edu,2016-04-22 19:34:58-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:34:58-07:00
c9b6e1d989f86800998a6a9eda7993fc352cc687,"Merge pull request #1113 from mrocklin/copy

add Array.copy",Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:35:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:35:11-07:00
b5eb31ff61986da6c0fca93df56ff55060f28640,"Merge pull request #1112 from mrocklin/bcolz-optional-lock

Add lock= keyword to from_bcolz",Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:39:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:39:32-07:00
d3059f0e1d9c5618155c3b53aa63d7ff47ea24ed,"Merge pull request #1114 from mrocklin/dd.repartition

add dataframe.repartition(npartitions=int)",Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:40:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-22 17:40:18-07:00
c0c16c919d6040a37880275d1a31751e2ff1744f,"Merge pull request #1109 from mrocklin/loc

Test divisions",Matthew Rocklin,mrocklin@gmail.com,2016-04-25 10:18:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 10:18:51-07:00
4b856d458532156d082fd4547628889b387239aa,"add name= keyword to from_pandas

Fixes #1119",Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:20:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:20:17-07:00
86e74ff322f239e064167e68bbd7f2899091f661,Replace uuid strings with pleasant names in dot,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:28:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:28:58-07:00
503c9599f321742363cbf9abfe813f2589cf8ca3,"Merge pull request #1120 from mrocklin/from-pandas-name

add name= keyword to from_pandas",Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:43:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:43:27-07:00
5d94595499ebf0dd7b7bfcccca328f7d0fca7b7e,"Merge pull request #1121 from mrocklin/uuid-dot

Replace uuid strings with pleasant names in dot",Matthew Rocklin,mrocklin@gmail.com,2016-04-26 06:48:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 06:48:43-07:00
afc980118ef774dbb94830439b586e56f6a38d8f,"Only override callback methods if present

Fixes #1125",Matthew Rocklin,mrocklin@gmail.com,2016-04-27 09:57:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-27 09:57:06-07:00
c41261ee84c5b6b1b6ffdb3feda6f62261a356ef,"Merge pull request #1126 from mrocklin/callback-check

Only override callback methods if present",Matthew Rocklin,mrocklin@gmail.com,2016-04-27 10:13:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-27 10:13:49-07:00
21d583b7f3b46af711077c946ffbc56e54864b93,Update readthedocs URLs (.org -> .io),Kristopher Overholt,koverholt@gmail.com,2016-04-27 21:18:37-05:00,Kristopher Overholt,koverholt@gmail.com,2016-04-27 21:18:37-05:00
87accd3e493b2e9b357c06b37560c0a14981e7b7,"Merge pull request #1129 from dask/readthedocs-io

Update readthedocs URLs (.org -> .io)",Matthew Rocklin,mrocklin@gmail.com,2016-04-28 08:30:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 08:30:40-07:00
ffd78154a90d49e134c85a572c80b9aa132cae09,"Separate Delayed into DelayedFunction (#1118)

* Separate Delayed into DelayedFunction

Added a `prefix=` keyword to delayed

    dfunc = delayed(function, prefix='add')

added a `dask_key_name=` keyword to calling a delayed function:

    dfunc(1, 2, dask_key_name='add-1-2')

It felt odd adding extra function-specific keyword arguments to the
`Delayed` class.  It feels like we're overloading one class with two
very different meanings so I'm also reseparating `Delayed` to
`DelayedFunction`

* DelayedFunction inherits from Delayed

* squash

* Tokenize delayed functions consistently across sessions

* Improve delayed tokenization

1.  Respect arguments in partials
2.  Keep consistent names across sessions
3.  Tokenize before to_task_tasks to preserve order

* DelayedLeaf -- squashme

* tokenize functions with protocol=0

* squash",Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:14:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:14:34-07:00
a82b10db696ef43fa46052889f3072ba73379866,add file seek util functions,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 09:54:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
3eccd9a8e12c224baed756c6e457812587d559b5,add s3 bytes functions,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 10:14:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
22531b3037e3535865bd94a64eb5db3a578974a5,add mode to filetexts,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 10:32:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
b35783763085f552bf65894ffb296a54ea154000,add bytes/files.py,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 10:32:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
73b30ca15d25a1e9ce4e157580ae4978bd4de205,add compression to bytes,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 11:14:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
938a467b545730363c7ba268006cf87b127bc0bd,add ensure_bytes to utils,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 11:14:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
6d3da15c05122701f5a04a71cc1508c1a3959314,add gzip_(de)compress to compatibility,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 11:14:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
cb950734b5669a16b59c6cfeee3329fc9432dc1c,name file,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 11:15:12-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
4d36e377ea1c256e611a0de1d007af34a783902b,name s3,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 11:15:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
de3e74731fc823187723d30e2be8650dc03d0a28,read_bytes returns sample,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 12:17:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
6c70da43de0fc8823757f3ed327018c149a7d3e3,add storage_systems dict,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 12:29:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
c87f93a55156aff3b60ef031a53c69ded4f9ed91,add dataframe.csv module,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 12:30:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
01ccfeee8427c24efcde21e21f6ba7b8548d795f,return list of lists of delayed bytes,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 13:02:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
c004fe917224923674d7de5f8d993d9494f955a2,Initial draft of read_csv based on bytes,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 13:03:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
b595cbcb82953c895de95e07d8a507f840e153e1,add file objects to bytes/compression,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 15:59:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
1e62384a5bc2191c4d541f3dd6fd5d06cb0c67a3,add compression to file.read_bytes,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 16:22:07-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
809bde20a064f4af2d8dfe32cc6b3ca0ef7e2f34,support compression in read_csv,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 16:40:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
b88b462f1448883eb8773c4447444bbd40971c9c,"avoid bz2 in python 2

bz2.BZ2File doesn't support Python file objects

https://bugs.python.org/issue5863",Matthew Rocklin,mrocklin@gmail.com,2016-04-23 17:26:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:21-07:00
b85881d4a97af56743db359b315a2b9f853f40c5,Work around xz Py2 failures,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 18:30:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
010c8dbaabfc0bbfc472fffcb0833a9d20bc2f82,handle protocol dispatching in bytes/core.py,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 18:49:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
d1c3a2928e357eec85f5b982f57d0cb807d8a6d2,Add compression to s3,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 18:57:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
c5021d7c89c725e335bb6519d69adfc3e832a047,Remove header logic from bytes_read_csv,Matthew Rocklin,mrocklin@gmail.com,2016-04-23 19:01:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
2b0c20071a17cc2451e1ad7b9c3bc153f8324d1b,compressors -> compress,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 08:01:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
59d9fcf572b0c575d705880ce9cf24a2e9ae0ce5,"Seekable compressed files

1.  Add separate dict of seekable compression formats
2.  Add SeekableFile object for Py2 xz compatibility
3.  Add warnings to read_csv on compression issues",Matthew Rocklin,mrocklin@gmail.com,2016-04-24 08:33:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
ce17c03a42034ca250d837d11d1fb6ae1accded1,rename bytes/file.py to bytes/local.py,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 09:27:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
cf659603696e51bf9177a728a97c09795e72f9d3,add open_files to bytes/local,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 09:34:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
948cd86fa36d99bb29422433ad72c6749c9bee85,add s3.open_files,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 09:48:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
ff22471cb4bf15a92c2bb5e9a6a177270dd63331,add core open_files,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 10:03:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
c0f06a2d4fdf8c7455c931a402ca7b173e3ebe85,support compression and text encodings in bytes,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 14:38:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
3b7b03aa9df66e5aafe3c53a041490a4db4282f3,add bag.text.read_text,Matthew Rocklin,mrocklin@gmail.com,2016-04-24 15:17:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
997788a17f1e694511f773231bb1146259d411b4,avoid kwargs in encode for py26 compat,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 08:05:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
12ca6f4d4437fb370446d87a9f0cbd14bb054bfa,add repr to dask.bag,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 08:12:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
c1ffad69ad6c6303d75eaf0fc9a628af0b895007,add local getsize,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 09:36:04-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
4b7c18be1fa8c2492e60e078da527bfd1d3b0fcb,support single files in csv,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 09:36:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
9df3ba19ba4eb6270c609d54b2d562f6f3d8dc53,add bytes module to setup.py,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 10:02:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
992a9b0cd5d5d1088a924f6ca495b2be2c451223,use moto in bytes/s3 tests,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 10:46:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:22-07:00
fced5c63a5d2832ce4c8df6cd6fa205f9c61d71d,refactor encoding tests for read_text,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 11:05:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
ab05d01c05642aaf5dac0f2b01b0c0c369bffa03,add s3 open_text_files test,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 11:38:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
9cc3df98defc381a45f2f563b372f5dced622e34,add collection= to read_text,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 11:41:49-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
bde60426b8043fe34ca1c6b43a0faa1117fd2d5f,redirect bag functions to use new text module,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 11:44:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
6e185149edb219e558ca1310671c390e581e4c7c,use modification time in bytes/local.py tokenize,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 13:42:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
4ed1bf4f48139c49a3ea4748353fc96298a09c7e,tweak read_csv to satisfy old test suite,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 15:54:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
7707d9855247cb8a261d6baa810f2a776c4b9c51,replace old read_csv function,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 16:00:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
d7f4ded25a40f940b1ae96d9b8b1f55dce66ddcd,fix from_s3 test,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 16:43:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
4d284050f697ae7149cc883ffbbddf43ffc78a94,parametrize s3 tests,Matthew Rocklin,mrocklin@gmail.com,2016-04-25 17:02:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
af74d715e7b66d610baea430c369bbadc6639a3a,Replace db.from_filenames with db.read_text,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 07:27:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
84fc9b3898579e23382acb36698e49ccdb72c50b,clean up compression in bytes/s3,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 10:19:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
1dc0acf5ea643d6937c01233dd997ada695761e0,docstrings,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 10:19:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
c945dd1f159114145e42cbfdd4796e9ea7beebc1,Add deterministic naming to s3 read_bytes/open_files,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 10:39:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
b1e58d3d8b51b1ad85eb8d09b5a194536a3f61e7,Add deterministic names for local open_files,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 10:47:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
d9ae19aa6dbb32cc3437eba465136e3dc036dcb3,py26/7 compat,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 11:01:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
f604ce8660291215c934ec084be771a8a1f1f6a4,"support lineterminator in read_csv, don't pass to pd",Matthew Rocklin,mrocklin@gmail.com,2016-04-26 11:24:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
2a8a8cfc1f7ad3ee121935b2164cc94adac59ed7,check read_csv dtypes at runtime,Matthew Rocklin,mrocklin@gmail.com,2016-04-26 11:53:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:25-07:00
2950e4af7bf74785e75015d5081b80755a843827,Respond to comments on ingest,Matthew Rocklin,mrocklin@gmail.com,2016-04-27 09:52:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:17:30-07:00
ec6d1e06e167cd8d8780a052e412e7cc2edf5734,"Merge pull request #1116 from mrocklin/bytes

Refactor data ingest and read_csv",Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:43:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 11:43:46-07:00
4ae2c32e553bfb236a1a0359c71aafb81b9f413a,flake8,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 12:31:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 14:20:46-07:00
33c9b266f81d9b90e411fdb6b30f40b027102c4d,"Merge pull request #1131 from mrocklin/flake

Flake8",Matthew Rocklin,mrocklin@gmail.com,2016-04-28 14:46:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 14:46:30-07:00
f6332dec1ead4034540bc2c3c1010a9783099752,"Add new callback for the start that sees the state. (#1127)

* Adding new callback for the start that sees the state.

The `start(dsk)` callback occurs before the state is initialized,
so that it can mess with the dask before the state is setup.  It
could also be useful to have a callback before task execution
begins but *after* the state is setup so it can modify the state
itself.  I want to do this for restarting dask computations in
callbacks.

* Fix size of empty callbacks.

* Adding test of _start_state callback.

* Incorporating feedback from @jcrist",Max Hutchinson,maxhutch@gmail.com,2016-04-28 19:14:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 17:14:34-07:00
864492f91625ef3c1ea44d1c2c037d939eb7b739,DOC: Fix link (#1135),Skipper Seabold,jsseabold@gmail.com,2016-04-30 12:20:29-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-30 10:20:29-07:00
60277fc39735afe9adeeeab582919b4ba2a932a0,test read_csv with header=None (#1136),Matthew Rocklin,mrocklin@gmail.com,2016-04-30 12:45:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-30 12:45:32-07:00
5555bc65eab302285d6e505100c087cd655b7e2c,"Speed up dask.array.rechunk

A few small changes to produce a 4x speed improvement.

This changed from 14s to 3.5s

    import dask, dask.array as da
    x = da.random.normal(10, 0.1, (5000, 5000), chunks=(5000, 1))
    %time x2 = x.rechunk((1000, 10)); x3 = x2.rechunk((100, 100)); x4 = x3.rechunk((10, 1000)); x4 = x3.rechunk((1, 10000))",Matthew Rocklin,mrocklin@gmail.com,2016-04-26 16:14:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-04-30 17:49:15-07:00
79b2953f1412b084a049ce0a6d1107b55b4a5577,Use intermediate chunks in rechunk,Matthew Rocklin,mrocklin@gmail.com,2016-04-27 18:50:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-02 09:30:24-07:00
cfad6451fec2df2c097251de3d37de5a949f7431,replace isinstance checks with type is,Matthew Rocklin,mrocklin@gmail.com,2016-04-28 13:23:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-02 09:30:27-07:00
ff55b48c7ca26363a61e29297321083868abb399,Tune array slice optimization,Matthew Rocklin,mrocklin@gmail.com,2016-04-30 14:50:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-02 09:30:28-07:00
7a04741eb34d6d677d55574a413066de95a132f2,add randint to da.random,Matthew Rocklin,mrocklin@gmail.com,2016-05-01 14:44:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-02 10:44:02-07:00
eac008072a63f98a59a2c10716d9ae5127163c61,ensure names in astype,Matthew Rocklin,mrocklin@gmail.com,2016-05-01 14:47:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-02 10:44:06-07:00
aab772d772a92aeaccedb74d097c5e60bcbe05d2,"Merge pull request #1123 from mrocklin/various

Various changes for distributed dask.arrays",Matthew Rocklin,mrocklin@gmail.com,2016-05-02 11:23:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-02 11:23:24-07:00
0e5e25f816ca4d9ea0af0527bcefdf76c64147b4,"Don't inline getitem in dask.array

Previously we would inline getitem, getarray, and transpose calls
because they were very cheap to recompute.  When we start considering
distributed memory systems this optimization ends up causing a lot more
data transfer than is necessary.

However, it's still very important to inline the initial getitem call
coming from an HDF5 or NetCDF file.  This avoids sucking a lot of data
into memory in common operation.  We still want to inline in this case.

As a compromise we inline getarray but not getitem and use getarray
when dealing with foreign data sources that may or may not provide
numpy arrays on slicing.",Matthew Rocklin,mrocklin@gmail.com,2016-05-02 15:58:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 07:21:42-07:00
d4a38001082930e024ac5204862cd71e016a4432,"Add lineterminator to read_csv keywords

Previously we avoided putting lineterminator into keywords because we
often need to split on `\r\n` but can't pass this into pandas (only
terminators of length one are supported).  This caused problems when
the user explicitly stated that they were using `\n`, which has slightly
different behavior from default.

Now we pass in the lineterminator to pandas if it is of length one and
ignore it in pandas otherwise (staying with default).

Long term we might consider breaking this up into two arguments, one
for block splitting and one for within-block parsing.

Fixes #1132",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 09:21:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 09:21:20-07:00
9f7ddba493acfa28d670f6e987bd86707fe6b56c,"Merge pull request #1138 from mrocklin/getarray

Don't inline getitem in dask.array",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 10:37:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 10:37:37-07:00
b066b73cfa68e31848a0ff0d6348f6a0df73d4a7,"Merge pull request #1139 from mrocklin/read-csv-delimiter

Add lineterminator to read_csv keywords",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 10:37:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 10:37:47-07:00
e69d4905d5a99c3582aaa479931af927b3c83fa9,"Pass dependencies through optimizations

This makes cull and fuse, two very common optimizations, return a
second ``dependencies`` result that is a frequently reused side effect
of the computation.  Dask.array was recreating this fairly expensive
data five times for a single optimization pass.

This is bad because it complicates optimizations.  This is good
because it halves total optimization time in some cases.",Matthew Rocklin,mrocklin@gmail.com,2016-05-02 14:57:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 10:38:59-07:00
65428e44911a5e5f9d39f234a12b23d25b383c43,"Merge pull request #1137 from mrocklin/fast-op

Pass dependencies through optimizations",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 14:42:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 14:42:57-07:00
088dc593edfd219e6157bb99e5eef6032c61ac25,"Ensure read_csv works when dtype is not a dictionary

Fixes #1021",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 14:46:10-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 14:46:10-07:00
eab33d7abdb633c4d0097d3442231cfdc3c85851,"Merge pull request #1140 from mrocklin/singleton-dtype

Ensure read_csv works when dtype is not a dictionary",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:02:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:02:15-07:00
6b748a2d69cdf4382254ead2f8970dc68b90d482,"Test groupby callable

Fixes #1018",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:05:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:05:57-07:00
422eee344a93352e79e21d4ad3cd2fe5c5982084,dataframe repr,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:45:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:45:44-07:00
d0d97bbd8cd7b2a747f1eb9aaa30e484b5bf1d6b,add array.npartitions,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:49:27-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 16:49:27-07:00
9393d79b2e1dfc341ea928303ed6e7a7e357e8c4,Revert rtd badge image,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 17:50:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 17:50:37-07:00
9ad20ada6eb0487bd168ac57b78ec18c6dbae01a,"Merge pull request #1142 from mrocklin/npartitions

Align reporting on npartitions",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 19:56:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 19:56:59-07:00
2b29744261ae3c82f568763ff3cd6d0006e1d634,avoid lambda in astype,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 20:48:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-03 20:48:42-07:00
8de4560584580787040ac6408c01d3582a065edc,support kwargs in atop,Matthew Rocklin,mrocklin@gmail.com,2016-05-04 08:24:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-04 08:24:58-07:00
c78d588c48d8cc009ca52e771c6063b5a2b6dd69,Change partial_by_order to avoid closures,Matthew Rocklin,mrocklin@gmail.com,2016-05-04 08:51:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-04 18:07:05-07:00
d9396a92e43b580d0e4638f68045ef5f553c8c2f,"cache Array._keys

This is surprisingly expensive to compute",Matthew Rocklin,mrocklin@gmail.com,2016-05-04 09:19:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-04 18:07:07-07:00
0d59d3cd2880ced0f682e0b198d0cbc8478c5248,"Merge pull request #1141 from mrocklin/test-groupby-callable

Test groupby callable",Matthew Rocklin,mrocklin@gmail.com,2016-05-05 06:59:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-05 06:59:17-07:00
71fccc4c62c1e2d75570fa7139ce59c5542c503f,"add sorted= keyword to DataFrame.set_index

This allows for faster set_index operations when given an already
sorted index.

Fixes #336",Matthew Rocklin,mrocklin@gmail.com,2016-05-03 17:38:15-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-05 07:00:33-07:00
abcb8ce2317b3996d5065724ceeb74a3afef2d18,"Merge pull request #1144 from mrocklin/big-array

Changes on dask.array from recent experiments",Matthew Rocklin,mrocklin@gmail.com,2016-05-05 07:00:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-05 07:00:47-07:00
069dc5d1e95612b145a820b4f265d5e7933df43b,"Merge pull request #1143 from mrocklin/dataframe-sorted-index

Add sorted= keyword to DataFrame.set_index",Matthew Rocklin,mrocklin@gmail.com,2016-05-05 07:25:28-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-05 07:25:28-07:00
df84b3e16ce6b19edd1296efaf70ee54a1ce40cd,"Compat fix for pandas 0.18.1 (#1146)

Location of CategoricalDtype moved, but with the new metadata we no
longer need to import that anyway.",Jim Crist,crist042@umn.edu,2016-05-05 19:25:53-05:00,Jim Crist,crist042@umn.edu,2016-05-05 19:25:53-05:00
2363975ab467f4011097c06b9cffcd364fd8f7c6,"Inline getattr for dask.delayed objects

When using methods with `Delayed` values, a task is first created for
the attribute access, and a second task is created for the method call.
While the scheduler overhead of doing two tasks is minimal, this causes
problems when using delayed with distributed/multiprocessing, as methods
aren't necessarily pickleable. To fix this, we inline all calls to
`getattr` (which should also improve performance, since these calls are
cheap).",Jim Crist,crist042@umn.edu,2016-05-06 16:57:46-05:00,Jim Crist,crist042@umn.edu,2016-05-06 17:06:56-05:00
857a8863ffea697628e4ec99c5b02ecb64ce075c,"Merge pull request #1148 from jcrist/delayed_optimize

Inline getattr for dask.delayed objects",Jim Crist,crist042@umn.edu,2016-05-07 11:03:38-05:00,Jim Crist,crist042@umn.edu,2016-05-07 11:03:38-05:00
f83f93556f72c20519ea58df486102182f970e31,"ResourceProfiler works with multiple gets

Previously `ResourceProfiler` would start and stop the background
tracker after each scheduler run. This adds overhead for iterative
passes that you'd want to do with dask. Now the profiler collects
resource usage the entire time it runs as a context manager, but
maintains the same behavior as before when registered globally.",Jim Crist,crist042@umn.edu,2016-05-05 18:31:10-05:00,Jim Crist,crist042@umn.edu,2016-05-09 13:57:01-05:00
71e3e413d6e00942de3ff32a3ba378408f2648e9,"Merge pull request #1145 from jcrist/resource_profiler_multiple_gets

ResourceProfiler works with multiple gets",Jim Crist,crist042@umn.edu,2016-05-09 15:49:34-05:00,Jim Crist,crist042@umn.edu,2016-05-09 15:49:34-05:00
9f11370a8c35c20b8ad2354226221e8494f48ff7,"Add dask.array.multinomial

Fixes #1149",Matthew Rocklin,mrocklin@gmail.com,2016-05-10 08:27:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-10 08:27:38-07:00
5f8bd823a3647b2258326e5ff568319b961ff800,rename rechunk tasks,Matthew Rocklin,mrocklin@gmail.com,2016-05-10 12:14:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-10 12:14:57-07:00
c32645581e406398f2cb5414a591c618df66179b,bump version to 0.9.0,Matthew Rocklin,mrocklin@gmail.com,2016-05-10 15:49:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-10 15:49:44-07:00
472ce70b9c19a075764f7614e884b2afc14c44cb,"Merge pull request #1150 from mrocklin/multinomial

Add dask.array.multinomial",Matthew Rocklin,mrocklin@gmail.com,2016-05-10 16:05:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-10 16:05:20-07:00
cdd955ec97dfd119c012e2be2665ae247110ed06,"Guard against shape attributes that are not sequences

Fixes #1151",Matthew Rocklin,mrocklin@gmail.com,2016-05-11 07:35:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-11 07:35:05-07:00
5307caa6bdb47f9399ecd34293b5e0040557a20c,"Add db.Bag.unzip

Allows for easy conversion of bags of tuples to multiple bags of their
elements.

```
>>> bag = db.from_sequence([(i, 2*i, 3*i) for i in range(10)])
>>> first, second, third = bag.unzip(3)
```",Jim Crist,crist042@umn.edu,2016-05-11 16:17:46-05:00,Jim Crist,crist042@umn.edu,2016-05-11 16:17:46-05:00
800e6bddf141c91a9f1ba8b18844c6ffca2566d3,"Merge pull request #1152 from mrocklin/dtype-shapes

Guard against shape attributes that are not sequences",Matthew Rocklin,mrocklin@gmail.com,2016-05-11 15:19:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-11 15:19:50-07:00
130a6a907f761eb9a413af229272744315a07933,"Merge pull request #1155 from jcrist/unzip

Add db.Bag.unzip",Jim Crist,crist042@umn.edu,2016-05-11 17:56:47-05:00,Jim Crist,crist042@umn.edu,2016-05-11 17:56:47-05:00
22a334d4221dc51c016d8bb0c3bc8fbd1b24edc5,Ensure future imports,Matthew Rocklin,mrocklin@gmail.com,2016-05-12 06:29:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-12 06:29:44-07:00
b9d55b9c5bd7196b2557476d9bf94143b54782d7,"Add DataFrame.eval

Fixes #1153",Matthew Rocklin,mrocklin@gmail.com,2016-05-11 16:51:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-12 07:34:50-07:00
c86a6e670163d57d1638cd0e194bf2bcde4d75a6,"Merge pull request #1158 from mrocklin/future-imports

Ensure future imports",Matthew Rocklin,mrocklin@gmail.com,2016-05-12 07:49:08-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-12 07:49:08-07:00
9f13123cf73e9c3457776a12ada749940a3fa636,"Merge pull request #1156 from mrocklin/dataframe-eval

Add DataFrame.eval",Matthew Rocklin,mrocklin@gmail.com,2016-05-12 12:38:13-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-12 12:38:13-07:00
7f9ebf356a279fc998218badef05b81bef769b2a,"Avoid shuffles when merging with Pandas objects (#1154)

* Avoid shuffles when merging with Pandas objects

Previously dask.dataframe would convert all Pandas objects into
dask.dataframe objects.  In some cases this causes unnecessary shuffles.

In particular when you join a non-index column of a large dask.dataframe
against a small pandas table the right thing to do is to just move the
small pandas dataframe to all tasks, turning the computation into an
embarassingly parallel one.

* implement single partition join",Matthew Rocklin,mrocklin@gmail.com,2016-05-12 17:58:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-12 17:58:23-07:00
e0b246221957c4bd618e57246f3a7ccc8863c494,add hyphen to delayed name (#1161),Matthew Rocklin,mrocklin@gmail.com,2016-05-16 18:11:43-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-16 18:11:43-07:00
b75c6e9255e1d31427b688083aa8ec30978ca0cb,Use function names in map_blocks and elemwise,Matthew Rocklin,mrocklin@gmail.com,2016-05-16 21:16:50-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-16 21:16:50-07:00
0f898d64c0aa6d30c95e1967cbf85669eba536f0,Use function names in map_blocks and elemwise (#1163),Matthew Rocklin,mrocklin@gmail.com,2016-05-17 07:25:53-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 07:25:53-07:00
bfb8bd8f9e3b71ee17687b4c9dd518a0668b0587,"Move conda recipe to conda-forge (#1162)

* Remove conda recipe files (moved to conda-forge)

* Update docs with conda-forge installation information

* Fix line breaks",Kristopher Overholt,koverholt@gmail.com,2016-05-17 09:25:59-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 07:25:59-07:00
a3a7f9b5ce34ef814726aad188a400e85a32be6c,Add var and std to DataFrame groupby (#1159),Matthew Rocklin,mrocklin@gmail.com,2016-05-17 07:26:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 07:26:20-07:00
f050c5f364d67b2c45156244d2436c719629f357,don't write header for first block in csv,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 08:08:42-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 08:08:42-07:00
8c65c6bbd25ea620b775e5081faaaf1aa79cfff0,Don't enforce same column names,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 08:16:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-17 14:11:51-07:00
68ce414311c15fb03ead073adbb4951eabc2a62b,"Merge pull request #1164 from mrocklin/dataframe-csv-header

Dataframe csv header",Matthew Rocklin,mrocklin@gmail.com,2016-05-18 17:10:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-18 17:10:16-07:00
c428fdaa89ff948ed28b9a83ea12f9c3d93141bf,Use different names for input and output in from_array,Matthew Rocklin,mrocklin@gmail.com,2016-05-20 11:55:24-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-20 11:55:24-04:00
60cf9fdfb75a9312e8b537e015804d1ff86bb83c,"Groupby aggregate works with list of columns

Previously this didn't work for the case of a list of single column.
Fixes #1169.",Jim Crist,crist042@umn.edu,2016-05-20 15:49:53-05:00,Jim Crist,crist042@umn.edu,2016-05-20 15:49:53-05:00
38fc4f9f7b9da92ff6380de87ac89d0f8145a224,"Few pep8 cleanups to dask.dataframe.groupby

- Fix indentation issues
- 2 blanklines at top-level",Jim Crist,crist042@umn.edu,2016-05-20 15:55:17-05:00,Jim Crist,crist042@umn.edu,2016-05-20 15:55:17-05:00
49c28ef83ba9f354d4d2c9fbff2f1a00da76ff40,add dask logo to documentation images,Matthew Rocklin,mrocklin@gmail.com,2016-05-21 07:17:45-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-21 07:17:45-04:00
946bc4e362ca69869e9f83c3659368e8065215ae,"add html page with logos

This is so that RTD picks up the svg files",Matthew Rocklin,mrocklin@gmail.com,2016-05-21 07:25:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-21 07:25:31-04:00
199585b729fef30b4ea0766623fcba0d9448bb10,"Merge pull request #1171 from jcrist/groupby_multi_agg

Groupby multi agg",Jim Crist,crist042@umn.edu,2016-05-21 10:01:23-05:00,Jim Crist,crist042@umn.edu,2016-05-21 10:01:23-05:00
006e7e391799a7fe5ed2c6e4a4f6a2571296d8fe,"Fix optimize docs

Update example to match changes in scheduler, and fix serialization
issue. Fixes #1172.",Jim Crist,crist042@umn.edu,2016-05-23 12:30:31-05:00,Jim Crist,crist042@umn.edu,2016-05-23 13:37:57-05:00
070f5a7c162afe82e91f15ed7e2d0311ad6c31d8,"Merge pull request #1173 from jcrist/opt-doc-fix

Fix optimize docs",Jim Crist,crist042@umn.edu,2016-05-23 18:01:42-05:00,Jim Crist,crist042@umn.edu,2016-05-23 18:01:42-05:00
e9ae6e3e10f1bab1b17db5bb765beb34c92b71b0,"splat out delayed values in compute docs

Reported in
http://stackoverflow.com/questions/37402812/how-do-i-actually-get-dask-to-compute-a-list-of-delayed-or-dask-container-based

cc @davclark",Matthew Rocklin,mrocklin@gmail.com,2016-05-23 18:12:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-23 18:12:05-07:00
3bc3f3d1af0b3a235a0ce02df326a613079c288f,"Add motivation and example to delayed docs

This starts off the dask.delayed docs with a user-facing motivation and
example.",Matthew Rocklin,mrocklin@gmail.com,2016-05-23 18:06:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-23 18:24:09-07:00
b08546c1654c65bada01da19361aca1770c549ea,"Merge pull request #1175 from mrocklin/delayed-motivation-docs

Add motivation and example to delayed docs",Matthew Rocklin,mrocklin@gmail.com,2016-05-24 14:13:40-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-24 14:13:40-07:00
0542935c9962d0c88afa0eaf6675f5189179a30d,"Merge pull request #1168 from mrocklin/from-array-name

Use different names for input and output in from_array",Matthew Rocklin,mrocklin@gmail.com,2016-05-24 14:13:55-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-24 14:13:55-07:00
356db521aeb42872ca791a3dfc388a47add576f7,add atop to array docs,Matthew Rocklin,mrocklin@gmail.com,2016-05-24 14:19:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-24 14:19:44-07:00
b5eb7739b12a51c07c52aa9af817a8527619b97e,rename from_array tasks,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 06:37:14-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 06:37:14-07:00
17e40bceb35d3ef06555824b3bd953c2c2673d15,test from-array names,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 09:12:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 09:12:52-07:00
29df63a9df7cd5b457131b88e1c36997067eb4df,add stacked logos to docs,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 10:00:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 10:00:58-07:00
7da656f5f4b977f6d30e99ddbc575dd1a11950ae,py26 compatibility,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 10:34:54-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 10:34:54-07:00
0a98434af0970a99272797f84958caaa277d0050,"Define finalize function for dask.dataframe.Scalar

Previously we special cased the single-element-list-of-ints case in
finalize to just return the first element.  This was correct for Scalar
but wrong for everything else.  Now we just define a separate finalize
function for scalar, which removes an ugly special case.

Fixes #1180",Matthew Rocklin,mrocklin@gmail.com,2016-05-25 19:09:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-25 19:09:56-07:00
b50bba7021ee5b41076999e8d4d03a7922a47a2a,"Merge pull request #1182 from mrocklin/dataframe-scalar-finalize

Define finalize function for dask.dataframe.Scalar",Matthew Rocklin,mrocklin@gmail.com,2016-05-26 07:18:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-26 07:18:24-07:00
3ccf281168620d4075f89e7c6f8c03f45c0e810b,"Add storage_options keyword to read_csv

Previously we had no way to pass down keyword arguments from read_csv
to a backend store like s3 or hdfs.  This is because `kwargs` was used
to supply pd.read_csv with options.  This commit adds a new
`storage_options` keyword that gets sent to the call to read_bytes.",Matthew Rocklin,mrocklin@gmail.com,2016-05-26 12:23:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-26 12:23:41-07:00
6f72148b2b150567e76510641c5d2c92510d9ec7,"Merge pull request #1184 from mrocklin/read_csv-storage-options

Add storage_options keyword to read_csv",Matthew Rocklin,mrocklin@gmail.com,2016-05-27 07:55:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-05-27 07:55:20-07:00
985157945a8aca812e4f2c82c15ee1b6db77daeb,"Fix some closure issues in dask.dataframe

Remove spots where `self` was accidently being contained in a closure,
resulting in errors when using distributed.",Jim Crist,crist042@umn.edu,2016-05-27 14:10:44-05:00,Jim Crist,crist042@umn.edu,2016-05-27 14:10:44-05:00
8862e26c59cf912f85de9a2a677854569e4551f2,"Merge pull request #1185 from jcrist/df-closure-fixes

Fix some closure issues in dask.dataframe",Jim Crist,crist042@umn.edu,2016-05-27 14:28:46-05:00,Jim Crist,crist042@umn.edu,2016-05-27 14:28:46-05:00
2e8b5348de5efa5a6227d1b25dc5275cd041f9a8,"Infer metadata in dd.from_delayed

- If no metadata is provided, infer it from the first delayed object
- Improve documentation of function
- Remove a few deprecated delayed things.",Jim Crist,crist042@umn.edu,2016-05-30 12:43:53-05:00,Jim Crist,crist042@umn.edu,2016-05-30 12:43:53-05:00
9b64a09ba0d6d3236f6eafac50e2e74f1d304788,"Merge pull request #1188 from jcrist/gh_1187

Infer metadata in dd.from_delayed",Jim Crist,crist042@umn.edu,2016-05-30 13:11:40-05:00,Jim Crist,crist042@umn.edu,2016-05-30 13:11:40-05:00
77fb4911e23a1e02633906d4837fde04a7407c28,"Fix dir for dataframe objects

Filter column names to ensure attributes are valid identifiers.",Jim Crist,crist042@umn.edu,2016-05-30 19:43:04-05:00,Jim Crist,crist042@umn.edu,2016-05-30 19:43:04-05:00
e9c81113c9d3f5c0ea76243ce9d73bf09e7ae1e4,"Merge pull request #1190 from jcrist/dd_dir_fix

Fix dir for dataframe objects",Jim Crist,crist042@umn.edu,2016-05-30 19:54:24-05:00,Jim Crist,crist042@umn.edu,2016-05-30 19:54:24-05:00
315f255f8e9ddd0e20eebf9f9ae9d0a2eba763b4,"Ensure to_task_dasks always returns a task

Previously lists were special cased to return a list of keys. This
worked fine, except when fusing was used. Fusing resulted in a list
of tasks, which the scheduler wouldn't recognize as a task unless there
were external dependencies involved.

This fix ensures that any task returned by `to_task_dasks` is an actual
task. Nested lists can still contain lists, as long as the outer thing
is a task.",Jim Crist,crist042@umn.edu,2016-05-31 11:14:51-05:00,Jim Crist,crist042@umn.edu,2016-05-31 11:14:51-05:00
ec58904aae85756c80a0220830270d4812b5e68b,Fix typo,Skipper Seabold,sseabold@civisanalytics.com,2016-05-31 11:20:02-05:00,Skipper Seabold,sseabold@civisanalytics.com,2016-05-31 11:20:02-05:00
eb767329d8ccfb30ca96ed7a53ab341e86639554,"Merge pull request #1195 from jseabold/typo

Fix typo",Jim Crist,crist042@umn.edu,2016-05-31 11:51:50-05:00,Jim Crist,crist042@umn.edu,2016-05-31 11:51:50-05:00
4292a35986ed57ac526cf78d6aa7d1a3c83416f3,Don't use mutable default argument,Skipper Seabold,sseabold@civisanalytics.com,2016-05-31 14:02:39-05:00,Skipper Seabold,sseabold@civisanalytics.com,2016-05-31 14:02:39-05:00
817c537adc52beca2eebf18a76d479c79de22d04,"Merge pull request #1193 from jseabold/mutable-default

Don't use mutable default argument",Jim Crist,crist042@umn.edu,2016-05-31 14:25:08-05:00,Jim Crist,crist042@umn.edu,2016-05-31 14:25:08-05:00
a1e07ab187e5d8d21abfeb873e82b76bf99512d7,Add Skipper Seabold to AUTHORS.,Jim Crist,crist042@umn.edu,2016-05-31 14:29:16-05:00,Jim Crist,crist042@umn.edu,2016-05-31 14:29:16-05:00
0fbaf533ce6b5a6a408b36eff37caaa99e6c5a4d,Add missing api to bag docs,Jim Crist,crist042@umn.edu,2016-05-31 18:18:44-05:00,Jim Crist,crist042@umn.edu,2016-05-31 18:18:44-05:00
2f6ed3dac972cd96f9ce9227bf5b98578b442b02,"Fix failing from_url doctest

This is why I shouldn't push to master :/",Jim Crist,crist042@umn.edu,2016-05-31 18:22:50-05:00,Jim Crist,crist042@umn.edu,2016-05-31 18:22:50-05:00
879a3fb800155b5ed56f58b5cdc9d21708e41115,"Merge pull request #1194 from jcrist/delayed_list

Ensure to_task_dasks always returns a task",Jim Crist,crist042@umn.edu,2016-06-01 10:23:41-05:00,Jim Crist,crist042@umn.edu,2016-06-01 10:23:41-05:00
7cc9a1b7a5be1c620934215fe000df99b8b8bd72,create single lock for glob read_hdf,Matthew Rocklin,mrocklin@gmail.com,2016-06-01 09:40:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-01 09:40:44-07:00
444dfb9f54d156af8ee8c1ab09c0db87d64751a6,"Fix categorical partitioning

- Ensure categories are properly re-encoded
- Fix sharding issue with categoricals all mapping to same partition

Fixes #1200.",Jim Crist,crist042@umn.edu,2016-06-01 14:47:44-05:00,Jim Crist,crist042@umn.edu,2016-06-01 14:47:44-05:00
aeecc45c25b61ac14bb98a0a28d8109f07738891,"Add dask.bag.accumulate

Copies api from toolz.accumulate.",Jim Crist,crist042@umn.edu,2016-06-01 12:26:18-05:00,Jim Crist,crist042@umn.edu,2016-06-01 14:54:38-05:00
1a307b0bec278d62073157c9d82aae2d7f5bb940,"Add isnull and notnull for dataframe

Fixes #1205.",Jim Crist,crist042@umn.edu,2016-06-01 15:35:01-05:00,Jim Crist,crist042@umn.edu,2016-06-01 15:35:01-05:00
fe237c61fd587e5455ac746a83703e11cbe29ff2,"Merge pull request #1206 from jcrist/df_null

Add isnull and notnull for dataframe",Jim Crist,crist042@umn.edu,2016-06-01 16:01:00-05:00,Jim Crist,crist042@umn.edu,2016-06-01 16:01:00-05:00
fcab781b5d2a976d3050ad3aa0d7e42f45af3edb,"Merge pull request #1204 from jcrist/cat-part-fix

Fix categorical partitioning",Jim Crist,crist042@umn.edu,2016-06-01 16:10:49-05:00,Jim Crist,crist042@umn.edu,2016-06-01 16:10:49-05:00
83968ce8c0b81b8f01ccf0fc0b75524ed91f695d,"Throw NotImplementedError if old toolz.accumulate

Stopgap until toolz is dependency is updated.",Jim Crist,crist042@umn.edu,2016-06-01 17:45:19-05:00,Jim Crist,crist042@umn.edu,2016-06-01 17:45:19-05:00
03b52532164e718b524b804247f4e2f5f11f228a,"Extract dtype in dd.from_bcolz

Previously the dtype was unknown, which could cause problems later.
Fixes #1207.",Jim Crist,crist042@umn.edu,2016-06-01 18:47:20-05:00,Jim Crist,crist042@umn.edu,2016-06-01 18:47:20-05:00
6592ca5adf196d80158a15c744a8f9e629e43c17,"Merge pull request #1208 from jcrist/bcolz_dtypes

Extract dtype in dd.from_bcolz",Jim Crist,crist042@umn.edu,2016-06-02 09:50:55-05:00,Jim Crist,crist042@umn.edu,2016-06-02 09:50:55-05:00
a70c32982d707366d2d2ba7f288ad84ce9f90f75,"A few docfixes

- Fix math formatting in `da.top`
- Add in missing hdf5 array doc example (was referenced, but didn't
  exist)
- Many small formatting fixes to squash errors in the sphinx build",Jim Crist,crist042@umn.edu,2016-06-02 11:35:38-05:00,Jim Crist,crist042@umn.edu,2016-06-02 11:35:38-05:00
f8bf19a27e9b7b316c120c2b9ec7e22aac7f72e5,"Merge pull request #1210 from jcrist/doc-errors

A few docfixes",Jim Crist,crist042@umn.edu,2016-06-02 12:24:34-05:00,Jim Crist,crist042@umn.edu,2016-06-02 12:24:34-05:00
32ad171e3ea5e0420d2b497f74622ee9bdde4f2c,"Merge pull request #1199 from mrocklin/read-hdf-lock

create single lock for glob read_hdf",Matthew Rocklin,mrocklin@gmail.com,2016-06-02 10:25:31-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-02 10:25:31-07:00
40c23d6cc4458ace4dfb523aeeeac3a58aa65410,"Merge pull request #1201 from jcrist/bag-accum

Add dask.bag.accumulate",Jim Crist,crist042@umn.edu,2016-06-02 12:30:16-05:00,Jim Crist,crist042@umn.edu,2016-06-02 12:30:16-05:00
9acf49e9944aac40980d812dc2f4c7eb711533be,pngmath is deprecated in sphinx 1.4,Skipper Seabold,sseabold@civisanalytics.com,2016-06-02 12:37:01-05:00,Skipper Seabold,sseabold@civisanalytics.com,2016-06-02 12:37:01-05:00
8cfdf5da4fa8ddca0f105391a28d74e05141198b,Add groupby documentation stub,Skipper Seabold,sseabold@civisanalytics.com,2016-06-02 12:37:18-05:00,Skipper Seabold,sseabold@civisanalytics.com,2016-06-02 13:14:00-05:00
586186e89564190eb931e0b1b40ea832576f7c9f,"Merge pull request #1211 from jseabold/groupby-docs

GroupBy documentation",Matthew Rocklin,mrocklin@gmail.com,2016-06-03 12:16:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-03 12:16:05-07:00
e45242b2c71acf752b3b2ee2ec439a83c1e6989c,"Cleanup base tests

``pytest.importorskip`` wasn't being used properly, would result in
whole file skipping if any were skipped. Fixed, and cleaned up imports
and a few pep8 things.",Jim Crist,crist042@umn.edu,2016-06-03 16:17:10-05:00,Jim Crist,crist042@umn.edu,2016-06-03 16:17:10-05:00
b188af8f74af88c7b586e8a6001f4baabc233ba9,"Add dd.info() (#1213)

* [#978] Add dd.info()

* [#978] Add docstring

* [#978] Write to std. out

* [#978] Fix imports

* [#978] Fix local imports

* [#978] Use print instead of sys.stdout.write
- refactor test to be more readable

* [#978] Add formatting when column names are not the same length

* [#978] Remove pandas.formats dependency",Hussain Sultan,hussainz@gmail.com,2016-06-03 17:37:33-04:00,Jim Crist,crist042@umn.edu,2016-06-03 16:37:33-05:00
00b08396bb42dc1d070ea4bb6b6e9ae1beae0a71,"Add `optimize_graph` keyword to `compute`

If true, the optimizations for each collection won't be run. Default is
false. This can be useful for debugging, and mirrors the keyword for
`visualize`. Also added docstrings for `compute`.",Jim Crist,crist042@umn.edu,2016-06-03 16:51:01-05:00,Jim Crist,crist042@umn.edu,2016-06-03 16:51:01-05:00
7954fe7dc20547c2ee70a29241a7dc81cec54bc2,"Add `optimize_graph` keyword to multiprocessing get

Allows turning `fuse` off for multiprocessing scheduler. Also removed
unused and untested `optimizations` keyword to the `multiprocessing.get`
function. This was inconsistent with the other schedulers, didn't
seem super necessary, and has been broken for a while, so I removed it.",Jim Crist,crist042@umn.edu,2016-06-03 17:05:51-05:00,Jim Crist,crist042@umn.edu,2016-06-03 17:05:51-05:00
0585acab86cf7f18960a80bfbf318fc9723fe61c,Add Hussain Sultan to AUTHORS,Jim Crist,crist042@umn.edu,2016-06-03 17:16:11-05:00,Jim Crist,crist042@umn.edu,2016-06-03 17:16:11-05:00
4c6577e3f1c4ec6dff4aa5afb3138de2c470517a,test delayed names are different under kwargs,Matthew Rocklin,mrocklin@gmail.com,2016-06-03 18:39:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-03 18:42:32-07:00
9b07c656bec95fcd58332e69f42e8ee0b15b73b1,"Support for the new pandas rolling API.

Should support basically the same subset of rolling as the old dd.rolling_* functions.",Mike Graham,mikegraham@gmail.com,2016-06-04 21:32:14-04:00,Mike Graham,mikegraham@gmail.com,2016-06-04 21:36:37-04:00
1436c636e9924ff5fc034b501067dbee962c2c21,"Remove `iloc` property on `dask.dataframe`

However, retain comment and reference to PR explaining why this is not implemented",Rami Chowdhury,rchowdhury@continuum.io,2016-06-04 14:35:07-07:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-04 18:57:56-07:00
dcd82265bef83ff21239d96f7aeba027d5502e38,"Merge pull request #1220 from necaris/remove-iloc

Remove `iloc` property on `dask.dataframe`",Matthew Rocklin,mrocklin@gmail.com,2016-06-05 12:10:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-05 12:10:47-07:00
d55eb12caa37d39f8b23180dc10fa370c38f794a,"Merge pull request #1216 from jcrist/no-opt

Add `optimize_graph` keyword to `compute`.",Jim Crist,crist042@umn.edu,2016-06-05 21:57:52-05:00,Jim Crist,crist042@umn.edu,2016-06-05 21:57:52-05:00
d5d219b3b939fc1f41d18b389a5e5884f16d89a6,"Improve df_or_series.rolling(...) implementation.

Various changes including
 - Better organization of tests
 - More tests for new API
 - A docstring for the rolling method (not for the Rolling class yet)
 - Eliminated closures in favor of static code
 - Eliminated do-nothing child methods (inherited pandas docstrings, but this is not helpful in this case, gave parent a descriptive docstring.)",Mike Graham,mikegraham@gmail.com,2016-06-05 23:31:54-04:00,Mike Graham,mikegraham@gmail.com,2016-06-05 23:33:55-04:00
a740f8155ebd0e5b1214daf75eca7fbfd4bdd0da,Skip new rolling API's tests if the pandas we have is too old.,Mike Graham,mikegraham@gmail.com,2016-06-05 23:56:00-04:00,Mike Graham,mikegraham@gmail.com,2016-06-05 23:56:00-04:00
e9ee18702dae805a3af1613243f36a98190120a3,"Document visualize method (#1234)

Document visualize method and function.",Skipper Seabold,jsseabold@gmail.com,2016-06-06 17:11:38-05:00,Jim Crist,crist042@umn.edu,2016-06-06 17:11:38-05:00
e23387bb1b404d8daa103912daa42acee2962d60,"Add tests to package (#1231)

- Added __init__.py files to each test directory
- Modified setup.py to include tests in package",Jim Crist,crist042@umn.edu,2016-06-06 17:12:14-05:00,Jim Crist,crist042@umn.edu,2016-06-06 17:12:14-05:00
f6ec96b388309590382a6dc192a261c23cc4f923,"Match pandas' exceptions a bit closer in the rolling API. Also, correct computation for resulting dataframe metadata.

(Plus tests, comments.)",Mike Graham,mikegraham@gmail.com,2016-06-07 03:29:04-04:00,Mike Graham,mikegraham@gmail.com,2016-06-07 03:29:04-04:00
e4a2aa4d617b303ac75ba879c3eb17000a275100,"Allow formatting in dask.dataframe.to_hdf path and key parameters

Lets a user save all dask partitions to different files or different hdf datasets in the same hdf file.
It goes well with read_hdf's support for globmatch files and datasets.

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir Izraeli,nirizr@gmail.com,2016-06-05 03:41:09+03:00,Nir Izraeli,nir@sentinel-labs.com,2016-06-07 13:03:04+03:00
928a9f63e554efd6c7354ecd74bcc0c6e925c94a,"Merge pull request #1197 from nirizr/nir/to_hdf_multiple_datasets

Allow formatting in dask.dataframe.to_hdf path and key parameters",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 09:23:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 09:23:35-07:00
2e4b0dd36ba0ea4af77ffe4807e9424f2744cd2d,"Add dask_key_name to docs, fix bug in methods

- Add ``dask_key_name`` examples to docstring
- Fix bug with using ``dask_key_name`` on method calls",Jim Crist,crist042@umn.edu,2016-06-07 14:01:38-05:00,Jim Crist,crist042@umn.edu,2016-06-07 14:04:11-05:00
33fbbcf707be63cb539b6015b7742faaf331d9c0,"Merge pull request #1241 from jcrist/delayed_dask_key_name

Add dask_key_name to docs, fix bug in methods",Jim Crist,crist042@umn.edu,2016-06-07 14:17:27-05:00,Jim Crist,crist042@umn.edu,2016-06-07 14:17:27-05:00
95d81b5626482b7c493dd408e256122a10b01520,"Merge pull request #1221 from mikegraham/master

Support for the new pandas rolling API.",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 12:33:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 12:33:25-07:00
2f191385cbd850f1634227018fae097335c0796b,"Add bytes API (#1224)

* add bytes API

Fixes #1196

* remove glossary from index

* respond to comments",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 14:10:36-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 14:10:36-07:00
0a6940e35a6e8d62d719afc0e173258be7bc296b,"Add Task Shuffle (#1186)

* Add task-based shuffle for dask.bag

This uses the transpose trick originally described in
https://github.com/dask/dask/issues/417 to affect a shuffle using the
task scheduling framework.  This is slower than partd on a single
machine but can work with the distributed scheduler.

This operates in log(n) / log(32) full memory copies and
n_partitions * 32 * n_copies tasks.

* push grouper into shuffle_tasks

* move task shuffle to main groupby function

* use tasks by default for distributed scheduler

Test is in the distributed repository

* Add set_partition_tasks for dataframe

* use set_partition_tasks in set_index

* support set_index(series)

* wip

* ensure shard results are dataframes in set_partition_tasks

* Support set_partitions_tasks with series index

* pandas 0.16 support

* fix shuffle

* add groupby name test

* squashme: respond to comments",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 14:39:19-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 14:39:19-07:00
cc4abc1caedcf59a6c7821819c274a68ed560796,"Fix bug in slicing optimization

When slicing an unknown array-like object, ``getarray`` is used to
ensure that the output of the slicing operation is a numpy array,
instead of another array-like. When optimizing nested slices, we need to
ensure that if ``getarray`` is used at all in the chain, then the
slicing still happens. A bug in this logic was introduced in the recent
work on speeding up the optimization passes. This patch fixes this bug,
and reverts the changes to the tests made that allowed it to pass.",Jim Crist,crist042@umn.edu,2016-06-07 16:47:23-05:00,Jim Crist,crist042@umn.edu,2016-06-07 16:47:23-05:00
d60e482a31ce55044cee26bd0b3a2eafe92a61eb,"Remove unused imports, pep8 fixes

- Removed unused imports left over from refactor
- A few pep8 fixes (mostly indenting related). Flake8 passes 100% for
  this file now.",Jim Crist,crist042@umn.edu,2016-06-07 16:53:06-05:00,Jim Crist,crist042@umn.edu,2016-06-07 16:53:06-05:00
a4fb8f96fd813044dbe7d8d91d8788dafce6a183,"Fix tokenize in dask.delayed

Previously kwargs weren't being tokenized properly in
``dask.delayed.tokenze``. Fixed the bug, as well as one with `pure` in
delayed object creation wrapping literates containing dask objects.
Added tests for both cases.",Jim Crist,crist042@umn.edu,2016-06-07 17:19:22-05:00,Jim Crist,crist042@umn.edu,2016-06-07 17:25:59-05:00
d64b5b49378a48adcaf097b090990bbae36e35e4,"Merge pull request #8 from jcrist/delayed-csv-names

Fix tokenize in dask.delayed",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 16:02:30-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 16:02:30-07:00
52b743c03b0ed2e19aa5d1f66756f547c501c84a,Fix typo. (#1247),Mike Graham,mikegraham@gmail.com,2016-06-07 19:18:44-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 16:18:44-07:00
fb357497dbfc4adf5e0a03427f52dfb50e91c61c,"Various spelling mistakes in docstrings, comments, exception messages, and a filename.",Mike Graham,mikegraham@gmail.com,2016-06-07 19:36:15-04:00,Mike Graham,mikegraham@gmail.com,2016-06-07 19:46:54-04:00
6d591740201c6eec326ba691df47f8d9fe7a1fa0,"Fix scheduler behavior for top-level lists

Previously lists were treated differently depending on if they were a
toplevel key in the graph or not. The new behavior treats them the same
as long as they're not nested lists. This is best illustrated with an
example:

```python
dsk = {'a': [1, 2, 3],
       'b': 'a',
       'c': [(inc, 1), 2],
       'd': [[1, 2, (inc, 1)], 4],
       'e': [(list, [1, 2, (inc, 1)]), 4],
       'f': ['a', 'b']}
```

In this example:
- 'a' is data, as none of the elements are keys or tasks
- 'b' is not data, it's just an alias to 'a' (a trivial task)
- 'c' is not data, as it contains a task
- 'd' is data, as the list contains no tasks.
- 'e' is not data, as it contains tasks. Note that the result of this is
  ``[[1, 2, 3], 4]``, which is probably the desired result for `d`.
- 'f' is not data as it contains keys in the graph

To summarize:

A value in the graph is computed if:
- It's a task
- It's a key in the graph
- It's a list that contains either tasks or keys",Jim Crist,crist042@umn.edu,2016-06-07 19:00:52-05:00,Jim Crist,crist042@umn.edu,2016-06-07 19:00:52-05:00
edb7fe225b1365c315ca8bf26a2951cff382d4a9,"Merge pull request #1219 from mrocklin/delayed-csv-names

Test delayed names are different under kwargs",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 17:37:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 17:37:33-07:00
60c696ddcc6b7d463c23fdfc6944d926e761112b,"Merge pull request #1249 from mikegraham/master

Corrected various spelling misstakes",Matthew Rocklin,mrocklin@gmail.com,2016-06-07 17:38:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-07 17:38:41-07:00
778ef2c7c49ef2aa3079358f8f28b3d9a6eec9a6,Allow non-zero axis for .rolling (for application over columns),Mike Graham,mikegraham@gmail.com,2016-06-07 23:02:31-04:00,Mike Graham,mikegraham@gmail.com,2016-06-07 23:05:02-04:00
35c14bbad27be0925cdc7b85da317d1c2c60b1bb,Correct documentation to reflect argument existing now.,Mike Graham,mikegraham@gmail.com,2016-06-07 23:20:35-04:00,Mike Graham,mikegraham@gmail.com,2016-06-07 23:20:51-04:00
df228f3a9d6511fdd57a6e403c9405297a26934c,"Fix dot_graph filename split bug

Signed-off-by: Nir Izraeli <nir@sentinel-labs.com>",Nir Izraeli,nir@sentinel-labs.com,2016-06-08 13:04:26+03:00,Nir Izraeli,nir@sentinel-labs.com,2016-06-08 18:04:45+03:00
49a62de257a77e69c54292dbbafd4a1d7571e161,"Switch tests to utils.tmpdir (#1251)

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-06-08 18:15:00+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 08:15:00-07:00
991a0d1ab9dadab3850016e3dbf24cbe9994a718,"Merge pull request #1254 from nirizr/dot_graph_filename_fix

Fix dot_graph filename split bug",Jim Crist,crist042@umn.edu,2016-06-08 10:18:02-05:00,Jim Crist,crist042@umn.edu,2016-06-08 10:18:02-05:00
c915d64a90aa97be18d702ce5a51082673d43c3a,bump csv sample size to 256k (#1253),Matthew Rocklin,mrocklin@gmail.com,2016-06-08 08:38:06-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 08:38:06-07:00
f145f82ccd14c6b6748ce7909d2b2b9b47b6f460,"Standardize dataframe keynames

This applies some basic sanity checks to the keys generated by
dask.dataframe.  It dumbs them down a bit but also cleans things up.",Matthew Rocklin,mrocklin@gmail.com,2016-06-05 20:29:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 09:10:21-07:00
96112f8c11a9e810e9e95b9c829a07f23926a0d7,"Add regression test for non-ndarray slicing

Test slicing from np.matrix to ensure result is always `np.ndarray`.",Jim Crist,crist042@umn.edu,2016-06-08 11:30:03-05:00,Jim Crist,crist042@umn.edu,2016-06-08 11:30:03-05:00
c0197c76e1499c57961d9c64d9de7cf514e18fb9,test index.min/max,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 09:39:11-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 09:39:11-07:00
cc43f53375d7ef469e63baa5350c2b3b4ca8876b,"Merge pull request #1228 from mrocklin/dataframe-keynames

Standardize dataframe keynames",Matthew Rocklin,mrocklin@gmail.com,2016-06-08 10:19:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 10:19:58-07:00
ea35c8af0c2b71c1436817bd05fe420ac768ed5c,"Merge pull request #1252 from mikegraham/master

Allow non-zero axis for .rolling (for application over columns)",Matthew Rocklin,mrocklin@gmail.com,2016-06-08 11:00:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 11:00:47-07:00
92c39eadd0d34196e4c9e7a83299389b731a1403,"Merge pull request #1246 from jcrist/opt-slice-fix

Opt slice fix",Jim Crist,crist042@umn.edu,2016-06-08 13:07:01-05:00,Jim Crist,crist042@umn.edu,2016-06-08 13:07:01-05:00
a6cd62aac69ab7c7577ea2a038e77386969cefb2,"Handle empty partitions in dask.bag.to_textfiles

Fixes http://stackoverflow.com/questions/37709962/dask-bag-to-textfiles-works-with-single-partition-but-not-multiple",Matthew Rocklin,mrocklin@gmail.com,2016-06-08 11:48:51-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 11:48:51-07:00
defdd65be1018a39f8f540d70cd04dd3b71c4122,"Make graph definition recursive

Now traverses lists recursively, even at top-level.

Also made the get test case not a subclass of ``unittest.TestCase``,
which allows it to be imported without running multiple times.",Jim Crist,crist042@umn.edu,2016-06-08 15:15:59-05:00,Jim Crist,crist042@umn.edu,2016-06-08 15:15:59-05:00
17b8a55bdc8b47d9a93b8cd16669fd68b1cb4382,"Merge pull request #1256 from mrocklin/bag-textfiles-empty

Handle empty partitions in dask.bag.to_textfiles",Matthew Rocklin,mrocklin@gmail.com,2016-06-08 15:21:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-08 15:21:34-07:00
4e815e3aa4571f7259a124fc7ee095ae2ad4084d,"Fix core.get to use new spec

This was difficult to do with the existing interface. Since the existing
interface wasn't used anywhere (was from the original reference
implementation), I changed some things. New signature takes a keyword
`recursive` that determines whether the recursive or non-recursive
definition is used.",Jim Crist,crist042@umn.edu,2016-06-08 17:30:36-05:00,Jim Crist,crist042@umn.edu,2016-06-08 17:30:36-05:00
2c07378afc4bba6733ec2782dd9e133afe039f0e,"Fix some bugs in the rolling implementation.

 - off-by-one error when considering partition size
 - incorrect check for first-partition/axis=0 (should just give nan / not consider partition respectively)",Mike Graham,mikegraham@gmail.com,2016-06-08 21:51:17-04:00,Mike Graham,mikegraham@gmail.com,2016-06-08 23:57:22-04:00
966cc36782a9ae0c7e0c047615092ba6258f0b57,"Merge pull request #1257 from mikegraham/master

Fix some bugs in the rolling implementation.",Matthew Rocklin,mrocklin@gmail.com,2016-06-09 07:39:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-09 07:39:00-07:00
8f8435a08bd54f0763f75ce61ec55adea9a2c08b,"Clean DataFrame naming conventions (#1263)

In a few places we still had full hash-strings popping up (notably
resample and unary elemwise operations.)  Now we fully test that all
cases use an identifier for a first term in the name.",Matthew Rocklin,mrocklin@gmail.com,2016-06-09 11:32:39-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-09 11:32:39-07:00
f474e3e673a24460418a1b4df638f588c8e4c3fb,Drop Python 2.6 support (#1264),Matthew Rocklin,mrocklin@gmail.com,2016-06-09 13:39:59-07:00,GitHub,noreply@github.com,2016-06-09 13:39:59-07:00
fd1e1c2f597339e41e83b68794b144c038769f46,"amend doc string to Bag.to_textfiles (#1258)

* amend doc string to Bag.to_textfiles

made explicit that bags that are to be written to text files must first be bags of text strings.

* reformatted doc string

tidied comments up.

* added # docktest: +SKIP to code line

- and, thank-you for the ""hand-holding"". this is new territory for me. if you have a preferred resource for getting up to speed here, you're welcome to share - my learning curve is feeling like a learning pit at the moment :-]",jslmann,jlatmann@gmail.com,2016-06-09 14:40:31-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-09 13:40:31-07:00
2736bb1d7d86af0f7990006aa7ea00436e99772f,update release procedure,Matthew Rocklin,mrocklin@gmail.com,2016-06-09 13:43:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-09 13:43:24-07:00
5fd4d6fe410d751648053295c8ac7d5c33dc2597,Add utility function to create sample dataframe,Rami Chowdhury,rchowdhury@continuum.io,2016-06-04 17:57:05-07:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-09 17:39:49-04:00
c6a1f9644a1065604816fbd0ea153e2f7199e59f,Add failing test for merge case,Rami Chowdhury,rchowdhury@continuum.io,2016-06-04 18:33:42-07:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-09 17:39:49-04:00
b45d1cde7029020ae11246280b7705b387e68479,Use non-empty fake dataframe in merge operations,Rami Chowdhury,rchowdhury@continuum.io,2016-06-04 18:42:48-07:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-09 17:39:49-04:00
3b09fb32366751bc1ad324eb509e7e6b5d1fba3b,Handle additional Pandas types,Rami Chowdhury,rchowdhury@continuum.io,2016-06-06 20:29:00-04:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-09 17:41:00-04:00
2b08a1ec7f339dc7a8d1eba222a98f3c5decf6bf,Work on earlier versions of Pandas,Rami Chowdhury,rchowdhury@continuum.io,2016-06-07 08:11:22-04:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-09 17:41:00-04:00
2520b390d13bc565a0e5865077f7e7de40c2976e,Fix Shuffle (#1255),Matthew Rocklin,mrocklin@gmail.com,2016-06-09 18:47:07-07:00,GitHub,noreply@github.com,2016-06-09 18:47:07-07:00
f2bec7e43638b5888c8c9a17553cfae3a5c5932c,Reduce communication in rolling operations #1242 (#1270),Mike Graham,mikegraham@gmail.com,2016-06-09 23:28:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-09 20:28:00-07:00
505bebd7421327f1ec985e55cf62beb1b1b7c275,"Rolling class receives normal arguments (unchecked other than pandas call), stores attributes, has pandas-like repr (#1271)

* Various small changes to make dask's Rolling class look a bit more like pandas'.

* Python 3 compatability.",Mike Graham,mikegraham@gmail.com,2016-06-10 09:46:15-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-10 06:46:15-07:00
8eca41ff70e45f218bf9ef732c92858e53d4d4b3,"Update spark docs

Dask is a respectable distributed system now.
Our docs should reflect this.",Matthew Rocklin,mrocklin@gmail.com,2016-06-10 08:23:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-10 08:23:24-07:00
73738112ff6373b5a4ebaa97b2cc9f3075af2264,Add groupby docs (#1273),Matthew Rocklin,mrocklin@gmail.com,2016-06-10 08:53:18-07:00,GitHub,noreply@github.com,2016-06-10 08:53:18-07:00
f312a6888a9c90bb3bfc1180c9e5c9c81ebb08bd,"Update specification docs to reflect new spec.

Update the language used to better clarify what defines a valid dask
graph.",Jim Crist,crist042@umn.edu,2016-06-10 12:57:56-05:00,Jim Crist,crist042@umn.edu,2016-06-10 12:57:56-05:00
0b0660f39e0246165a48a88f1577d5e62bd9a709,Sort index on shuffle (#1274),Matthew Rocklin,mrocklin@gmail.com,2016-06-10 15:49:22-07:00,GitHub,noreply@github.com,2016-06-10 15:49:22-07:00
893183ea18f04d9256f86ea5282dc5ea7aeaa356,"Merge pull request #1250 from jcrist/sched_key_fix

[WIP] Fix scheduler behavior for top-level lists",Jim Crist,crist042@umn.edu,2016-06-10 17:52:35-05:00,GitHub,noreply@github.com,2016-06-10 17:52:35-05:00
0a6c23d5951df272b094035bd765c3c4c4689e64,TST: Fix coveralls badge (#1276),Sinhrks,sinhrks@gmail.com,2016-06-12 11:39:33+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-11 19:39:33-07:00
73d60ac7e3df2fab50409e56054efb1dc3595e8b,Windows fixes,Matthew Rocklin,mrocklin@gmail.com,2016-06-12 10:56:24-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-12 11:32:46-07:00
110d2686fe37fb7136a45114ff437be1babac036,Add more challenging types to nonempty_sample_df test,Rami Chowdhury,rchowdhury@continuum.io,2016-06-12 23:02:25-04:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-12 23:02:25-04:00
064a14ed0bd25052c306ec12ad161bade0a0e5be,Add parametrization to merge tests,Rami Chowdhury,rchowdhury@continuum.io,2016-06-12 23:04:15-04:00,Rami Chowdhury,rchowdhury@continuum.io,2016-06-12 23:04:15-04:00
45cdc395e70174d84a506c38d4dcdaea2ac88394,"Merge pull request #1222 from necaris/fix-columns-in-merge

Fix columns in merge",Matthew Rocklin,mrocklin@gmail.com,2016-06-13 08:19:33-07:00,GitHub,noreply@github.com,2016-06-13 08:19:33-07:00
333d83523405f5a6f49e535edafdc2b191be07cd,"Merge pull request #1281 from mrocklin/windows-3

Windows fixes",Matthew Rocklin,mrocklin@gmail.com,2016-06-13 09:13:38-07:00,GitHub,noreply@github.com,2016-06-13 09:13:38-07:00
43aed4aa87e0d454a2e92862e647fd5ff5d76d87,bump version to 0.10.0,Matthew Rocklin,mrocklin@gmail.com,2016-06-13 09:50:09-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-13 09:50:09-07:00
7e781b3cde4d86c9f10f6960026ab06fa64c6d23,"added note and verbose exception about CSV parsing errors (#1287)

* added note and verbose exception about CSV parsing errors

Parsing CSV blocks can fail if a line terminator appears in a quoted value.
This just makes that a little clearer to users since there's probably not an easy solution.

https://github.com/dask/dask/issues/1284

* removed CSV parsing try-except",Michael Heilman,mheilman@users.noreply.github.com,2016-06-14 13:02:42-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-14 11:02:42-07:00
c2108d5f2e578fafdb8858dc6f1c23132861dd1b,"Fix typo in spark-dask docs

Fixes http://matthewrocklin.com/blog/work/2015/06/26/Complex-Graphs#comment-2731074652",Matthew Rocklin,mrocklin@gmail.com,2016-06-14 16:12:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-14 16:12:34-07:00
4ebdee7f48174083f41efe14fa41ea043dc7286e,"ENH: dataframe now supports partial string selection (#1278)

* ENH: dataframe now supports partial string selection

* Split indexing.py

* Remove unnecessary statement",Sinhrks,sinhrks@gmail.com,2016-06-15 08:18:30+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-14 16:18:30-07:00
f2ef3e744430c0e1636725fd90208f4828252821,"Add validation and tests for order breaking name_function (#1275)

* Add validation and tests for order breaking name_function

This bug was recently introduced by myself to dataframe.to_hdf and preexisted in bag.to_textfiles.
Saving to multiple files (as possible with asterisks in those functions) did not preserve the
partitions order.

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* name_function bug fix

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-06-15 08:15:25+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-14 22:15:25-07:00
4b8e9d91af0b3e902fd4192e1ebb313e52bc69d9,"Support empty or small dataframes in from_pandas (#1290)

* Support empty or small dataframes in from_pandas

Fixes #1285

* add series test",Matthew Rocklin,mrocklin@gmail.com,2016-06-16 07:42:26-07:00,GitHub,noreply@github.com,2016-06-16 07:42:26-07:00
3b2e39765bc576cb09464ac6f8b6fa0532e4a412,"Return dask.Delayed when saving files with compute = false (#1286)

in:
* bag.to_textfiles (Bag -> Delayed)
* dataframe.to_hdf (add compute = false)
* dataframe.to_castra (dsk, keys -> Delayed)
* dataframe.to_csv (add compute = false)

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-06-17 00:18:38+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-16 14:18:38-07:00
a7e7ef16475e0486f3d3e8e80016f9a23f62c710,amend doc string to Bag.to_textfiles,jslmann,jlatmann@gmail.com,2016-06-08 21:08:54-06:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-16 17:35:51-07:00
6706db90d6a01df8422f03b4a8a3e87cf9953278,TST: Travis build matrix to specify numpy/pandas ver (#1300),Sinhrks,sinhrks@gmail.com,2016-06-20 05:29:42+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-19 13:29:42-07:00
900ed1800b598dbe16e66be575ee86a3b1556864,Fixes #1237: correctly propagate storage_options through read_* APIs and use urlsplit to automatically get remote connection settings (#1269),Vlad Frolov,frolvlad@gmail.com,2016-06-20 18:16:59+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-20 08:16:59-07:00
ac597890b229099b335dd052f09d40c63c8ff601,Pass through storage_options in db.read_text (#1304),Matthew Rocklin,mrocklin@gmail.com,2016-06-20 10:43:47-07:00,GitHub,noreply@github.com,2016-06-20 10:43:47-07:00
e44731468bba32d3f00262b133842c7cda66f46e,DOC: Minimal doc for get_sync (#1312),Skipper Seabold,jsseabold@gmail.com,2016-06-21 16:44:58+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-21 08:44:58-07:00
5b5526dabcdb568e1cfda76d79a90c12dbb67bad,"quantiles for repartitioning (#1261)

* Create a new method, `Series._repartition_quantiles`, to compute quantiles for repartitioning.

This calculates fewer quantiles than before, which will reduce the time required
to merge the quantiles together.  This is based on some hand-wavy heuristics, and
we introduce some random percentiles to try to avoid certain types of pathologies.
Give it a try!

* Use number of partitions proportional to chunk length.

This requires us to calculate the len of series before we create percentiles.

Also, slightly reduce the number of random samples.

* Handle case when number of percentiles would be more than number of elements

* Add docstring.

* Assume partitions are of comparable lengths.  Don't block to take a sum.

* Convert percentile `merge_sorted` to a reduction.  Add `upsample` keyword.

* Fix most failing tests.

The random percentiles is causing a test that compares names to fail.

* Use deterministic random seeds.

* Combine steps 1-4 into a single step.

These were very linear and inter-dependent anyway, so we might as well make
the graph simpler and reduce the number of tasks.

* docstring for `create_merge_tree`

* Docstring for `_prepare_percentile_merge`, which could use a better name.

* typo

* Don't close over df.name in lambda, because this closes over df, which is bad.

* Move code for determining new partition divisions using quantiles to a new file.

* Handle categoricals explicitly and convert values to native Python for more efficient serialization.

Serialization with `cloudpickle` should now be 10-20x faster than before, but it is
still the dominant factor.  `cloudpickle` remains about 50x slower than `cPickle`.

* update doctest.

* Add more docs, including a high level discussion in the module docstring.

* Don't create empty partitions if possible.  Also, merge equal values together.

* If undersampled, interpolate extra divisions if given a number dtype.

* Test interpolating divisions for undersampled data.",Erik Welch,erik.n.welch@gmail.com,2016-06-21 15:21:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-21 13:21:48-07:00
d546af029368e1b99e8a45f014185870a8582318,"make dd.to_csv support writing to multiple csv files (#1303)

* use name_function and asterisks to control multiple file saves
* only allow writing to multiple files when overwriting existing files
* avoid linking tasks when writing to multiple files
* add tests

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-06-22 18:42:56+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-22 08:42:56-07:00
a90a6e3b605c5c803cfc7fb5092191b037428908,DOC: Document DataFrame.categorize,Skipper Seabold,sseabold@civisanalytics.com,2016-06-21 11:50:59+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-22 09:38:20-07:00
7c4fef445eb283b5010416da7a7eea5daac62dc5,Skip tests needing optional package when it's not present. (#1318),Israel Saeta Prez,dukebody@gmail.com,2016-06-22 22:42:32+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-22 13:42:32-07:00
0f896927c4541cc70226e5fc946520f6225cde7b,"Add draft of development guidelines (#1305)

* Add draft of development guidelines

* add contributing.md",Matthew Rocklin,mrocklin@gmail.com,2016-06-22 16:41:31-07:00,GitHub,noreply@github.com,2016-06-22 16:41:31-07:00
694a18dbfe90a98c2da0618fb189db865815a23e,"Pass dtype information through in Series.astype (#1320)

Fixes #1301",Matthew Rocklin,mrocklin@gmail.com,2016-06-23 07:30:02-07:00,GitHub,noreply@github.com,2016-06-23 07:30:02-07:00
9cda4c670bf8a7c929a2794e040bed955b4a6aa5,Add s3fs to requirements (#1316),Matthew Rocklin,mrocklin@gmail.com,2016-06-23 07:30:14-07:00,GitHub,noreply@github.com,2016-06-23 07:30:14-07:00
2b2ae8e75f7ab8a413523a60c58c146dfe2ea9db,"Test setting the index with datetime with timezones, which is a pandas-defined dtype (#1315)

* Test setting the index with datetime with timezones, which is a pandas-defined dtype.

Also, when taking percentiles of integer values for repartitions, we do linear
interpolation, then round values back to the integer domain.  This will compress
better than floats during the `merge_and_compress_summaries` steps.  Hopefully
linear interpolation is a good choice compared to taking the nearest value.
It probably is in most situations.

* Don't assume ints are interpolated.  Other strategies are valid too.",Erik Welch,erik.n.welch@gmail.com,2016-06-23 09:30:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-23 07:30:37-07:00
76fc6e2ff9d9e73c8d1372fb76650edb37675bd7,"Support datetimes in DataFrame._build_pd (#1319)

Previously set_index(..., sorted=True) failed because pandas Timestamps
aren't numpy scalars.  This adds a special case for them in _build_pd.

More general solutions welcome.",Matthew Rocklin,mrocklin@gmail.com,2016-06-23 08:22:42-07:00,GitHub,noreply@github.com,2016-06-23 08:22:42-07:00
96d8fa3f08d4a09c650ae8eab6207b5690ce4c90,Add delayed.compute to api docs.,Jim Crist,crist042@umn.edu,2016-06-23 17:06:37-05:00,Jim Crist,crist042@umn.edu,2016-06-23 17:06:37-05:00
f5afaa5364cd92da70d843a16e2848f72fa90697,Don't run hdf test if pytables package is not present. (#1323),Israel Saeta Prez,dukebody@gmail.com,2016-06-24 04:28:29+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-23 19:28:29-07:00
d6d9db45ba349bfa6d7ca82b6b411c5e9d61c253,"Few travis fixes, pandas version >= 0.18.0 (#1314)

* Travis pip install no-deps

Without --no-deps, pip would upgrade all packages that were out of date,
even if this was intentional by the pandas/numpy build matrix.

* More travis modifications

- pandas >= 0.18.0 for all versions
- only run coverage once

* Remove checks for pandas version < 0.18.0

Removed old code for pandas versions < 0.18.0.

* Add cloudpickle for python 3.3 to travis",Jim Crist,crist042@umn.edu,2016-06-24 10:45:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-24 08:45:34-07:00
c6a0413b911d615ef9d1da5e8fd5a433bd498e0b,Support column assignment in DataFrame (#1322),Matthew Rocklin,mrocklin@gmail.com,2016-06-24 08:45:46-07:00,GitHub,noreply@github.com,2016-06-24 08:45:46-07:00
f460b5d762384f3360b8303e9e4a938e1aca4120,"Replace ""Matthew Rocklin"" with ""Dask Development Team"" (#1329)

Previously some of the document artifacts (epub, pdf, latex) listed me
as author.  I've changed these to list ""Dask Development Team"" instead.",Matthew Rocklin,mrocklin@gmail.com,2016-06-24 20:16:28-07:00,GitHub,noreply@github.com,2016-06-24 20:16:28-07:00
e4306af8cfdbffa43dde5561cd683e3e6afd6658,Automatic blocksize for read_csv based on available memory and number of cores.,Israel Saeta Prez,dukebody@gmail.com,2016-06-24 20:45:00+02:00,Israel Saeta Prez,dukebody@gmail.com,2016-06-25 21:21:49+02:00
bc623bfaf704b0fb89f0d98ff004f5c5cc7ac8d8,Travis: Install mock package in Python 2.7.,Israel Saeta Prez,dukebody@gmail.com,2016-06-24 22:41:03+02:00,Israel Saeta Prez,dukebody@gmail.com,2016-06-25 21:22:02+02:00
e49015e963f60ac156e763e0ef63335ea0a0290e,Mark the 4 slowest tests as slow to get a faster suite by default. (#1334),Israel Saeta Prez,dukebody@gmail.com,2016-06-27 17:20:18+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-27 08:20:18-07:00
f70088de8b785d0888a6b89d43f1d5d0f07c33bb,"Correct docs install command and add missing required packages (#1333)

* Correct docs pip install command in development guidelines.

* Add missing package requirements to build docs.",Israel Saeta Prez,dukebody@gmail.com,2016-06-27 17:20:28+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-27 08:20:28-07:00
bf50c8edfbb889955d1f4d4ee1835327f9b46e5b,"Add Bag.random_sample method. (#1332)

* Add Bag.random_sample method.

* Test that the number of random sampled elements are in the expected range.

* Raise ValueError if given probability is not in the closed range [0, 1]",Israel Saeta Prez,dukebody@gmail.com,2016-06-27 17:22:55+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-27 08:22:55-07:00
63134cd81fac4198300a24650c84fe093857f961,"Merge pull request #1328 from dukebody/automatic_blocksize_read_csv

Automatic blocksize for read_csv based on available memory and number of cores",Matthew Rocklin,mrocklin@gmail.com,2016-06-27 08:23:34-07:00,GitHub,noreply@github.com,2016-06-27 08:23:34-07:00
8a242a7abd32cc98bd54afb24b2c147f473e99ec,"Add center argument to Series/DataFrame.rolling (#1280)

* Add center=True capability to Series/DataFrame.

Also, some argument broadening.

* Remove scary comment--this case is handled.

* Add back in a docstring explaining the level of support.

* Parameterize the unit test to more fully explore the pandas API.

* Run tests on 0.18.0

* Rework some tests:
 - xfail some tests for some weird behavior in pandas
 - reduce the number of cases were parametrize to

* Lower precision for some checks, as I saw a case where numerical error caused a test for kurt to fail.

* Use standard utility function rather than our local one.",Mike Graham,mikegraham@gmail.com,2016-06-27 12:00:23-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-27 09:00:23-07:00
5068149628ed59d7a2ed7d125e3fb1cddf6fd7ef,"Load known but external protocols automatically (#1325)

Fixes #1324",Matthew Rocklin,mrocklin@gmail.com,2016-06-27 09:00:44-07:00,GitHub,noreply@github.com,2016-06-27 09:00:44-07:00
075df4471f0fa3851dcdf4a68056d380c9168a55,Remove dask runtime dependence on mock 2.7 backport.,Jim Crist,crist042@umn.edu,2016-06-27 12:57:40-05:00,Jim Crist,crist042@umn.edu,2016-06-27 12:57:40-05:00
1a5a43185d7b7a8be5e06e741708af8099ac2899,"Merge pull request #1339 from jcrist/no-mock

Remove dask runtime dependence on mock 2.7 backport.",Jim Crist,crist042@umn.edu,2016-06-27 13:13:08-05:00,GitHub,noreply@github.com,2016-06-27 13:13:08-05:00
a9088d8e53c83012e1c77051098664c7236b9770,Fixes issue #1337 (#1338),wikiped,wikiped@yandex.ru,2016-06-27 21:35:31+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-27 11:35:31-07:00
cb566375ce9375d7c1b6ec0773869c42c6bf6d5d,"arra.random with array-like parameters (#1327)

* enable using non-scalar inputs to array.random

* the two test that broke + a fix

* checking shape in broadcasting test

* more tests

* broadcasts as appropriate

* proper broadcasting and tests

* properly add numpy and dask array to the graph

* skip test if older numpy (<1.10), pep8

* numpy arrays are stored contiguous, dask.Array in tests

* array.random broadcasting tests a la @mrocklin",Tomas Ostasevicius,t.ostasevicius@gmail.com,2016-06-27 19:36:37+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-06-27 11:36:37-07:00
deb74696e859cd50fcb2271a810811364aa27a59,"Multiprocess scheduler handles unpickling errors

Previously if a task failed to be cleanly deserialized, the error wasn't
handled gracefully and it would cause the scheduler to lock up. This
fixes that issue by special casing the `apply_async` implementation in
`dask.multiprocessing`. This means that it no longer matches the call
signature of `pool.apply_async`, but in reality we always call
`apply_async` with the same arguments. The special casing allows for
deserialization errors to be handled the same as all other errors, and
allows for a clean exit.

Also did a few small pep8 cleanups in the touched files.",Jim Crist,crist042@umn.edu,2016-06-29 09:31:43-05:00,Jim Crist,crist042@umn.edu,2016-06-29 09:31:43-05:00
7402c8b975e2e53089f4a207014c60d26a7dedb6,"Fixes for bokeh 0.12.0

- plot.title is no longer a string
- some layout attributes are now `None` by default

Mostly just adjustments to tests to work generally for new and previous
versions. Tested locally on bokeh 0.11.1 and 0.12.0.",Jim Crist,crist042@umn.edu,2016-06-29 10:49:55-05:00,Jim Crist,crist042@umn.edu,2016-06-29 10:49:55-05:00
ef190528c77722769a31183ca4982f5d84602fe3,"Merge pull request #1344 from jcrist/bokeh-fixes

Fixes for bokeh 0.12.0",Jim Crist,crist042@umn.edu,2016-06-29 11:13:30-05:00,GitHub,noreply@github.com,2016-06-29 11:13:30-05:00
144af024344b5f3e7f499b43779eaca0f4daf074,"Use pytest.importorskip instead of try/except/return pattern

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir Izraeli,nirizr@gmail.com,2016-06-30 03:37:53+03:00,Nir Izraeli,nirizr@gmail.com,2016-06-30 19:02:31+03:00
632524ac86c98e93190c483b9cf5e54caa8265a4,"Merge pull request #1345 from nirizr/test_optimize_dataframe_importorskip

Use pytest.importorskip instead of try/except/return pattern",Jim Crist,crist042@umn.edu,2016-06-30 13:06:41-05:00,GitHub,noreply@github.com,2016-06-30 13:06:41-05:00
eeb502d9ecae8eb496e68112c93dd84ebebc21dd,"Merge pull request #1343 from jcrist/mp_get_deserialize_errors

Multiprocess scheduler handles unpickling errors",Jim Crist,crist042@umn.edu,2016-06-30 13:07:08-05:00,GitHub,noreply@github.com,2016-06-30 13:07:08-05:00
5a60f0fce326c669a5a1c6915530201044ad94f7,"`subs` doesn't needlessly compare keys and values

Numpy throws a deprecation warning on `bool(array == scalar)`, which
would come up in `subs` periodically, polluting the terminal. This fix
ensures comparison only happens if the key and task are the same type,
removing these warnings.",Jim Crist,crist042@umn.edu,2016-07-06 12:56:03-05:00,Jim Crist,crist042@umn.edu,2016-07-06 12:56:03-05:00
92c1eb7d1255e10d430a9f1e115d2a149cb79a72,"Add `anon=True` for read from s3 test

Previously this would fail due to credentials error.",Jim Crist,crist042@umn.edu,2016-07-06 13:57:07-05:00,Jim Crist,crist042@umn.edu,2016-07-06 15:07:16-05:00
c8596bd6e62520448a4a12954584b7ed28815c13,"Merge pull request #1359 from jcrist/s3_compat_fix

Add `anon=True` for read from s3 test",Jim Crist,crist042@umn.edu,2016-07-06 15:23:23-05:00,GitHub,noreply@github.com,2016-07-06 15:23:23-05:00
d935dc620bf2dd0b8b6deaeac3ef3a34f009d923,"Merge pull request #1357 from jcrist/subs_no_eq_np

`subs` doesn't needlessly compare keys and values",Jim Crist,crist042@umn.edu,2016-07-06 23:09:19-05:00,GitHub,noreply@github.com,2016-07-06 23:09:19-05:00
80dd822ada17fdba22aa428060d7915ff99740ed,"remove xfail mark for blosc missing const

Some constants were removed in python-blosc v1.3.0 and brought back in
python-blosc v1.3.1, released 7 days later.  the short v1.3.0 timeframe suggest
these tests actually fail for a small portion of dask users.  The xfail marks
were added before v1.3.1 was released

In this commit I suggest removing the mark xfail and replacing it with
`pytest.skip` for python-blosc v1.3.0

dataframe/tests/test_io.py:test_to_castra was additionally failing because it
wasn't adjusted by commit 3b2e397, I also fix that.

dd.to_castra(compute=False) returned a delayed list instead of a castra object,
this also fixes that.

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir Izraeli,nirizr@gmail.com,2016-07-01 01:25:07+03:00,Nir Izraeli,nirizr@gmail.com,2016-07-07 18:59:38+03:00
d66a2a1ddc2868ba4b5d2eb56511fb49ab1dc3ce,"avoid unnecessary dependencies between save tasks in dataframe.to_hdf (#1293)

* avoid unnecessary dependencies between save tasks in dataframe.to_hdf

saving to multiple files or nodes allows more parallelism between save tasks
we now exploit this to optimize saving multiple partitions when possible

testing to_hdf output graph for different link strategies, spliting tests to
more functions and adding a few new tests

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* Implement locks in to_hdf add related tests

use locks to allow async schedulers to operate in parallel

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-07-10 03:17:22+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-09 19:17:22-05:00
e1022999b991373bcffde2bd9aeec63178a5424e,"Fix typo in pip install requirements path (#1364)

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-07-10 17:03:38+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-10 09:03:38-05:00
174b48bebec6bbe5a4f061caa2bf6e64083247fc,Add doc examples for dask.array.histogram. (#1363),Israel Saeta Prez,dukebody@gmail.com,2016-07-11 15:48:18+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-11 08:48:18-05:00
454c61da9cb18301da5af1d5e83b7ff84b82b2a1,"Protect reductions against empty partitions (#1361)

Previously reductions would fail if any partition was empty
Now we filter out empty partitions ahead of time to protect given
reductions.",Matthew Rocklin,mrocklin@gmail.com,2016-07-11 08:48:35-05:00,GitHub,noreply@github.com,2016-07-11 08:48:35-05:00
2b7120470d1b37a51191745cd8d5b586ab8bd786,"Merge pull request #1348 from nirizr/bloscmaxbufsize_noxfail

remove xfail mark for blosc missing const",Jim Crist,crist042@umn.edu,2016-07-11 11:36:12-05:00,GitHub,noreply@github.com,2016-07-11 11:36:12-05:00
78e35216a507489dcbe068c73ba23c6c6e9c6d93,"avoid c: in infer_storage_options (#1369)

* avoid c: in inferstorageoptions

* Make dask.bag.finalize robust to no partitions",Matthew Rocklin,mrocklin@gmail.com,2016-07-11 16:36:58-05:00,GitHub,noreply@github.com,2016-07-11 16:36:58-05:00
2e465c64128c0ffcdcc1682370df7f326949e1da,"`inline` no longer removes keys (#1356)

Previously `inline` would remove all inlined keys. This was causing
problems in the distributed scheduler, as it would accidently remove
keys that were still needed by the output. One solution would be
to add an `output` keyword, but this would bind a the distributed
scheduler to the latest version of dask. A different (but equally good
option) is to not remove keys in `inline`, instead opting for other
operations for culling unneeded keys. This keeps the signature the same,
requiring no changes in the `distributed` repo.

This change required changes in a few other places:
- Things that inline functions now handle key removal locally. This is
  fine and cheap to do, just a simple `del` operation.
- The behavior of `dealias` is changed to collapse aliasing chains, but
  not rewrite with `(identity, key)`. This makes the implementation
  simpler, matches the new definition of a dask graph (which allows
  aliases), and also seems more correct with the desired behavior. Note
  that since `dealias` isn't used anywhere anymore, it's unclear if this
  change is needed, or if the code should just be deleted.",Jim Crist,crist042@umn.edu,2016-07-11 16:53:02-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-11 16:53:02-05:00
fcd2f24054bc050ac73b33f77b8fa9f0ae567466,bump version to 0.10.1,Matthew Rocklin,mrocklin@gmail.com,2016-07-11 17:15:51-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-11 17:15:51-05:00
d160d7c11bda297b4239ac3bbd125e8cb726a494,"update cheat sheet (#1371)

* update cheat sheet

update cheat sheet

* update cheat sheet: fequencies() to frequencies()

update cheat sheet: fequencies() to frequencies()",Will Warner,electronwill@gmail.com,2016-07-15 11:57:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-15 11:57:37-05:00
5a3c3abdfbdd2b46e6972ead6fe80a3d920cac33,"Fix 'visualize' import location in diagnostics documentation (#1376)

In issue #1372 a user complains he cannot import 'visualize' from 'dask.diagnostics'. This is because 'visualize' is exposed from 'dask' and the docs are misleading.

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-07-15 21:22:06+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-15 13:22:06-05:00
7c9c6dfad087ba85f08a9b95e9293c6d61efed8c,Fixed a copy-paste typo in DataFrame.map_partitions docstring,Vlad Frolov,frolvlad@gmail.com,2016-07-15 22:27:09+02:00,Vlad Frolov,frolvlad@gmail.com,2016-07-15 22:27:09+02:00
3092b8ed34a18333233fffc5e1b4a195975804ce,"Merge pull request #1378 from salford-systems/patch-a-typo-1

Fixed a copy-paste typo in DataFrame.map_partitions docstring",Jim Crist,crist042@umn.edu,2016-07-20 13:25:19-05:00,GitHub,noreply@github.com,2016-07-20 13:25:19-05:00
7b68133923d1e9ff760e2b35dfaa21699b8e0dc3,"Add documentation for dask.dataframe.to_hdf

plus two input validations

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir Izraeli,nirizr@gmail.com,2016-07-11 21:31:37+03:00,Nir Izraeli,nirizr@gmail.com,2016-07-21 00:30:32+03:00
57c3ed92f0154fbd830980e67b3d4b75af8e8327,"Fix pickling issue in dataframe to_bag

This was caused due to pandas returning namedtuples in itertuples, which
can't be pickled. To fix, we cast the namedtuples to normal tuples.

Also pulled out some lambdas into a separate function to reduce
serialization cost.",Jim Crist,crist042@umn.edu,2016-07-20 16:04:51-05:00,Jim Crist,crist042@umn.edu,2016-07-20 16:34:43-05:00
3d2da22a981893699a59c78519a271c5514c3dac,"Use fsync when appending to partd

In some configurations missing this would result in data consistency
issues.",Jim Crist,crist042@umn.edu,2016-07-20 16:46:00-05:00,Jim Crist,crist042@umn.edu,2016-07-20 16:46:00-05:00
36e591051e57093d572681c9081af33767297d80,"Dataframe groupby works with numeric column names

`df.groupby(0)[df.columns]` fails in pandas if all column names are
numbers (then columns is an `Int64Index` instead of just an `Index`).
This ensures that we cast to list before subselecting columns in our
groupby implementation.",Jim Crist,crist042@umn.edu,2016-07-20 17:11:38-05:00,Jim Crist,crist042@umn.edu,2016-07-20 17:11:38-05:00
37fc73a696762006d39c6047a65d104389f75ed5,"dir works with numeric column names

`pd.compat.isidentifier` throws an error if called on a non string type.
This was causing our `__dir__` implementation to fail if column names
weren't strings.",Jim Crist,crist042@umn.edu,2016-07-20 17:21:20-05:00,Jim Crist,crist042@umn.edu,2016-07-20 17:21:20-05:00
88c2ba4ca0cc9054aeb74018b7c8d742887ab9af,"Merge pull request #1370 from nirizr/to_hdf_docs

Add documentation for dask.dataframe.to_hdf",Jim Crist,crist042@umn.edu,2016-07-20 17:28:09-05:00,GitHub,noreply@github.com,2016-07-20 17:28:09-05:00
6d77360ae1621999380daf54f75b9009d8745d70,"dd.to_hdf: multiple files multiprocessing avoid locks (#1384)

* dd.to_hdf: multiple files multiprocessing avoid locks

When writing to multiple files with multiple processes we're using a single hdf core per file.
Thus there are no potential thread safety issues nor any file locking issues.

These specific conditions allow an entirely parallel operation and improved performance

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

*  consult context._globals for _actual_get

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* keep backwards compat for sequential writes

by defaulting to the get_sync scheduler, but keep the correct _actual_get value for param optimization

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* minor comment change",Nir,nirizr@gmail.com,2016-07-21 15:07:05+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-21 08:07:05-04:00
621a1e8ddf50ef44629da554fa8ac4f33b7d502a,"LZMA may not be available in python 3 (#1391)

Add extra case for python 3 in case lzma fails to import.",Jim Crist,crist042@umn.edu,2016-07-21 07:08:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-21 08:08:52-04:00
86c48a6d3a61cb93143ed5cee8348cc4be2e3659,"Merge pull request #1392 from jcrist/to_bag_fix

Fix pickling issue in dataframe to_bag",Jim Crist,crist042@umn.edu,2016-07-21 09:08:21-05:00,GitHub,noreply@github.com,2016-07-21 09:08:21-05:00
10786c7f08ae3afa30812cc30e7d27831d5feffb,"Progess bar process should be deamon

Fix usage of progress bar making compute hang on error

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir Izraeli,nirizr@gmail.com,2016-07-21 19:18:05+03:00,Nir Izraeli,nirizr@gmail.com,2016-07-21 19:18:05+03:00
a43dfeda6c6f541284f795a8ac2c1172d1ae117f,"Merge pull request #1393 from jcrist/a-few-df-fixes

A few df fixes",Jim Crist,crist042@umn.edu,2016-07-21 12:26:14-05:00,GitHub,noreply@github.com,2016-07-21 12:26:14-05:00
b4d3dba54fa488f60a808b9f7629aea4c156176e,"Merge pull request #1395 from nirizr/fix_unstoppable_progress

Progess bar process should be deamon",Jim Crist,crist042@umn.edu,2016-07-21 12:28:56-05:00,GitHub,noreply@github.com,2016-07-21 12:28:56-05:00
59c4eb3588ccf53d1984e96a08503ae92899fed7,"Improve checks for dtype and shape in dask.array

The testing functions in numpy broadcast their arguments, which was
silently ignoring some bugs in dask.array. This tightens up those
checks, and fixes the bugs that appeared. Summary:

- Fix repr bug with empty arrays
- Ensure that `dtype` is passed through in reductions (Fixes #1394).
  Turns out `bool(np.dtype(...))` is always False (not what I would
  expect).
- `residuals` in `da.linalg.lstsq` returns an array of shape (1,)
  instead of a scalar.
- `da.array.Array._finalize([])` returns an empty array instead of a
  scalar with uninitialized memory.",Jim Crist,crist042@umn.edu,2016-07-21 14:59:33-05:00,Jim Crist,crist042@umn.edu,2016-07-21 15:07:09-05:00
d566bcd5a028cf5522fa5b6262a95cb6a1ec9059,Backport `equal_nans` to older version of numpy,Jim Crist,crist042@umn.edu,2016-07-21 15:50:02-05:00,Jim Crist,crist042@umn.edu,2016-07-21 15:50:02-05:00
fcf94f888a4d72b656bdbf99498b11fda39557a6,"Merge pull request #1397 from jcrist/mean-dtype

Improve checks for dtype and shape in dask.array",Jim Crist,crist042@umn.edu,2016-07-22 01:32:21-05:00,GitHub,noreply@github.com,2016-07-22 01:32:21-05:00
18e4e7a3a9accbe13e25e9b28404303dc85a9e2a,"Import visualize from dask.diagnostics in docs

Thanks to @stefanseefeld for reporting",Matthew Rocklin,mrocklin@gmail.com,2016-07-22 09:51:18-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-22 09:51:37-04:00
2d253ee3b2c85a35fc8bd9705d8f25c8ebd77ee8,Fixed #1381: Reimplemented DataFrame.repartition(npartition=N) so it doesn't require indexing and just coalesce existing partitions without shuffling/balancing (#1396),Vlad Frolov,frolvlad@gmail.com,2016-07-22 17:22:36+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-22 10:22:36-04:00
0f56b486fc226e108feb2fbaf7a6e02ae4799f95,"Use task-based shuffle in hash_joins (#1383)

* add more functions to dask.distributed namespace

* adjust dask.dataframe shuffle code

* depend on _globals['shuffle']

* factor out rearrange dataframes by column

* use rearrange_columns in set_partitions_tasks

* implement shuffle tasks

* remove dead code

* groupby-apply almost always shuffles

* support npartitions in shuffle_tasks

* Use task-based shuffle in hash_join

* add method= to join

* don't do indexed join if divisions are unknown

* add method='tasks' to more tests in test_multi

* avoid shuffling both sides of merge if one is indexed",Matthew Rocklin,mrocklin@gmail.com,2016-07-22 10:27:08-04:00,GitHub,noreply@github.com,2016-07-22 10:27:08-04:00
0b9a5aa885b2c2c98a56c7db60ecccf7012f7f9c,"Add nice error messages on import failures

- Throw a nice error when imports fail on optional dependencies.
- Make the `dask.diagnostics.visualize` function always importable,
  moving the missing dependency failure to runtime.

Fixes #1372.",Jim Crist,crist042@umn.edu,2016-07-22 14:06:07-05:00,Jim Crist,crist042@umn.edu,2016-07-22 14:36:27-05:00
ba4f18386791f05147f7e757c994002bfee0ca5a,"Rename `get_division` to `get_partition`

Divisions are where each split is, partitions are the bits in between
the splits. Renamed and deprecated old method. Fixes #1309.",Jim Crist,crist042@umn.edu,2016-07-22 15:59:43-05:00,Jim Crist,crist042@umn.edu,2016-07-22 16:03:17-05:00
1d86f08a222e0340629b555bb4658c45c514fceb,"Merge pull request #1403 from jcrist/division-to-partition

Rename `get_division` to `get_partition`",Jim Crist,crist042@umn.edu,2016-07-22 16:30:05-05:00,GitHub,noreply@github.com,2016-07-22 16:30:05-05:00
b51f2a200a9027985f7ff9423eea84e677cc85c4,"Merge pull request #1402 from jcrist/nice-errors-on-imports

Add nice error messages on import failures",Jim Crist,crist042@umn.edu,2016-07-23 11:00:21-05:00,GitHub,noreply@github.com,2016-07-23 11:00:21-05:00
456a98c928e7135861655c58921267b469ba6ee1,"dd.read_hdf: clear errors on exceeding row numbers (#1406)

Explicitly error on invalid values for start, stop.
Previously user input was trusted. For example stop
could be greater than number of rows when manually
specified, althought the actual maximum as at hand.

We now validate stop is below/equals max rows, start
is below stop (for None values as well), chunksize
is positive.

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-07-24 04:56:07+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-23 21:56:07-04:00
732aaf422ab06909a12b5dde947e406d14ec7211,"Unify shuffle algorithms (#1404)

* rename method= to shuffle=

* Unify shuffle around rearrange_column

This unifies shuffles and set_index around a single standard approach.
We create a new column that dictates the target partition for each row
and then depend on either partd or task-shuffling to rearrange into
rows.

Various functions that use shuffling create this column and consume the
resulting dataframe in different ways, but they all share this core

* fix various errors after shuffle unification

* Rearrange shuffle code and remove dead code

* reassign original column dtype

* extend tests to disk/tasks",Matthew Rocklin,mrocklin@gmail.com,2016-07-24 17:36:06-04:00,GitHub,noreply@github.com,2016-07-24 17:36:06-04:00
d899143f57d52a7e71a60c558832f7d3ba40a842,"Adding documentation to create dask DataFrame from HDF5 (#1405)

* Adding documenation to create dask DataFrame from HDF5

* passed doctest

* Reverting back to original input with +SKIP added

* removed doctest strings

* cleaning up and adding cross references and fractal documentation as suggested at 21:10 of this video https://www.youtube.com/watch?v=z3fRu9pkuXE",Captain Obvious,valinvescap@gmail.com,2016-07-24 21:36:04-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-24 21:36:04-04:00
94e55d28da87fb345a84c93bc6d664aebbf120d1,Add dask.array.digitize. (#1409),Matthew Rocklin,mrocklin@gmail.com,2016-07-25 07:45:00-04:00,GitHub,noreply@github.com,2016-07-25 07:45:00-04:00
a5418e84f02cd5c8dff2d693f5e91b1849b99f79,"[WIP] Read hdf partitioned (#1407)

* Test paritions after to_hdf/read_hdf

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* Add assume_partitioned parameter

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* Rename assume_partitioned to sorted_index

Remove chunksize explicit None requirement

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-07-26 18:10:35+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-26 08:10:35-07:00
320f5ab8d246cc5e7d5a561bd6f02d57a973cdf9,"Fix crash with -OO Python command line (#1388)

* Fix for Python with -OO

* Update .travis.yml

* Update fft.py

* Update random.py

* Update fft.py

* Update core.py

* Update .travis.yml

* Update core.py

* Update .travis.yml

* Update core.py

* Update core.py

* Update core.py

* Update .travis.yml

* Update .travis.yml

* Update .travis.yml

* Update test_array_core.py

* Update .travis.yml

* Update .travis.yml

* Update test_profiler.py

* Update test_progress.py

* Update test_profiler.py

* Update test_profiler.py

* Update test_progress.py

* Update test_profiler.py

* Update test_progress.py

* Update test_progress.py

* Update test_profiler.py

* Update test_profiler.py

* Try to skip some -OO errors on external packages

* update Travis.yml

* Update .travis.yml

* Update test_dot.py

* Update .travis.yml

* Uptdate test_dot.py

* -OO job move to crown job

* Update .travis.yml",J. Goutin,JGoutin@users.noreply.github.com,2016-07-26 20:10:14+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-26 11:10:14-07:00
56596c738c424c02c00389219fd3cdd153a2db3b,raise informative error on merge(on=frame),Matthew Rocklin,mrocklin@gmail.com,2016-07-26 15:13:46-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-26 16:08:51-04:00
bf376da278292d157d33564a52ef5e409e92bfc3,bump version to 0.10.2,Matthew Rocklin,mrocklin@gmail.com,2016-07-26 16:18:18-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-26 16:18:18-04:00
2161d50522429722d04a05b8914671a028513c8e,Fixed #1417: Improve Windows absolute path handling and allow case-sensitive S3 bucket names (#1420),Vlad Frolov,frolvlad@gmail.com,2016-07-28 19:27:50+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-28 09:27:50-07:00
9fac06b1f9429e4879a91973c51955bf31b05f68,"dd.to_hdf: Format param doc + remove warning + cleanups (#1423)

If we consider supporting format='fixed' we shouldn't warn on a user specifying format
moves silently passing parameters to kwargs
add format parameter to to_hdf method's documentation",Nir,nirizr@gmail.com,2016-07-29 04:17:11+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-28 18:17:11-07:00
2836da3437e5bfdd1f92c3cb859f7459790f4aa1,Allow users to specify file mode in read_hdf() call.,Stefan Seefeld,stefan@seefeld.name,2016-07-29 12:38:59-04:00,Stefan Seefeld,stefan@seefeld.name,2016-07-29 13:49:55-04:00
c5dd5c4cdf1bf2a21474e7e9ecec8f0430af6cbb,"Merge pull request #1425 from stefanseefeld/read_hdf

Open HDF files in read-only mode for reading.",Jim Crist,crist042@umn.edu,2016-07-29 13:52:12-05:00,GitHub,noreply@github.com,2016-07-29 13:52:12-05:00
e69d6bd1a423bf8a0ebbfec425f1b91cffc68a5d,Add Stefan Seefeld to Authors.,Jim Crist,crist042@umn.edu,2016-07-29 13:53:33-05:00,Jim Crist,crist042@umn.edu,2016-07-29 13:53:33-05:00
92596d7d359406a9cca9cd49fc9f3010b4ea5777,Fix typo in Spark comparison (#1431),Isaac Slavitt,isaac.slavitt@gmail.com,2016-07-30 23:18:17-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-07-30 20:18:17-07:00
8b4be199a783a65811781275157bf826f0562cc3,"Error if type not supported in dataframe assign (#1427)

Previously assigning to a column with an unsupported type wouldn't fail
until runtime. This adds an error message if the assignment is
unsupported, and improves our test coverage for what is supported. This
was pointed out in #1426.",Jim Crist,crist042@umn.edu,2016-08-01 15:24:31-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-01 13:24:31-07:00
98ff5337a612d8cd443fb10a287418c0c036d375,"bag.to_dataframe works with scalars (#1433)

Previously this would error on construction, now it returns a
`dask.DataFrame` with a single column. This brings it into compliance
with the same iterables accepted by `pd.DataFrame`. Fixes #1429.",Jim Crist,crist042@umn.edu,2016-08-02 06:38:49-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-02 04:38:49-07:00
643004cc58bcd4ba24b85bd310bb700cf5666f46,"Support concat with unknown divisions (#1421)

* support concat with unknown divisions

* Improve error messaging around concat(axis=1)",Matthew Rocklin,mrocklin@gmail.com,2016-08-02 04:38:59-07:00,GitHub,noreply@github.com,2016-08-02 04:38:59-07:00
9e84d7f183973cbc112fcf3520860f4e642f694c,"PR: write_bytes (#1346)

* First write_bytes, local

Tested with and without gzip.

Tests may have a more preferable location, and the couple of lower-level functions
may use some tests of their own.

* Propagate write_bytes and write_files to bag and dataframe/csv

* Squash some errors

* Try to squash again

* Squashed commit of the following:

commit 09d9e2f7085a97df28ad5e8c2985cad2add85355
Author: Martin Durant <martin.durant@utoronto.ca>
Date:   Tue Jul 19 13:51:45 2016 -0400

    dataframe and bag tests pass

commit a596bd82d8826245a04bf8c5ea2682bdab9f801f
Author: Martin Durant <martin.durant@utoronto.ca>
Date:   Mon Jul 18 15:51:54 2016 -0400

    Successful to_csv test

    Made simple test - previous tests not changed. Some of those will
    comtain corner cases no longer relevant.

commit f390ae449a5672ca75a16c54bc18d07ee757947d
Author: Martin Durant <martin.durant@utoronto.ca>
Date:   Mon Jul 18 13:43:51 2016 -0400

    A version that works

commit 2182ad72510da0cd10e74f8691e2a0647395eacb
Author: Martin Durant <martin.durant@utoronto.ca>
Date:   Sat Jul 16 20:46:59 2016 -0400

    stash

* Py2 fixes

* Fix unicode ting

* Avoid bz2 test on py2

* remove other bz2

* Fixes

* Hook for s3 write_bytes

* revert test dir in s3

* Cosmetic changes

* Fix series

Don't attempt to pass down get= keyword, rely on global or context definition
instead.

* More cosmetic fixes

* dumb remaining slashes

* A few more",Martin Durant,martindurant@users.noreply.github.com,2016-08-02 17:23:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-02 14:23:50-07:00
8bd2d10366eaa2a128704db367fd92a0012e517f,#1354 add to_dask_dataframe function,Richard Postelnik,rpostelnik@continuum.io,2016-08-03 11:31:12-04:00,Richard Postelnik,rpostelnik@continuum.io,2016-08-03 11:31:12-04:00
69415d5ff1434686647cd5092bf462ae9cb31b76,#1354 added test,Richard Postelnik,rpostelnik@continuum.io,2016-08-03 12:49:16-04:00,Richard Postelnik,rpostelnik@continuum.io,2016-08-03 12:49:16-04:00
d12ba44d62c55627375ec98ac15744c7a5fa2f31,"Merge pull request #1440 from postelrich/master

Add to dataframe method to Array",Jim Crist,crist042@umn.edu,2016-08-03 12:19:03-05:00,GitHub,noreply@github.com,2016-08-03 12:19:03-05:00
205235d74889d13aa101bdf556d38307f0ef07d4,Add Rich Postelnick to AUTHORS.,Jim Crist,crist042@umn.edu,2016-08-03 12:21:34-05:00,Jim Crist,crist042@umn.edu,2016-08-03 12:21:34-05:00
5899fbae6b9732eed0c699d9324fbb3f46051dce,"Add npartitions parameter to dd.head, db.take

add safe_take/head that warn on insufficient elements
+ tests

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir Izraeli,nirizr@gmail.com,2016-08-04 02:47:44+03:00,Nir Izraeli,nirizr@gmail.com,2016-08-05 02:56:04+03:00
d451f77b88f8425859c90985abcf786aabf0e5fc,"Fix no_default/no_result comparison against custom types. (#1442)

* Fix no_result comparison against custom types.

When the intermediate output of reduction is a type with strict
comparison, the code may break (for instance, when the output is a
``csr_matrix`` instance).

* Test reduction with non-comparable objects and sparse matrices.

This test fails in previous versions with a TypeError due to the empty
partition check with a ``!=`` operator against a string.",Rolando Espinoza,rolando@users.noreply.github.com,2016-08-05 06:55:01-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-05 06:55:01-04:00
3a3a6cc19a55d424b7e298640610c0f2f02479af,"Merge pull request #1441 from nirizr/head_npartitions

Add npartitions parameter to dd.head, db.take",Jim Crist,crist042@umn.edu,2016-08-05 10:18:46-05:00,GitHub,noreply@github.com,2016-08-05 10:18:46-05:00
c9dcba5eb5b412107f6b86b64c3cdfeccee69eff,"Move try-except KeyboardInterrupt around get() setup (#1444)

* Move try-except KeyboardInterrupt around get() setup

Previously when calling dask.async.get_async we would only catch
KeyboardInterrupts that happened during computation, not during setup
and teardown.  This could cause an issue if a ProgressBar callback
was setup but then the KeyboardInterrupt happened either during further
setup or after computation during teardown (but before ProgressBar
teardown)

This commit expands the range of the KeyboardInterrupt try-except to
include everything after plugin registration.

Fixes #1439

* Use started_cbs in dask.async.get_async

This avoids a rare case where un-started plugins can be ""finished""
before they start if another plugin fails",Matthew Rocklin,mrocklin@gmail.com,2016-08-06 10:15:22-04:00,GitHub,noreply@github.com,2016-08-06 10:15:22-04:00
0b80cc06f1aba8b518d169e6fe4d1ad656a04ce3,"dd.repartition: note in docs only npartitions or divisions (#1449)

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-08-08 04:25:43+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-07 21:25:43-04:00
42a570bb21da6aaf75eac579b6ba7b3152e79063,"db.to_dataframe: explicitly recommand providing pd.df (#1450)

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2016-08-08 22:55:53+03:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-08 15:55:53-04:00
b98bfd73ab17824c8d5988610b77df7eb817d8d1,"Break ordering ties by str (#1447)

* Break ordering ties by str

This changes task ordering to break ties using the string representation
of the key.  This is particularly useful when computing dask collections
on an asynchronous scheduler, because the beginning parts of the
computation start first.  This will allow for `df.head()` for example to
work almost immediately after `e.persist(df)`.  The keys like `('df',
0)` will run before keys like `('df', 242)`.

I haven't benchmarked this to see if it significantly affects overhead.

* Handle missing keys in maxes

* use get rather than try-except in key function",Matthew Rocklin,mrocklin@gmail.com,2016-08-08 15:56:52-04:00,GitHub,noreply@github.com,2016-08-08 15:56:52-04:00
8d3db66467e5aa3f6dbb934da0ab6b13e843e986,"DataFrame metadata cleanup (#1422)

This commit rewrites how dask dataframe handle metadata.

- Forbid untyped dataframes, removing optional `dtype` compute. This
  causes lots of errors that need to be squashed

- Propagate metadata properly everywhere

- Add in inference for user passed functions. This tries to run the function
  on a nonempty sample of data, and grab the metadata from that. If that
  fails, we throw an informative error.

- Rename `nonempty_sample_df` to `meta_nonempty`. Make work with
  `pd.Series`, `pd.DataFrame` and `pd.Index` objects. Ensure that names,
  dtype, index type, and index name are all appropriately copied.

- Move `_pd_nonempty` property to `_Frame` base class

- Rename `_pd` -> `_meta`, `_pd_nonempty` -> `_meta_nonempty`

- Deprecate `_pd` and `_pd_nonempty` attributes

- `eq` now checks that the inferred dtypes match the computed dtypes.
  Note that all numeric types are compared equally, as pandas will
  implicitly convert integers to floats in the presence of missing data,
  which makes inference *hard*. There's not an obvious good way around
  this, so this will do for now.

- `from_dask_array` inference with struct dtype now matches.
Cleaned up a few implementation details of that inference function.

- castra tests are xfailed until they can be fixed in castra master.

- Add in `meta` keyword to dask.dataframe use functions (`map_partitions`,
`apply`, `map`, etc...).

- Change signature of `map_partitions` function and method to allow for easier
  calling without passing in `meta` keyword. This is a backwards incompatible
  change without deprecation.

- Rename columns/dummy->meta in a few places

- Deprecate `metadata` keyword to `dd.from_delayed`, replace with
  `meta`.

- a few docstring and pep8 cleanups",Jim Crist,crist042@umn.edu,2016-08-09 10:55:18-05:00,GitHub,noreply@github.com,2016-08-09 10:55:18-05:00
135d0f02de2626876aa1eaf24a8e349e67d65398,"A few pep8 cleanups in dataframe (#1455)

- Kill use of tabs instead of spaces
- Remove unused imports
- Fix only the most glaring errors:
    - Visual indent lines up with nested scope
    - Missing/extra blank lines
    - `not foo is bar` and `not foo in bar`
    - Whitespace at end of lines",Jim Crist,crist042@umn.edu,2016-08-09 17:29:21-05:00,GitHub,noreply@github.com,2016-08-09 17:29:21-05:00
6d2eb0e7d5714516a7449cf86dbd1771e8dab9f6,"Re-add the castra tests. (#1456)

These were xfailed in https://github.com/dask/dask/pull/1422, as the
last release of castra was incompatible with the new metadata. This was
fixed in https://github.com/blaze/castra/pull/64, and a new release was
made (0.1.8). We now only run these tests if castra version is >= 0.1.8",Jim Crist,crist042@umn.edu,2016-08-09 22:26:43-05:00,GitHub,noreply@github.com,2016-08-09 22:26:43-05:00
a7cb96b6f063156a278078a483ca9c7ea75ced44,"Fix pickle for all classes (#1457)

* Fix pickle for all classes

Not all dask collections were pickleable. Further, the dataframe
implementation was broken, resulting in a shared `__dict__` between
objects. This fixes that, and adds tests for all classes to ensure
pickleable.

* Fix bag pickle on py3.3

Use __getstate__ and __setstate__ instead. This required changing a
`str` to a property. To forward the docstring, `StringAccessor` had to
be moved before `Bag` in the file.",Jim Crist,crist042@umn.edu,2016-08-10 11:39:33-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-10 12:39:33-04:00
0f0eb180d9994e7492c280a00b1db017094457f9,"Infer metadata from scalars (#1461)

Some pandas operations can return python objects instead of things with
`dtype` attributes. Now we infer `dtype` from all scalars.",Jim Crist,crist042@umn.edu,2016-08-10 13:02:32-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-10 14:02:32-04:00
58b0ae0d8a6d9aff1112266736cb14188c08e5ae,"Fix pickle for tseries dataframes (#1462)

This was caused by two issues:
- `__getstate__` and `__setstate__` weren't defined for dataframes,
  which was causing the default `__dict__` implementation to be used.
- `__getattr__` for timeseries dataframes wouldn't fail properly when
  fake columns were `getattr`'d. This was causing issues in cloudpickle,
  as it checks for various attributes differently than pickle.

This fixes both of these issues, and tests that dataframes are picklable
with both pickle and cloudpickle.",Jim Crist,crist042@umn.edu,2016-08-10 14:39:15-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-10 15:39:15-04:00
d95f72cbbd0473c2401170e1ed9cefae072e7c8a,"Raise informative error when resampling without divisions (#1458)

* Raise informative error when resampling without divisions

* Add function to compute sorted divisions

This could use better API

* Permit divisions='sorted' in dd.from_delayed

* improve error message in compute_divisions

* add back in meta",Matthew Rocklin,mrocklin@gmail.com,2016-08-10 19:20:48-04:00,GitHub,noreply@github.com,2016-08-10 19:20:48-04:00
af142046938cc909e0bab6426e8319a822c566f3,"Test dask.bag with unicode strings (#1459)

Related to https://github.com/dask/partd/pull/16

Fixes https://github.com/dask/dask/issues/1452",Matthew Rocklin,mrocklin@gmail.com,2016-08-10 19:45:09-04:00,GitHub,noreply@github.com,2016-08-10 19:45:09-04:00
b5f521a76558a10c702fa11ce5acc4009981e56d,"PR: Write bytes simpler (#1454)

* Instead of two-step delayed, pass opener function

Simplification to allow workign with HDFiles without
serialization.

* Use dask graph instead of passing function to write bytes

* Remove sync debug mode

* tokenize writing tasks for all inputs",Martin Durant,martindurant@users.noreply.github.com,2016-08-11 10:05:48-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-11 10:05:48-04:00
7a23e29a09e3aa8b3837cc111990793b2b3ea7c2,"Add da.absolute (#1465)

Fixes #1463.",Jim Crist,crist042@umn.edu,2016-08-11 18:34:50-05:00,GitHub,noreply@github.com,2016-08-11 18:34:50-05:00
2f41e5d2b922e292464fe36e8d05d75da4bebb4c,remove s3 and hdfs from dask.distributed imports,Matthew Rocklin,mrocklin@gmail.com,2016-08-12 08:58:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-12 08:58:50-04:00
904f8e21ba7611e92c0f1abdf97f4cf1dae0feba,"Add code quality tests (#1464)

* Add code quality tests

Add code quality tests, and squash all issues to make them pass. Code
quality is checked with `flake8`, using a subset of errors (see
`setup.cfg`). A test in `dask/tests/test_flake8.py` is added to check
that there are no flake8 errors from this subset. This can be easily run
using `py.test`:

```
py.test -m quality dask
```

To ignore certain errors locally you can use `# noqa: errors` per
line, or `# flake8: noqa` at the top of a file. This is used sparingly
throughout to silence complaints that are invalid/not useful.

* Hack to get ensure_protocol to pass

`distributed` registers the `hdfs` backend *even if* `hdfs3` isn't
installed. This goes against the logic implemented in `ensure_protocol`,
which is designed to give informative errors if `hdfs` or `s3` support
isn't available.",Jim Crist,crist042@umn.edu,2016-08-12 09:11:23-05:00,GitHub,noreply@github.com,2016-08-12 09:11:23-05:00
84190d6da23f827c28e0bff26155ccb7331bf557,"Fix dataframe return type inference (#1466)

The old logic was causing issues when trying to infer the output type
from the input metadata. Now we infer directly from the metadata, which
simplifies a lot of things. This also results in the `return_scalar`
constant going away, which is much simpler.",Jim Crist,crist042@umn.edu,2016-08-15 10:25:39-05:00,GitHub,noreply@github.com,2016-08-15 10:25:39-05:00
d057a3f8058af490083b181673c1f9597a91fd0a,"Rewrite dask.array.reshape

It now handles more cases efficiently, including the one identified in GH1468. I
*think* I've now covered every scenario where it's possible to reshape in
contiguous order by calling `np.reshape` on each chunk, but I haven't proved it.

In cases where we cannot reshape without creating a ridiculously large number of
tasks, it now fails noisily with a ValueError.

This is a breaking change, but one that I think will result in a better user
experience. Let's save it for a major dask release (0.11?).",Stephan Hoyer,shoyer@gmail.com,2016-08-14 01:39:13-07:00,Stephan Hoyer,shoyer@gmail.com,2016-08-15 08:49:48-07:00
54bfca01447401eff12c0a4a547f776aa0bdd03a,Use divmod instead of dividing chunks twice,Stephan Hoyer,shoyer@gmail.com,2016-08-15 09:07:23-07:00,Stephan Hoyer,shoyer@gmail.com,2016-08-15 09:07:23-07:00
d2f9357274b430ff1a38c62657647c7f083592b3,"Add use case document (#1470)

* Add use case document

This provides a brief summary of a variety of ways in which dask can
be used.

This is here to provide a high level overview of how people might use
dask and to serve as a hub of links to other relevant sections.

* Add use case document

This provides a brief summary of a variety of ways in which dask can
be used.

This is here to provide a high level overview of how people might use
dask and to serve as a hub of links to other relevant sections.

* respond to comments

* replace ad-hoc with custom",Matthew Rocklin,mrocklin@gmail.com,2016-08-15 22:05:49-04:00,GitHub,noreply@github.com,2016-08-15 22:05:49-04:00
9ee688ec89a57af7bd3d7b58a55a4c8f8a73d6fb,"Refactor Scalar class (#1472)

* Remove `__new__` in dask.dataframe

`_Frame` is no longer callable, with that functionality moved to a
constructor function. This simplifies a few things, and seems to fit
better as a function than a `__new__` method on `_Frame`.

* Refactor `Scalar` class

Previously the `Scalar` class wouldn't track metadata at all. This
caused problems with metadata inference if `Scalar` was used in any
operation. To fix this, the `Scalar` class has been refactored as
follows:

- Each scalar has a `_meta` attribute, same as all other
  `dask.dataframe` objects. This attribute is a non-empty scalar of the
  appropriate type. Supported types include any subclass of
  `np.generic`, as well as `str`/`unicode`, and custom pandas scalars
  like `pd.Timestamp` and `pd.Timedelta`. A corresponding
  `_meta_nonempty` attribute is also provided - this just returns
  `_meta`.

- Inference is added to `reduction` and `Scalar` returning
  `map_partitions`. Operators that work on scalars are modified to infer
  metadata based off the scalar dtype as well.

- `make_meta` is modified to dispatch on raw `dtype` arguments. This
  means that `make_meta('i8')` will produce the appropriate metadata for
  a scalar containing an int64.

Caveat: If a type is supported as a numpy scalar, a numpy scalar is
used. This does mean that for some (rare) operations, the `_meta` object
on a scalar may be a `np.int64`, but the computed result is an `int`.

* Add `__repr__` and `dtype` to `dd.Scalar`

- Nice repr showing name and `dtype`/`type`
- Add `dtype` attribute if underlying object has a `dtype`",Jim Crist,crist042@umn.edu,2016-08-16 09:38:24-05:00,GitHub,noreply@github.com,2016-08-16 09:38:24-05:00
278386a344dcb5183930449f56ff745eb3f980e0,"Improve docs for map_partitions and apply. (#1474)

Add examples and cleanup docstrings for `map_partitions` and `apply` in
dask.dataframe.",Jim Crist,crist042@umn.edu,2016-08-16 13:45:55-05:00,GitHub,noreply@github.com,2016-08-16 13:45:55-05:00
c950905873c052d921aab77ab50143825c7cd7da,"Add document about choosing the right scheduler (#1473)

* Add document about choosing the right scheduler

Fixes https://github.com/dask/distributed/issues/364

* respond to comments",Matthew Rocklin,mrocklin@gmail.com,2016-08-17 07:20:24-04:00,GitHub,noreply@github.com,2016-08-17 07:20:24-04:00
6fa1c1582205e82156ac5baf0d37cf287703a5e2,fix link to the bag examples (#1477),Bartosz Telenczuk,telenczuk@unic.cnrs-gif.fr,2016-08-17 14:56:57+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-17 08:56:57-04:00
725697fddf8bffe9db773ee92cfdcdbdaa89420c,"Make align_partitions more strict (#1475)

Previously when aligning DataFrame/Series with unknown divisions, and
ones with known divisions, bad things would occur. Now we explicitly
check if any of the input objects have unknown divisions, and fail if
they do.

A separate function used elsewhere is `_maybe_align_partitions` - this
only calls `align_partitions` if the divisions are unequal. This means
that *equal but unknown* divisions can propogate through, which is
desired for many elementwise operations. The case of mixing known and
unknown is then caught in `align_partitions`, failing as desired.

Tests for these behaviors are then added to ensure the fail cases hold.

Also Added tests for known and unknown divisions for `assign` (testing
that this fixes #1373).",Jim Crist,crist042@umn.edu,2016-08-17 11:49:34-05:00,GitHub,noreply@github.com,2016-08-17 11:49:34-05:00
4d888e8e66fb2f83d4b0f8c3e2df22f14e9eaa7e,"Merge pull request #1469 from shoyer/reshape-faster

Rewrite dask.array.reshape",Stephan Hoyer,shoyer@gmail.com,2016-08-17 11:38:09-07:00,GitHub,noreply@github.com,2016-08-17 11:38:09-07:00
8bdf14d9067bb7c9c8a513599633681c7543f8b9,"Add idxmax/min to DataFrame (#1446)

* #1310 add idxmax/min functions, works by chunk, need to add for overall

* #1310 switch to reusable function

* #1310 move chunk and agg outside of function

* 1310 use transpose to get nicer concat

* #1310 add simple test case

* #1310 process agg

* #1310 pass min/max to agg

* #1310 specify meta and use eq for tests

* #1310 both axis work, scalar still not 100% on the type returned

* #1310 remove idxmaxmin, pass as keyword arguments

* 1310 use map_partitions for axis=1

* #1310 parametrize test and explicitly set type

* #1310 remove transpose as caused type errors.

* #1310 merge in fix to eq, uncomment assertions, fix typo

* #1310 fix flake8 error

* #1310 add NaN to test

* #1310 appropriately test skipna

* #1310 parametrize skipna

* #1310 remove extra line",postelrich,postelrich@gmail.com,2016-08-17 15:43:55-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-17 15:43:55-04:00
2a685e2e143243589ee72a54ec98b176c97c1b7d,fix typo in use case doc,Matthew Rocklin,mrocklin@gmail.com,2016-08-17 18:16:07-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-17 18:16:07-04:00
f095dc25c18c5fcbf6ca5c76ed82699ae4e12448,Deemphasize gitter chat in support doc,Matthew Rocklin,mrocklin@gmail.com,2016-08-17 20:44:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-17 20:44:27-04:00
788bda445991ffde6f98fb582117cf32591bf976,"Update dataframe.info (#1350)

Update `dataframe.info` with additional information and options.",Bradley McElroy,bradley.mcelroy@live.com,2016-08-18 13:45:50+10:00,Jim Crist,crist042@umn.edu,2016-08-17 22:45:50-05:00
ea979614a1606bc08e43b797edec224dec5573e2,"Update AUTHORS.md

So many wonderful new contributors :)",Jim Crist,crist042@umn.edu,2016-08-17 23:06:16-05:00,Jim Crist,crist042@umn.edu,2016-08-17 23:06:16-05:00
65564a6d195173c2c3fa160f451b5a3c228772d2,"DOC: HDF5 examples section, complying with PEP8 (#1467)",Captain Obvious,valinvescap@gmail.com,2016-08-18 05:05:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-18 08:05:05-04:00
f1f300d7e5b1220222553c23f7e8c91f6fdf012d,"Use python int for size in array (#1478)

This could potentially overflow on large arrays in systems with `int32`
as the default. Numpy returns a python integer anyway, so we should do
the same.

Also remove calls to `np.prod` in `da.reshape`, as they could also
overflow.",Jim Crist,crist042@umn.edu,2016-08-18 07:13:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-18 08:13:25-04:00
34e1751483596c33a24f594516e840da11866b4e,Bump version to 0.11.0,Matthew Rocklin,mrocklin@gmail.com,2016-08-18 08:20:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-18 08:20:31-04:00
8906453bf03720f0cc5b825a0c8fcb740de92250,"Field access works with non-scalar fields (#1484)

Previously field access in structured dtype arrays would fail if the
field had a shape. This was due to the output array not being the same
shape as the input array. This fixes that by inferring the output shape
and adjusting accordingly.

Fixes #1482.",Jim Crist,crist042@umn.edu,2016-08-18 21:05:57-05:00,GitHub,noreply@github.com,2016-08-18 21:05:57-05:00
5b30380eec4b28bfc04084a62c9b198d5dca151d,"Implement user defined aggregations  (#1483)

* Implement user defined aggregations

Adds a `reduction` method on `dask.dataframe` objects for applying user
defined aggregations. This is a small wrapper around
`apply_concat_apply`, with some slight changes to make applying
reductions simpler and more intuitive. All use of `_aca_agg` internally
has been replaced with this functionality.

Fixes #1313, supersedes #1362.

* Remove `reduction` function from dask.dataframe

No longer needed, superseded by `reduction` method.",Jim Crist,crist042@umn.edu,2016-08-19 15:01:00-05:00,GitHub,noreply@github.com,2016-08-19 15:01:00-05:00
cc3615bee811d88b46f751ba58ab86d860c36e38,"Use lists in db.from_sequence (#1491)

This avoids putting callables in tuples, which can be dangerous.

Fixes https://github.com/dask/dask/issues/1489",Matthew Rocklin,mrocklin@gmail.com,2016-08-20 07:24:28-04:00,GitHub,noreply@github.com,2016-08-20 07:24:28-04:00
112b541cbb81db04a5753d80da0217aa7f31feeb,"State that delayed values should be lists in bag.from_delayed (#1490)

Fixes https://github.com/dask/dask/issues/1488",Matthew Rocklin,mrocklin@gmail.com,2016-08-20 07:24:35-04:00,GitHub,noreply@github.com,2016-08-20 07:24:35-04:00
61c86adea7448edb6786747f28d52a7708e80aac,Move key-split from distributed to dask,Matthew Rocklin,mrocklin@gmail.com,2016-08-21 15:29:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-22 08:05:36-04:00
5fe11e2fcb3805da0da3474de2a969ee05bb235b,Add finalize- prefix to dask.delayed collections,Matthew Rocklin,mrocklin@gmail.com,2016-08-21 15:30:01-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-22 08:05:39-04:00
7142f9152f6e2dcc53ad1257dce5779b949e6d52,"Merge pull request #1494 from mrocklin/finalize-delayed-name

Finalize delayed name",Matthew Rocklin,mrocklin@gmail.com,2016-08-22 12:36:32-04:00,GitHub,noreply@github.com,2016-08-22 12:36:32-04:00
229957d8355a027f6395653903ff07fdde551b8d,"Create new threadpool when operating from thread (#1487)

* Create new threadpool when operating from thread

When we call dask.threaded.get from a separate thread we shouldn't use
the default threadpool.  ThreadPool objects are not safe in this manner.

Now, if we call dask.threaded.get from the non-master thread we create
a new ThreadPool.

This needs a test and some more careful thought.  WIP

* add test for threaded-thread computation

* Track and clean up inactive thread pools

* add lock around pool manipulation",Matthew Rocklin,mrocklin@gmail.com,2016-08-22 21:50:34-04:00,GitHub,noreply@github.com,2016-08-22 21:50:34-04:00
27b977d0ba6319ed495d767a590497fa1c5dfd1e,"Fix last 'line' in sample; prevents open quotes. (#1495)

The last line of the sample var may be an incomplete line. This causes the 'head' value to throw a CParserError:

> CParserError: Error tokenizing data. C error: EOF inside string starting at line 821

This occurs because of a hanging quote in a line due to the incompleteness. This patch will prevent the error during the head assignment.",Eli Sarver,eli.sarver@gmail.com,2016-08-23 08:46:43-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-23 08:46:43-04:00
4ab97394426f78497268b547c113e158f68a57cd,"Chunks check (#1504)

* Explain chunks= with examples

Taken from this StackOverflow post:
http://stackoverflow.com/questions/34895846/correct-choice-of-chunks-specification-for-dask-array/34904445#34904445

* Raise exceptions on bad chunks inputs

* Remove same size restriction on chunks

* fix linalg tests",Matthew Rocklin,mrocklin@gmail.com,2016-08-25 13:22:55-04:00,GitHub,noreply@github.com,2016-08-25 13:22:55-04:00
7c859731b94dda30d043d8ee444e55fcdacd670e,Fix slow consistent keyname test (#1510),Matthew Rocklin,mrocklin@gmail.com,2016-08-29 08:06:35-04:00,GitHub,noreply@github.com,2016-08-29 08:06:35-04:00
fb24f0289a3c0b44034d835356cc01f9266b4401,add memory use note to tsqr docstring,Matthew Rocklin,mrocklin@gmail.com,2016-08-29 08:28:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-29 08:28:00-04:00
f445116cdb50cff80c9730d16fa4ef3354bd6e62,"meta_nonempty returns types of correct size (#1513)

This was a bug with `pd.Series([instance_of_correct_dtype])` upcasting
implicitly. This was leading to only `meta_nonempty(int32_series)`
returning a series of dtype `int64`. Fixes #1512.

Also fixed units passing through for objects of type `np.timedelta64`
and `np.datetime64`.",Jim Crist,crist042@umn.edu,2016-08-29 13:49:18-05:00,GitHub,noreply@github.com,2016-08-29 13:49:18-05:00
32d8f9616b31e4bd9ff02507222f29bb62c11ac5,"``dd.map_partitions`` works with scalar outputs (#1515)

Previously if a user defined function returned a scalar, the output of
`dd.map_partitions` would be a `Scalar`, even if the input type was
a series. This fixes that so that scalar returning functions return a
series, unless all inputs are scalars (in which case the output is a
scalar as before). Fixes
http://stackoverflow.com/questions/39215617/what-is-map-partitions-doing.",Jim Crist,crist042@umn.edu,2016-08-30 10:24:06-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-08-30 11:24:06-04:00
33725e8f8d49edcb05f92138392a9aa34ccdd44d,"Add documentation for dataframe metadata (#1514)

Add a prose section to the documentation on dataframe metadata.",Jim Crist,crist042@umn.edu,2016-08-30 10:26:11-05:00,GitHub,noreply@github.com,2016-08-30 10:26:11-05:00
84546e36f845702810c1615027b63b7b88a095b1,"Remove lambda/inner functions in dask.dataframe (#1516)

These increased serialization costs, often contained closures making
debugging more difficult, and were sometimes defined in multiple
places. Instance methods were also removed, as these weren't
serializable with pickle either.

Where possible a `methodcaller` was used to create the functions
to call methods, instead of defining a function separately for each
one. In other cases the functions were moved to
`dask.dataframe.methods`, where they can be reused.",Jim Crist,crist042@umn.edu,2016-08-31 11:34:36-05:00,GitHub,noreply@github.com,2016-08-31 11:34:36-05:00
bf525cf774e39efd77d71681082668d69e4b76d3,"Unify example doc pages into one (#1520)

This is one of the most visited pages in the docs, and yet it is fairly
bare.  This pushes all of the doc pages into a single site to encourage
cross-polination.  In also includes links to notebooks that I keep in
gists.",Matthew Rocklin,mrocklin@gmail.com,2016-09-01 18:51:42-04:00,GitHub,noreply@github.com,2016-09-01 18:51:42-04:00
5c6e704eb2fac6de22a936a0d8c0459b0aae570e,"Run slow tests in Travis for all Python versions, even if coverage check is disabled. (#1523)",Israel Saeta Prez,dukebody@gmail.com,2016-09-04 14:23:51+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-04 08:23:51-04:00
e03e9819edf12761553deae30a0e38dad1e5418d,"Add custom docstring to dd.to_csv, mentioning that one file per partition is written (#1524)

* Add custom docstring to dd.to_csv, mentioning that one file per partition is written.

* Add extra documentation about dask-specific arguments for df.to_csv.

 - `name_function` with examples
 - compression

 Most examples were adapted from `dd.bag.to_textfiles`.",Israel Saeta Prez,dukebody@gmail.com,2016-09-04 21:14:27+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-04 15:14:27-04:00
9b44098847293e39f69979a25b98b563f91e7a6d,"Update to highlight the use of glob based file naming option for df exports (#1525)

* Update to highlight the use of glob based file naming option for dataframe exports 

Added a section to highlight users should use glob based file names instead of trying to write to a single file. Issue occurs with to_csv() but may affect other export options. The use of glob based naming is reported here https://groups.google.com/a/continuum.io/forum/#!searchin/blaze-dev/to_csv/blaze-dev/NCQfCoOWEcI/S7fwuCfeCgAJ as being common practice for parallel librarys

* Reformat and improve documentation about exporting to disk.",Israel Saeta Prez,dukebody@gmail.com,2016-09-05 13:43:42+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-05 07:43:42-04:00
e689b0189a943dd32ab1d60fc522494d7a1e038f,update index,Matthew Rocklin,mrocklin@gmail.com,2016-09-05 11:43:01-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-05 11:43:01-04:00
74e77a18e3f1f7f11dbeb9b654a165bf677a5699,update dataframe docs,Matthew Rocklin,mrocklin@gmail.com,2016-09-05 12:16:41-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-05 12:16:41-04:00
4b31ffaa69df1b1cd09b798854d46b18a1569b0a,"Add changelog doc going up to dask 0.6.1 (2015-07-23). (#1526)

* Add changelog doc going up to dask 0.6.1 (2015-07-23).

Release notes are based on blaze-dev release emails:
https://groups.google.com/a/continuum.io/forum/#!topicsearchin/blaze-dev/release

* Add comment to dev guidelines about changelog updating.

* Add development changelog and configure doc extension to link to GH issues/prs.",Israel Saeta Prez,dukebody@gmail.com,2016-09-06 13:32:13+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-06 07:32:13-04:00
abde2826b9f3e591dd5a8b0f34286f5cbcfea6fe,"Avoid pickle when tokenizing __main__ functions (#1527)

* Avoid pickle when tokenizing __main__ functions

Previously two functions defined in main with the same name would
tokenize to the same value.  This is because `pickle` would return
the same value in both cases without raising an exception (as might be
expected)

This now checks the result for the bytestring b`__main__` and if present
continues on to use cloudpickle.

Fixes https://github.com/dask/distributed/issues/487

* add test for normalizing functions in main

* use dedent in tokenize_function test",Matthew Rocklin,mrocklin@gmail.com,2016-09-07 07:41:11-04:00,GitHub,noreply@github.com,2016-09-07 07:41:11-04:00
5ff63a8675fd6e9a0f9e409db0de788aca0067a3,"Deemphasize graphs in docs (#1531)

This moves the graphs section down in the index and provides warnings
that it is for core developers only.

This also updates the optimize docs so that they can be run through
cleanly.

Fixes https://github.com/dask/dask/issues/1530",Matthew Rocklin,mrocklin@gmail.com,2016-09-09 07:30:06-04:00,GitHub,noreply@github.com,2016-09-09 07:30:06-04:00
1aacb84ae720b4a2e51662a17d0e8139dcb49355,"Only fuse simple indexing with getarray backends (#1529)

* Optionally only fuse simple indexing in from_array backends

Certain numpy-array-like-things may not support all of the indexing
methods that numpy uses. When fusing getitem/getarray calls together, we
shouldn't pass ""fancy indexing"" requests to these backends. 

To solve this, `da.from_array` now takes the keyword `fancy=True` to
indicate whether the datastore supports ""fancy indexing"". If False, a new
function `getarray_nofancy` is used in the graph instead of `getarray`.
The default is True, keeping with current behavior. The rewrite pass won't
fuse indexing involving fancy indexing inside of calls to `getarray_nofancy`.",Jim Crist,crist042@umn.edu,2016-09-09 12:07:57-05:00,GitHub,noreply@github.com,2016-09-09 12:07:57-05:00
3218209426c9a64259b51ae2956dab1ecf84b9b8,"Fix spelling (#1535)

This fixes spelling in various documentation, strings, comments, and
code.",Joseph Crail,jbcrail@gmail.com,2016-09-10 21:29:21-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-10 21:29:21-04:00
015859e04f8b2680874b6119d73de2137c009564,add section on distributed computing with link to toc,Matthew Rocklin,mrocklin@gmail.com,2016-09-14 10:02:56-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-14 10:02:56-04:00
6ca1eaf45e8de690522684f5cf75144ab900ef41,"Fixed read_hdf example (#1544)

The keyword 'path` raises error in the three `dd.read_hdf` examples",gryBox,livni.itay@gmail.com,2016-09-14 17:22:23-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-14 18:22:23-04:00
87db8c0f3bafa538518c3708f6096d8e7280ad67,"A few changes to `dask.delayed` (#1542)

* Add nout to delayed, allow for splatting results

This makes a few separate changes to `dask.delayed`:

- Adds an optional `nout` keyword to `delayed` objects, allowing for
  splatting and iteration over results.  If not provided, iteration will
  still error.

  ```python
  @delayed(pure=True, nout=2)
  def foo(a):
      return a, -a

  x, y = foo(1)
  ```

- Cleanup method calling behavior through use of small `DelayedAttr`
  object. Use `dask.utils.methodcaller` to do the actual method calls.
  This is cleaner than trying to inline the method getattrs later.

- Cleanup the test suite for delayed, removing a few duplicate tests.

* Remove deprecated `imperative` and `value`

Remove long since deprecated `dask.imperative` and
`dask.imperative.Value` namings.",Jim Crist,crist042@umn.edu,2016-09-14 17:42:52-05:00,GitHub,noreply@github.com,2016-09-14 17:42:52-05:00
6fad482d4cffc880002d0369603dcd2d30da1456,"Fix metadata in Series.getitem

Fixes https://github.com/dask/dask/issues/1548",Matthew Rocklin,mrocklin@gmail.com,2016-09-15 13:37:19-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-15 13:37:19-04:00
caa2ea89f729daa752532db5e938a42a39cae128,"Check meta in `__init__` of _Frame

Add check on initialization of `_Frame` objects to ensure the metadata
is of the proper type.",Jim Crist,crist042@umn.edu,2016-09-15 15:19:11-05:00,Jim Crist,crist042@umn.edu,2016-09-15 15:19:11-05:00
745fb9991a9071507057492229e8960803f0f998,"Merge pull request #1549 from mrocklin/getitem-meta

Fix metadata in Series.getitem",Jim Crist,crist042@umn.edu,2016-09-15 16:30:50-05:00,GitHub,noreply@github.com,2016-09-15 16:30:50-05:00
ddc3b14ac76bcd796cd905af5b40869a4c5d37f2,"Improve slicing performance (#1539)

* Improve slicing performance

This avoids excessive function calls and isinstance checks by taking
certain behaviors based on the first element in lists, rather than
checking on all elements of a list

* use numpy to accellerate partition_by_size and check_index

* fix doctest",Matthew Rocklin,mrocklin@gmail.com,2016-09-16 07:17:48-04:00,GitHub,noreply@github.com,2016-09-16 07:17:48-04:00
347f0b7110c25fdb58f36351bdf15b8e5af45889,"ENH: DataFrame.select_dtypes (#1556)

Mirrors the pandas method",Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-09-19 15:54:08-05:00,Jim Crist,crist042@umn.edu,2016-09-19 15:54:08-05:00
863d477e6be33ddc09647e2c3775fb3008b3127e,add s3fs to travis.yml (#1558),Matthew Rocklin,mrocklin@gmail.com,2016-09-20 10:10:56-04:00,GitHub,noreply@github.com,2016-09-20 10:10:56-04:00
4358bc85a99adec18aee7779f348b8119dd45dab,Use conda-forge channel in travis (#1559),Jim Crist,crist042@umn.edu,2016-09-20 14:42:30-05:00,GitHub,noreply@github.com,2016-09-20 14:42:30-05:00
be584fce7571a784baf3f0b933f9304a1c5996d9,"corrected links to documentation from Examples (#1557)

All pointed to the documentation for <array>.",Geordie McBain,gdmcbain@protonmail.com,2016-09-21 05:42:59+10:00,Jim Crist,crist042@umn.edu,2016-09-20 14:42:59-05:00
bc82dce5beb6fdc161cff7e9f120559b5c59e062,"String accessor works with indexes (#1561)

Previously the string accessor would error on indexes due to a pandas
peculiarity. Fixes #1560.",Jim Crist,crist042@umn.edu,2016-09-20 20:24:04-05:00,GitHub,noreply@github.com,2016-09-20 20:24:04-05:00
ab2aca3adc0a534ba106bc2f7143447601d88244,"Tokenize mmap works without filename (#1570)

Due to a bug in numpy, ufuncs performed on `memmap`'s return an
instance of `memmap`, even though the data is already in memory. In
these cases `memmap.filename` is `None`, which causes `tokenize` to
error. We now treat `memmap` files where `filename is None` the same as
an in-memory file.

Fixes #1562.",Jim Crist,crist042@umn.edu,2016-09-23 12:21:36-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-23 13:21:36-04:00
c7bbec6cf51d10eb9c00f2dcd48780a02510d5ed,"Remove mention of bag join in docs (#1568)

Fixes #1551.",Jim Crist,crist042@umn.edu,2016-09-23 12:23:02-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-23 13:23:02-04:00
8b12ddb66c1d91786d9fa8a57c293ea295a40fe4,"Sample from `read_bytes` ends on a delimiter (#1571)

If a delimiter is provided to `read_bytes`, the sample will end with the
delimiter.  This was specified in the docstring, but wasn't actually
implemented, since the delimiter wasn't forwarded. The `sample` kwarg
was also dropped in a few places throughout.

This PR fixes these issues, and removes the need to adjust the end of
the sample in ``dd.read_csv`` added in #1495. Pandas won't error a
numeric field is errored, which led to the failure in #1532. A test has
been added for this, and confirmed to fix on the provided csv.

Fixes #1532.",Jim Crist,crist042@umn.edu,2016-09-23 12:24:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-23 13:24:34-04:00
32ad1a0ae74e3deaf9d325149f45074536d52326,"Add `pipe` method to dask.dataframe (#1567)

Fixes #1555",Jim Crist,crist042@umn.edu,2016-09-23 13:00:28-05:00,GitHub,noreply@github.com,2016-09-23 13:00:28-05:00
57285aa1cd721f0845b4f2b3756cb82d5f4597cf,"COMPAT/API: DataFrame.categorize missing values (#1578)

Closes https://github.com/dask/dask/issues/1565

For compatability with https://github.com/pydata/pandas/pull/10929
where it was decided that

`pd.Categorical(['a', np.nan], categories=['a', np.nan])`

Should raise a `FutureWarning`. Now we just drop missing values
before computing the distincts for the categories.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-09-24 17:09:03-05:00,Jim Crist,crist042@umn.edu,2016-09-24 17:09:03-05:00
2f627248e9c35c95ba375d6f44d32af442458388,"ENH: Support Series in read_hdf (#1577)

Closes https://github.com/dask/dask/issues/1564

Modifies the reader to check for `name` in the case of Series,
and `columns` in the case of `DataFrame`.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-09-24 17:10:09-05:00,Jim Crist,crist042@umn.edu,2016-09-24 17:10:09-05:00
eb4aab2f9eaef53d2d1fe9674db03c0cdab3ad2b,Raise IndexError on out of bounds slice. (#1579),Blake Griffith,blake.a.griffith@gmail.com,2016-09-25 05:06:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-25 08:06:44-04:00
40b19dd89084d79d61030997447e2cae22d4263a,Strengthen statement about gitter for developers in docs,Matthew Rocklin,mrocklin@gmail.com,2016-09-25 10:57:22-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-25 10:57:22-04:00
b488152295bbff6e2eaae14fdedbddf41f03109c,"Add versioneer (#1569)

Use versioneer for version support. This removes the need to manually
update the version in `__init__.py` and `setup.py`, and also adds a
version per-commit based on the git hash. Fixes #1533.",Jim Crist,crist042@umn.edu,2016-09-25 10:11:13-05:00,GitHub,noreply@github.com,2016-09-25 10:11:13-05:00
cd5c1090447ecff11a4041c579a7a09c62a7504c,"Error loudly if `nrows` used in read_csv (#1576)

Fixes #1498",Jim Crist,crist042@umn.edu,2016-09-25 10:11:46-05:00,GitHub,noreply@github.com,2016-09-25 10:11:46-05:00
9cacaacc7d8ac35158ae3824c831375f25a3b678,"Add indicator keyword to dd.merge (#1575)

Add support for the indicator keyword to ``dd.merge`` and
`dd.DataFrame.merge`. Fixes #1500.",Jim Crist,crist042@umn.edu,2016-09-25 10:28:08-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-09-25 11:28:08-04:00
6c27f28586aa6bee6f229dde2eb48e9de5170c84,expand imports for dask.distributed (#1580),Matthew Rocklin,mrocklin@gmail.com,2016-09-26 10:34:25-04:00,GitHub,noreply@github.com,2016-09-26 10:34:25-04:00
6cc7df89f2e2992097a251a7be6666b7a6c32ce8,Squash warnings in resample (#1583),Jim Crist,crist042@umn.edu,2016-09-27 09:40:14-05:00,GitHub,noreply@github.com,2016-09-27 09:40:14-05:00
af6a66b4591f0e5ed97875559d09204d94c92c03,"Support inplace operators in dataframe (#1585)

Adds support for mutation of *existing* columns via mutation. This
supports both direct assignment (`df.x = df.x + 1`) and inplace operators
(`df.x += 1`). This matches the pandas api, where new columns can't be
created via attribute assignment. Fixes #1584.",Jim Crist,crist042@umn.edu,2016-09-27 11:46:44-05:00,GitHub,noreply@github.com,2016-09-27 11:46:44-05:00
5e97a3fe50c792875a72e204c354bbd3990a3105,avoid more timeseries warnings (#1586),Matthew Rocklin,mrocklin@gmail.com,2016-09-27 12:50:09-04:00,GitHub,noreply@github.com,2016-09-27 12:50:09-04:00
76dcc199652391fe56c49c40c58fb8ed1bac106b,"Suppress warnings in psutil (#1589)

Fixes #1588.",Jim Crist,crist042@umn.edu,2016-09-27 17:40:12-05:00,GitHub,noreply@github.com,2016-09-27 17:40:12-05:00
50a95f73600b86f695eb28c411f6e63f0ee3f357,Fix da.learn tests for scikit-learn release (#1597),Jim Crist,crist042@umn.edu,2016-09-29 19:03:23-04:00,GitHub,noreply@github.com,2016-09-29 19:03:23-04:00
f5173c38c70073c96a9cfcc7fb66aa6f0525f33a,PEP8: some fixes (#1605),Sinhrks,sinhrks@gmail.com,2016-10-03 22:04:19+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-03 09:04:19-04:00
316b1110c80d2bae8f9e387264fe1156b05494f2,"ENH: dd.get_dummies for categorical Series (#1602)

* ENH: dd.get_dummies for categorical Series

* Add DataFrame impl",Sinhrks,sinhrks@gmail.com,2016-10-03 22:04:29+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-03 09:04:29-04:00
38dc88ad4e8514e9658bed50423fd6dd0a5bd5b4,"PEP8: dataframe fix except E127,E402,E501,E731 (#1601)",Sinhrks,sinhrks@gmail.com,2016-10-03 22:04:41+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-03 09:04:41-04:00
b7fd210d810620cf08bc528ba5076a501de791d7,"ENH/API: Enhanced Categorical Accessor (#1574)

Closes https://github.com/dask/dask/issues/1573

Implements a richer `dd.Series.cat` accessor that mimics the
behavior of `pd.Series.cat`.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-10-03 10:05:11-05:00,GitHub,noreply@github.com,2016-10-03 10:05:11-05:00
34660a2215f80918e62c9ab03d9b75dea159e0c3,"Better error message on metadata inference failure (#1598)

Previously we'd just throw an error stating that metadata inference
failed. This made debugging the cause of these failures tricky. Now we
raise an error indicating that metadata inference failed, and include
the original error and traceback as well.",Jim Crist,crist042@umn.edu,2016-10-03 11:36:27-04:00,GitHub,noreply@github.com,2016-10-03 11:36:27-04:00
3862b4db18ce2fb8927291de95ea1f2eae63a747,"Add atop(concatenate=False) keyword argument (#1609)

This allows atop to pre-concatenate arrays before sending to the user
defined function.",Matthew Rocklin,mrocklin@gmail.com,2016-10-04 11:37:24-04:00,GitHub,noreply@github.com,2016-10-04 11:37:24-04:00
bc9a6841ef6156287f3d447e9b3abbc7c9365672,add clip to Array (#1610),Matthew Rocklin,mrocklin@gmail.com,2016-10-05 12:15:46-04:00,GitHub,noreply@github.com,2016-10-05 12:15:46-04:00
ab9b8b4719bc84a554b89d5d8780a7ee72d9a600,Add swapaxes to dask array (#1611),Matthew Rocklin,mrocklin@gmail.com,2016-10-05 12:15:59-04:00,GitHub,noreply@github.com,2016-10-05 12:15:59-04:00
7af5b276f1140edee161cada3dbf94ce5cda31a6,pass through node_attr and edge_attr in dot_graph (#1614),Matthew Rocklin,mrocklin@gmail.com,2016-10-05 12:16:08-04:00,GitHub,noreply@github.com,2016-10-05 12:16:08-04:00
66685f4bfaef2e5b555cf1c3fff657915d0e0dd0,"Support new_axes= keyword in atop (#1612)

Add new single-chunk dimensions with the ``new_axes=`` keyword, including
the length of the new dimension.  New dimensions will always be in a
single  chunk.

    >>> def f(x):
    ...     return x[:, None] * np.ones((1, 5))

    >>> z = atop(f, 'az', x, 'a', new_axes={'z': 5})",Matthew Rocklin,mrocklin@gmail.com,2016-10-05 13:37:50-04:00,GitHub,noreply@github.com,2016-10-05 13:37:50-04:00
112e1cf9c2f12f29d16d0c6c6a003f4aa537ac9e,"Update documentation (#1606)

* Update array documentation

In response to #1592

* update bag documentatation

Fixes #1593

* update delayed docs

* update scheduler docs

Fixes #1596

* update dataframe docs

Fixes #1594

* normalize Dask.array to Dask array",Matthew Rocklin,mrocklin@gmail.com,2016-10-05 18:00:49-04:00,GitHub,noreply@github.com,2016-10-05 18:00:49-04:00
669aae7d2b125e7b4070221aaa27be21cc4ee3e4,"Use assert_eq everywhere in dask.array tests (#1617)

Previously we had a bunch of custom eq functions defined.
These were not as comprehensive as dask.array.utils.assert_eq.
In particular many of them failed to check dtypes.

Now we use assert_eq everywhere and we ensure that all dask.array
functions propagate dtype information.",Matthew Rocklin,mrocklin@gmail.com,2016-10-05 18:01:03-04:00,GitHub,noreply@github.com,2016-10-05 18:01:03-04:00
0de39e5a486f0b7ab7233f4cd34fee987993d5bf,"coerce rounded numbers to int in dask.array.ghost (#1618)

Previously in Python 2 these could remain floats.  This was fine for the
single machine scheduler because 1 and 1.0 hash to the same value and ==
each other.  However this would interfere with dask.distributed, which
relies on the string representaiton of the keys.",Matthew Rocklin,mrocklin@gmail.com,2016-10-05 18:01:25-04:00,GitHub,noreply@github.com,2016-10-05 18:01:25-04:00
92bad419e81eeb37124b7e69c08b15aff79966dc,"Ensure dtype is provided in additional tests (#1620)

In https://github.com/dask/dask/pull/1617 we started testing that all
dask.array computations propagated dtype information.  Unfortunately
simultaneously merged PRs weren't tested under this before merging.

This PR cleans up the intersection.",Matthew Rocklin,mrocklin@gmail.com,2016-10-06 07:48:17-04:00,GitHub,noreply@github.com,2016-10-06 07:48:17-04:00
8f87bf421d5aefec3c9b3238e8e9886363d76582,".str accessor needs to pass thru both args & kwargs (#1621)

* add .cache to .gitignore

* pass through kwargs on df.str methods.",Jeff Reback,jeff@reback.net,2016-10-06 15:31:25-04:00,Jim Crist,crist042@umn.edu,2016-10-06 15:31:25-04:00
4f8343f6b867f6cb84424a4ee780dd7998fea09e,work-around for ddf.info() failing because of https://github.com/pydata/pandas/issues/14368 (#1623),Jeff Reback,jeff@reback.net,2016-10-06 15:42:44-04:00,Jim Crist,crist042@umn.edu,2016-10-06 15:42:44-04:00
47b07021eef42560349d504460277c2586f3ffdf,"Deprecations (#1624)

* Deprecate `cache()` methods

* Remove long since deprecated functionality

Remove several deprecated methods/keywords that were deprecated many
releases ago.",Jim Crist,crist042@umn.edu,2016-10-06 15:57:50-04:00,GitHub,noreply@github.com,2016-10-06 15:57:50-04:00
fc140f3ad2185759216be7ed784eb4e14f1fbf12,Support Pandas 0.19.0,Matthew Rocklin,mrocklin@gmail.com,2016-09-14 10:06:32-04:00,Jim Crist,crist042@umn.edu,2016-10-06 18:47:55-04:00
53400cf1968ecb6779e7080231e60402635955ac,"Fix segfault in groupby-var

Previously we'd accidently call compute here when inferring metadata.
The new groupby implementation segfaults when threads are used to
compute the index (apparently), which could happen in some cases.  It's
easier just to let `aca` handle the metadata inference, so we'll remove
it.",Jim Crist,crist042@umn.edu,2016-10-06 12:08:06-05:00,Jim Crist,crist042@umn.edu,2016-10-06 18:47:55-04:00
10af53a5cdad4e81fa252b0db8d0c68cef3e72cf,"Use a nonempty index in _maybe_partial_time_string

Fixes the regression due to
https://github.com/pydata/pandas/issues/14354.",Jim Crist,crist042@umn.edu,2016-10-06 16:47:28-05:00,Jim Crist,crist042@umn.edu,2016-10-06 18:47:55-04:00
d74e80ecc3246fbb9b553321e315ed3942d7425a,"Groupby works with multiprocessing (#1625)

Previously this would fail, as the partd was buffered, and wouldn't
write to disk some/all of the data. Since we still want to use the
buffer with the threaded scheduler, we solve this by switching behavior
if the partd creation function is serialized. If the function isn't
serialized, a buffer is used, if it is serialized then a file based
partd is used.

Fixes #1587.",Jim Crist,crist042@umn.edu,2016-10-06 18:51:06-04:00,GitHub,noreply@github.com,2016-10-06 18:51:06-04:00
ab9b0006d059bb592894cc61af597c6b9de3f3b5,support uniform index partitions in set_index(sorted) (#1626),Matthew Rocklin,mrocklin@gmail.com,2016-10-06 22:37:43-04:00,GitHub,noreply@github.com,2016-10-06 22:37:43-04:00
318fbbe3470b5eec2ee1921ced9808af72b199b7,PEP8: some fixes (#1633),Sinhrks,sinhrks@gmail.com,2016-10-08 22:55:02+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-08 09:55:02-04:00
95cfaf732a97e14fe991ea2dd95ce6171308d651,ENH: add DataFrame.get_xtype_counts (#1634),Sinhrks,sinhrks@gmail.com,2016-10-08 22:55:28+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-08 09:55:28-04:00
8136bb34b145ff515118979b0529dc993138923f,"Error nicely when indexing Array with Array (#1629)

Raise a nice error instead of accidentally calling compute when a user
indexes a dask Array with a dask Array.

Fixes #1628.",Jim Crist,crist042@umn.edu,2016-10-08 11:46:55-04:00,GitHub,noreply@github.com,2016-10-08 11:46:55-04:00
5895750853ae9590c2c58cae649a93bc9ba5a61a,"Signature of Array.transpose matches numpy  (#1632)

* Signature of Array.transpose matches numpy

The signatures of `numpy.transpose` and `numpy.ndarray.transpose` don't
match. Previously we implemented the same signature for both, this PR
moves us inline with numpy's signatures. Fixes #1630.

* Use `derived_from` for Array.transpose

Pull the docstring from `np.ndarray.transpose` instead of
`np.transpose`, since the signatures are different. We use
`derived_from` instead of `wraps`, since `wraps` doesn't work with
methods.",Jim Crist,crist042@umn.edu,2016-10-08 11:48:50-04:00,GitHub,noreply@github.com,2016-10-08 11:48:50-04:00
d8d3706417b8c7cc4178866930d9f1f0602a2560,CLN: little cleanup of dd.categorical (#1635),Sinhrks,sinhrks@gmail.com,2016-10-10 06:21:20+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-09 17:21:20-04:00
323c8fcb73a694a027b51601e2cc4dcbdefb58af,"Convert readthedocs links for their .org -> .io migration for hosted projects (#1639)

As per [their blog post of the 27th April](https://blog.readthedocs.com/securing-subdomains/) Securing subdomains:

> Starting today, Read the Docs will start hosting projects from subdomains on the domain readthedocs.io, instead of on readthedocs.org. This change addresses some security concerns around site cookies while hosting user generated data on the same domain as our dashboard.

Test Plan: Manually visited all the links Ive modified.",Adam Chainz,me@adamj.eu,2016-10-09 22:24:56+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-09 17:24:56-04:00
7460556c6e5e60fc0a5b82c4b442e2f8cc00fe94,"Validate scalar metadata is scalar (#1642)

Previously we only validated metadata is of the correct type for
DataFrame/Series/Index. This allowed a bug in `quantile`, where the
output would be a `Scalar`, but the metadata would be a `Series`. This
fixes that bug, and adds validation in the `Scalar` constructor.

Fixes #1640.",Jim Crist,crist042@umn.edu,2016-10-10 11:12:21-04:00,GitHub,noreply@github.com,2016-10-10 11:12:21-04:00
c6cb638294a27f318c3f0d988a936c5a0bf3fd77,"Use strides, shape, and offset in memmap tokenize (#1646)

Previously `tokenize` on `np.memmap` objects would return the same token
for slices of the same array. To fix this, we now include all the
metadata needed to fully define the array in the token. This includes
the array strides, shape, and the pointer offset.

Fixes #1645.",Jim Crist,crist042@umn.edu,2016-10-11 07:38:43-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-11 07:38:43-04:00
aa4ff6e352530d2262dacd95e071b0d535e515bf,"Implementing .size and groupby size method (#1627) (#1649)

* Implementing .size and groupby size method (#1627)

* added size to methods.py and additional index.size test",James Jeffryes,jamesgjeffryes@gmail.com,2016-10-12 06:58:34-07:00,Jim Crist,crist042@umn.edu,2016-10-12 09:58:34-04:00
0b6d13dfef525b4038adb242dd73a1b8cacf351d,CLN: Remove unused funcs (#1638),Sinhrks,sinhrks@gmail.com,2016-10-13 06:59:26+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-12 17:59:26-04:00
e4ddac85292c1b16e9a68bce45e14d52d715538f,TST: move flake8 to travis script (#1655),Sinhrks,sinhrks@gmail.com,2016-10-13 10:00:58+09:00,Jim Crist,crist042@umn.edu,2016-10-12 21:00:58-04:00
f14ec6a4ec0d4fb9ff2499ac53d0df4116465c8a,Add AppVeyor configuration (#1648),Antoine Pitrou,pitrou@free.fr,2016-10-13 14:45:01+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-13 08:45:01-04:00
24c652e71e95b029e7b32cd4fc1448b021f8ebe8,"Automatically expand chunking in atop (#1644)

* Automatically expand chunking in atop

Fixes #1641

* warn if auto-rechunking increases chunks by 10x

* fix doctests

* explain common_blockdim",Matthew Rocklin,mrocklin@gmail.com,2016-10-13 12:42:21-04:00,GitHub,noreply@github.com,2016-10-13 12:42:21-04:00
0b84cb1853aa516da27aad52ab3c0a1340c800d0,"A few fixes for `map_blocks` (#1654)

* map_blocks block_id works with other kwargs

Fixes #1481.

* map_blocks with drop_axis/new_axis works

Fix a few bugs in drop_axis/new_axis. Fixes #1297.",Jim Crist,crist042@umn.edu,2016-10-13 13:49:20-04:00,GitHub,noreply@github.com,2016-10-13 13:49:20-04:00
9b0aec9d974383dde3031b01ef850dc6377f22ec,"Remove use of multiprocessing.Manager (#1652) (#1653)

* Remove use of multiprocessing.Manager (#1652)

Using a Manager process makes multiprocessing.get fragile on Windows
as concurrent unpickling of Numpy objects may result in sporadic errors
(the numpy module being seen uninitialized by one of the manager threads).

Instead of queueing explicitly in execute_task(), simply return the
result and queue it in the parent.

* Appease flake8

* Address review comments @jcrist

* Remove `queue` parameter to get_async()

* Simplify handling of unserialization error in control process",Antoine Pitrou,pitrou@free.fr,2016-10-14 16:13:28+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 10:13:28-04:00
42719215a8c06b311181a6d28c24f772f7f99544,"Fix #1656: failures when parallel testing (#1657)

* Fix #1656: failures when parallel testing

Parallel testing works using the `pytest-xdist` plugin with
a hard-coded PYTHONHASHSEED, e.g.:

$ PYTHONHASHSEED=1 py.test -n=auto dask

* Appease flake8; also, use a hardcoded number of workers",Antoine Pitrou,pitrou@free.fr,2016-10-14 16:59:30+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 10:59:30-04:00
1e803296fda1ba31876b75c12708acbc209f2142,remove old badges,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 11:51:49-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 11:51:49-04:00
cccde1570c30ec772c59db9ec084a15121e9a254,Windows file and endline test handling (#1661),Matthew Rocklin,mrocklin@gmail.com,2016-10-14 12:30:36-04:00,GitHub,noreply@github.com,2016-10-14 12:30:36-04:00
f2df4fbd5e7321f7d97a04ab451e4adb8616f005,"Dataframe elemwise (#1660)

* add applymap (#1259)

* add DataFrame.round (#1259)

* add series.round (#1259)

* add dataframe.to_timestamp (#1259)

* add dataframe and series elementwise comparisons. (#1259) Series tests not yet passing due to unexpected fill_values error.

* removed fill_value from Series (in pandas 19.0 but not 18.0). Passes tests now

* meta parameter for applymap

* update to_timestamp tests

* removed copy kwarg in to_timestamp

* removed unused StringIO import

* flake8 is picky

* Moved comparison tests to test_arithmetics_reduction

* updated timestamp tests. divisions are properly cast to TimeStamp

* remove old dt accessors

* apply to_timestamp to divisions

* add Series.to_timestamp",James Jeffryes,jamesgjeffryes@gmail.com,2016-10-14 13:43:49-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 13:45:27-04:00
badcf984dc2b7b803dee4abf2b70a6fef7be59d0,add distributed follow link doc page,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 18:22:10-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-14 18:22:10-04:00
9aeffd266dfbd6f848b22dae25886758f93f56d1,Typo in `use-cases`? (#1670),Christopher J. Wright,cjwright4242gh@gmail.com,2016-10-16 22:42:14-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-16 22:42:14-04:00
44d65707934188053454aaa8f45cff285b79b562,"ENH: add dd.pivot_table (#1665)

* ENH: add dd.pivot_table

* Remove dynamically generated funcs

* Update error message",Sinhrks,sinhrks@gmail.com,2016-10-17 21:04:49+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-17 08:04:49-04:00
24b0e63d32638621f7029e81187afbbe78215392,"Clear divisions on single_partitions_merge (#1666)

* Clear divisions on single_partitions_merge

* Keep divisions in single partition merges with on-index merges

* Test for known_divisions in single parittion merges

* Inline get_divisions for single partition merge",Christopher Prohm,c.prohm@googlemail.com,2016-10-17 14:05:12+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-17 08:05:12-04:00
8bcfa1c1a9c54524e1a30c4d5eda73f048475109,ENH: Add DataFrame/Series clip_xxx (#1667),Sinhrks,sinhrks@gmail.com,2016-10-17 21:05:54+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-17 08:05:54-04:00
0aa052290989c618fd76c12f08305bb8c3ab9c0e,"CLN: dataframe.io (#1664)

* CLN: dataframe.io

* DOC: remove castra related from API

* Update setup.py",Sinhrks,sinhrks@gmail.com,2016-10-18 21:05:16+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-18 08:05:16-04:00
f844385faefcf77e77a44416a95c38e6aa139b20,ENH: Add DataFrame/Series.align (#1668),Sinhrks,sinhrks@gmail.com,2016-10-18 21:05:28+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-18 08:05:28-04:00
acf41cd7ec33cd18a82c8fd3f973539488f93364,TST: rename dataframe eq to assert_eq (#1674),Sinhrks,sinhrks@gmail.com,2016-10-19 03:17:04+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-18 14:17:04-04:00
74c9a0c64839629460db269dc145209fc75a597c,Add global optimizations to compute (#1675),Matthew Rocklin,mrocklin@gmail.com,2016-10-18 14:22:18-04:00,GitHub,noreply@github.com,2016-10-18 14:22:18-04:00
0c11e81630c2d882d9a1e78798461d45f67d65c4,"Dataframe tree reductions (#1663)

This adds tree reductions to dask.dataframe, allowing for more efficient reductions on dataframes with many partitions. All relevant methods now include an optional keyword `split_every`, which indicates the max number of intermediates to bring together before reducing. The default is 8. The `reduction` method (and the less publicly used `apply_concat_apply` function) also take an optional combine function to do the intermediate aggregations, before passing to aggregate for the final reduction. Except for ``cov``, ``corr``, and ``quantile``, all relevant methods are supported. Fixes #1658.",Jim Crist,crist042@umn.edu,2016-10-18 15:28:51-04:00,GitHub,noreply@github.com,2016-10-18 15:28:51-04:00
bef55f24cba8687d93a0d08b1ac76cd409d70283,"Remove unnecessary calls to list (#1681)

This removes some unnecessary calls to `list` in graphs due to two
previous scheduler behaviors:

- List literals would be computed as iterators, which required placing
  explicit calls to list in the graph. This was changed in
  https://github.com/dask/dask/pull/834.

- Top-level lists weren't treated as tasks, requiring them to be wrapped
  in a call to `list`. This was changed in
  https://github.com/dask/dask/pull/1250.",Jim Crist,crist042@umn.edu,2016-10-19 21:08:36-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-19 21:08:36-04:00
49920d6d918f13e21a1cae2d26f73c73336c6cee,"Remove `raises`, use pytest.raises instead (#1679)

No need to duplicate code that's in pytest.",Jim Crist,crist042@umn.edu,2016-10-19 21:09:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-19 21:09:35-04:00
b663bf67615b17837d2411c6c46c6f7baa9994e7,"da.random with state is consistent across sizes (#1687)

* da.random with state is consistent across sizes

Previously seeds were culled down in `different_seeds`, and then
returned in sorted order. This causes problems when changing the size of
the output array, as the seeds might be in different order, leading to:

```python
x1 = da.random.RandomState(123).random(20, chunks=20)
x2 = da.random.RandomState(123).random(200, chunks=20)[:20]
assert (x1 == x2).all()
```

to fail. This PR fixes that.

Instead of passing arounds seeds (which have a small independent space),
we pass also change to pass around the internal states of
``numpy.random.RandomState`` or ``random.Random`` objects.",Jim Crist,crist042@umn.edu,2016-10-21 13:50:26-04:00,GitHub,noreply@github.com,2016-10-21 13:50:26-04:00
35f5719594dc63381998d3108b2e46aaf03bc168,Fix dd.pivot_table dtype to be deterministic (#1693),Sinhrks,sinhrks@gmail.com,2016-10-23 22:54:42+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-23 09:54:42-04:00
fd6147b95907c07ea6bb2ad845f4f88800ef2ed5,"Add dd.read_table (#1682)

* Add dd.read_table

- Refactor read_csv code to support both read_csv and read_table.
- Move a few tests not related to csv/table to appropriate files
- Reorganize csv test file
- Add in testing for read_table functionality",Jim Crist,crist042@umn.edu,2016-10-23 13:09:35-04:00,GitHub,noreply@github.com,2016-10-23 13:09:35-04:00
f69c4e9a3c46ec8d08e69683b99e1f837ae4c967,"Prepend optimization keywords with name of optimization (#1690)

Fixes https://github.com/dask/dask/issues/1688

This passes particular keywords to particular optimizations by creating
a convention that we prepend the name of the optimization to the
particular keyword argument.",Matthew Rocklin,mrocklin@gmail.com,2016-10-24 07:48:37-04:00,GitHub,noreply@github.com,2016-10-24 07:48:37-04:00
293cac4cedeb90d4e5e880643839fb7e08664d9d,Add support of getitem for multilevel columns (#1697),Christopher Prohm,c.prohm@googlemail.com,2016-10-24 20:30:37+02:00,Jim Crist,crist042@umn.edu,2016-10-24 14:30:37-04:00
ebfcab6343ebdb112fa8b68fa9e7dd05805b8301,Executor -> Client,Matthew Rocklin,mrocklin@gmail.com,2016-10-25 17:35:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-25 17:35:27-04:00
6d99c67860acf64ea5a66c7624e38ff039fddb7f,Add da.round (#1708),Matthew Rocklin,mrocklin@gmail.com,2016-10-25 17:36:27-04:00,GitHub,noreply@github.com,2016-10-25 17:36:27-04:00
64814107694ada104381b066df68155ee5696a8f,"WIP: Feature/dataframe aggregate (implements #1619) (#1678)

* Add partial aggregate support (missing: std, var, nunique)

* Add aggregate docs

* Handle agg for numpy funcs and for non dictionary specs

* Use pytest parametrize fixtures

* Remove use of partial and namedtuple

* Reuse intermediates between results in aggregates.

* Implement aggregate for std / var

* Expose the split_every argument of apply_concat_apply in aggregate

* Update docs of _build_arg_s

* Adapt test: remove duplicate test cases, add different group specs

* Add support for using series as groupers in aggregate

* Adapt tests: decrease work performed, mark known failures

* Test properties of the aggregate dask

* Pass combine function explicitly to document the dask construction

* Add the function/column to intermediate names

* Recursively normalize the index in groupby

Example:

    # previously supported:
    df['a'] -> 'a'

    # additionally supported
    [df['a'], df['b]] -> ['a', 'b']

* Fix style (flake8)

* Remove non ascii dashes

* Address PR comments:

- inline _aggregate_meta
- add arg docs, examples for _normalize_spec
- add arg docs for _groupy_apply_funcs
- inline token arguments in aggregate

* Brush up comment strings

* Rebase to master, remove duplicated pytest import

* Fix doctests: ignore whitespace, use OrderedDicts

* Implement series-groupby, use tokenize for intermediate ids",Christopher Prohm,c.prohm@googlemail.com,2016-10-26 14:44:25+02:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-26 08:44:25-04:00
eb6aac744c5194c3bd0f2d59ffa47f1630fd510f,"Update dd.read_* functions in docs

Add dd.read_hdf and dd.read_table. Fixes #1700.",Jim Crist,crist042@umn.edu,2016-10-26 11:10:24-05:00,Jim Crist,crist042@umn.edu,2016-10-26 11:10:24-05:00
7c76fdfd30ebe14a165f92b5d0e9ca1f2d5966cc,"Cull dask.arrays on slicing (#1709)

This prevents the propagation of large dask.arrays after slicing events",Matthew Rocklin,mrocklin@gmail.com,2016-10-26 14:02:05-04:00,GitHub,noreply@github.com,2016-10-26 14:02:05-04:00
188b301fb287f0b271f9c9c2c0ec1d24ebb46de7,"Add `drop` to reset_index (#1711)

Also add `Series.reset_index`. Fixes #1696.",Jim Crist,crist042@umn.edu,2016-10-26 14:06:55-04:00,GitHub,noreply@github.com,2016-10-26 14:06:55-04:00
8ebf3ae8514963b40f01f6ee54d886fe3a729294,"Update paid support section

This makes things a bit more concise and cleans up broken links",Matthew Rocklin,mrocklin@gmail.com,2016-10-27 14:30:05-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-27 14:30:05-04:00
ae717129b6d06d62c9edc9fa0679007d878ab971,"Add rename support for multi-level columns (#1712)

* Add rename support for multi-level columns

Fixes #1694.

Also found a bug in the method versions of operators when applied to
Series with axis=1. `map_partitions` was automatically repartitioning
this, resulting in an incorrect answer. However, the old way of renaming
columns was actually creating new columns filled with `NaN`. Since the
data it was being with tried had no matches between columns and index, the
output was also all `NaN`, masking the issue. This changes the test so
it would have caught the issue, and fixes the implementation of the
operator.

Also fixed a few bugs in `_rename` and `map_partitions`:

- `_rename` now returns `Index` when passed an `Index`. Previously this
  would return a `Series`.

- `map_partitions` now returns partitions with the same columns in all
  occasions. Previously partitions with non-matching columns could sneak
  through, which would cause issues later.",Jim Crist,crist042@umn.edu,2016-10-28 11:52:32-04:00,GitHub,noreply@github.com,2016-10-28 11:52:32-04:00
afa13ae9b79f10ce53c4e35082891a55be7ea690,"Forward `get` kwarg in df.to_csv (#1715)

Fixes #1714.",Jim Crist,crist042@umn.edu,2016-10-28 11:53:22-04:00,GitHub,noreply@github.com,2016-10-28 11:53:22-04:00
795dd6e26b68ef87b5e882d6b22ccb1a21381fb5,Support auto-rechunking in stack and concatenate (#1717),Matthew Rocklin,mrocklin@gmail.com,2016-10-28 16:37:51-04:00,GitHub,noreply@github.com,2016-10-28 16:37:51-04:00
b929a084475bc8aa86ab5d3ff0b0737ff40f7cd1,"BUG: Fixed metadata lookup failure in Accessor (#1706)

Closes https://github.com/dask/dask/issues/1705

Specifically for CategoricalAccessor with all missing values
in the first division. This solution feels a bit wrong. I think
the better solution would be to fix _meta_nonempty, but maybe
this is OK?",Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-10-30 17:04:40-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:04:40-04:00
bbd414b05e357afb11d7ce9862067cff2cdf546d,"A few small tweaks to da.Array.astype (#1721)

- Support `copy` and `casting` arguments
- Error at graph build time when casting doesn't work
- Fix a bug when dtype is unknown and casting to `f8`. Previously this
  would result in a no-op, as `np.dtype('f8') == None`, now `_astype` is
  applied as it should be.",Jim Crist,crist042@umn.edu,2016-10-30 18:05:45-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:05:45-04:00
e6584fb1437acc3abfbf9fcaff3d933ed341c7a4,"micro-optimize _deps (#1722)

This results in a 30% boost",Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:05:54-04:00,GitHub,noreply@github.com,2016-10-30 18:05:54-04:00
785a339f7196fa35de49257ef658bc0227d97c1a,"ENH: Add DataFrame all/any (#1724)

* ENH: Add DataFrame all/any

* add Series.all test",Sinhrks,sinhrks@gmail.com,2016-10-31 07:06:22+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:06:22-04:00
12aa17736713e210e0100551c31f033cf54ec075,ENH: Add DataFrame.combine_first (#1725),Sinhrks,sinhrks@gmail.com,2016-10-31 07:06:27+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:06:27-04:00
c8712b59d4c64837850a0d6c70d7a76550a4fda1,CLN: cleanup DataFrame class handling (#1727),Sinhrks,sinhrks@gmail.com,2016-10-31 07:06:48+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:06:48-04:00
c1f1d20ce64c07a1ae539b97d934823504018f63,ENH: Add DataFrame.pivot_table (#1729),Sinhrks,sinhrks@gmail.com,2016-10-31 07:07:33+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-30 18:07:33-04:00
b6d23117e7991230a5561ad7439757d0db733fec,"Correct shape when indexing with Ellipsis and None

Fixes https://github.com/dask/dask/issues/1730",Matthew Rocklin,mrocklin@gmail.com,2016-10-31 08:59:30-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-31 08:59:30-04:00
b32cfb7061acff3c9c3a341a34fadb51e6b21680,"Merge pull request #1734 from mrocklin/ellipsis-none-slicing

Correct shape when indexing with Ellipsis and None",Antoine Pitrou,pitrou@free.fr,2016-10-31 14:26:34+01:00,GitHub,noreply@github.com,2016-10-31 14:26:34+01:00
1cb75015a36a402ca65228b549069291af5298bb,"ENH: DataFrame.loc now supports 2d indexing (#1726)

* ENH: DataFrame.loc now supports 2d slicing

* raise IndexingError",Sinhrks,sinhrks@gmail.com,2016-10-31 22:49:49+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-10-31 09:49:49-04:00
3fbc7baef6e605a43b285cd4057509fd9640a1ad,"Allow atop to change chunk shape (#1716)

* Allow atop to change chunk shape

Example
-------

```python
def double(a, axis=0):
    return np.concatenate([a, a], axis=axis)

y = atop(double, 'ij', x, 'ij', chunks={'i': lambda n: 2*n}, axis=0)

y = atop(double, 'ij', x, 'ij', chunks={'j': lambda n: 2*n}, axis=1)
```

* Add integer and tuple modes to atop rechunk=

* rename rechunk= to adjust_chunks=",Matthew Rocklin,mrocklin@gmail.com,2016-10-31 11:41:59-04:00,GitHub,noreply@github.com,2016-10-31 11:41:59-04:00
8e76f6a67a5d5b432fb3cd795c18072080f1bf44,"Update diagnostics plots (#1736)

- New bokeh layouts look a lot nicer, just regenerate the plots on a newer
version.

- Use Viridis as the default colormap",Jim Crist,crist042@umn.edu,2016-10-31 14:24:18-04:00,GitHub,noreply@github.com,2016-10-31 14:24:18-04:00
668a598524494e07f4a166e767e99f0093ac17a9,replace empty with random in test to avoid nans,Matthew Rocklin,mrocklin@gmail.com,2016-11-01 13:47:23-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-01 13:47:23-04:00
ac3760bce2df37784b98944ca155067a8ef3616a,"Unify column names in dd.read_csv (#1740)

Perhaps we should do this somewhere more globally?
Perhaps we shouldn't do this at all?",Matthew Rocklin,mrocklin@gmail.com,2016-11-01 14:46:55-04:00,GitHub,noreply@github.com,2016-11-01 14:46:55-04:00
c8f3e98fc022f1dff384c6d8a3c61c3fef0e2e23,ENH: add dd.DataFrame.resample (#1741),Joris Van den Bossche,jorisvandenbossche@gmail.com,2016-11-01 21:58:32+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-11-01 15:58:32-05:00
c61d7b392bdf9c9dafe3541f40fef3883be9f1a5,"Add da.repeat (#1702)

```python
In [1]: import dask.array as da

In [2]: x = da.arange(5, chunks=(2,))

In [3]: x.compute()
Out[3]: array([0, 1, 2, 3, 4])

In [4]: x.repeat(3).compute()
Out[4]: array([0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4])

In [5]: x.chunks
Out[5]: ((2, 2, 1),)

In [6]: x.repeat(3).chunks
Out[6]: ((3, 3, 3, 3, 3),)
```",Matthew Rocklin,mrocklin@gmail.com,2016-11-01 18:36:53-04:00,GitHub,noreply@github.com,2016-11-01 18:36:53-04:00
b68aee9d042c7f3ca0a6dc582a6f0fe468b60421,"Fix slicing error with None and ints (#1743)

This adds a comprehensive test around slicing with ellipses, Nones, and ints.
This uncovers two bugs

*  when slicing with both a new axis and destroying an axis with an int.
*  slicing with -n

I originally did this with parametrized tests but have commented this out to
keep down the visual noise when running tests normally.",Matthew Rocklin,mrocklin@gmail.com,2016-11-02 08:46:45-04:00,GitHub,noreply@github.com,2016-11-02 08:46:45-04:00
c573187c51fd0afa8a3a99190c7a651ba97099e3,"Avoid calling list on partitions (#1747)

* Avoid calling list on partitions

Previously we accidentally called `list` on partitions in certain reductions to
ensure that they were not empty.  This instead employs a peek utility function
to do the same.

* add test from jcrist",Matthew Rocklin,mrocklin@gmail.com,2016-11-02 15:00:37-04:00,GitHub,noreply@github.com,2016-11-02 15:00:37-04:00
1b188294f637cdd55911bf0c7c866e5ccfed5eca,"Faster array slicing (#1731)

* Faster array slicing

* Take a bit more shortcuts

* Appease flake8

* Remove unwanted change in docstring

* Optimize inline_functions()

* Faster iterative _deps()

* Optimize cull() and friends

* Appease flake8 again

* Add tests for new functions

* Appease flake8 again

* Use deterministic initialization in test

* Standardize around get_dependencies()

* Install up-to-date distributed in .travis.yml

* Try to fix dependencies on Travis

* Avoid pulling dependencies when upgrading distributed and zict from git",Antoine Pitrou,pitrou@free.fr,2016-11-03 15:17:12+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-03 10:17:12-04:00
225ea69ff58990a272ff2333328b160576f273e2,"ENH: da.ufuncs now supports DataFrame/Series (#1669)

* ENH: da.ufuncs now supports DataFrame/Series

* Add DataFrame.__array__ interface

* Applying np.ufunc now keeps Series/DataFrame Index

* Call __array_wrap__ explicitly

* Add more tests

* Add more tests pt2

* Fix Index

* rebase to master",Sinhrks,sinhrks@gmail.com,2016-11-04 01:30:34+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-03 12:30:34-04:00
4c1d8b461e9a5d193461ca5caa4d3c636c424b20,CLN: cleanup dd.multi (#1728),Sinhrks,sinhrks@gmail.com,2016-11-04 01:30:44+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-03 12:30:44-04:00
5ec7162c91c59e928514d18180e34920e6ded3c8,Avoids spurious warning message in concatenate (#1752),Matthew Rocklin,mrocklin@gmail.com,2016-11-04 08:34:51-04:00,GitHub,noreply@github.com,2016-11-04 08:34:51-04:00
c1ee730a3131c72e84832248712fd28e8ae54637,update changelog (#1757),Matthew Rocklin,mrocklin@gmail.com,2016-11-04 10:51:16-04:00,GitHub,noreply@github.com,2016-11-04 10:51:16-04:00
417a5f4fb7e9efb8a41f71c80bd94ea7949865a9,"Add `dask.__git_revision__` (#1760)

Contains full git-hash, matches convention in numpy. Fixes #1533.",Jim Crist,crist042@umn.edu,2016-11-04 14:21:27-04:00,GitHub,noreply@github.com,2016-11-04 14:21:27-04:00
09adcfaf0bcd88bae8f1118fbedcb9464c1ed71f,"Implement tree-reductions for cov/corr (#1758)

Implement tree-reductions for `cov` and `corr` methods in
`dask.dataframe`. Because the intermediates here are nd-arrays (instead
of dataframes), a special-cased implementation of the reduction
algorithm is used instead of using `aca` directly.

Partially addresses #1672.",Jim Crist,crist042@umn.edu,2016-11-05 02:22:04-04:00,GitHub,noreply@github.com,2016-11-05 02:22:04-04:00
2e4328819d37a88f373f5ad1ac541dc4801d968a,Validate axes in reductions and cumulative reducctions (#1761),Matthew Rocklin,mrocklin@gmail.com,2016-11-06 07:15:14-05:00,GitHub,noreply@github.com,2016-11-06 07:15:14-05:00
0782ab70f0b8675f4a08f2fafc83313c4948c822,"Store to regions (#1756)

This adds a regions= keyword to store allowing us to store dask.arrays to particular output slices of the destination.",Frederic Laliberte,laliberte.frederic@gmail.com,2016-11-06 07:17:02-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-06 07:17:02-05:00
40213cc62c8d0f87f320d999f2a58a87c08513f7,"Feature/groupby reductions multiple levels (#1692)

* Fix var, std, and nunqiue in groupby with multiple levels

* Rename multilevel aggregation test, decrease test data size

* Handle multiple series in groupby

* Allow to use multiple derived columns in groupby

* Fix style problems

* Build meta correctly for list of series in groupby

* Add tests to show limitations, Remove restriction in SeriesGroupBy init

* Fix segfault, add todos of open topics

* Skip name-check for series-groupby-mean

* Remove duplicate _normalize_index introduced in rebase

* Remove xfail for mean/var dtype recast

* Remove xfail for multidimensional series aggregate: now supported

* Fix unique for groupbys on lists

* Unify nunique impl for series and dataframe

* Skip name check for nunique also

* Simplify checks and meta creation, add implementation notes

* Inline helper functions",Christopher Prohm,c.prohm@googlemail.com,2016-11-07 18:16:50+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-07 12:16:50-05:00
bd30288067721551611c234f945e3812bf9e6a24,"Mandatory dtypes on dask-array (#1755)

* Mandatory dtypes on dask-array

- Make known `dtype` mandatory for all `dask.array.Array` objects
- Still need to add inference to map_blocks/atop/reduction as needed.

* Add dtype inference where it makes sense

- dtype must be specified to atop, due to difficulty of inference
- infer dtype in elemwise and map_blocks

* Add tests for array dtype inference",Jim Crist,crist042@umn.edu,2016-11-08 09:15:46-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-08 09:15:46-05:00
5ebc2acb504f88fc9f864ba09a057d9d45c6eac7,"Add `df.map_overlap` (#1769)

- Add a `map_overlap` method to dask.dataframe for doing generalized windowing
  operations. The interface mirrors that of `map_partitions`, but takes in
  extra arguments to describe the overlapping pattern desired.
- Refactor `dd.rolling` to use the new method. Improves efficiency slightly,
  although this appears to already have been done. Fixes #1242.
- Refactor `dd.rolling` to deprecate the `rolling_*` functions, as done by
  pandas.
- Refactor the tests for `dd.rolling`, speeding up the test suite
- Add `df.diff`, which is a simple wrapper around `map_overlap`. Fixes #1765.
- Add docstrings to `dd.rolling.Rolling`. Fixes #1243. I have a larger PR on
  the way for reorganizing the api docs, so that's not done yet here.
- Add docstrings to `dd.tseries.resample.Resampler`",Jim Crist,crist042@umn.edu,2016-11-09 20:14:27-05:00,GitHub,noreply@github.com,2016-11-09 20:14:27-05:00
06a20ea9edc6218500a9c7b9bf0f9e9227217f78,"Serializable lock (#1766)

* Add Serializable Lock to dask.utils

* use Serializable lock by default

* py27 compat

* add docstring

* support colliding lock names

* use WeakValueDictionary for SerializableLocks

* consolidate setstate logic with __init__",Matthew Rocklin,mrocklin@gmail.com,2016-11-10 13:21:37-05:00,GitHub,noreply@github.com,2016-11-10 13:21:37-05:00
535a2a55892798321f9a16e745b3143dbe3181d2,"Use travis tag for master

Only indicate travis status for master branch. Fixes #1771.",Jim Crist,crist042@umn.edu,2016-11-10 13:43:13-06:00,Jim Crist,crist042@umn.edu,2016-11-10 13:43:13-06:00
f3d87ee2cf893853615e8bdf6b502b9f9d445b32,"Add `shift` method to dask.dataframe

Works on DataFrame, Series, and Index. Supports both shifting by number
of rows and by frequency.",Jim Crist,crist042@umn.edu,2016-11-10 13:41:51-06:00,Jim Crist,crist042@umn.edu,2016-11-10 16:38:56-06:00
afbc2711c7ef3ea66319693b667fbae93000be7a,"Fix colormap lookup in diagnostics plots

Some newer bokeh palettes contain non-contiguous integer variations
(e.g. Blues3, Blues4, ...). This was causing problems in our plotting
code when choosing a good colormap.

This fix changes to the following heuristic:
- If there is an integer variation that matches nfuncs, use that
- If nfuncs > the max integer variation, then cycle through
- Otherwise, find the next largest variation, shuffle that palette to
  prevent using just the low range, and then use that. The shuffle has a
  fixed seed to produce consistent plots.

Fixes #1772.",Jim Crist,crist042@umn.edu,2016-11-11 10:41:53-06:00,Jim Crist,crist042@umn.edu,2016-11-11 10:41:53-06:00
79ae0d1652f10eefcadae0d03ff4fed10008673c,"feat(arrayItemsize): add itemsize to array (#1778)

* feat(arrayItemsize): add itemsize to array

* test(arrayItemsize): test itemsize of array",alexandercbooth,alexander.c.booth@gmail.com,2016-11-13 08:44:59-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-13 08:44:59-05:00
ecf55575c565a62da03ec4f255dc613427b867d1,"Fix colormap lookup in diagnostics plots (#1775)

Some newer bokeh palettes contain non-contiguous integer variations
(e.g. Blues3, Blues4, ...). This was causing problems in our plotting
code when choosing a good colormap.

This fix changes to the following heuristic:
- If there is an integer variation that matches nfuncs, use that
- If nfuncs > the max integer variation, then cycle through
- Otherwise, find the next largest variation, shuffle that palette to
  prevent using just the low range, and then use that. The shuffle has a
  fixed seed to produce consistent plots.

Fixes #1772.",Jim Crist,crist042@umn.edu,2016-11-14 10:42:57-05:00,GitHub,noreply@github.com,2016-11-14 10:42:57-05:00
221121cfa007be5d7c36ca6ab713db990bd8a5e1,"Merge pull request #1773 from jcrist/shift

Add `shift` method to dask.dataframe",Jim Crist,crist042@umn.edu,2016-11-14 10:43:06-05:00,GitHub,noreply@github.com,2016-11-14 10:43:06-05:00
4058cb34dad696a39b297ef1c56d5575e4c03cd9,"Refactor bytes

Previously bytes backends (local, s3, hdfs) had to register several functions
like open_files, read_bytes, write_bytes, etc..  These generally returned
delayed values.

Now bytes backends register functions like open, mkdirs, glob that are dask
agnostic.  Dask.bytes.core uses these functions (organized into a class) to
implement all of the read_bytes, write_bytes, etc. functions.

This improves separation of concerns and allows the support of other formats,
such as Parquet.",Martin Durant,martin.durant@utoronto.ca,2016-11-02 15:42:51-04:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-14 16:18:47-05:00
45ec2e1f0994200744ac6cb2162b3adeb4fffbec,"Add basic parquet functionality (#1782)

* Add basic parquet functionality

* Infer seperator from file opener

Also, a few flake corrections

* Fix remaining flake8

* One more flake

* Missing doctest skip

* requested changes

* typo

* add temporary parquet docpage",Matthew Rocklin,mrocklin@gmail.com,2016-11-15 17:29:49-05:00,GitHub,noreply@github.com,2016-11-15 17:29:49-05:00
e37db071de1fc9eb40df94898140cd200c05cd03,"Create default pool on demand (#1781)

Fixes https://github.com/dask/dask/issues/1780",Matthew Rocklin,mrocklin@gmail.com,2016-11-16 11:25:23-05:00,GitHub,noreply@github.com,2016-11-16 11:25:23-05:00
a6d2160ff952b16e2184f89fefb20be5a725575f,"Add str and repr methods to methodcaller (#1788)

This helps debugging",Matthew Rocklin,mrocklin@gmail.com,2016-11-16 19:34:16-05:00,GitHub,noreply@github.com,2016-11-16 19:34:16-05:00
7aa13ca969fde27ab4b81ed6926ef72f1358f11b,"Parquet update (#1794)

* avoid placing ParquetFile in graph

* use hand-made dask graph

* support series in read_parquet

* test parquet names

* Optimize parquet dataframes with column projections

* add test to ensure auto-add index works

* flake8

* add more tests to define column-index behavior

* more read_parquet no index checks

* avoid registration if fastparquet does not exist

* add fastparquet to travis.yml

* add numba to travis

* don't update fastparquet

* use correct myopen in read_parquet

* flake8

* only install fastparquet on 3.5",Matthew Rocklin,mrocklin@gmail.com,2016-11-18 20:56:20-05:00,GitHub,noreply@github.com,2016-11-18 20:56:20-05:00
dddf15bc3c1eaba6e3ce6f18a2647caed68c6041,BUG: ufunc may return normal ndarray (#1799),Sinhrks,sinhrks@gmail.com,2016-11-22 01:23:44+09:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-21 11:23:44-05:00
e830c25049144a5e126be3d70ebeeba50660fe90,"Add df.combine

Works for series and dataframe.",Jim Crist,crist042@umn.edu,2016-11-11 15:38:56-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
48ed16caae35dad4ea55ebe2cda20b9003ddc3ae,"Add `abs` method

Works on dataframe and series.",Jim Crist,crist042@umn.edu,2016-11-11 15:55:31-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
79da38d2666586bf9ad9480de91c5970b275e038,Add `Series.autocorr`,Jim Crist,crist042@umn.edu,2016-11-11 16:09:58-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
69b7003d9b21d36e0c44d77702322e434f9c9d40,"Add nsmallest

Works on dataframe and series.",Jim Crist,crist042@umn.edu,2016-11-11 16:39:58-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
601f8f05dd115e97ba5c5585b3cadf0b7ba1e021,Add DataFrame.sem and Series.sem,Jim Crist,crist042@umn.edu,2016-11-15 22:11:15-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
b0e119c280dd934e835cda5f14515f260156e8be,"Cleanup drop implementation

- Remove non-standard `dtype` kwarg. This was used inside `groupby` and
  `shuffle` functions to ensure the columns index dtype was correct.
  This has been replaced with an explicit setting use of map_partitions
  and a separate function.
- Add `errors` keyword
- Use `map_partitions` instead of `elemwise`",Jim Crist,crist042@umn.edu,2016-11-15 22:50:12-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
695850cc357019e728b9095d3ddfbb9cc55a12d2,"Add df.first and df.last

Also fix autocorr test.",Jim Crist,crist042@umn.edu,2016-11-16 12:40:15-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
1ccc111811f3395933c0db42bd57466a94ce736b,"Add DataFrame.prod, Series.prod",Jim Crist,crist042@umn.edu,2016-11-16 15:26:49-06:00,Jim Crist,crist042@umn.edu,2016-11-21 11:58:07-05:00
6c9e12f166750c85507a5005683a084ea4674971,support delayed values in array top (#1800),Matthew Rocklin,mrocklin@gmail.com,2016-11-21 13:03:34-05:00,GitHub,noreply@github.com,2016-11-21 13:03:34-05:00
b81b623c675b9257e3669cf149ab27496f8ee399,"DOC: Minor formatting tweaks in read_bytes docs. (#1813)

* DOC: Fix escaping for \n.

* DOC: Add missing argument type for ``not_zero``.

* DOC: Better description of ``sample`` argument.",Rolando (Max) Espinoza,rolando@users.noreply.github.com,2016-11-26 18:42:05-03:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-26 16:42:05-05:00
b6ba65dd788581f3bb589684f4f09c8c92f43607,"Add missing space in code example. (#1817)

As title.",stuartarchibald,stuartarchibald@users.noreply.github.com,2016-11-28 18:11:51+00:00,Jim Crist,crist042@umn.edu,2016-11-28 13:11:51-05:00
7a0cf858870d3ee19d83974895709fef455061a0,"Apply category values by reading parquet dict (#1792)

* Apply category values by reading parquet dict

* Add test

* Use assert_eq in test

* flake",Martin Durant,martindurant@users.noreply.github.com,2016-11-30 08:14:14-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-30 08:14:14-05:00
42e45287e08a0548c67dfefc7ec7e7f065232051,"Cardinality estimation using HyperLogLog (#1358)

* Initial implementation of hyperloglog cardinality estimation for dataframe.

Addresses #1288.

* Refactor hashing into one place, update/readd some tests.

Also, minor doc tweak.

* Resolve partitioning_index testing issue

We were depending on partitioning_index to pass through values like 0..n
Now we encode this explicitly.

* flake8

* fix another test

* fix additional test

* test nunique_approx series

* add more tests to nunique approx

* Bugfix

* flake8

* extend hashing tests

* use pandas hash if available

* style edits

* unify file names

* Enable tree aggregation.

* Enable tree aggregation.

* add split_every tests

* More standard coding cookie.

* Remove stale comment and move complex test in with the other, normal tests. (Was previously separate because it was an xfail.)

* Improve docstring.

* remove b parameter from nunique_approx

* Update docstring for new API.",Mike Graham,mikegraham@gmail.com,2016-11-30 08:59:16-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-11-30 08:59:16-05:00
303d038056ef715a2ad0d7a754b6ce8a477e0846,"Hash split (#1808)

* Initial implementation of hyperloglog cardinality estimation for dataframe.

Addresses #1288.

* Refactor hashing into one place, update/readd some tests.

Also, minor doc tweak.

* Resolve partitioning_index testing issue

We were depending on partitioning_index to pass through values like 0..n
Now we encode this explicitly.

* flake8

* fix another test

* fix additional test

* test nunique_approx series

* Enable apply_concat_apply to generate output partitions

This allows apply_concat_apply to split the dataset with a hash during
aggregation, allowing for reducitons with multiple output partitions.
This can help to reduce tail communication for reductions that may have
very large outputs, such as drop_duplicates.

* support split_out in groupby aggregations

* add split_out to value_counts and drop_duplicates

* respond to comments

* flake8",Matthew Rocklin,mrocklin@gmail.com,2016-11-30 12:13:57-05:00,GitHub,noreply@github.com,2016-11-30 12:13:57-05:00
b8beea01a3d9e6c1ed4783ac8c0ba0fabfff1ceb,"Two fixes for split_out (#1823)

1.  Support new hashing code in pandas 0.19.2
2.  Support MultiIndex objects",Matthew Rocklin,mrocklin@gmail.com,2016-11-30 13:50:09-05:00,GitHub,noreply@github.com,2016-11-30 13:50:09-05:00
483da5fc6e6555f7abcd38c2fa2540b33d294241,"Expand options for fillna. (#1819)

* Expand options for fillna

`df.fillna` now supporst the following options:

- `method`
- `limit`
- `axis`

Fixes #1812.

* Add ffill and bfill

Simple wrappers around fillna.",Jim Crist,crist042@umn.edu,2016-11-30 16:03:44-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2016-11-30 15:03:44-06:00
f062e9a287740fe2e0fb07798255d812d7197724,"Don't force sort on groupby levels (#1825)

https://github.com/pandas-dev/pandas/issues/14776",Matthew Rocklin,mrocklin@gmail.com,2016-12-01 08:19:31-05:00,GitHub,noreply@github.com,2016-12-01 08:19:31-05:00
dd6b00707b5b6e08ae6660d7d14323ee8e55c166,"Bug fix: Use a dtype that can support negation. (#1824)

* Bug fix: Use a dtype that can support negation.

* add test for nunique_approx",Mike Graham,mikegraham@gmail.com,2016-12-01 16:12:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-12-01 16:12:52-05:00
e73546a10b89df00db65f42fa8c4be85f1f6bf50,"Fix `drop_duplicates` with `split_out` (#1828)

The `split_out` kwarg was added to `aca` in 303d038. This allows for
outputs to be split by hashing the rows, improving efficiency for large
outputs. However, this defaulted to hashing all columns in the output
dataframe, which didn't play well with the `subset` kwarg to
`drop_duplicates`. This was resulting in not all duplicate rows being
dropped, as they'd hash to different partitions since the hashed columns
weren't being subset.

To fix this, we replace the `split_index` kwarg with `split_out_setup`,
which optionally takes a function to apply to each chunk before being
hashed. `split_out_setup_kwargs` is also available to pass keywords to
this function. `drop_duplicates` was modified to adjust for this change.",Jim Crist,crist042@umn.edu,2016-12-01 16:26:09-05:00,GitHub,noreply@github.com,2016-12-01 16:26:09-05:00
abc5d9b27b4f08f7940d59f7d3a03d569631d24b,"ProgressBar exits on error with get_sync (#1826)

Due to some convoluted logic in when and how the `finish` callbacks were
run in `get_async`, the `finish` method wouldn't be called if
`raise_on_exception` was `True`. Since `get_sync` sets this as `True`,
the `ProgressBar` would never exit if exceptions occurred.

This simplifies the logic, and ensures that `finish` is always called on
exceptions.",Jim Crist,crist042@umn.edu,2016-12-01 16:45:20-05:00,GitHub,noreply@github.com,2016-12-01 16:45:20-05:00
9685631159f1324a6bceb76981fe5c8cfc98b57c,"Test simple parquet scheme (#1810)

* Test simple parquet scheme

* Fix test and flake",Matthew Rocklin,mrocklin@gmail.com,2016-12-01 17:08:56-05:00,GitHub,noreply@github.com,2016-12-01 17:08:56-05:00
0d677efcaac16d03900c5f0daf0ce10399eba769,"Clarify some dask.dataframe docstrings (#1830)

- Add note to `from_pandas` indicating that `npartitions` is
  approximate, and the number of output partitions may not match the
  input.

- Add note to `reset_index` indicating that the default `dask.dataframe`
  index restarts at 0 for each partition.

Fixes #1784.",Jim Crist,crist042@umn.edu,2016-12-01 20:18:53-05:00,GitHub,noreply@github.com,2016-12-01 20:18:53-05:00
7a2d5e378fe67b54df74b0b52ca160a7f3952513,"Improve import time (#1833)

* Improve import time

* Allow using Dispatch.register and Dispatch.register_lazy as a decorator

* Appease flake8

* Remove modules-counting test",Antoine Pitrou,pitrou@free.fr,2016-12-05 23:46:51+01:00,GitHub,noreply@github.com,2016-12-05 23:46:51+01:00
205f91b352fbe156bf09a6c79135a1c661b57237,"Cleanup `funcname` (#1831)

- Supports `partial`, `curry`, `methodcaller`, `multipledispatch` (fixes
  #1820), and generic callables.

- Don't trim the `<>` from the ends of `str(func)` in the fallback, it
  looks odd (ends up like `'function foo at 0x10d137d90'`). This is also
  what `distributed` does.

- Remove unused (and broken) `full` option. Not sure what this for.

- Add tests for this function.",Jim Crist,crist042@umn.edu,2016-12-07 11:40:53-05:00,GitHub,noreply@github.com,2016-12-07 11:40:53-05:00
58332a6e8a4fe744aaa059188b3bae61a1560872,"`dd.get_dummies` raises on object dtype (#1829)

Previously `dd.get_dummies` would pass through object dtype unchanged,
differing from the pandas implementation. This was confusing for users.
Now we error when behavior would differ between pandas and dask.

Fixes #1809.",Jim Crist,crist042@umn.edu,2016-12-07 11:41:39-05:00,GitHub,noreply@github.com,2016-12-07 11:41:39-05:00
c23852d859196bba57bb7d5a49c84cdc2ba252d7,"Fix #417: iterative (progressive) rechunking (#1737)

* Fix #417: iterative (progressive) rechunking

* Fix failing test

* New heuristic

* Make the cost estimate computation much less expensive, and add tests

* A docstring to plan_rechunk()

* Implementation partial optimization in case we hit the memory limit

* wip

* Add pretty-printing function for rechunk plans

* Fix tests and remove prints

* Use threshold to compute when to trigger the splitting pass

* Split and merge both at the same time, as suggested by @shoyer

* Address review comments

* Add sortedcollections to travis.yml",Antoine Pitrou,pitrou@free.fr,2016-12-08 16:34:14+01:00,GitHub,noreply@github.com,2016-12-08 16:34:14+01:00
21e9c5ca20f9a07ee782d8ed4ff952b67ee53a78,"Micro-optimize computation of the rechunk graph (#1827)

* Fix #417: iterative (progressive) rechunking

* Fix failing test

* New heuristic

* Make the cost estimate computation much less expensive, and add tests

* A docstring to plan_rechunk()

* Implementation partial optimization in case we hit the memory limit

* wip

* Add pretty-printing function for rechunk plans

* Fix tests and remove prints

* Use threshold to compute when to trigger the splitting pass

* Split and merge both at the same time, as suggested by @shoyer

* Micro-optimize computation of rechunk graph

* Remove multislice optimization

* More tweaks",Antoine Pitrou,pitrou@free.fr,2016-12-10 21:41:36+01:00,Matthew Rocklin,mrocklin@gmail.com,2016-12-10 15:41:36-05:00
4ae1a203860bd67f09057778c0da5af533b9fcc6,"Allow non-informative chunk sizes in dask.array (#1838)

* Support nan chunk sizes

* support no-chunk svd

* add to_records method to dataframe

* add Frame.values

* raise informative errors when chunks are unknown

* remove visualize debug call

* add warnings to dataframe-to_array methods

* remove _flatten_seq",Matthew Rocklin,mrocklin@gmail.com,2016-12-10 20:19:03-05:00,GitHub,noreply@github.com,2016-12-10 20:19:03-05:00
80839f7b28a6509e9fa836b78358fd5c65559866,"Parquet fixes (#1843)

* Test simple parquet scheme

* Fix test and flake

* Small doc and parameter changes

* Fix for file opener changes in fastparquet

* Fixes for changes in fastparquet

* Flake update

* Test in s3 needed updating

* Update for changes in fastparquet

Need to preallocate dataframe before calling real row-group

* follow rename of _read_parquet_row_group

* make importerror more apparent

* flake8",Martin Durant,martindurant@users.noreply.github.com,2016-12-16 10:15:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-12-16 10:15:25-05:00
b2d5d2f25473af9d95009d9d453c98e0e9b74fdb,support fillna with a series input (#1842),Matthew Rocklin,mrocklin@gmail.com,2016-12-16 11:23:52-05:00,GitHub,noreply@github.com,2016-12-16 11:23:52-05:00
b8e3876590b7909039ae55ee17192c677359c2f2,"Add `size` kwarg to `da.random.gamma` (#1857)

`size` kwarg was missing, appears there was a past confusion equating
the `shape` and `size` arguments.",Jim Crist,crist042@umn.edu,2016-12-21 21:54:37-05:00,GitHub,noreply@github.com,2016-12-21 21:54:37-05:00
8f12f54b46340d1a243ce1254c6843fde4ab7232,"Add storage options to parquet functions (#1855)

* Add storage options to parquet functions

* Add test

One particular par passed through to s3

(We just check that it ended up in the instance, not that it had any
effect)

* flake

* Squash previous attempt to set block sizes for s3

* flake",Martin Durant,martindurant@users.noreply.github.com,2016-12-22 13:53:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-12-22 13:53:48-05:00
c531cb7b409b8e8f94b9e039d80d88166fb91e68,Add __delitem__ and copy to dask.dataframe (#1858),Matthew Rocklin,mrocklin@gmail.com,2016-12-22 13:53:55-05:00,GitHub,noreply@github.com,2016-12-22 13:53:55-05:00
edfa5f3c668e66e5a39e564b34ca322b940c4955,add read_parquet to dask.dataframe base api (#1859),Matthew Rocklin,mrocklin@gmail.com,2016-12-22 13:54:05-05:00,GitHub,noreply@github.com,2016-12-22 13:54:05-05:00
54ae465584409ac70eb022c957540a40397e60c3,Ensure read_parquet uses correct column ordering (#1862),Matthew Rocklin,mrocklin@gmail.com,2016-12-22 16:32:18-05:00,GitHub,noreply@github.com,2016-12-22 16:32:18-05:00
636ef217f28e190476a2a29dfa3bbae81fb90463,"Rewrite dataframe I/O docs (#1864)

* Rewrite dataframe I/O docs

We use docstrings as the main source of information in documentation.
This centralizes things and forces us to unify docstring style a bit.

* remove duplicate docstrings

* add to_parquet method to dask.dataframe

* flake8

* defend Python 2 against __doc__ mutation",Matthew Rocklin,mrocklin@gmail.com,2016-12-23 21:25:28-05:00,GitHub,noreply@github.com,2016-12-23 21:25:28-05:00
24f467458495f79d35ef4468483d1406c2fbf060,"Use empty index  in time slicing (#1865)

* Use empty index  in time slicing

Previously pandas would reverse start and stop of a loc query.

* update pandas version to 0.19.1

* use min/max instead",Matthew Rocklin,mrocklin@gmail.com,2016-12-24 10:05:05-05:00,GitHub,noreply@github.com,2016-12-24 10:05:05-05:00
f25e35d9fae123de3b57eb41486f8dc7d70e16ca,add stackoverflow link to faq docpage,Matthew Rocklin,mrocklin@gmail.com,2016-12-24 11:42:44-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-12-24 11:42:44-05:00
187db0a4fb3e89302c3e8cdb8d8082416fa218a7,update changelog,Matthew Rocklin,mrocklin@gmail.com,2016-12-24 13:33:06-05:00,Matthew Rocklin,mrocklin@gmail.com,2016-12-24 13:33:06-05:00
956f9f56b8cb2ecb08077eb0b57b6e153c359d32,"Add parquet roundtrip test (#1863)

* add parquet roundtrip test

* add more test cases to roundtrip

* fix some tests

* tweak tests

* flake8

* use categories= in parquet roundtrip test",Matthew Rocklin,mrocklin@gmail.com,2016-12-24 17:18:57-05:00,GitHub,noreply@github.com,2016-12-24 17:18:57-05:00
b2b34440be4ac4740425a8e5ee8aab1b2a80e516,"Add divisions= keyword to set_index (#1866)

* Add divisions= keyword to set_index

This allows us to remove set_partitions from public API.  We also
significanltly enhance the set_index docstring.

* add sorted timeseries example",Matthew Rocklin,mrocklin@gmail.com,2016-12-24 17:19:16-05:00,GitHub,noreply@github.com,2016-12-24 17:19:16-05:00
76fffb27a977826d70e8c056e3724fd7cc5737b5,"Create new partd for every bag groupby (#1867)

Fixes https://github.com/dask/dask/issues/1851",Matthew Rocklin,mrocklin@gmail.com,2016-12-26 16:59:36-05:00,GitHub,noreply@github.com,2016-12-26 16:59:36-05:00
9ffd16b1f78b97896b697fc706fbfac0b5001373,"More unknown shape improvements (#1840)

* add unknown chunks to docs

* add ability to slice dask arrays with dask arrays

* support setitem

* remove limitations from dask.array documentation

* more tests

* typo

* remove errant notimplemented test

* flake8

* support Array.copy in face of mutation

* add dataframe.copy

* correct limitations numbering

* flake8",Matthew Rocklin,mrocklin@gmail.com,2016-12-28 10:45:32-05:00,GitHub,noreply@github.com,2016-12-28 10:45:32-05:00
aff7284671c9e3d443cec3a07855cafabeba8fc5,Test against pandas 0.19.2 (#1869),Matthew Rocklin,mrocklin@gmail.com,2016-12-28 21:29:08-05:00,GitHub,noreply@github.com,2016-12-28 21:29:08-05:00
f9294518e97a9cdd7b63b9c30b32053c9d761a88,"Support groupby slice with numeric index (#1872)

Fixes #1835",Matthew Rocklin,mrocklin@gmail.com,2016-12-29 18:12:55-05:00,GitHub,noreply@github.com,2016-12-29 18:12:55-05:00
112caf784c13a814c73e4fb1133968cb89029d91,update requirements and .travis.yml (#1871),Matthew Rocklin,mrocklin@gmail.com,2016-12-29 18:13:07-05:00,GitHub,noreply@github.com,2016-12-29 18:13:07-05:00
91d102ef098b7723bc72820153db7d3ef2ea6d17,minor doc fixes,Matthew Rocklin,mrocklin@gmail.com,2017-01-01 11:03:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-01 11:03:52-05:00
e20657f394ee9fdf5cb5a3dfaf1c477817e89962,"Switch default object encoding to utf8 (#1860)

This may be a more common default than bytes",Matthew Rocklin,mrocklin@gmail.com,2017-01-01 21:28:42-05:00,GitHub,noreply@github.com,2017-01-01 21:28:42-05:00
98984d7c6478bc31083b3e191006703c819cc339,bump version to 0.13.0,Matthew Rocklin,mrocklin@gmail.com,2017-01-02 11:39:23-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-02 11:39:23-05:00
51fa9af4acf114895a69c380df90086d97616212,"Remove toolz dependency in async.py (#1882)

* Remove toolz dependency in async.py

- provide an 'identity' function right inside dask/async.py so that toolz
  isn't a hard requirement for a ""default"" pip installation

- closes #1849

* PEP8 and doctest fixes in dask/async.py",Kevin Ernst,ernstki@mail.uc.edu,2017-01-03 21:46:22-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-03 21:46:22-05:00
864eab734bea38e91953af5e4addcd9166fa6d26,Correct minor typo in docstring (#1889),Elmar Ritsch,elritsch@users.noreply.github.com,2017-01-06 01:41:25+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-05 16:41:25-08:00
97251223cb20ffb1eca46c87fafad7694a8a8259,"Changes `delayed(nout=1)`-behaviour to be more consistent. (#1886)

* Changes `delayed(nout=1)`-behaviour to be consequent for functions with length-1 return tuples. E.g. `return val,` (note the trailing comma).

* Enhances documentation of `delayed`. Minor refactoring of respective test.

* Enables `delayed(nout=0)` behavior.",Markus Gonser,magonser@mksg.de,2017-01-06 19:49:13+01:00,Jim Crist,crist042@umn.edu,2017-01-06 12:49:13-06:00
3608d7e3e55858908146a9a505e1a861c9bd66dc,"Use proper lock in dask.dataframe.to_hdf with the distributed scheduler (#1879)

* Use proper lock in dask.dataframe.to_hdf with the distributed scheduler

The distributed scheduler will not work with the previously default Thread.Lock, it requires the SerializableLock instead.

Additionally, I added a minor namespace change""

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* Create a scheduler selection function to share logic

Instead of including the logic directly in

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* Simplify get_scheduler_lock based on shoyer's comments

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* rename 'df' to 'collection'

Signed-off-by: Nir Izraeli <nirizr@gmail.com>",Nir,nirizr@gmail.com,2017-01-06 22:44:32+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-06 12:44:32-08:00
b03486c3bee75d4292f501249163a516e3b64b2d,"Update scheduler-overview.rst (#1893)

* Update scheduler-overview.rst

A user emailed the documentation team that the example caused errors and was fixed by this change. Please review.

* Update scheduler-overview.rst",Will Warner,electronwill@gmail.com,2017-01-06 20:33:49-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-06 18:33:49-08:00
dbb89c646c458cf0f83002705a206b1871e9e557,"Use `delayed(x).compute()` instead of `compute(*x)` (#1894)

* Use `delayed(x).compute()` instead of `compute(*x)`

Previously `compute(*args)` is used in several places to compute a list
of `Delayed` values - usually for I/O purposes. This uses the generic
`compute` function from `dask.base`. This is a generic method that
has no knowledge of `Delayed`, and instead works with the `dask`
attributes on objects. Because of this, it does unnecessary merging of
dictionaries that can be skipped by using `delayed(args).compute()`
instead. For large numbers of `Delayed` objects, this can be much
faster, and uses less memory.

Fixes #1888.

* Optimize `compute` to avoid unnecessary graph merging

Previously `dask.base.compute` would only look for the `dask` attribute
on dask objects. This was general, but could cause unnecessary copying
in the case of many `dask.delayed.Delayed` values. We now first check
for the existence of the `_dasks` attribute (as found on `Delayed`
values), and fallback to the `dask` attribute if not found. For a
pathological case, this results in a 2500% memory reduction.",Jim Crist,crist042@umn.edu,2017-01-09 14:40:03-06:00,GitHub,noreply@github.com,2017-01-09 14:40:03-06:00
8922f92a13fb32187d7c67e9f017cadd6af22046,"``dd.from_delayed`` forwards divisions kwarg (#1900)

Fixes regression where `dd.from_delayed` wouldn't forward `divisions`
kwarg. Also moved tests to `io`, to match where the implementation of
`from_delayed` is. Fixes #1897.",Jim Crist,crist042@umn.edu,2017-01-09 16:36:33-06:00,GitHub,noreply@github.com,2017-01-09 16:36:33-06:00
b2dbc973c1a454db9fb22778e4e35dfd78239c40,"Add `traverse` kwarg to `delayed` (#1899)

* Add `traverse` kwarg to `delayed`

By default dask traverses builtin python collections looking for dask
objects passed to ``delayed``. For large collections this can be
expensive. This PR adds a keyword ``traverse`` to ``delayed``, to tell
dask to avoid doing this traversal.

Fixes #1884.

* quote handles lists, faster

Previously `quote` would only quote tasks, and would make a copy of the
tuple, as well as recurse into its arguments. Now we wrap literals in a
small class, and then return a task to unbox them. This is more
efficient, as it removes the need to copy and is O(1) (instead of
recursing through the collection).

* Simplify literal slightly

Use `__call__` instead of a separate function.",Jim Crist,crist042@umn.edu,2017-01-10 13:20:19-06:00,GitHub,noreply@github.com,2017-01-10 13:20:19-06:00
33d61ec27978fa5edb80a3c59fd8e7b4af1ea925,Avoid division by zero in rechunk (#1902),Matthew Rocklin,mrocklin@gmail.com,2017-01-10 20:01:00-05:00,GitHub,noreply@github.com,2017-01-10 20:01:00-05:00
b0567c4ffd01f1ea0ae7c6136e11c0dcf0051cc2,"Fix edge behavior for floating step arange (#1904)

Previously this would fail due to inconsistent boundary handling in
numpy. Fixes #1903.",Jim Crist,crist042@umn.edu,2017-01-10 20:15:00-05:00,GitHub,noreply@github.com,2017-01-10 20:15:00-05:00
c68f277ba46280b0018aef149616641cffcad10e,"`meta_nonempty` works with empty categories (#1907)

Previously this expected all categorical series/indices to have at least
one category. This was causing issues, in particular with parquet
support. Fixes #1905.",Jim Crist,crist042@umn.edu,2017-01-12 12:04:29-05:00,GitHub,noreply@github.com,2017-01-12 12:04:29-05:00
98c3481eec58e1b68dbb687f1621c36be121afba,Fixes #1885: Make Windows paths parsing more robust (#1910),Vlad Frolov,frolvlad@gmail.com,2017-01-15 17:04:11+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-15 10:04:11-05:00
a8cc054c0fa5d2a17614850a2861807ef5be5920,"DataFrame.loc now supports indexing with list (#1913)

* DataFrame.loc now supports indexing with list

* add more tests",Sinhrks,sinhrks@gmail.com,2017-01-19 22:39:50+09:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-19 08:39:50-05:00
3fbf46040c4f964f80e53250be160e8387143c44,add funding page to docs,Matthew Rocklin,mrocklin@gmail.com,2017-01-20 09:56:53-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-20 09:56:53-05:00
259b51f50a26b4839ea117f1d2c48dab1170dcb7,"Rename tasks when fusing (#1919)

* WIP: Rename tasks when fusing. #1911

* Add `rename_fused_keys=` keyword to `fuse` and copy `key_split` from `distributed.utils`.

Other than the impressive number of test failures, I think this is virtually done.

* Keep the `{old_key: new_key}` aliases in the fused dict.  It makes tests much happier.

* Fix tests and add tests for `rename_fused_keys=True`

Every test in `test_fuse` and `test_fuse_keys` is repeated for
`rename_fused_keys` True and False.  I didn't add any new, aggressive
tests for True.

* Install conda=4.2 on travis-ci (for now)

* Make flake8 happy.

* Fix doctests for `key_split`?

* Oh yeah, update docstring examples for `fused`.

* Improve perfomance: don't call `inline` in fuse.  Also, jimc formatting change.

The alias substitutions in `fuse` are simple replacements, which we can do
much more efficiently without calling `inline`.

* Oups.  Still has `@profile`.

* Only keep aliases given in `keys=` (if specified)

* optionally use lru_cache for key_split

* Use type is rather than isinstance in default_fused_keys_renamer

* Revert ""optionally use lru_cache for key_split""

This reverts commit 22dd5d2431971ee0416259f5f7f6c46f13b98e62.

* Undo changes to .travis.yml (`conda update conda`).

conda error has been fixed by latest conda.",Erik Welch,erik.n.welch@gmail.com,2017-01-20 16:21:05-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-20 17:21:05-05:00
71ffc6beb16afccb97006ff14bdf1ef970ec919c,"Small optimizations for dask.array zero_broadcast_dimensions (#1924)

* Small optimizations for dask.array zero_broadcast_dimensions

* Add homogeneous_deepmap to utils",Matthew Rocklin,mrocklin@gmail.com,2017-01-20 17:23:17-05:00,GitHub,noreply@github.com,2017-01-20 17:23:17-05:00
2d949f2f6d9307c31fa439a0efbe1abc24b9e4b8,"groupby().cumsum()/cumprod() implementation (#1909)

* groupby().cumsum()/cumprod() implementation

* groupby().cum{sum,prod} do not support skipna, but axis as pandas

* added support for groupby().cumcount()

* fixed na handling in groupby().cum...

* cleaned up groupby().cum... code",Daniel Davis,wabu@fooserv.net,2017-01-21 02:52:43+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-20 20:52:43-05:00
c2c7b541c16084d91ec696dca63ca054a8d029fd,"Merge dask.array.concatenate_axes logic with dask.array.concatenate3 (#1923)

* Merge dask.array.concatenate_axes logic with dask.array.concatenate3 (#1923)

* Fix docstring and use of xrange

* Fix flake8 errors",Chris Barber,barberchris01@gmail.com,2017-01-22 04:53:51-08:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-22 07:53:51-05:00
a8db711e0d1a37dc1346bddb7b6ca51ba3a84f98,"ENH: Add DataFrame tabular repr (#1637)

* ENH: Add DataFrame tabular repr

* Update format

* Fixed format

* fix lint

* add dask name and task nums

* use key_split in dataframe repr",Sinhrks,sinhrks@gmail.com,2017-01-22 23:51:44+09:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-22 09:51:44-05:00
42986b0b31d2e972b027fc2b730178365adee05a,"Support non-uniform categoricals (#1877)

Add support for non-uniform categoricals.

This adds support for different partitions having different categorical
mappings. This is accomplished through `union_categoricals`, a method added in
pandas 0.19.0. As such, support for pandas < 0.19.0 has been dropped.

### Changes to metadata:

Categorical columns/indices now have two states:

- known categoricals have the `categories` known statically (on the `_meta`
  attribute)
- unknown categoricals don't know the categories statically, and are indicated
  by the presence of `dd.utils.UNKNOWN_CATEGORIES` in the categories on the
  meta attribute. This is nice, because operations on the categorical in most
  cases propagate the presence of this value, so the known/unknown state
  carries through inference.

### Changes to the categorical accessor

To query and convert between these states, following has been added to the
categorical accessor:

- `.cat.known` is a property that indicates if the categories are known
- `.cat.as_known()` converts unknown to known (and is a no-op if already
  known). Note that this requires computation.
- `.cat.as_unknown()` converts known to unknown. This requires no computation -
  it's just a change in metadata.

If the categories are known, then `.cat.categories` returns statically (no
computation needed). If they are unknown, then an error is raised (rather than
computing them)

### Changes to concat

Concatenation of *dask* dataframes with different categoricals is now
supported. For each column/index in a dataframe, the output *dask* column/index
will have known categories only if all categories are known. Otherwise the
categories will be unknown.

After a call to concat, each partition is guaranteed to match the metadata on
the containing dask dataframe. This fixes a bug from before where in certain
cases partitions could have different columns/datatypes.

### Changes to `pivot_table` and `get_dummies`

These functions only work if the categories are known. If unknown, an error is
raised

### Changes to `read_csv`

For pandas > 0.19.2, dask now supports reading from csvs directly into
categorical columns. These will be unknown categories

### Changes to `merge`

No changes are made to merge. Pandas merge doesn't support merging
categoricals, *even if the categoricals are identical*. As such, dask doesn't
error, but the categorical datatype is dropped. When this is fixed in pandas,
support for merge on differing categoricals can be added.

### Changes to `hash_pandas_object`

Previously, this would hash categories based on codes only. We now hash based
on the values the categoricals represent. This was patched in pandas, and will
be in the next release. The fix is backported to dask for versions 0.19.0 to
0.19.2. The faster (and more stable) object hash will be used for pandas
0.19.2.

### Changes to `categorize`

Categorize now takes an optional ``index`` parameter, indicating whether to
categorize the index or not. Additionaly, by default it will convert all
unknown categoricals to known categoricals.",Jim Crist,crist042@umn.edu,2017-01-23 13:16:44-06:00,GitHub,noreply@github.com,2017-01-23 13:16:44-06:00
e47a71fec125bb45ce0676e3866a5337d856cb69,"Add categorical section to dataframe docs (#1929)

* Remove unneeded pandas version check

* Add categorical section to docs

Add docs on recent categorical work.

* Address comments

* Address moar comments",Jim Crist,crist042@umn.edu,2017-01-24 06:45:45-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-24 07:45:45-05:00
45eed0ca25f2bb22cf4d87960de2ac5d4a02f268,"add Python 3.6 to travis.yml, remove Python 3.3 (#1874)",Matthew Rocklin,mrocklin@gmail.com,2017-01-24 07:45:54-05:00,GitHub,noreply@github.com,2017-01-24 07:45:54-05:00
5868c5a80bf02596a8cea1da4141ecc01287cdd6,sort sets on normalization (#1931),Matthew Rocklin,mrocklin@gmail.com,2017-01-24 11:38:43-05:00,GitHub,noreply@github.com,2017-01-24 11:38:43-05:00
7382d5e49823a79f911b42fdc9296a61f971a3a8,"Add known/unknown status to repr (#1932)

Change the repr for dask dataframe so that categorical dtypes repr
including their known/unknown status. This makes `category` repr as
`category[known]`/`category[unknown]` depending on known/unknown status.

Also fix a bug in the repr methods where the repr data was cached,
leading to the same repr even if metadata/divisions changed.",Jim Crist,crist042@umn.edu,2017-01-24 22:21:33-06:00,GitHub,noreply@github.com,2017-01-24 22:21:33-06:00
dd1d3a7f38ad8b80171ff9798d552e676665971a,support negative axis values in swapaxes (#1933),Matthew Rocklin,mrocklin@gmail.com,2017-01-25 07:50:48-05:00,GitHub,noreply@github.com,2017-01-25 07:50:48-05:00
7f42b420795d92ebf78b17f9e3ca742b71a98719,"Add persist function (#1927)

* Add persist function

This mirrors the interface of compute, but returns in-memory dask
collections.

* use client.persist if a client exists

* support non-collections in distributed persist

* add persist method to base

* add docstring to persist

* flake8

* respond to feedback",Matthew Rocklin,mrocklin@gmail.com,2017-01-25 14:28:34-05:00,GitHub,noreply@github.com,2017-01-25 14:28:34-05:00
be3f020d303e8e83a07669e001b04e41fb92ab05,"Allow dask.bag.repartition to increase the number of partitions (#1934)

* Allow dask.bag.repartition to increase the number of partitions

Fixes #1699

* respond to comments",Matthew Rocklin,mrocklin@gmail.com,2017-01-26 14:30:46-05:00,GitHub,noreply@github.com,2017-01-26 14:30:46-05:00
e973b6b4965f18cf374d95473fab63574cce681e,add simple test for appending to parquet archives,kayibal,alan.f.hoeng@gmail.com,2017-01-27 15:22:52+01:00,kayibal,alan.f.hoeng@gmail.com,2017-01-27 15:22:52+01:00
274706a8bed93b652a3496bca2bcd434fa87a479,"Added Presentations section to docs for issue #987 (#1937)

* Added Presentations section to docs for issue #987

* Added PLOTCON Presentation",John Crickett,john@trivialbusiness.co.uk,2017-01-27 15:36:00+00:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-27 10:36:00-05:00
4790918684e99b3cabbe4050ff13858ae42d8d99,Added parquet append option. #1936,Talmaj Marinc,talmaj@gmail.com,2017-01-27 16:51:43+01:00,kayibal,alan.f.hoeng@gmail.com,2017-01-27 17:47:31+01:00
74784d5a63941e4f93af73e80a14bd80fae54d18,"Added more tests, adjusted the code and improved error messaging #1940, #1936 .",Talmaj Marinc,talmaj@gmail.com,2017-01-27 20:02:56+01:00,Talmaj Marinc,talmaj@gmail.com,2017-01-27 20:02:56+01:00
6328ab5c9ac529e997571334fdc316a1ba23f10c,"Remove unused optimizations (#1942)

* Remove equivalent, merge_sync, sync_keys

These were added, but never used. Removing.

* Remove dealias

The schedulers handle aliases (and have for a while). This function was
unused, removing.",Jim Crist,crist042@umn.edu,2017-01-27 17:49:48-06:00,GitHub,noreply@github.com,2017-01-27 17:49:48-06:00
6b9b3556e65c99fca325c0448ea83de6b1b4221c,add blogposts to examples,Matthew Rocklin,mrocklin@gmail.com,2017-01-27 19:07:24-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-01-27 19:07:24-05:00
eee8f5dd5d9213fa46a7d3a68e7ec3ae43548b72,Fixed flake8 conditions.,Talmaj Marinc,talmaj@gmail.com,2017-01-28 23:21:29+01:00,Talmaj Marinc,talmaj@gmail.com,2017-01-28 23:21:29+01:00
17083677379bc17cc087c7ebf7d64cd979c647bc,Added dtypes check and its test.,Talmaj Marinc,talmaj@gmail.com,2017-01-30 12:29:19+01:00,Talmaj Marinc,talmaj@gmail.com,2017-01-30 12:29:19+01:00
58de5404d610fe761c9535c0277a32a4398b163a,"Merge pull request #1940 from datarevenue-berlin/feature/parquet-append

Feature/parquet append",Martin Durant,martindurant@users.noreply.github.com,2017-01-30 17:55:40-05:00,GitHub,noreply@github.com,2017-01-30 17:55:40-05:00
30c199343fafb661840b5b2fef08a094d888fdb4,"Issue #1883 - Unicode errors on string columns with NaNs  (#1945)

* Test and fix for Issue #1883 Unicode errors on string columns with NaNs",John Crickett,john@trivialbusiness.co.uk,2017-01-31 00:20:24+00:00,Jim Crist,crist042@umn.edu,2017-01-30 18:20:24-06:00
1443e81089fbeb6e169be817db1d681bbbdb40a2,`db.frequencies` works with empty partitions (#1939),jspreston,j.sam.preston@gmail.com,2017-01-31 14:35:50-05:00,Jim Crist,crist042@umn.edu,2017-01-31 13:35:50-06:00
d34080c45faa66ca4bdc8c5b235da716ab780676,"Raise error if groupby key is unaligned with df (#1941)

Pandas allows grouping by a key that isn't aligned with the grouped
DataFrame/Series. If this happens, then groupby first aligns the indices
before performing the grouping. Unfortunately this operation isn't
threadsafe, and can lead to incorrect results. Since grouping by an
unaligned key isn't recommended, we just error loudly in these cases.

Fixes #1876.",Jim Crist,crist042@umn.edu,2017-01-31 13:37:27-06:00,GitHub,noreply@github.com,2017-01-31 13:37:27-06:00
c7cef9875276f20be435b6afe7e8fef7fc32697b,"Allow `dask.bag` reductions to work on very sparse data. (#1950)

* Allow `dask.bag` reductions to work on very sparse data.

Now, the `aggregate` function that merges results can return `no_result` if
all the inputs are also `no_results`.  However, the very last call to
the `aggregate` function will not return `no_results`, so it will still
error as appropriate.

Fix `merge_frequencies` and test `frequencies` with empty partitions.

Fix and test sparse `dask.bag.distinct` too.",Erik Welch,erik.n.welch@gmail.com,2017-01-31 14:32:52-06:00,Jim Crist,crist042@umn.edu,2017-01-31 14:32:52-06:00
64a480a96fc0aa4af64228cd1db2fb621f6a9d68,"Improve error message for dtype inference error (#1951)

- Don't raise in the `except` block, as this makes a less clear
  traceback
- Suggest to use the `dtype` kwarg to address the error.",Jim Crist,crist042@umn.edu,2017-01-31 16:52:55-06:00,GitHub,noreply@github.com,2017-01-31 16:52:55-06:00
4b0b2405ba49054c12765b66e955ce858290a800,"Fix bug in da.map_blocks (#1952)

Previously we were accidently calling `reversed` instead of `sorted(...,
reverse=True)`, which would cause failures in `map_blocks` if chunks
were provided explicitly. Fixes #1947.",Jim Crist,crist042@umn.edu,2017-01-31 16:53:19-06:00,GitHub,noreply@github.com,2017-01-31 16:53:19-06:00
bd89dd8bb5651075869c9d64ac80122b56ad992e,"Fix when performing multiple reductions on a sparse bag. (#1953)

* Fix when performing multiple reductions on a sparse bag.

When doing `db.compute(bag.min(), bag.max())`, the iterable on each partition
is converted to a list so it can be passed to both reducers.  Previously,
if `empty_safe_apply` was given a list, it wouldn't return `no_result`.  We
are now explicit about which tasks are the final aggregations.",Erik Welch,erik.n.welch@gmail.com,2017-02-01 10:47:09-06:00,Jim Crist,crist042@umn.edu,2017-02-01 10:47:09-06:00
7a02efcc45e765bbedd04935530fab1d1eb2f078,"Correctly slice arrays with empty lists (#1955)

Previously we were falling into the wrong branch due to the
vacuous truth of an empty all([]) condition",Matthew Rocklin,mrocklin@gmail.com,2017-02-01 17:50:06-05:00,GitHub,noreply@github.com,2017-02-01 17:50:06-05:00
df83847de0f903b1892dedf911c30a3315f8270e,"Propagate errors= keyword through dask.bytes (#1954)

Previously we didn't pass the errors= keyword cleanly through dask.bytes
This affects db.read_text",Matthew Rocklin,mrocklin@gmail.com,2017-02-01 17:55:48-05:00,GitHub,noreply@github.com,2017-02-01 17:55:48-05:00
762aae558c663b343795abb50f8059892fdbfb1d,"Handle size zero shape in dask.array rechunk (#1935)

* Handle size zero shape in dask.array rechunk

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-02-02 07:39:41-05:00,GitHub,noreply@github.com,2017-02-02 07:39:41-05:00
b34c9d9a17d5239fd00c772211575bf25c23968f,"Support empty chunks in atop, rechunk (#1956)

* Support empty chunks in atop, rechunk

* atop with zero chunks and new_axis

* broadcast against zero shape

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-02-02 19:19:52-05:00,GitHub,noreply@github.com,2017-02-02 19:19:52-05:00
01bc173456fa8e827d0636fdad758e9bdc0888fc,"`dask.bag.from_delayed` may create iterators.  Reify to lists if necessary (#1966)

* `dask.bag.from_delayed` may create iterators.  Reify to lists if necessary.

If the `delayed` functions used to create bags return iterators, then we
should convert them to lists iff they are directly used by multiple tasks.
If we don't do this, then the first task will exhaust the iterator, thereby
leaving nothing for the second task to operate on.

`reify` and `list` will be optimized out by the bag optimizations as
appropriate.

* Oups.  That test wasn't needed anyway.

Still, it's interesting that `pluck` in `toolz` and `cytoolz` behave
differently in this exceptional case.  I should fix that.",Erik Welch,erik.n.welch@gmail.com,2017-02-06 16:36:32-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-06 17:36:32-05:00
a5b308f7e74c43d971dd7a56a531e39dcd840ebf,"delayed avoids repeat calls to normalize_function (#1970)

We previously called ``normalize_function`` on every call to a delayed
function. This is expensive, and can be even more so if the function
requires cloudpickle. This fixes that to use a cached (but equivalent)
argument to represent the function.",Jim Crist,crist042@umn.edu,2017-02-09 08:54:31-06:00,GitHub,noreply@github.com,2017-02-09 08:54:31-06:00
c8828ffab37675a8c2de0667a286657a8c157805,"dask.compute traverses python collections (#1975)

Previously the top-level function ``dask.compute`` would pass through
all non-dask objects. We now wrap all python collections in
``dask.delayed``, allowing ``compute`` to handle builtin python
collections containing dask objects. Fixes #1968.",Jim Crist,crist042@umn.edu,2017-02-10 10:30:06-06:00,GitHub,noreply@github.com,2017-02-10 10:30:06-06:00
1a1e21a5abb143640f0dd780538b1adee503f8f5,"Deprecate dask.delayed `compute` and `do` (#1976)

``dask.delayed.compute`` was removed in #1975, and was made a simple
alias to ``dask.base.compute``. This deprecates the function found here,
and redirects users to import from elsewhere.

``dask.delayed.do`` was renamed to ``dask.delayed.delayed`` in #1085,
making ``dask.delayed.do`` a simple alias. This PR deprecates that
alias. Users can always import ``dask.delayed`` as an alias if needed:

```
from dask import delayed as do
```",Jim Crist,crist042@umn.edu,2017-02-12 10:02:07-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-12 11:02:07-05:00
c53ad8c92b254a59c11120eec58cf9e0ef753550,"Support futures in from_delayed (#1961)

* Support futures in from_delayed

* flake8

* flake8

* add git-master distributed to appveyor

* switch git repos from mrocklin to dask

* only convert futures to delayed",Matthew Rocklin,mrocklin@gmail.com,2017-02-12 11:33:19-05:00,GitHub,noreply@github.com,2017-02-12 11:33:19-05:00
1f000ff5894788c3d2a3e18de954abfd5d047478,Avoid hashing in da.from_array if no name desired (#1972),Matthew Rocklin,mrocklin@gmail.com,2017-02-13 08:43:54-05:00,GitHub,noreply@github.com,2017-02-13 08:43:54-05:00
a07bb0be539621ec04ee789667fc5d6c8718123a,"Allow different category labels in parquet partitions (#1930)

* Allow different category labels in parquet partitions

Define the labels in the metadata using UNDEFINED_CATEGORIES.

* Use assert_eq

* Fix categories=None in read_parquet

* Do not accidentally add columns to meta

Specifying a column to categories= would put it in meta; no more. Now
it is simply ignored (no exception), as in fastparquet.

* Use column validation for categories= at load

* Jim's fixes",Martin Durant,martindurant@users.noreply.github.com,2017-02-13 10:31:06-05:00,Jim Crist,crist042@umn.edu,2017-02-13 09:31:06-06:00
0f8dcd058ebbbf05d31b276dc457e76f24d85a4e,"Add dataframe performance doc (#1963)

* Add dataframe performance doc

* typos",Matthew Rocklin,mrocklin@gmail.com,2017-02-13 10:47:36-05:00,GitHub,noreply@github.com,2017-02-13 10:47:36-05:00
2502c3ef7d38c8ec0af7f19fb0fd2913ada408bf,"Fix groupby multilevel issues (#1914)

* Fix groupby multilevel issues

* remove pandas ver check

* remove unused args",Sinhrks,sinhrks@gmail.com,2017-02-15 02:10:52+09:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-14 12:10:52-05:00
1e2bf8973ff3706e68a5a55d6392a5798bd072bd,"Fix doc badge to point to PyData. (#1982)

[ci skip]",jakirkham,jakirkham@gmail.com,2017-02-14 15:59:38-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-14 15:59:38-05:00
ecf9727f520883c1057c1057fd038b0ac879e7fb,fix link in examples docpage,Matthew Rocklin,mrocklin@gmail.com,2017-02-17 07:03:39-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-17 07:03:39-05:00
8c3bb38744277c2682788c78ec77c0227d7363e6,"Update optimize example to work again (#1990)

Changes in api over time have caused this to no longer produce the same
graphs. Fixes #1989.",Jim Crist,crist042@umn.edu,2017-02-17 20:44:21-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-17 21:44:21-05:00
5ff6821407df62f27814ea79b3d68e4f75df271a,"Structural sharing between dask graphs (#1985)

* Add ShareDict draft implementation

This may eventually be used to create new dask graphs without excessive copies.

* update ShareDicts with ShareDicts

* use ShareDict in dask.array

* Demote ShareDict to Mapping

* flake8

* Remove ordering from ShareDict

* update docstring

* clean up delayed in dask.bag and dask.dataframe

* remove auto-cull in array slicing

* Remove special case for Delayed in base

* support backwards compatibility with Delayed(dsk])

* appease flake8

* rename update to update_with_key

* cleanup docstring and remove sorting

* assert key is None when updating with sharedict

* Ensure dask.array dicts are non-overlapping

* nonone -> non_one

* add disclaimer in docstring

* replace merge with sharedict.merge",Matthew Rocklin,mrocklin@gmail.com,2017-02-17 21:46:56-05:00,GitHub,noreply@github.com,2017-02-17 21:46:56-05:00
b7d8aa768dad885a9e56fd6d79ab8ca100ffee7c,"Fix outdated link in resample error message (#1994)

* Fix outdated link in resample error message

The file was moved in 33725e8.

* Fix another link",Juan Luis Cano Rodrguez,Juanlu001@users.noreply.github.com,2017-02-20 13:30:08+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-20 07:30:08-05:00
3b9528cf701b410258fe432ea374122fd9846dee,"Add dd.demo.daily_stock function (#1992)

* Add dd.demo.daily_stock function

This adds a function to generate fake stock data to the
dask.dataframe.demo submodule.  This is useful for benchmarking and
teaching.

Examples
--------

    >>> import dask.dataframe as dd
    >>> df = dd.demo.daily_stock('GOOG', '2010', '2011', freq='1s')
    >>> df
    Dask DataFrame Structure:
                           close     high      low     open
    npartitions=252
    2010-01-04 09:00:00  float64  float64  float64  float64
    2010-01-05 09:00:00      ...      ...      ...      ...
    ...                      ...      ...      ...      ...
    2010-12-31 09:00:00      ...      ...      ...      ...
    2010-12-31 16:00:00      ...      ...      ...      ...
    Dask Name: from-delayed, 504 tasks

    >>> df.head()
                           close     high      low     open
    timestamp
    2010-01-04 09:00:00  626.944  626.964  626.944  626.951
    2010-01-04 09:00:01  626.906  626.931  626.906  626.931
    2010-01-04 09:00:02  626.901  626.911  626.901  626.905
    2010-01-04 09:00:03  626.920  626.920  626.905  626.905
    2010-01-04 09:00:04  626.894  626.917  626.894  626.906

This is intended to replace the library
https://github.com/mrocklin/fakestockdata",Matthew Rocklin,mrocklin@gmail.com,2017-02-21 16:11:09-05:00,GitHub,noreply@github.com,2017-02-21 16:11:09-05:00
1d9a753b2119ea8c8b9e839e2fe16cbf0dca5d45,Ensure output chunkshape is integral (#2003),Matthew Rocklin,mrocklin@gmail.com,2017-02-22 11:53:31-05:00,GitHub,noreply@github.com,2017-02-22 11:53:31-05:00
3c3fe2a418da1a1528c77a8f1579f47bf7a4bd85,Fix #2002: fix test on ASCII locale (#2004),Antoine Pitrou,pitrou@free.fr,2017-02-22 17:54:23+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-22 11:54:23-05:00
5e2677ee77b6b3affb1e63d89e491446365596a2,"delayed(dask_object) -> Delayed (#2006)

This used to work, but a regression was introduced in #1985 where the
graph was mistakenly assumed to be a `sharedict.ShareDict`. This PR
fixes this, along with some general cleanups:

- Rename `to_task_dasks` to `to_task_dask`
- Update docstring to be consistent with new behavior introduced in
  #1985
- Fix bug when calling `delayed` on a Base object, and add test for it
- Unskip test for `to_task_dask`, and update to pass",Jim Crist,crist042@umn.edu,2017-02-22 15:21:45-06:00,GitHub,noreply@github.com,2017-02-22 15:21:45-06:00
216d5f2ea93dfa40e61f96cc847488d034bb0d6d,bump version to 0.14.0,Matthew Rocklin,mrocklin@gmail.com,2017-02-24 09:46:05-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-24 09:46:05-05:00
76d237ab98f559464ce548a5eef4c9834beb78ed,"#1964. Fuse tasks that form reductions (aka diamond fuse) (#1979)

* WIP #1964.  Probably broken.  Fuse tasks that form reductions.

This trades parallelism opportunities for faster scheduling by making
tasks less granular.

There are many options (and opinions) for what the parameterization
of this function should be.  For the sake of experimentation, I have
included many parameters as described below.  My gut feeling right
now is that we only need one parameter, `ave_width`, and to choose
a reasonable value of `max_depth_new_edges` based on `ave_width`
(this controls against pathologies while allowing desirable behavior).

This optimization operation is more general than ""single input, single
output"".  It applies to all reductions, so it may be ""multiple input,
single output"".  I have attempted to make this well-behaved and
robust against pathologies.  Notably, by allowing multiple inputs
(what I refer to as `edges` in the code), there may be parallelism
opportunities w.r.t. the edges that are otherwise not captured by
analyzing the fusible reduction tasks alone.  I added a cheap-to-
compute heuristic that is conservative; i.e., it will never
underestimate the degree of edge parallelism.  This heuristic
increases the value compared against `min_width`--a measure of
parallizability--which is one of the reasons I prefer `min_width`.

I think it will be easy for this operation to supercede `fuse`.
I'm ignoring task renaming for now.

Parameters
----------
dsk: dict
    dask graph
keys: list or set
    Keys that must remain in the dask graph
ave_width: float
    Limit for `width = num_nodes / height`, a good measure of
    parallelizability.
max_depth_new_edges: int
    Don't fuse if new dependencies are added after this many levels
max_height: int
    Don't fuse more than this many levels
max_width: int
    Don't fuse if total width is greater than this

* Begin adding tests (and a fix).

* Another test, another fix.

I'm beginning to get confused.  I think I should make the traversal strategy clearer.

* Another test, another fix.

I'm still a little confused and should rework things to be more explicit.
Sorry for the tangle of logic with implicit behaviors.

* A little more clear.

* Add a few more tests.  Still not ready for prime time.

* Small tweaks.

* Remove the use of `irreducible` and change `deps` to sets.

We now allow for fusing reducible tasks below tasks that weren't fused, but
only in strict circumstances (such as allowing for linear fusing).

* Remove unnecessary indent, as `num_processing` may only contain positive numbers

* For clarity.  I think.  Goodnight!

* Remove `num_processing` stack, as it no longer provides a benefit.

Time for more tests!

* More reorganization and cleanup.

* Cleaner control flow.  Things are looking better.

* Handle linear fusing so this can replace `fuse` optimization.

This actually performs a superset of linear fusing that `fuse` performs.
Specifically, `fuse_reductions(dsk, ave_width=1)` will fuse linear tasks
that may refer to the inputs used in the top-level task.  In `fuse`, we
only fuse chains with single-input, single-output.

* No more `continue`s or implied fall-through behavior.  More explicit and clear?

I think the clarity and cleanliness is worth the cost of sometimes performing
`item = list.pop()` followed by `list.append(item)`, which is what we avoided
doing previously.

* Accept and return `dependencies` like `fuse` does.  Barely tested.

* Oups

* Optionally get parameters from global context.

* Fix updating `dependencies`, and make it easy to run `fuse` tests.

* Test heuristic, and include dependencies in tests.

Also, test `fuse_reductions` in `fuse` tests.

* Improve the heuristic and track the fudge factor separately.

This is still cheap.  Notably, we don't need to look at and track the
dependencies or dependents of the non-reducible nodes.

* Update docstring and clean up tests.

* Silly micro-optimizations (but, hey, these add up!).  I couldn't help myself.

* Create fast branches when fusing a single child (i.e., linear chains). This is worth it.

* More optimizations.  More aggressive fast path for linear chains.

This did become a little uglier and has a little bit of duplicated code, but
the performance is pretty good!

* The solution to task renaming was to think.  Go brain!

I changed the parameter name from `rename_fused_keys` to `rename_keys`, and
for consistency the global parameter is now `fuse_rename_keys`.  Should we
also change the parameter name of `rename_fused_keys` to `fuse_rename_keys`
in the `optimize` function for the dask collections?

* Experiment with a cheaper task renamer:

a sorted set of keys returned by key_split except for the root node, which is
the last item in the joined keys.  This should be cheap enough to compute,
nice enough to look at, and well-behaved enough to test.  Of course, this
also breaks existing tests that check renamed keys, which will need fixed
if this scheme is approved.

* Experiment with fancy fusing!

* A little better, and basic docstrings.

* Update tests to pass with new renaming method.

* Rename `fuse` to `fuse_linear`, and `fuse_reductions` to `fuse`

* Cleanup.  Remove fancy fuse.",Erik Welch,erik.n.welch@gmail.com,2017-02-24 12:51:35-06:00,Jim Crist,crist042@umn.edu,2017-02-24 12:51:35-06:00
7fda25077611541ed7262f0fe6b28ab121bebfd7,"`get` functions work on ShareDict (#2011)

Fixes #2009",Jim Crist,crist042@umn.edu,2017-02-24 17:04:59-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-24 18:04:59-05:00
f23817d79c33d463e7078c7e49f077eda8600627,"First draft of docs (#1997)

* First draft of docs

* Updates to remote data page

* typos

* Add dev section; add to TOC",Martin Durant,martindurant@users.noreply.github.com,2017-02-25 10:18:35-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-25 10:18:35-05:00
b5dbce024d99471a0b5e04dc3154d2dd47001bc3,update delayed doc section,Matthew Rocklin,mrocklin@gmail.com,2017-02-26 09:58:54-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-02-26 09:58:54-05:00
9de0349f4d740c919667ac22ea0482d27b205d23,"Fix parquet write when some or all partitions are empty

Fixes #2016",Martin Durant,martin.durant@utoronto.ca,2017-02-27 11:23:15-05:00,Martin Durant,martin.durant@utoronto.ca,2017-02-27 11:23:15-05:00
696f1726d7233bd56458c03c421e010c9411db3b,"Merge pull request #2020 from martindurant/empty_partions_parquet

Fix parquet write when some or all partitions are empty",Martin Durant,martindurant@users.noreply.github.com,2017-02-27 14:00:26-05:00,GitHub,noreply@github.com,2017-02-27 14:00:26-05:00
5513f3b1fdfc3147e5ae2e97988901505b4b86d7,"Minimal imports (#2014)

* Fix to make cloudpickle not a required import

Cloudpickle shouldn't be required to import dask

* Move appveyor scripts to appveyor folder

* Add tests for basic imports

- Cleanup travis script to separate scripts for each stage
- Add option to test for imports to travis. These tests ensure that each
  subcomponent remains importable with only the minimal requirements
  specified",Jim Crist,crist042@umn.edu,2017-02-27 13:40:41-06:00,GitHub,noreply@github.com,2017-02-27 13:40:41-06:00
2429ef5a38877e8e22d8fe0a6d58148fe23e15f9,"#2017 fixed with a test. (#2018)

* #2017 fixed with a test.

* #2017 improved test.",Talmaj,Talmaj@users.noreply.github.com,2017-02-27 21:05:20+01:00,Jim Crist,crist042@umn.edu,2017-02-27 14:05:20-06:00
d7839d1514edb51a75d61eed0efc6b15dbfc7297,"TST: Mark network-using tests. (#2015)

This allows builders without network access to skip that test.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-02-27 17:05:47-05:00,Jim Crist,crist042@umn.edu,2017-02-27 17:05:47-05:00
808cc14f2ad0858ff17aaa61396784dddb2bde47,"Faster categorize (#2010)

* Faster categorize

Implement categorize using a custom reduction. This is faster for both
threading and distributed, and significantly faster for multiprocessing.
Fixes #2008.

* A few tweaks to categorize

- Set default split_every to 16
- Add test for bad split_every
- Rearrange imports so `categorical.py` can be imported from `core.py`,
  removing need to duplicate documentation",Jim Crist,crist042@umn.edu,2017-02-27 19:17:54-05:00,GitHub,noreply@github.com,2017-02-27 19:17:54-05:00
490ec6370ddeee8e9d8ae5a6c4d6f1bbbcc7b23c,"Fix 32bit issues in dask.array reductions (#2023)

* Fix 32bit issues in dask.array reductions

* use np.argfoo to determine dtype

* copy=False",Matthew Rocklin,mrocklin@gmail.com,2017-03-01 09:27:48-05:00,GitHub,noreply@github.com,2017-03-01 09:27:48-05:00
69fe630b44183d088e019a62ade2489f71f8a11e,Optionally use fancy-fuse dask dataframes,Matthew Rocklin,mrocklin@gmail.com,2017-02-27 17:28:14-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-02 13:46:34-05:00
62a882f71963da016ffb1ebb42f2b5a72fc0683d,Remove castra,Matthew Rocklin,mrocklin@gmail.com,2017-03-02 08:32:56-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-02 13:46:34-05:00
acf8edd623c906136316cbfd15696e485437c980,"Sharedict cleanup (#2030)

* add ensure_dict function

* Avoid calling ShareDict.__getitem__

This is slow but occurs any time that a ShareDict is included within a
toolz.merge call.  I tested this by raising in ShareDict.__getitem__.  I've
disabled this for now because __getitem__ is something that ShareDict should
arguably support.",Matthew Rocklin,mrocklin@gmail.com,2017-03-03 11:33:35-05:00,GitHub,noreply@github.com,2017-03-03 11:33:35-05:00
e5781f7aaa4900aa0af9a7e4731824501b87c7d7,"Raise informative errors on bad concatenation (#2035)

* Raise informative errors on bad concatenation

* Appease flake8",Matthew Rocklin,mrocklin@gmail.com,2017-03-04 15:13:06-05:00,GitHub,noreply@github.com,2017-03-04 15:13:06-05:00
4241b236e7e682d32cebace44a07e9796e9bd37a,"Micro-optimize dataframe shuffle performance (#2032)

* Micro-optimize dataframe shuffle performance

* optimize partition arithmetic

* Type cast more aggressively

* add back in categorical call

* use groupsort_indexer to partition dataframe

* use groupsort_indexer in shuffle_group_2",Matthew Rocklin,mrocklin@gmail.com,2017-03-06 08:52:52-05:00,GitHub,noreply@github.com,2017-03-06 08:52:52-05:00
bfa63da2c67ecd1ca69556c2a064ca481216bfbc,"Avoid naming collisions in dd.demo (#2031)

* Make_timeseries has different keys for different seeds

* more tests on demo names

* fix test to work with PYTHONOPTIMIZE=2",Matthew Rocklin,mrocklin@gmail.com,2017-03-06 09:55:32-05:00,GitHub,noreply@github.com,2017-03-06 09:55:32-05:00
5f0cbdd617aabb4fc2972ee54bfe5b8a4d0893b7,"Add issue template (#2049)

* Add issue template

* add request for version information",Matthew Rocklin,mrocklin@gmail.com,2017-03-06 16:52:47-05:00,GitHub,noreply@github.com,2017-03-06 16:52:47-05:00
49683151e756ce9d4a51e2fd83a18e055b7bd951,"Set_index automatically repartitions (#2025)

* Set_index automatically repartitions

When we have to look through a dataset to find approximate quantiles
lets also look through and find memory use.  Based on that use lets repartition
our data into chunks of different size

* wip

* various fixes to repartition in set_index

1.  support non-numeric types
2.  don't increase npartitions
3.  docstrings

* cleanup some tests

* fix tests

* add sizeof from distributed to dask

* use dask.sizeof

* flake8

* cleanup shuffle tests for 32 bit systems

* add name to sizeof

* change default back to nout = nin

* set default to npartitions=None",Matthew Rocklin,mrocklin@gmail.com,2017-03-08 11:36:14-05:00,GitHub,noreply@github.com,2017-03-08 11:36:14-05:00
2a3401563ecbe7bbf07250e42bf8f969b1872d7e,Support negative axes in transpose (#2055),Matthew Rocklin,mrocklin@gmail.com,2017-03-08 13:02:32-05:00,GitHub,noreply@github.com,2017-03-08 13:02:32-05:00
91d2c5cb18c565ff56299df19223090bbc7e83f7,"Parquet: Remove exist_ok from makedirs (#2050)

* Remove exist_of from makedirs

Py2 doesn't have this option, so skip it.

* Enable py2 build with fastparquet

* Parquet py2 fixes

* Reorder install lines; fix flake

* re-flake

* Don't test fastparquet if pythonoptimize

The optimization tries to import the thrift file as an ordinary
python module

* wrong comparison

* Simplify unicode for py2",Martin Durant,martindurant@users.noreply.github.com,2017-03-09 12:46:36-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-09 12:46:36-05:00
ee499df1f147f46360673fa9e0b10462ee7ebdea,"Update array-stack.rst (#2061)

For input:
```
>>> data = [from_array(np.ones((4, 4)), chunks=(2, 2))
... for i in range(3)]
```

I get the following error:

```
Traceback (most recent call last):
  File ""<stdin>"", line 2, in <module>
NameError: name 'from_array' is not defined
```
I have proposed a small fix for this error.

Thank you!",Jitesh Kumar Jha,jiteshjha96@gmail.com,2017-03-10 02:51:32+05:18,Matthew Rocklin,mrocklin@gmail.com,2017-03-09 16:33:32-05:00
73ea6f56d3dc0050f465cde8ca047497235833dd,"Array core optimizations (#2058)

* prefer cytoolz.curry to toolz.curry

* fast path unify_chunks

* use cytoolz imports when available",Matthew Rocklin,mrocklin@gmail.com,2017-03-10 08:11:09-05:00,GitHub,noreply@github.com,2017-03-10 08:11:09-05:00
d39bf762b962e533236b509e246b909e09765915,Support freq= keyword in repartition (#2059),Matthew Rocklin,mrocklin@gmail.com,2017-03-10 08:11:41-05:00,GitHub,noreply@github.com,2017-03-10 08:11:41-05:00
48dff52bbe7d29c6774c9cb7ce887684b09ae856,avoid name apply in dot-graph (#2070),Matthew Rocklin,mrocklin@gmail.com,2017-03-12 19:09:28-04:00,GitHub,noreply@github.com,2017-03-12 19:09:28-04:00
905709d89019034c9b7d59d5e39623a0324a8155,Avoid concatenation on single chunk rechunks (#2063),Matthew Rocklin,mrocklin@gmail.com,2017-03-13 08:04:55-04:00,GitHub,noreply@github.com,2017-03-13 08:04:55-04:00
9136fdaf23ade5991ef91d20369d2dd5b9d22a37,"Coerce datetime divisions to timestamps in read_parquet (#2066)

* Test parquet roundtrip maintains division dtype

* coerce np.datetime divisions to timestamps in read_parquet",Matthew Rocklin,mrocklin@gmail.com,2017-03-13 08:05:09-04:00,GitHub,noreply@github.com,2017-03-13 08:05:09-04:00
a41c7ee9eb2fd303880cc365522381eefa2ef05c,"Fix seed in daily stock (#2068)

Previously we moved all seeds to all partitions.
Now we just move one (as intended)",Matthew Rocklin,mrocklin@gmail.com,2017-03-13 08:05:17-04:00,GitHub,noreply@github.com,2017-03-13 08:05:17-04:00
c18d6a9ad15aa170b585669165a3778aee5a4b18,"Add DataFrame.memory_usage method (#2069)

* Add DataFrame.memory_usage method

* replace assert_eq with assert",Matthew Rocklin,mrocklin@gmail.com,2017-03-13 08:05:27-04:00,GitHub,noreply@github.com,2017-03-13 08:05:27-04:00
741e3d50cfc4df8e98c12b827b2ff2407c624448,"Update toolz version requirement (>=0.7.2 to >=0.7.3) (#2062)

* Update toolz version requirement (>=0.7.2 to >=0.8.2)

With toolz 0.7.2, `import dask.bag` fails.

```
$ pip freeze | grep toolz
toolz==0.7.2
$ python -c 'from toolz import peek'
Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
ImportError: cannot import name 'peek'
$ pip install toolz==0.8.2
...
$ pip freeze | grep toolz
toolz==0.8.2
$ python -c 'from toolz import peek'
```

* Update setup.py",Brian Martin,brianmartin@gmail.com,2017-03-13 11:32:37-07:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-13 14:32:37-04:00
230658fadac4e4bc2cf7756108f099602d336836,"Cache tokenize normalize_function (#1943)

* Cache tokenize normalize_function

This is a modest fraction of overhead when computing many small functions

* Clear function cache if it grows too large

* reduce size of normalize_function cache",Matthew Rocklin,mrocklin@gmail.com,2017-03-14 09:49:21-04:00,GitHub,noreply@github.com,2017-03-14 09:49:21-04:00
c4cf5bc9447d34ea0ee40e79425eca5aaf06c8fa,Test da.asarray (#2077),Matthew Rocklin,mrocklin@gmail.com,2017-03-14 11:58:14-04:00,GitHub,noreply@github.com,2017-03-14 11:58:14-04:00
0c39da3493891891830ab9e8eb5d5d8db203f826,"Err when setting with a multi-dimensional array (#2076)

Fixes https://github.com/dask/dask/issues/2005",Matthew Rocklin,mrocklin@gmail.com,2017-03-14 12:05:32-04:00,GitHub,noreply@github.com,2017-03-14 12:05:32-04:00
cdb3e89942871a046066eccd270dc1cdf7e324bc,"Make attribute access pure on delayed objects (#2084)

Makes attribute access pure on delayed objects, and updates docstring to
better reflect this. It is now consistent that all ""magic"" methods are
pure on all delayed objects. Fixes #2073.",Jim Crist,crist042@umn.edu,2017-03-14 16:18:39-04:00,GitHub,noreply@github.com,2017-03-14 16:18:39-04:00
6927d73a8ddd914e162a4b165e033ba8018bb80e,"Help open-ended loc ranges (#2087)

Fixes https://github.com/dask/dask/issues/1962",Matthew Rocklin,mrocklin@gmail.com,2017-03-15 08:24:53-04:00,GitHub,noreply@github.com,2017-03-15 08:24:53-04:00
e75855334832ac29516dd3874fdb111492589776,"Call asarray in atop (#2079)

This makes many dask.array operations work lazily on numpy arrays",Matthew Rocklin,mrocklin@gmail.com,2017-03-15 08:28:21-04:00,GitHub,noreply@github.com,2017-03-15 08:28:21-04:00
0bd20534c78a66c1f50482abf2cea914db9d755a,"Add get= keyword to to_textfiles (#2088)

* Add get= keyword to to_textfiles

Also maintain multiprocessing default

* clean up normalize_function_limitied_size test",Matthew Rocklin,mrocklin@gmail.com,2017-03-15 08:53:09-04:00,GitHub,noreply@github.com,2017-03-15 08:53:09-04:00
175ae5a91ac09940c1065ea007a6a93a95d39207,"Support arithmetic with row-series (#2085)

* Support arithmetic with row-series

Sometimes a Series is just one row and is intended to be broadcast
across a Dataframe, rather than in an elementwise fashion.

This creates a convention, that a Series with divisions (0, 1) signals
that it is just a single row, and is thus appropriate for broadcasting.

This enables computations like the following (which used to err):

    df = df - df.mean()

However it also introduces silent failures if elementwise operation
against this series is intended, despite its divisions of (0, 1)

Fixes https://github.com/dask/dask/issues/1759

* Switch from (0, 1) to min/max of columns",Matthew Rocklin,mrocklin@gmail.com,2017-03-15 15:40:45-04:00,GitHub,noreply@github.com,2017-03-15 15:40:45-04:00
7b7c765c057f7ac763d991060c98d8ec8b1db0de,"Test that numpy literals in graph don't get inlined (#2080)

* Test that numpy literals in graph don't get inlined

* add tests to minimize data transfer

* Explicitly state keys to hold on fusion",Matthew Rocklin,mrocklin@gmail.com,2017-03-15 17:03:16-04:00,GitHub,noreply@github.com,2017-03-15 17:03:16-04:00
a36f36d1a1f79f39ce94e157befc1406547ae024,"Modifies `ndeepmap` behavior for `ndim==0` and `seq` being a `list`... (#2083)

* Modifies `ndeepmap` behavior for `ndim==0` and `seq` being a `list` for a more consistent experience of `dask.array.Array().to_delayed()` for array objects only containing scalars.

* Adds test for arrays with zero dimensions (i.e. only containing a scalar).",Markus Gonser,magonser@mksg.de,2017-03-15 22:46:31+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-15 17:46:31-04:00
ec74052c75546b7ac364263ee2eea6688c9be130,"Add `assume_missing` to read_csv/read_table (#2098)

* Add `assume_missing` to read_csv/read_table

This adds an option to `read_csv`/`read_table` to assume all *inferred*
integer columns are actually floats in disguise. Note that columns that
are specified to be integers in `dtype=` are not converted to floats.

* Fix tests on windows",Jim Crist,crist042@umn.edu,2017-03-17 18:12:38-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-17 18:12:38-04:00
fbf7b397a2e83e8d30de8e4b5650b9dba495f302,"Ensure worker processes have different random seeds (#2094)

* Ensure worker processes have different random seeds

* Appease flake8

* Use a parametric test",Antoine Pitrou,pitrou@free.fr,2017-03-20 14:58:02+01:00,GitHub,noreply@github.com,2017-03-20 14:58:02+01:00
85609920aa24fd03386ab5b1c939fdb9f67ccbda,"Enhance Reshape (#2089)

* Add reshape rechunk logic

* replace old reshape with new reshape

* fix inshape-outshape bug

* flake8

* add docstring to reshape

* from future import division

* extend reshape tests",Matthew Rocklin,mrocklin@gmail.com,2017-03-20 13:11:52-04:00,GitHub,noreply@github.com,2017-03-20 13:11:52-04:00
ad9a17529d65cc3fa4b47620e818f209c8106181,"Inline fast functions before optimize slices in dask.array (#2075)

* Inline fast functions before optimize slices in dask.array

* Tweak test

* Inline asarray operation

* replace np.asarray with new getarray_inline function

This is somewhat more explicit and also fuess properly

* update fuse_asarray test

* flake8

* add docs",Matthew Rocklin,mrocklin@gmail.com,2017-03-20 13:47:59-04:00,GitHub,noreply@github.com,2017-03-20 13:47:59-04:00
c1af2825c71b08bef8645259d90cc73775ca9e6b,Add __deepcopy__ method to dask.array (#2090),Francisco de la Pea,frandelapena@gmail.com,2017-03-20 17:52:44+00:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-20 13:52:44-04:00
4018206e26115385c4678b8a4c10424e9a6cf884,"Avoid shuffle when calling set_index on a sorted column (#2091)

* Avoid shuffle when calling set_index on a sorted column

When we're already going through the index column to get divisions we
now also check to see if the column is sorted.  If so then we avoid the
shuffle entirely.

* Fix test

And properly xfail another

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-03-20 19:53:41-04:00,GitHub,noreply@github.com,2017-03-20 19:53:41-04:00
53bba35838d343fb39e8b2343fe5f85cea97dce7,"Abstract FFT interface (#2093)

* Restructure FFT wrapper for custom wrapping

Change `_fft_wrap` to delay function specification. The goal being one
can create custom wrappers for different external FFT implementations.
This both keeps Dask flexible in the area of FFTs without necessarily
adding many implementations.

* Expose FFT wrappers in the public API and use them

Create public API FFT wrapper functions and make use of them to wrap the
exist NumPy FFTPACK interface used by Dask. Also provide some brief
explanation of how this API works in the docstrings.

* Test explicit wrapping NumPy's FFTPACK

Even though we are already doing this wrapping internally in Dask and
implicitly testing. We should make sure explicitly that it works in case
the implementation in Dask changes in the future.

* Test wrapping SciPy's FFTPACK

As another exercise of the wrappers, test wrapping SciPy's FFTPACK to
make sure our wrappers apply just as well to it.

* Consolidate to one fft_wrapper function

Instead of having a variety `*fft_wrapper` functions, simply provide one
`fft_wrapper` function that takes a specification as to the kind of FFT
function that is being wrapped.

* Parameterize wrapper tests to consolidate them

To cutdown on the amount of boilerplate in the tests, use
`pytest.mark.parametrize` so as to cycle through many different
combinations. This should keep the code small while allowing us to try
various combinations of NumPy and SciPy FFT functions with the wrappers.

* Raise unknown kind provided to `fft_wrapper`

If an unknown kind is provided to `fft_wrapper`, raise a `ValueError`
explaining that this happened.

* Handle FFT wrapping kinds with a dictionary

To simplify passing parameters to the wrapper, create a dictionary that
has all of the parameters for each supported kind so that they can be
easily passed through.

* Document the wrapper_fft API better

Explain the function's expected API more clearly. Also note the
supported kinds of functions that can be wrapped and how they should be
specified.

* Consolidate remaining FFT wrapping tests

Combine the remaining NumPy tests into the single parameterized test for
FFT wrappers. Also as SciPy's FFTPACK implements `rfft` and `irfft` in
ways that are not compatible with NumPy's API, skip testing the wrapping
of the functions and note why they are skipped. Should keep testing
relatively straightforward.

* clean up fft_wrapper

* support more scipy.fft functions

* clean up map_blocks call

This removes the call to partial

* Remove unnecessary indiretion with _fft_wrap

* stop using kind

* update style

* make out_chunk_fns private

* Test a different `n` with the wrappers

Just to make sure we don't fall victim to some faulty assumptions, test
a different `n` to see if the wrappers still do the right thing compared
to the non-wrapped versions.

* Fill out wrapped FFTs unknown type based on array

Determines the unknown `dtype` based on using a dummy array of the same
`dtype` as that of the array provided. That way, we are sure it should
match the result's `dtype` accurately based on the type we are provided.

* Hack around nonlocal variable issue

Seems the closure doesn't bind the argument from the outer scope
function. So hack around this issue by storing it to a variable that is
local to the outer function and then copy it over to the inner function.
Despite being quite ugly, this does seem to work correctly.

* Add some FFT wrapper tests for single precision

* Parameterize FFT wrapper type testing

To make sure types are properly handled throughout, try converting the
data to single and double precision before proceeding.

* Use assert to compare types from FFT wrappers

Was using `assert_eq`, which is geared for arrays. So fixed this to do a
simple equal comparison in an `assert`.

* Test that FFT wrapper shape matches actual shape

Just to make sure the correct shape is computed for the Dask array, add
a test that verifies that the shape of the Dask after the FFT matches
that of the actual result.

* Fix handling of *rfft style functions

Pass around the expected result type of the functions to all of the
chunking operations. Use this information to determine the proper chunk
sizes particularly for functions like `rfft` and `irfft`, which differ
between NumPy and SciPy. However this comes with one caveat, `irfft`
will be dispatched according to whether the data is complex (NumPy) or
real (SciPy).

* Fix some linting issues

* Revert ""Fix handling of *rfft style functions""

This reverts commit 4257a2bb64b5d5e6215e3d3d0b6abcc690901302.

* Error on SciPy's `rfft` and `irfft` functions",jakirkham,jakirkham@gmail.com,2017-03-21 12:23:48-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-21 12:23:48-04:00
1a6a35936279ffc273d587d0ac222b24a0d32c26,Change array repr to include key-split name (#2104),Matthew Rocklin,mrocklin@gmail.com,2017-03-21 17:33:05-04:00,GitHub,noreply@github.com,2017-03-21 17:33:05-04:00
ce0a3239a344a3d18be279e55c6836fdfec4489e,"Fix dict delayed (#2108)

* BUG : Fixed dict type checking in delayed, and added test

* Moved test",Julien Lhermitte,ordirules@users.noreply.github.com,2017-03-21 17:50:11-04:00,Jim Crist,crist042@umn.edu,2017-03-21 17:50:11-04:00
17bb71a3f6ea9b0d58e2e20410ee7e07998c1613,Fill out wrapped FFT's function module and name (#2110),jakirkham,jakirkham@gmail.com,2017-03-22 07:15:58-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-22 07:15:58-04:00
d3bc0497f53f5fda950256154104759cc1a2f9fc,bump version to 0.14.1,Matthew Rocklin,mrocklin@gmail.com,2017-03-21 13:09:58-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-22 11:11:31-04:00
dfcf1737f729718b921e2c5a071b87fdee5728ed,"Fix for auto-categoricals in fastparquet

See https://github.com/dask/fastparquet/pull/112",Martin Durant,martin.durant@utoronto.ca,2017-03-22 14:14:20-04:00,Martin Durant,martin.durant@utoronto.ca,2017-03-22 14:14:20-04:00
7138e225080b1809558d2d75b4406e3df7acbce7,"Drop unused variable in FFT wrapper test (#2114)

Drops an unused assigned variable from the FFT wrapper tests.",jakirkham,jakirkham@gmail.com,2017-03-23 10:32:22-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-23 10:32:22-04:00
6d99bbac4af279b7adbe00d622730a9bc9980d16,"Parameterize and consolidate FFT tests (#2118)

* Unwrap FFT wrapper test function names

* Consolidate and parameterize FFT no arg tests

* Consolidate and parameterize FFT arg tests

* Drop unused imports in FFT tests

* Swap location of a kwarg test

* Use a fixture for FFT function names

* Revert ""Use a fixture for FFT function names""

This reverts commit bfad2f2c36ff1ba3332d6be7b3a52716ab73b5d1.

* Drop fixture and just use a list with parameterize",jakirkham,jakirkham@gmail.com,2017-03-24 14:13:42-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-24 14:13:42-04:00
66d0b0688ac66df7002cfe55420b37b40d32d61e,"Parametrize some FFT tests (#2123)

* Prep FFT tests for function generalization

* Generalize the bad chunk FFT test

* Generalize the consistent names FFT test",jakirkham,jakirkham@gmail.com,2017-03-27 10:08:13-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-27 10:08:13-04:00
26bca8aeb0056dc3e3346998742fc2c6c11c107c,"Add Multidimensional FFTs (#2116)

* Add FFTs for 2 and N dimensions

This expands on `fft_wrap` to allow support for wrapping functions of
the form `*fft2` and `*fftn`. To provide this support separate chunk
generating functions were added to handle both the 2-D and N-D cases
together.

In addition to providing this support, the NumPy functions for 2-D and
N-D cases that match the supported API were also wrapped. Though it
should be possible to wrap other FFT functions from external libraries
(as long as the support the NumPy API) should that be desired.

* Consolidate FFT chunk generating functions

To simplify 1-D and N-D FFT support, this combines the chunk generating
functions for both cases and makes some tweaks to the 1-D case to treat
it as a special case of N-D. Should make the code a little more compact
and hopefully a bit easier to test.

* Consolidate 1-D and N-D functions

Instead of having separate wrappers for 1-D and N-D functions, add one
wrapper function for both cases. To resolve occasional discrepancies
between the functions add a few branches to handle the different
dimension cases. Also add a small additional wrapper for the 1-D case to
map and format arguments from the 1-D case into something the N-D case
can handle.

* Test multidimensional FFTs

Adds various tests to exercise 2-D and N-D FFT functions. Also tests
wrapping of functions from NumPy and SciPy with 2-D and N-D variants.

* Disallow repeated axes to FFT functions

As it is sort of strange for someone to take an FFT of an FFT, simply
disallow this behavior by raising an exception. Also check that this
exception is raised.

* Tweak `test_fft2n` to include another shape case

* Add better names for the N-D FFT tests

* Remove excess dim, dtype variables

This is just one less thing to track.  Instead we inline the kind check.

* Assign _dtype and fix indentation",jakirkham,jakirkham@gmail.com,2017-03-28 13:30:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-28 13:30:35-04:00
0a5faae1e61c2bbf0b4a2b2efa382f7e3f0bfa08,Knock-on effects,Martin Durant,martin.durant@utoronto.ca,2017-03-28 16:13:36-04:00,Martin Durant,martin.durant@utoronto.ca,2017-03-28 16:13:36-04:00
ab9c88b04d6fcb148eedcea2954056a443078f47,"Revert test following fix in fastparquet

See https://github.com/dask/fastparquet/pull/117",Martin Durant,martin.durant@utoronto.ca,2017-03-28 16:29:14-04:00,Martin Durant,martin.durant@utoronto.ca,2017-03-28 16:29:14-04:00
824f461c644737414a97114fc2cdb62e2d97bf58,"Improve `fuse` performance by allowing tasks to reference old key names that are now aliases. (#2129)

Previously, tasks that depend on fused tasks whose keys were renamed would be
updated via `subs` to use the new task keys.  In some cases, the number of tasks
that depend on fused tasks would greatly outnumber the number of fused tasks,
and calling `subs` on them would dominate the calculation time.

Now, we don't call `subs` on tasks that depend on renamed fused tasks.  These
tasks are no longer modified and use the previous key name, which is now an
alias, `{old_key: new_key}`.  This can result in a larger graph and slightly
more scheduler overhead, but the performance increase to `fuse` can be significant.",Erik Welch,erik.n.welch@gmail.com,2017-03-28 17:18:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-28 18:18:25-04:00
7b25cee2de212fa867da1cba29d7911c46996137,"Relax timing test (#2130)

This was an intermittent failure on travis.ci before.",Matthew Rocklin,mrocklin@gmail.com,2017-03-28 18:55:05-04:00,GitHub,noreply@github.com,2017-03-28 18:55:05-04:00
af1fdc01a0a163bdd24ec95f8ad0e60b57b002aa,"Optimize fusion (#2112)

* micro-optimize subs

* Avoid fusion if ave_width is zero

* set default to ave_width in dataframes to zero",Matthew Rocklin,mrocklin@gmail.com,2017-03-28 19:15:29-04:00,GitHub,noreply@github.com,2017-03-28 19:15:29-04:00
2821ff1d84530cb0bbf5eba4dc134fb67b27ccf8,"Merge pull request #2113 from martindurant/parquet_autocat

Fix for auto-categoricals in fastparquet",Martin Durant,martindurant@users.noreply.github.com,2017-03-28 20:39:06-04:00,GitHub,noreply@github.com,2017-03-28 20:39:06-04:00
c53ab5de81d41226bf03742e191783e34be5952a,Micro-optimize fuse. `next(iter(myset))` is much slower than a pop then add. (#2131),Erik Welch,erik.n.welch@gmail.com,2017-03-29 05:43:58-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-29 06:43:58-04:00
6cd100ddd4412adb4005edf50ad46521641165f2,Autodoc round function (#2133),jakirkham,jakirkham@gmail.com,2017-03-29 16:08:52-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-29 16:08:52-04:00
d1591bee3871e360010db8fdf72d4ae0a7e5207a,"Drop the random module from the function API list (#2134)

As `random` is a module and not a function, it shouldn't be in the
function API listing. Besides the Random section shows up just below
this anyways.",jakirkham,jakirkham@gmail.com,2017-03-29 18:10:44-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-29 18:10:44-04:00
7fb7aabbfbf5c966ce40da115ff3df550ad7784c,"Optimize reshaping when the shape is unchanged (#2137)

If `reshape` is called on a Dask Array and the shape isn't changed,
there should be no need to perform reshape. So simply return the
original array unchanged. Test that the array is unchanged in this case
as well.",jakirkham,jakirkham@gmail.com,2017-03-29 18:40:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-29 18:40:00-04:00
2a711cb6eb34686c5d03c51959f70d708630b7b0,Document the FFT API (#2136),jakirkham,jakirkham@gmail.com,2017-03-29 18:40:11-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-29 18:40:11-04:00
95a601aeb6fcda65911f4d19f08812e51973c0fa,"Add a roll function for Dask Arrays (#2135)

Provides a function that performs the same operation as NumPy's roll
except on Dask Arrays. This is done by using a mixture of slicing and
concatenating. The effect is a Dask Array that is either raveled,
rolled, and reshaped or rolled along specified axes. Added a few tests
and added the function to the API doc.",jakirkham,jakirkham@gmail.com,2017-03-29 18:43:30-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-29 18:43:30-04:00
47c68462b0b2148fdcaf6d5bcb992e376a0dd56f,"Check and compare shapes in assert_eq (#2101)

* Check and compare shapes in assert_eq

Seems that shape comparison only occurred on the result of computing the
Dask array. In our case, we found the Dask array itself had the wrong
shape, but the computed result had the right shape. To fix this we add a
comparison of the shapes before computation occurs. This happens in
addition to the existing test comparing the shapes afterwards.

* Compare Dask shape to computed result shape

As an extra check of the shape, make sure the shape hasn't changed
between the Dask and the computed result. Have seen this occur in some
cases as well while working on other code. So this should show some of
these issues and help avoid them cropping up in the future.

* check dask.array shape against computed shape",jakirkham,jakirkham@gmail.com,2017-03-30 09:31:53-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-30 09:31:53-04:00
2fe05e9cabef1aa01985e85e71d0ce9524deee62,Run CI against NumPy 1.12 (#2145),jakirkham,jakirkham@gmail.com,2017-03-30 12:07:34-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-30 12:07:34-04:00
90068cb02bb49f9cb785d10cd3b6fbb59287379b,"Test rolling 2 axes at once (#2141)

* Actually raise the TypeError, duh!

* Ensure roll has the same number of shifts as axes

There shouldn't be more shifts than axes or vice versa. So this check
ensures there are the same number of each and raises a `ValueError` if
the constraint is not met.

* Test rolling 2 axes at once

Make sure that `roll` still works correctly on Dask Arrays when rolling
2 dimensions at once. This is done in addition to testing 1 dimension
rolling.

* Consolidate 1-D and 2-D roll tests

Instead of having a separate set of 2-D roll tests, combine them with
the 1-D roll tests. Make sure proper exceptions are raised for
mismatches and handled accordingly as well.",jakirkham,jakirkham@gmail.com,2017-03-30 13:48:03-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-30 13:48:03-04:00
d004c13e775fca0d7bd71448531590bc99f726f9,"Add debug docs (#2056)

* add debug docs

* respond to comments

* respond to comments",Matthew Rocklin,mrocklin@gmail.com,2017-03-30 19:19:22-04:00,GitHub,noreply@github.com,2017-03-30 19:19:22-04:00
681d4a2b8024c9a5ec1d067502e76aa1889fee2b,"Wraps repeat with the correct NumPy function (#2152)

Was wrapping with `numpy.dot` before, which is probably some copy-pasta.
Have corrected it to wrap with `numpy.repeat`.",jakirkham,jakirkham@gmail.com,2017-03-31 15:20:16-04:00,Jim Crist,crist042@umn.edu,2017-03-31 15:20:16-04:00
634fbd73bf8a88b9c90dbb9ac193ba2c631445a1,"Add the tile function (#2153)

Provides the `tile` function (like the one in NumPy) for use with Dask
Arrays. This is a nice complementary function to `repeat`, which is
already present in Dask Array.",jakirkham,jakirkham@gmail.com,2017-03-31 16:51:47-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-31 16:51:47-04:00
9f3af8f8664f6627946417a45bf1ea74a5a823a4,"Convert lists and tuples to arrays in elemwise (#2148)

* Convert lists and tuples to arrays in elemwise

Fixes #2074

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-03-31 17:33:44-04:00,GitHub,noreply@github.com,2017-03-31 17:33:44-04:00
da51f9bc6720bf2b069298c91fb77e9290ab9d09,"`dask.threaded.get` can be interrupted in python 2 (#2144)

* `dask.threaded.get` can be interrupted in python 2

Due to a bug in `Queue.get` in python 2, `get` is not interruptible if
no timeout is set (see https://bugs.python.org/issue1360). To get around
this, we specify an extremely long timeout. Benchmarking shows no
noticeable overhead to specifying a timeout, and this allows
`dask.threaded.get` to be interrupted.

* More robust interrupt handling

- Properly handle windows with python 3
- Add test for keyboard interrupt

* Fix test for windows

* Remove slow mark on interrupt test

* Re-skip the test on appveyor",Jim Crist,crist042@umn.edu,2017-03-31 17:33:54-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-31 17:33:54-04:00
70314ec3e14dcc3324342dbd3ab02b3fb9ee1ffa,"Doc tile (#2155)

Make sure Sphinx autodocs `tile`.",jakirkham,jakirkham@gmail.com,2017-03-31 18:16:20-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-03-31 18:16:20-04:00
328884c82d9fb9ff0ffbae630c7dbcc05681e198,"Add sql loader (#1181)

* Add sql loader

* Start attempt to use ntile instead of offsets

This is untestable as ntile and row_number are not implemented
in sqlite (but in the target sql servers, e.g., PG, they are).

* Tests pass on postgres

* Explicitly set index

* Remove dross

* Try simple SQL->dataframe loader

* Flake fixes

* Now with SQLalchemy

The code looks a little less tidy, and I don't like the isinstance(, str), but
seems to work well for a range of cases.

* Clean up

* flake fixes

* Requested fixes

Also, added some tests and uncovered some corner cases.

Not insisting that, if the index is an sqlalchemy compountd construct,
it should be explicitly named using `.label()`. Raises exception
otherwise. This gets around trying to guess what pandas will name
that column.

* Further fixes

Split out npartitions and divisions to avoid confusion.

* cosmetics

* Trailing u

* Furhter small changes

* Make upper limit inclusive

Similifies what happens with max value

* Create SQL engine within task

Tests only worked on multi-threaded, because the sqlalchemy engine is not
serializable.

* flake

* Auto-guess chunksize if npartition not given

Also: enable operating on any input sqlalchemy expression, not only
a named table.

* more flake

* add read_sql_table to imports and docs

* Ensure time divisions are are range limits",Martin Durant,martindurant@users.noreply.github.com,2017-04-02 10:03:41-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-02 10:03:41-04:00
0d15d4bfa2f4e5761411fc50357983ebcd2b0647,"Support repartition on series (#2157)

This failed previously because we had hardcoded in the DataFrame
constructor to a generic function",Matthew Rocklin,mrocklin@gmail.com,2017-04-03 18:00:43-04:00,GitHub,noreply@github.com,2017-04-03 18:00:43-04:00
5fabc2e1d573f21a968f5dc58216488c5507604b,"Add index=False description to read_parquet

Discussion [here](https://github.com/dask/dask/issues/2161)",wikiped,wikiped@yandex.ru,2017-04-04 18:06:36+03:00,GitHub,noreply@github.com,2017-04-04 18:06:36+03:00
d77ef18cff03d86cd5cc088dbc3b4176b4f6ffc3,"Autodoc the `repeat` function (#2166)

Seems the `autofunction` line for `repeat` was missing. This adds it in.",jakirkham,jakirkham@gmail.com,2017-04-04 14:16:03-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-04 14:16:03-04:00
27c2ec7279a3f2972185766af264a0f1620bfefb,"Drop dask from the doc requirements (#2167)

Not entirely sure why this is listed as a requirement as it is already
met with the source code. Also this results in masking out more recent
information in the source by using the version from PyPI instead.",jakirkham,jakirkham@gmail.com,2017-04-04 14:23:43-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-04 14:23:43-04:00
305d2f273dc89ce2aecfc734850e2219a29b1e00,"Fix skiprows with multiple blocks (#2165)

* Fix skiprows with multiple blocks

* Make test_skiprows use user API functions

* Extend timeout in test_interrupt

This previously failed intermittently",Eugene Pakhomov,p1himik@gmail.com,2017-04-05 05:07:39+07:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-04 18:07:39-04:00
b04e1eddd8341912b63337a1e00d5c365f55f178,"Merge pull request #1 from wikiped/wikiped-read_parquet-doc-patch

Add index=False description to read_parquet",wikiped,wikiped@yandex.ru,2017-04-05 14:20:37+03:00,GitHub,noreply@github.com,2017-04-05 14:20:37+03:00
c40f9315478c5fa626500ac054db51651d9c009b,"Add to_datetime function (#2162)

http://stackoverflow.com/questions/39584118/dask-dataframe-how-to-convert-column-to-to-datetime/39593279#39593279",Matthew Rocklin,mrocklin@gmail.com,2017-04-05 07:37:23-04:00,GitHub,noreply@github.com,2017-04-05 07:37:23-04:00
78fda6aca9476c8aa4f7f2b478b11cb3e53ff426,"Merge pull request #2172 from wikiped/master

Add index=False description to read_parquet",Martin Durant,martindurant@users.noreply.github.com,2017-04-05 08:41:50-04:00,GitHub,noreply@github.com,2017-04-05 08:41:50-04:00
1cf2d9230055acd963cd887fb79d45568c271c85,"Activate OS X builder on Travis-CI (#2164)

* Activate OS X builder on Travis-CI

* Fix Miniconda download code to download for the right OS

* Fix miniconda URL again

* Re-add apt addon

* Try installing graphviz with conda

* Mark OS X build optional

* Re-add other Linux builds",Antoine Pitrou,pitrou@free.fr,2017-04-05 15:55:44+02:00,GitHub,noreply@github.com,2017-04-05 15:55:44+02:00
2f95291d326148d322dae7271ebd4ab4df930421,"Support repartitioning dataframes to more partitions (#2168)

Fixes https://github.com/dask/dask/issues/2099",Matthew Rocklin,mrocklin@gmail.com,2017-04-05 17:02:40-04:00,GitHub,noreply@github.com,2017-04-05 17:02:40-04:00
a4d961baf3ab8d1928c73ee020d96afd7dba91e3,"Add constructor plugins to dask.array (#2142)

* Add constructor plugins to dask.array

This adds a `__new__` constructor to the Array class that enables
user-defined plugins to override array construction.

Some comments/concerns:

1.  Using `__new__` is powerful but also dangerous.  Are there other
    alternatives?  This may break other code; for example, this
    inadvertently breaks pickling.
2.  Do we want to apply this to the Base class?  If so then how do we
    want to enable users to define class-specific plugins?  Add them to
    the class as class variables?
3.  Are there better names for `da.constructor_plugins`?

* merge __init__ into __new__

* Use dask.set_options for constructor plugins

* Add __getnewargs__ method

Classes implementing __new__ need to have this to support pickling.
We replace the `_args` method, which did the same thing.

* remove getstate and setstate methods

These are no longer necessar now that we have __getnewargs__

* add __reduce__ to dask.array

* remove getnewargs

* add plugin docs",Matthew Rocklin,mrocklin@gmail.com,2017-04-05 17:03:18-04:00,GitHub,noreply@github.com,2017-04-05 17:03:18-04:00
964b377527fb00e17d594d09846c018a38d413cb,"Remove some builds from Travis-CI matrix (#2173)

* Remove some builds from Travis-CI matrix

* Bump Numpy 1.11 patch version",Antoine Pitrou,pitrou@free.fr,2017-04-06 10:38:59+02:00,GitHub,noreply@github.com,2017-04-06 10:38:59+02:00
33d7a791d9d4a103ff46c237844cf16fcc2b8a68,"Raise error in persist if get functions differ. (#2176)

* Raise error in persist if get functions differ.

This patch adds a check in base.persist() to raise if the globally
set get function does not match a locally supplied instance.

Test is added.

* Allow set_options(get=) to override distributed in persist",stuartarchibald,stuartarchibald@users.noreply.github.com,2017-04-09 14:23:42+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-09 09:23:42-04:00
02e594542e0a8144cdcbe160cc99a4a36d739316,Try shuffling bokeh install order (#2193),jakirkham,jakirkham@gmail.com,2017-04-09 13:19:23-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-09 13:19:23-04:00
9109119f8bdeb81e7d6d32564801040c7d4c8938,"Run the FFT tests and fix a few failing tests (#2183)

* No longer ignore the FFT tests

It appears the FFT tests were being explicitly skipped by this
configuration file. A look into the commit history suggests this had
something to do with avoiding doctests. Though it is unclear whether
there were any doctests. In any event, there are none now and this is
unintentionally suppressing the unittests. So simply remove this
configuration file as it didn't do anything else.

* Enumerate the axes to properly order the chunks

The output shape was being incorrectly ordered in some cases as the
shape was remapped by the axis order, but the axes themselves. This
corrects that by enumerating the axes and using the enumeration to
reorder the output shape for use with chunks.

* Adjust handling of 1-D FFTs

Given the changes to how we handle the output shape in the FFTs, this
breaks the 1-D FFT special case code. So update it to reflect how the
output shape is now being handled.

* Fix output shape handling in real FFTs

* Re-add conftest so as to exclude fft doctests only

Seems the wrapped functions in the fft module expose docstrings with
doctests, which pytest picks up on and tries to run. So re-add the
existing configuration file, but update it to exclude the file `fft.py`
in `dask/array` only.",jakirkham,jakirkham@gmail.com,2017-04-09 18:40:17-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-09 18:40:17-04:00
e175d9463becdd33f10db9996be05bac79a11b7f,add dataframe groupby methods to api docs (#2187),Matthew Rocklin,mrocklin@gmail.com,2017-04-09 18:41:45-04:00,GitHub,noreply@github.com,2017-04-09 18:41:45-04:00
6bde0e4cf7b51bfcf30ac1389849eb18b516d3e0,install scikit-learn and sqlalchemy on travis (#2182),Matthew Rocklin,mrocklin@gmail.com,2017-04-09 18:42:30-04:00,GitHub,noreply@github.com,2017-04-09 18:42:30-04:00
4874e97e08be7b9a1bd7da8649821d0bc051f4ba,"Fix CI pinnings (#2185)

* Pin NumPy and pandas in the environment

Use the `pinned` file for the test environment to fix the versions of
NumPy and pandas. This should ensure these don't need to be explicitly
listed in each step as these pins will always be matched no matter what.
Also by doing this, there is less opportunity of forgetting to
explicitly fix these and thus run into issues.

* Drop pinning of NumPy and pandas during install

These pinnings are now set in the pinning file. So we merely need to
install NumPy and pandas once and they will stick to the same version.

* Specify the NumPy patch version on AppVeyor

Appears that NumPy 1.12.1 has been used on AppVeyor recently. So picking
that patch version seems reasonable. Given we pin to the patch version
with pandas on AppVeyor, this doesn't seem unreasonable to do with
NumPy. Further on Travis CI we also pin to the patch version with NumPy.
In short, this is a totally reasonable and consistent change, which
should have minimal effect.",jakirkham,jakirkham@gmail.com,2017-04-10 08:23:02-04:00,Antoine Pitrou,pitrou@free.fr,2017-04-10 14:23:02+02:00
b7bd75fcd011f144d8061d329fe7676ec8ab9983,"Add temporary_directory support to on-disk shuffles (#2163)

* Add temporary_directory support to on-disk shuffles

Fixes  https://github.com/dask/dask/issues/2139

Depends on https://github.com/dask/partd/pull/24 to be effective, but
doesn't break anything without it

Example
-------

dask.set_options(temporary_directory='/path/to/tmpdir')

df2 = df.set_index('x')...  # now stages in /path/to/tmpdir

* add git partd to continuous integration",Matthew Rocklin,mrocklin@gmail.com,2017-04-10 09:30:42-04:00,GitHub,noreply@github.com,2017-04-10 09:30:42-04:00
cd9ad92eeb06ff475e24507ad3f5fa3c2758121d,"Get temporary directory when calling maybe_buffered_partd (#2197)

Otherwise globals don't pass through a multiprocessing.spawn event",Matthew Rocklin,mrocklin@gmail.com,2017-04-10 17:01:28-04:00,GitHub,noreply@github.com,2017-04-10 17:01:28-04:00
eaea248dd75a43df3fb190dbe165847c547ec800,"Allow delayed targets in dask.array.store (#2181)

* Allow delayed targets in dask.array.store

* Resolve flake8 complaints and change test

* Resolve flake8 errors",Noah D Brenowitz,nbren12@gmail.com,2017-04-10 17:47:56-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-10 17:47:56-04:00
472070866f3958ce72d5b64f151f1d069c929c67,"Add machine learning doc page (#2194)

* add machine learning doc page

* add extra dependencies notes

* fix subtitle",Matthew Rocklin,mrocklin@gmail.com,2017-04-10 18:01:43-04:00,GitHub,noreply@github.com,2017-04-10 18:01:43-04:00
ee336419b66bb56e62a4573fc414bdecadcd869d,"Add a `delayed_pure` global setting (#2178)

* Add a `delayed_pure` global setting

Adds `delayed_pure` to `set_options`, and changes the precedence of
`pure` in delayed calls to the following (in order of decreasing
precedence):

- Specified via the keyword `pure` in the call directly (e.g. `foo(1, 2,
  pure=True`))
- Specified as a property of the callable via the `pure` keyword to
  `delayed` (e.g. `delayed(foo, pure=True)(1, 2)`)
- Specified via the global `delayed_pure` setting
- Otherwise False

* Add requested tests",Jim Crist,jcrist@users.noreply.github.com,2017-04-10 18:50:52-04:00,GitHub,noreply@github.com,2017-04-10 18:50:52-04:00
6024dcb46b20f2879ba497c2ae0271dfe887689e,Support tensordot with multiple axes (#2186),Matthew Rocklin,mrocklin@gmail.com,2017-04-11 09:52:37-04:00,GitHub,noreply@github.com,2017-04-11 09:52:37-04:00
0d741d79e02281c3c145636c2cad972fb247de7d,"bag.to_dataframe sets consistent dtypes (#2199)

* bag.to_dataframe works sets consistent dtypes

Previously we wouldn't consistently set dtypes for empty partitions. We
now set dtypes for all partitions, ensuring every partition matches the
given metadata.",Jim Crist,jcrist@users.noreply.github.com,2017-04-11 15:40:08-04:00,GitHub,noreply@github.com,2017-04-11 15:40:08-04:00
00c29df996521b79af178df554059527709559b7,"Fix #2204: fix rechunking empty array with non-trivial shape (#2205)

* Fix #2204: fix rechunking empty array with non-trivial shape

* replace compute calls with assert_eq in test

* Reinstate assert statement",Antoine Pitrou,pitrou@free.fr,2017-04-12 17:19:44+02:00,GitHub,noreply@github.com,2017-04-12 17:19:44+02:00
7f151f113113a4e538b7772d7984fdf2bb4c637c,"More sensible handling of general bytes paths

There are different requirements about what to do with paths depending on
the back-end (see #2171). Roll this logic into a single method per
FileSystem class.

This will enable glob patterns for loading parquet.",Martin Durant,martin.durant@utoronto.ca,2017-04-12 12:43:07-04:00,Martin Durant,martin.durant@utoronto.ca,2017-04-12 12:43:07-04:00
977d5aa582edad8cd5b383e9803a7320bc59ce7d,"Allow glob in parquet read

Fixes #130",Martin Durant,martin.durant@utoronto.ca,2017-04-12 13:06:56-04:00,Martin Durant,martin.durant@utoronto.ca,2017-04-12 13:06:56-04:00
6c222ea9eb3345ed4b213fd456bb33bb8b94c7c8,flake,Martin Durant,martin.durant@utoronto.ca,2017-04-12 13:48:27-04:00,Martin Durant,martin.durant@utoronto.ca,2017-04-12 13:48:27-04:00
4d70a91de23fa339498de80ba99274395829246f,Add local-file test of URL usage,Martin Durant,martin.durant@utoronto.ca,2017-04-12 15:56:35-04:00,Martin Durant,martin.durant@utoronto.ca,2017-04-12 15:56:35-04:00
081c1b8218c9cfd0de7fe1ceec1488ca68f67123,"Avoid using dir=self.tempdir when not necessary (#2210)

This allows us to support non-git-master versions of partd",Matthew Rocklin,mrocklin@gmail.com,2017-04-12 19:50:17-04:00,GitHub,noreply@github.com,2017-04-12 19:50:17-04:00
812712fcc68754b65b482f643f555815333c34c3,Fix for windows file:// URIs,Martin Durant,martin.durant@utoronto.ca,2017-04-13 11:37:39-04:00,Martin Durant,martin.durant@utoronto.ca,2017-04-13 11:37:39-04:00
1b5d1e79f61fd74c606b85b7f729ecddd7500c2c,flake,Martin Durant,martin.durant@utoronto.ca,2017-04-13 12:07:22-04:00,Martin Durant,martin.durant@utoronto.ca,2017-04-13 12:07:22-04:00
06060daffb1cb0c27d3aacb158dc5f709240d82b,"Minor Cleanup of 1D FFTs (#2216)

* For 1-D FFTs, handle unknown `axes` in the wrapper

Was filing in unknown `axes` for the 1-D case outside of the wrapper
because of some old code that relied on knowing that information
earlier. As we no longer need this information earlier, just handle
unknown `axes` in the wrapper as we already do for 2-D and N-D cases.
Should also drop an untested line in the process.

* With 1-D FFTs, make `s` a `tuple` if `n` is known

Was making `s` a `list` when `n` was known before, this makes it a
`tuple`, which is more consistent with `s` in all of the other cases.",jakirkham,jakirkham@gmail.com,2017-04-13 17:43:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-13 17:43:35-04:00
9afd1d8d7b48f83c5017d39b1084b7f708dc3ed6,"Test N-D FFTs when s is defined and axes are not (#2215)

Make sure that we are coming up with the right axes when only the output
shape is specified. This exercises both the 2-D and N-D FFT cases. Also
improves the line coverage a bit.",jakirkham,jakirkham@gmail.com,2017-04-14 07:46:30-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-14 07:46:30-04:00
fba6fb4905fbfabafbe29becaabd7505c3bca1bd,Ensure repartition freq= aligns divisions to round values (#2213),Matthew Rocklin,mrocklin@gmail.com,2017-04-14 09:25:29-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-04-14 08:25:29-05:00
ca3bccf2a62fc1f5cbe559e591e725cbb16a2998,"Boundary slice excluded (#2217)

* BUG: boundary_slice assumes sorted indexes

Changes `boundary_slice` to handle cases where

- the index is not sorted
- using label-based indexing (loc)
- the start or stop is missing

See https://github.com/pandas-dev/pandas/issues/8613 for details on the pandas
side.

* Avoid sorting in `boundary_slice`

* Additional tests, falsey endpoints",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-04-14 10:10:19-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-14 11:10:19-04:00
efea9a35aa6950a6d052007e9bf37b9ba3e012a0,"Merge pull request #2207 from martindurant/bytes_paths

Bytes paths",Martin Durant,martindurant@users.noreply.github.com,2017-04-14 16:00:41-04:00,GitHub,noreply@github.com,2017-04-14 16:00:41-04:00
727b331dc3a98227fa8d4f61621972473883a22e,"ENH: Allow time-based rolling window (#2198)

Implements `df.rolling('5s')` style rolling windows.
We expand `map_overlap` to work with either integers or
datetime.timedeltas.

Fixes the order in the Rolling repr to follow pandas' order.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-04-15 11:34:44-05:00,GitHub,noreply@github.com,2017-04-15 11:34:44-05:00
d2dd77ee4feb5ec863eb80699b778ede2a97c128,CLN: fix usage of pandas.lib (#2226),Joris Van den Bossche,jorisvandenbossche@gmail.com,2017-04-16 19:11:38+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-04-16 12:11:38-05:00
a5da00a3e5f8913c9014eb60faf0084be77c20e2,"BUG: boundary_slice with missing and unsorted. (#2220)

* BUG: boundary_slice with missing and unsorted.

Missed a case in https://github.com/dask/dask/issues/2211 where
the index is not sorted and the key is not in the index and
either of the boundaries are not included.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-04-17 07:01:35-05:00,GitHub,noreply@github.com,2017-04-17 07:01:35-05:00
d549bb58db1d878ecce44059b93e5e4f1ce77e0d,"(Maybe) decrease flakiness of interrupt test (#2233)

- Increase timeout to maybe deal with travis slowness
- Use time.sleep() to make task length consistent across runs (help with
  debugging).",Jim Crist,jcrist@users.noreply.github.com,2017-04-17 13:16:06-05:00,GitHub,noreply@github.com,2017-04-17 13:16:06-05:00
d3c1986cabb455a73c6ccde35786d9cd8b649031,"Expand docs on using the distributed scheduler on a single machine (#2232)

* Expand docs on using the distributed scheduler on a single machine

* remove parens",Matthew Rocklin,mrocklin@gmail.com,2017-04-17 15:01:32-04:00,GitHub,noreply@github.com,2017-04-17 15:01:32-04:00
5f9ddd2e07305d1dfc9201d03c25b43e7b041fbc,"Tokenize complex number types (#2229)

Fixes https://github.com/dask/dask/issues/2228",Matthew Rocklin,mrocklin@gmail.com,2017-04-18 09:42:23-04:00,GitHub,noreply@github.com,2017-04-18 09:42:23-04:00
1c41702746c28c400e4910c39b507b74bda64062,"Support concatenation with unknown chunksizes (#2235)

This is important for dask.dataframe / dask.array interactions but genreally a
messy proposition.  I have tried to provide warnings and informative errors.",Matthew Rocklin,mrocklin@gmail.com,2017-04-18 14:16:55-04:00,GitHub,noreply@github.com,2017-04-18 14:16:55-04:00
5563ecf1593c43adf26d1a19622a2a6bf1589b41,DOC: Include imread in API (#2239),jakirkham,jakirkham@gmail.com,2017-04-19 16:13:22-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-04-19 15:13:22-05:00
e33c7ee11fc62aeffaccc27d181a7e0267406809,"Support custom optimizations (#2219)

* Support custom optimizations

* test and document foo_optimize=None

* Add defer_to_globals decorator

* Support custom optimizations

* fix typo in docs

* Fix docstring",Matthew Rocklin,mrocklin@gmail.com,2017-04-20 13:03:02-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-04-20 12:03:02-05:00
7263fe81d3a8c6704590ed85f6b1bf07e40034ad,"Object arrays with missing values hash the same (#2243)

Due to a bug in the pandas hashing code, the presence of missing values
in an object series would cause it to hash differently. This was fixed
in pandas in
https://github.com/pandas-dev/pandas/commit/e351ed0fd211a204f960b9116bc13f75ed1f97c4
but was never backported to dask.",Jim Crist,jcrist@users.noreply.github.com,2017-04-21 15:17:45-05:00,GitHub,noreply@github.com,2017-04-21 15:17:45-05:00
f7e519b3f17e36603290b83232b267a5ac14d1b9,"compat with pandas 0.20.0 for import of hashing (#2246)

* compat with pandas 0.20.0 for import of hashing

closes # 2245

* typo

* make first check",Jeff Reback,jeff@reback.net,2017-04-21 20:49:19-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-04-21 19:49:19-05:00
f311b2cf756b4dbe06bd41347c48db039592174c,"compat for pandas 0.20.0 (#2248)

closes #2245",Jeff Reback,jeff@reback.net,2017-04-23 10:46:59-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-04-23 09:46:59-05:00
5b74b874ac2e738e5cc93c62da61ecbd2014e8fe,"BUGFIX: Compare collection argument with None, not with implicit __len__ result. (#2250)",Michal Ficek,ficem3am@gmail.com,2017-04-24 17:37:09+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-04-24 10:37:09-05:00
bab4942b4b9eab6862226c0da868389629ee074f,"Compat fixes for pandas 0.20.0rc1 (#2249)

Compat fixes for pandas 0.20.0rc1.",Jim Crist,jcrist@users.noreply.github.com,2017-04-24 15:50:35-05:00,GitHub,noreply@github.com,2017-04-24 15:50:35-05:00
0b5a4f40bf41c65273fc072c3ea4b78150e71572,Min npartitions is now 1 (#2262),Martin Durant,martindurant@users.noreply.github.com,2017-04-26 18:18:30-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-26 19:18:30-04:00
d99fa2a4dd454b3b70d10c043e6b86a5cf05dd4f,"BUG: Handle grouping by and aggregating same colum (#2257)

Previosuly we always excluded a grouping column from the columns
to be aggregated. Pandas will allow you to group and aggregate the
same column, assuming it's the only column to be aggregated.

Fixed a related bug with multiple aggregations not reducing
to a single-level MI when possible.

Closes https://github.com/dask/dask/issues/2255",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-04-26 18:19:51-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-26 19:19:51-04:00
0298d408410dd730f46032e0c857124d170df24a,"Fix map_overlap with trivial depth (#2259)

* Test map_overlap with no depth

Appears that when the boundary condition was `""none""` and the depth was
trivial, running `map_overlap` would fail. This adds a test that
demonstrates that failure and hopefully guarantees it won't reoccur once
fixed.

* Fix map_overlap for trivial padding

In `add_dummy_padding` there was a special workaround for the `""none""`
boundary condition that failed when the `depth` was trivial (i.e. `0`).
To fix this, simply check to see that the boundary condition is `""none""`
and the `depth` is positive-definite before proceeding. This appears to
clear up the issue when working trivial depth and the `""none""` boundary
condition.",jakirkham,jakirkham@gmail.com,2017-04-27 09:24:30-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-27 09:24:30-04:00
68f9e417924a985c1f2e2a587126833c70a2e9f4,"ENH: Refactoring to support multiple Parquet readers, add PyArrow reader (#2223)

* Refactor Parquet read path to support multiple implementations. Add
PyArrow-based implementation. Disable tests that don't yet work

* Remove superfluous global

* Comment typo

* Use functional style for Parquet read functions. Add failing test for #2177

* Fix renamed module

* Code review comments

* Add pyarrow to conda dependencies

* Code reviews

* Add documentation about Parquet engines in dataframe-performance.rst",Wes McKinney,wesm@users.noreply.github.com,2017-04-28 10:57:46-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-28 10:57:46-04:00
918f2331e923c96a7c769993273c14464ac62aef,"Support sparse arrays (#2234)

* Support sparse arrays

This supports sparse arrays mostly by relying on ufuncs to do the right
thing.  Additionally we check for operations like concatenate and
tensordot on the object's module.

* add sparse to CI

* add package_of function to utils

* clean up package_of

-  Add test
-  Support missing module

* add comment around concatenate2/3

* fix typo

* Avoid testing sparse on old versions of Python/Numpy

This is a new and fringe feature.  Didn't want to spend the time
supporting old systems.

* Tensordot, rechunk, reshape, abs, and other elemwise operations

* support mixed dense/sparse arrays

* Use array_priority to determine concatenate function

* use __array_priority__ for concatenate3 as well

* handle corner cases with concatenate3

* flake8

* add sparse array docs

* skip more sparse tests in python 3.4

* flake8

* remove dead code",Matthew Rocklin,mrocklin@gmail.com,2017-04-28 11:10:48-04:00,GitHub,noreply@github.com,2017-04-28 11:10:48-04:00
f416b21c52da1c72263cc7d6ef1e2ceeb94fc986,"Always call abspath in LocalFilesystem (#2263)

* Always call abspath in LocalFilesystem

* floake

* Store CWD in localfilesystem

A different way to get around relative local paths: the filesystem stores the CWD
when it is instantiated, and then all relative paths are relative from that
location.",Martin Durant,martindurant@users.noreply.github.com,2017-04-28 10:11:11-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-28 11:11:11-04:00
c136b9dde885ba35dde85ba84afe2ad03c20e32d,"Speed up one of the FFT tests (#2270)

The `test_nd_ffts_axes` used a 4-D array for testing some N-D FFT
functions. However there really is no reason to require a 4-D array.
Here we change this to a 3-D array. This seems to cut ~3s off the test
time of this test suite.",jakirkham,jakirkham@gmail.com,2017-04-28 12:29:01-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-28 12:29:01-04:00
272ede5fc0727a565c8d3e6e4d6678cad21f7473,"Both new_axis and drop_axis are supported (#2264)

Previously we disallowed this as it wasn't clear what dropping and
adding axis at the same time meant. We now define drop_axis as coming
before new_axis, and through nice errors on bad parameter combinations.",Jim Crist,jcrist@users.noreply.github.com,2017-04-28 14:52:11-05:00,GitHub,noreply@github.com,2017-04-28 14:52:11-05:00
48f450bf5a2eaa702f598bb04986ce7cb692e134,"da.stack properly handles mixed dtypes (#2274)

Previously we'd fail to convert partitions, leading to mismatched
dask/numpy dtypes.",Jim Crist,jcrist@users.noreply.github.com,2017-04-28 16:56:39-05:00,GitHub,noreply@github.com,2017-04-28 16:56:39-05:00
ee3b1ed471388d4d56c322525187582fa2d05a7b,"Add indices (#2268)

* Add an indices function

Behaves like NumPy's equivalently named function except with Dask Arrays
instead.

* Include some tests for the new indices function

* Skip rechunking after calling repeat

It appears that calling `repeat` here results in a chunk size that is
equal to the number of repetitions. As such these repeated dimensions
will be rechunked to the right chunk size automatically. Namely
rechunking will be done according to the chunk size of all of the
`arange` calls. However when it comes to `stack` rechunking is still
required to return the intended chunk size.

* Simply import itertools

Use `chain` from the module instead of importing the function directly.

* Skip chunking of 0th dimension in indices

The `indices` function was chunking the 0th dimension based on the user
supplied `chunks` argument. Following some discussion it was decided
that chunking along this dimension should simply be skipped. After all
the user can easily do this themselves if they want. Plus this
simplifies a bit of code in the process. So now the chunks are only used
for the `arange` function calls. Thus it determines the 1st dimension
onwards. The 0th dimension keeps chunks of length 1.

* Document the indices function",jakirkham,jakirkham@gmail.com,2017-04-28 20:10:13-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-28 20:10:13-04:00
d7dffbf34674d183b0b19f832f08847e6746863f,"Mark some array tests as slow (#2266)

* Mark some array tests as slow

These five tests take up about half of the test runtime.

These still get tested on travis.ci, just not when run locally without
the --runslow keyword

* remove slow marker on fft test",Matthew Rocklin,mrocklin@gmail.com,2017-04-29 09:36:38-04:00,GitHub,noreply@github.com,2017-04-29 09:36:38-04:00
93d25f716f2628be28eca1e20f5da6ea73b30a9a,Document the indices function (#2275),jakirkham,jakirkham@gmail.com,2017-04-29 15:12:08-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-04-29 15:12:08-04:00
1abe86eee02213707d9f3e183a2ed4898cdeb9b9,"Support getitem= keyword in from_array (#2272)

This allows the user to provide a custom getitem function to the
from_array function, allowing a nice release valve for custom ndarray
objects.",Matthew Rocklin,mrocklin@gmail.com,2017-05-01 09:03:31-04:00,GitHub,noreply@github.com,2017-05-01 09:03:31-04:00
1d8dff894bd5d3a35dc0ecfddfaca16e526566d9,"ENH: Support rechunk with some unknown dims (#2251)

* ENH: Support rechunk with some unknown dims

Expandas the rechunking methods to support rechunking arrays
with some unknown dimensions, along known dimensions.

Closes https://github.com/dask/dask/issues/2236

* Use math.isnan for nan checks

* REF: simplify by modifying callers

Still need to cleanup, but the tests pass

* Removed unneeded set_option

* Fixed old_to_new for unknown

* Ignore unknown dimensions in plan

* Avoid isfinite for py2

* No intermediate chunks with unknown

* assert_eq in test; update comment",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-05-01 08:16:06-05:00,Antoine Pitrou,pitrou@free.fr,2017-05-01 15:16:06+02:00
659ee444256a4fd2abe3daa03b4de451ce866ced,"New interrupt test (#2261)

* New interrupt test

Runs in same process, should hopefully be less flaky.",Jim Crist,jcrist@users.noreply.github.com,2017-05-01 13:29:01-05:00,GitHub,noreply@github.com,2017-05-01 13:29:01-05:00
63c16b792948a2a8959404e2986f9a177ecf9731,"docs: Drop sphinx.ext.mathjax extension, it is unused (#2280)",Dmitry Shachnev,mitya57@users.noreply.github.com,2017-05-01 21:36:56+03:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-01 13:36:56-05:00
c97ad2a3f8d43c7d0c274d19896d8dc9c363ccb6,"Fix metadata inference for groupby.agg (#2279)

* Fix metadata inference for groupby.agg

Previously this would result in incorrect metadata for multi-indices. We
now fallback to using the automatic inference in `aca` and
`map_partitions`.

Fixes #2278.

* Add index name/names tests to assert_eq

More rigorous testing in dask.dataframe.",Jim Crist,jcrist@users.noreply.github.com,2017-05-01 14:23:24-05:00,GitHub,noreply@github.com,2017-05-01 14:23:24-05:00
7919d77c7d48cdc14b84a1c2670caca16198cb5d,"Note that map_partitions shouldn't change index (#2281)

Functions provided to `map_partitions` shouldn't modify the index, and
if they do the user should clear the divisions afterwards. Doing this
was causing issues for a user, and our docs didn't indicate that this
behavior was bad.",Jim Crist,jcrist@users.noreply.github.com,2017-05-01 16:55:29-05:00,GitHub,noreply@github.com,2017-05-01 16:55:29-05:00
662c2a1f4f9207e6a90109bcef241bc153af3650,"Add `meta` description to `map` docstring (#2282)

This parameter wasn't documented before.",Jim Crist,jcrist@users.noreply.github.com,2017-05-01 23:36:36-05:00,GitHub,noreply@github.com,2017-05-01 23:36:36-05:00
8f2139af9ed591ed6e0f2c087422505f75e0cf70,"Memoize package_of function (#2276)

* Memoize package_of function

This can be quite slow when str(obj) is slow

* object -> type in docstring",Matthew Rocklin,mrocklin@gmail.com,2017-05-02 10:16:26-04:00,GitHub,noreply@github.com,2017-05-02 10:16:26-04:00
ac3833d3e0370b219223b7657417b9253a75a971,"Test dd.to_hdf with dask.distributed (#2283)

* Add few hdf tests using the distributed scheduler

This is to test the distributed scheduler is functioning properly with different dask operations

Signed-off-by: Nir Izraeli <nirizr@gmail.com>

* xfail test

* remove noqa flake comments",Matthew Rocklin,mrocklin@gmail.com,2017-05-02 14:37:45-04:00,GitHub,noreply@github.com,2017-05-02 14:37:45-04:00
a5da73881d8c4afdcdbb04d7ab5b4555cc7771bd,"Make ResourceProfiler more robust (#2286)

Previously processes could be dropped after a tracking loop was started,
which may lead to an exception due to trying to get memory/cpu info from
a dead process. This PR fixes this to handle dead processes whenever
information is recorded.",Jim Crist,jcrist@users.noreply.github.com,2017-05-02 13:45:29-05:00,GitHub,noreply@github.com,2017-05-02 13:45:29-05:00
2b88628b228473e584150e108cc0b1dff3650257,"Note bag json example is line-delimited

Fixes #1798.",Jim Crist,jiminy.crist@gmail.com,2017-05-02 16:48:17-05:00,Jim Crist,jiminy.crist@gmail.com,2017-05-02 16:48:17-05:00
ad752cce5ee01fcc88f341ab707372aee08c050e,"Better error for set_index with sorted and divisions  (#2289)

* Better error for set_index with sorted and divisions

When calling `df.set_index(sorted=True, divisions=...)` divisions are
assumed to match the actual splits in the new index column. This means
that there must be the same number of divisions as in the original
frame, and the specified divisions must be valid.

This PR does the following:
- Adds a check that the specified divisions are valid, and throws an
  informative error if they aren't
- Improves the docstring for `set_index` to better reflect this
- Consolidates the `set_index` tests (which were scattered throughout
  the test files), and removes some duplicate tests as found

* Remove deprecated `set_partitions` method

* Remove `set_partition` from docs",Jim Crist,jcrist@users.noreply.github.com,2017-05-03 10:54:32-05:00,GitHub,noreply@github.com,2017-05-03 10:54:32-05:00
370bd14b9097892d7bae7630bc0f45fb6a8b9d98,"API: Ensure set_index always sorts the index (#2290)

* API: Ensure index is sorted

* TST: update test for new behavior

* flake8",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-05-03 13:16:30-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-03 14:16:30-04:00
bdb021c7dcd94ae1fa51c82fae6cf4cf7319aa14,Raise informative error if dask.distributed is not present,Matthew Rocklin,mrocklin@gmail.com,2017-05-03 14:34:01-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-03 14:34:01-04:00
9ef62f22c3a653726293edf6c7a8c753ca362293,bump version to 0.14.2,Matthew Rocklin,mrocklin@gmail.com,2017-05-03 15:04:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-03 15:04:35-04:00
edd1f23cb69199e6de95990d28926406b0ebaab7,"COMPAT: compat with pandas 0.20.0 for movement of pandas.util.hashing (#2294)

* COMPAT: compat with pandas 0.20.0 for movement of pandas.util.hashing

closes # 2293

* Move import of cache_readonly",Jeff Reback,jeff@reback.net,2017-05-04 12:30:06-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-04 11:30:06-05:00
bd5f3efadd587e87cc4dade705b49d64a4a180b2,"xfail test_interrupt on py3 non-windows (#2297)

Still periodically failing, not sure why.",Jim Crist,jcrist@users.noreply.github.com,2017-05-04 13:21:20-05:00,GitHub,noreply@github.com,2017-05-04 13:21:20-05:00
638bb983cfc422680197f8ee6cf7905774d0e579,"Raise error in read_csv if sample is too small (#2291)

We raise an informative error if the sample isn't large enough to
include at least one row of data. Previously we could have a sample that
only included the header row (or just the skiprows).",Jim Crist,jcrist@users.noreply.github.com,2017-05-04 18:18:41-05:00,GitHub,noreply@github.com,2017-05-04 18:18:41-05:00
e58f0c1bb25e855615b0b441c130ab89220a8c0a,add worker_client to dask.distributed api (#2300),Matthew Rocklin,mrocklin@gmail.com,2017-05-05 08:42:27-04:00,GitHub,noreply@github.com,2017-05-05 08:42:27-04:00
4897da6c3f60f751bddef625f441fd39d1c58613,"Catch missing pyarrow import (#2295)

See https://github.com/dask/fastparquet/issues/142",Matthew Rocklin,mrocklin@gmail.com,2017-05-05 08:42:34-04:00,GitHub,noreply@github.com,2017-05-05 08:42:34-04:00
0ad4c27af310841409965793ee0cb8cb3174e1b0,bump version to 0.14.3,Matthew Rocklin,mrocklin@gmail.com,2017-05-05 08:59:02-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-05 08:59:02-04:00
6c980a7e508c3f1522b9ef9e0fb5e2a1a77700ec,"Fix numpy pin to not upgrade secretly (#2302)

* Fix numpy pin to not upgrade secretly

Previously we'd install fastparquet on travis using pip as long as we
weren't running with PYTHONOPTIMIZE=2. This meant that fastparquet would
be installed for our 2.7 build, which would then secretly upgrade numpy
since fastparquet requires numpy > 1.11.0.

To fix this we do the following:

- Print version info for the pinned packages at the end of install, to
  visually see that they're correct in the travis logs.
- Add a check for numpy version before installing fastparquet
- Switch the 2.7 build to use numpy 1.11.3. I figured it's more
  important to test fastparquet with python 2.7 than it is to test old
  numpy with python 2.7.

* Skip sparse tests for numpy < 1.11.0",Jim Crist,jcrist@users.noreply.github.com,2017-05-05 11:15:25-05:00,GitHub,noreply@github.com,2017-05-05 11:15:25-05:00
231adfc5765b75a318689cc2ad505c06c6f1ed8a,"Test pandas 0.20.1 (#2305)

* Test pandas 0.20.0

* Switch to 0.20.1",Jim Crist,jcrist@users.noreply.github.com,2017-05-06 20:08:55-05:00,GitHub,noreply@github.com,2017-05-06 20:08:55-05:00
f932524bf4020ff129a67b51ece2b92070c0cf2e,"Add more ufuncs (#2315)

* Add a bunch of other ufuncs

* Export new ufuncs in dask.array

* Include tests for all the new ufuncs",jakirkham,jakirkham@gmail.com,2017-05-09 11:28:08-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-09 10:28:08-05:00
2cc7d96684f0fcca17dfc8b68df73fe132d75aa3,"Better scheduler errors (#2312)

* Better scheduler errors

Previously we used our own ``RemoteException`` class to show errors when
using the threaded/multiprocessing schedulers. This provided suboptimal
tracebacks, which made debugging harder. We now do the following:

- Synchronous scheduler: no change

- Threaded scheduler: reraise the error in the main process with the
  original traceback.

- Multiprocessing scheduler: If ``tblib`` is installed, use it to
  serialize the traceback, and then reraise the error in the main
  process with the original traceback. If it's not installed, fallback
  to the old ``RemoteException`` class.

A benefit of this approach is that now pdb plays nice with the threaded
scheduler, making debugging a lot easier.

* Fix failing parquet test",Jim Crist,jcrist@users.noreply.github.com,2017-05-09 14:53:21-05:00,GitHub,noreply@github.com,2017-05-09 14:53:21-05:00
6c9ef33a956b5c79641aeb78df9d751e8804b236,"Add fftfreq (#2320)

* Add an fftfreq function for Dask Arrays

Simply leverage `linspace` to construct an appropriate range of values.
Then do a little math and rearrangement to get an equivalent result to
what `fftfreq` would give except for Dask Arrays.

* Add some tests for the fftfreq function

Just provide some simple comparisons between the NumPy and Dask Array
implementations of `fftfreq` to make sure that the Dask Array version
behaves the same.",jakirkham,jakirkham@gmail.com,2017-05-09 22:12:03-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-09 21:12:03-05:00
9f96b46eee665409405c52d2af3bf4ad1caedce6,"Add fftshift/ifftshift (#2321)

* Add a function for fftshift

* Add a function for ifftshift

* Refactor helper function out for [i]fftshift

As there is a lot of similarity between the `ifftshift` and `fftshift`
functions, this refactors out a common more general function that
applies to both use cases. Should help reduce the amount of code
involved and keep things maintainable.

* Add tests for [i]fftshift

Simply compares the results of Dask Array's [i]fftshift with results
from NumPy's [i]fftshift. Tries various combinations of axes to make
sure the same results are gotten for all cases.

* Add an addition [i]fftshift test for the identity

To ensure that applying `fftshift` and then `ifftshift` or vice versa
always yields the original array unchanged, add a test along these lines
for Dask Arrays.",jakirkham,jakirkham@gmail.com,2017-05-09 23:32:33-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-09 22:32:33-05:00
917bbd4add38c7f2cc25b34ddc66f46d7f26fac0,"Slicing with negative index in list (#2317)

* Slicing with negative index in list

There was a bug in `check_index` where we weren't properly checking that
a negative list index was still in-bounds. This fixes that.

* Respond to comment",Jim Crist,jcrist@users.noreply.github.com,2017-05-10 00:03:13-05:00,GitHub,noreply@github.com,2017-05-10 00:03:13-05:00
e3a0f0d9de96e09e9791cb16d0a554d55e982385,"Add rfftfreq (#2322)

* Add an rfftfreq function for Dask Arrays

Much like the `fftfreq` function added for Dask Arrays, the `rfftfreq`
function leverages `linspace` to get an appropriate range of values.
However as the whole range is not needed in this case and nothing else
needs to be done to elements of the sequence beforehand, `rfftfreq`
merely truncates the sequence at the intended endpoint and proceeds to
handle the inverse scaling factor before returning the result.

* Refactor out a helper function for [r]fftfreq

As there is a lot of similarity between the `rfftfreq` and `fftfreq`
functions, this refactors out a common more general function that
applies to both use cases. Should help reduce the amount of code
involved and keep things maintainable.

* Reuse fftfreq tests for rfftfreq as well

As we are going to want to test the same sorts of things for both
`fftfreq` and `rfftfreq`, simply parameterize the `fftfreq` tests to
take a function name so that `fftfreq` and `rfftfreq` can be run through
the same tests.",jakirkham,jakirkham@gmail.com,2017-05-10 11:37:35-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-10 10:37:35-05:00
088113413a36d3a7f8351fc59917ca72807ccd6d,Drop unneeded wraps decorator (#2323),jakirkham,jakirkham@gmail.com,2017-05-10 12:24:04-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-10 11:24:04-05:00
28848055b4f50017feae95acf27b9c00d604a7f9,"Add new FFT functions to the API documentation (#2327)

Adds `fftfreq`, `rfftfreq`, `fftshift`, and `ifftshift`. These all are
equivalent to the similarly named functions in NumPy's FFT except that
they work with and/or create Dask Arrays as output. Thus making them
easier to combine with other FFT functions that support Dask Arrays.

[ci skip]",jakirkham,jakirkham@gmail.com,2017-05-10 12:25:37-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-10 11:25:37-05:00
0108940387a8d17034a7fbad0558d7e3672243d9,"Move dask.async to dask.local (#2318)

* Move dask.async to dask.local

In Python 3.7 `async` will become a keyword and `dask.async` will no
longer be a valid module name. We move `dask.async` to `dask.local`
and deprecate the old module. The documentation has been updated
accordingly.",Jim Crist,jcrist@users.noreply.github.com,2017-05-11 09:27:56-05:00,GitHub,noreply@github.com,2017-05-11 09:27:56-05:00
af9d4b4297e5a65cd6cef16221d12fd0e77ee850,"ERR: Better error message describe with non-numeric data (#2331)

* ERR: Better error message describe with non-numeric data

* Compat with older pandas, handle series

* Flake8",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-05-11 10:03:47-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-11 10:03:47-05:00
eb0c33e0de4d2c4c25d12f24bc0d09278b4c496a,"More empty array work (#2316)

* Forbid arrays with () in chunks

Zero-length dimensions should be expressed with 0 in the chunks instead
of an empty tuple.

* Indexing with empty list gives correct chunks

Previously indexing with an empty list would result in chunks with empty
tuples, leading to x.numblocks reporting 0 along the indexed dimension.
Since `x[[]]` and `x[:0]` are equivalent when there's only one list
(which is all we support), we fallback to normal slicing behavior when
an empty list is encountered.

* Test reductions work on 0d arrays",Jim Crist,jcrist@users.noreply.github.com,2017-05-11 11:10:29-05:00,GitHub,noreply@github.com,2017-05-11 11:10:29-05:00
e8a2dca5f65b0513f437b63c145d8a3511342ba4,"Check for tricky cases when fusing fancy indices (#2313)

* Check for tricky cases when fusing fancy indices

Previously we'd fuse normal and fancy indexing like:

```python
a[:, :, [0, 1], :][0, :, :, :] -> a[0, :, [0, 1], :]
```

This is incorrect, and was leading to bugs:

```python
>>> a = np.ones((11, 13, 20, 12))
>>> a[:, :, [0, 1], :][0, :, :, :].shape
(13, 2, 12)
>>> a[0, :, [0, 1], :].shape
(2, 13, 12)
```

Let `ind1` and `ind2` represent two index operations as in
`x[ind1][ind2]`. We now only fuse indices involving fancy indexing if:
- Only one of the two uses fancy indexing
- Dimensions where fancy indexing isn't used are non-integers

This means that the following will be fused:

```
a[:10, [1, 2, 3]][:5, 0]
```

but this won't:

```
a[:10, [1, 2, 3][0, 0]
```

This does exclude some valid cases, but is easier to write than
following all the checks required when mixing fancy and non-fancy
indexing.

* py2 compat fix",Jim Crist,jcrist@users.noreply.github.com,2017-05-11 11:11:30-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-11 12:11:30-04:00
effcbf38c02fe3305c4b3e2160ee64f3a24395f0,"Handle extra chunks in *fftfreq functions (#2330)

* Handle extra chunk in *fftfreq functions

Chunking is not handled correctly with the various *fftfreq. There seems
to be some subtle edge cases due to the fact that we construct arrays
with the chunks that are larger than the final result. To fix this
generally we have to normalize the chunks and tack on additional chunks
for the portion that will be disposed.

In the case of `fftfreq` and `ifftfreq`, only one extra value is added
by `linspace`. To adjust the provided chunks for this, we tack on a
singleton chunk to the end after normalization. This should allow it to
be trivial stripped off once we are done as it has no overlap with
anything else. So this shouldn't have any performance overhead.

As for the case of `rfftfreq`, we have to do a bit more. In this case,
we strip off about half of the `linspace` we construct and drop it. To
fix this case we tack on an additional chunk that is the length of this
pieces that will be dropped. As the chunks will be normalized again,
this last chunk will be probably be split into similar sizes as the
other chunks. Also the last chunk will probably have some overlap with
a portion of `linspace` that is to be removed. This might have some
effect on performance, but shouldn't be negligible when there are many
chunks and/or chunks are small.

* Improved chunk handling tests

Parameterize chunks in tests of *fftfreq functions.",jakirkham,jakirkham@gmail.com,2017-05-11 12:47:12-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-11 11:47:12-05:00
965c9e401801689a6a68cec5c0529f912a459960,"[WIP]ENH: dask.stats (#2269)

* Added da.division

* stats

* ENH: Added dask.stats subpackage

Emulates scipy.stats. Added the easy statistical functions and
tests.

* API: Return Delayed(*Results)

* REF: Move to dask.array.stats

* Raise on nan-policy

* PKG: remove stats submodule

* Skip on import failure

* pep8

* remove 'stats' from setup.py

* add bias=False to da.stats tests

* Use da.moment for moment

Raise NotImplementedError on bias=False

* TST: a few missing cases

* Consolidate docs, fix order handling for tuple axis

* DOC: Move API section to array-api.rst

Also fixed up a few broken references

* Remove unused imports",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-05-11 14:39:19-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-11 15:39:19-04:00
325454a5b6e81b1de37df02f1c906076506537e7,Add getarray_inline docstring (#2335),Matthew Rocklin,mrocklin@gmail.com,2017-05-14 13:01:00-04:00,GitHub,noreply@github.com,2017-05-14 13:01:00-04:00
3491831bae2c498dae6bab90304275a56771dff0,"Support dask.bag reductions on no partitions (#2324)

* Support dask.bag reductions on no partitions

* bag reductions with a single partition

Fixes #2325

* simplify solution

Suggestion by jcrist",Matthew Rocklin,mrocklin@gmail.com,2017-05-14 13:01:11-04:00,GitHub,noreply@github.com,2017-05-14 13:01:11-04:00
bcd04269293b94bdd32e1549c3567ffa131dc632,"Remove conda-forge from default install instructions (#2336)

* Remove conda-forge from default install instructions

Apparently people were confused by this, and thought that Dask was only
maintained on the conda-forge channel.  We change installation
instructions to explicitly state that Dask is available on either
defaults or conda-forge.  This removes the `-c conda-forge` flag from
the conda install line.

* simplify conda install language",Matthew Rocklin,mrocklin@gmail.com,2017-05-14 13:26:09-04:00,GitHub,noreply@github.com,2017-05-14 13:26:09-04:00
a5d45d8c482a5840faa63497f7351b34be1ccad4,"Generate stable hashes for numpy ufuncs (#2343)

Due to non-deterministic behavior in how numpy pickles ufuncs,
`tokenize(ufunc)` would result in different hashes each run. They would
be consistent during a single run however, so this wouldn't result in
incorrect behavior, just possibly prevent sharing results between
different clients.

This adds a `normalize_token` implementation for `np.ufunc` that
provides consistent hashes for ufuncs defined in `numpy` only. Other
ufuncs will still fall back to the old behavior (which as stated above
isn't incorrect, just non-optimal).",Jim Crist,jcrist@users.noreply.github.com,2017-05-16 12:41:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-16 12:41:00-04:00
f7a44ada3d47a55c9f92e2c7b20a2441a2c57ea6,"Add `db.map`, `Bag.starmap`, fix `Bag.map` (#2339)

* Add db.map

Implement `db.map`, a mapping function that has the same semantics as
`builtins.map`, with the following extensions:
- Supports keyword arguments
- Non-bag arguments are ""broadcast"" across all function calls

* Add Bag.starmap

Similar to `itertools.starmap`, except also supports keyword arguments.

* Deprecate old magic Bag.map behavior

* Update bag docs",Jim Crist,jcrist@users.noreply.github.com,2017-05-16 15:56:23-04:00,GitHub,noreply@github.com,2017-05-16 15:56:23-04:00
d01adf8250178336f53f897e1e93bb33726b9aaf,"Note why some array methods not implemented (#2351)

Add a note to ``array-overview.rst`` that some operations aren't
implemented due to being inefficient for larger datasets.",Jim Crist,jcrist@users.noreply.github.com,2017-05-17 00:32:18-04:00,GitHub,noreply@github.com,2017-05-17 00:32:18-04:00
8a2893ab648e1287509a192605768c62df31cf0c,"xfail demo_stock dd.demo.dail_stock test

Yahoo changed/deprecated their api's, so this functionality no longer
works.",Jim Crist,jiminy.crist@gmail.com,2017-05-17 11:29:54-05:00,Jim Crist,jiminy.crist@gmail.com,2017-05-17 11:31:29-05:00
020b3ade71cc2de3ac9a10c96157f4b63a5a745e,Skip dd.demo.daily_stock doctest as well,Jim Crist,jiminy.crist@gmail.com,2017-05-17 12:31:25-05:00,Jim Crist,jiminy.crist@gmail.com,2017-05-17 12:31:42-05:00
81679f9b40758e942078b15d7432b4d331c98f85,"Remove lapsed deprecation warnings (#2348)

Remove functions and keywords that have had at least one release
deprecation period.",Jim Crist,jcrist@users.noreply.github.com,2017-05-18 09:34:46-04:00,GitHub,noreply@github.com,2017-05-18 09:34:46-04:00
38ac6a98bca27a28fc97ae30022ff44340590744,"Spring cleaning (#2346)

* Delete unused definitions in dask.array

* Remove unused definitions in dask.bag

* Remove unused definitions in dask.bytes

* Remove unused definitions in dask.delayed

* Remove deprecated dask.delayed functions

Removed:
- dask.delayed.do
- dask.delayed.compute
- dask.do

* Remove unused definitions in dask.threaded

* Remove unused definitions in dask.dataframe.utils

* Remove unused definitions in dask.utils

* Remove unnecessary `eq_strict` function

Move `no_result` to be a singleton object, use `is` instead of
`eq_strict`

* Move some utils -> bytes.utils

Move functionality in `dask.utils` that was only/mainly used by bytes to
`bytes.utils`

* Move infer_storage_options definition to dask.utils

Distributed imports `dask.utils.infer_storage_options`. Since we want
dask to work with older versions of distributed, we need to keep that
import around for a while. We can't define it in `dask.bytes.utils`
since that results in circular imports. As such, we keep the definition
in `dask.utils`, import it in `dask.bytes.utils`, and always use the
later internally. Once distributed's dask requirements have been bumped
we can move the definition.",Jim Crist,jcrist@users.noreply.github.com,2017-05-18 11:33:50-04:00,GitHub,noreply@github.com,2017-05-18 11:33:50-04:00
4f7580aa0db7c1ae68b8029067ab7b40f0e513fb,"Support ufunc.outer (#2345)

* Support ufunc.outer

- Add support for `ufunc.outer` methods for dask versions
- Separate ufunc objects from wrapped elemwise functions. Ufuncs are now
  an instance of `da.ufunc.ufunc`, and have a number of attribute and
  methods mirrored from their numpy counterparts
- Fix a bug in `da.ufunc.angle`
- Improve test coverage for `da.ufunc`

* Py27 compat

* Respond to comment",Jim Crist,jcrist@users.noreply.github.com,2017-05-18 11:52:50-04:00,GitHub,noreply@github.com,2017-05-18 11:52:50-04:00
b0cf627ee2fff27e918224ea47412154a4150b2c,"read_bytes works with int-like blocksize (#2356)

Allows using integer-like floats for blocksize in all reading functions.",Jim Crist,jcrist@users.noreply.github.com,2017-05-18 12:32:40-04:00,GitHub,noreply@github.com,2017-05-18 12:32:40-04:00
3c4a949280e91e16bc789985055b9e7a26448976,Index inference,Martin Durant,martin.durant@utoronto.ca,2017-05-19 14:51:16-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-19 14:51:16-04:00
095d2701ebe8a947849fae0a0624f1e2d5f3c8d5,"Read and write partitioned data

Incorporates https://github.com/dask/dask/pull/2354

TODO: there is no optimisation to push down a selection like df[df.a=='A']
to load only some files; although you can do this by passing explicit
filters to read_parquet().",Martin Durant,martin.durant@utoronto.ca,2017-05-19 16:49:58-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-19 16:49:58-04:00
a698aa6184150217db4d2d6a7f5cfffb17d1c6d8,"Improve docstring for read_csv/read_table (#2363)

- Add note about dtype inference, and what to do if it fails
- Fix formatting of docstring
- Fix a few typos

Also re-add the `mathjax` sphinx extension, as the array docs require
it.",Jim Crist,jcrist@users.noreply.github.com,2017-05-19 20:19:52-04:00,GitHub,noreply@github.com,2017-05-19 20:19:52-04:00
bf20eba4de734c3a4c14db1a11ff2f9bb34aae85,has_nulls=True by default in to_parquet,Martin Durant,martin.durant@utoronto.ca,2017-05-20 11:36:45-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-20 11:36:45-04:00
3531e47a1de73faeff4e9b8d1bd78301b749b54d,Remove mutable from to_parquet,Martin Durant,martin.durant@utoronto.ca,2017-05-23 10:34:02-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-23 10:34:02-04:00
1eb968b5ca5e879f832ce9779bcc141c24486c46,Permit any integral type to be passed to repeat (#2371),jakirkham,jakirkham@gmail.com,2017-05-23 19:23:32-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-23 19:23:32-04:00
9288d5c861a6ca82a462c0138ec147e01b1130a6,"TST/COMPAT: Catch warnings for new pytest (#2370)

Compat for newer pandas moving is_datetime64tz import",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-05-23 20:41:29-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-23 21:41:29-04:00
bf91d54d35647ff0165c3021e061a2327128ccf5,Simplify index choosing,Martin Durant,martin.durant@utoronto.ca,2017-05-24 09:08:34-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-24 09:08:34-04:00
42c99160032bd8be78f49ec877ff7a3d4c0841d4,Merge branch 'master' into fastparquet_metadata,Martin Durant,martin.durant@utoronto.ca,2017-05-24 09:09:04-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-24 09:09:04-04:00
9aae3f51fab4376152cbee6e145cf84181a81001,Only calculate stats if useful,Martin Durant,martin.durant@utoronto.ca,2017-05-24 09:18:49-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-24 09:18:49-04:00
5bc2ed283090c55270be9c6633c4a78a6ab1956a,flake,Martin Durant,martin.durant@utoronto.ca,2017-05-24 11:48:07-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-24 11:48:07-04:00
85e2b4f439dd93e742cf0004be1a8787af407623,Fix spelling errors (#2382),Joseph Crail,jbcrail@gmail.com,2017-05-24 13:32:06-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-24 13:32:06-04:00
e7e2cfe5b45acf657193cb9e10e2164c4436557d,"Make random_state_data() faster (#2379)

* Make random_state_data() faster

Also speed up test_random_state_data

* Fix doctest",Antoine Pitrou,pitrou@free.fr,2017-05-24 19:43:23+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-24 13:43:23-04:00
2a658338e4d2ce286e0d017b74e4c68ca68cbd6a,Messed up import,Martin Durant,martin.durant@utoronto.ca,2017-05-24 15:24:18-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-24 15:24:18-04:00
802772eb386d9e4c0d1f139835bbf3ba8ff4327a,"Add `token` kwarg to `da.map_blocks` (#2383)

Add the `token` kwarg to `map_blocks`, mirroring the `token` kwarg of
`atop`. If provided, this is the prefix of the output key, but not the
key itself.",Jim Crist,jcrist@users.noreply.github.com,2017-05-26 13:46:33-04:00,GitHub,noreply@github.com,2017-05-26 13:46:33-04:00
b035410985df8b38afbbeb9ecf3b7dcaae7049c3,"First attempt at fancy indexing optimization (take 2) (#2394)

* First attempt at fancy indexing optimization (take 2)

This is a new submission of PR #2333, which github apparently considers closed (?)

* Add a comment and test

* Appease flake8",Antoine Pitrou,pitrou@free.fr,2017-05-29 18:02:17+02:00,GitHub,noreply@github.com,2017-05-29 18:02:17+02:00
7da2c0722942ec84194f756b8cdfd08ca9edbdae,"Fuse slices works with alias in graph (#2364)

* Fuse slices works with alias in graph

In #2080 a bug was introduced that prevented fusing slices across
aliases in the graph. These would show up when several dask arrays were
concatenated together. This fixes that bug, and adds a test that fusing
works across aliases.

* Fuse slices works with locks",Jim Crist,jcrist@users.noreply.github.com,2017-05-30 12:29:19-04:00,GitHub,noreply@github.com,2017-05-30 12:29:19-04:00
9305484d9ee114efafee1ca6db843d0d77129bc5,Merge branch 'master' into fastparquet_metadata,Martin Durant,martin.durant@utoronto.ca,2017-05-31 09:33:20-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-31 09:33:20-04:00
da44b5e5e2cb5d0f2f77bd67791f74c7209573e8,"Fix for filter= in read_parquet

If using filter=, number of partitions may be smaller than number
of row groups, so the divisions need to be updated accordingly.",Martin Durant,martin.durant@utoronto.ca,2017-05-31 10:03:43-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-31 10:03:43-04:00
f13387f94593c7384012946fac7292d15b13fef5,Revert fastparquet import in test,Martin Durant,martin.durant@utoronto.ca,2017-05-31 10:43:50-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-31 10:43:50-04:00
381a2f94193c58501accaf0feae825561985a4f9,Fix single-valued-divisions in multi-dataframe operations (#2396),Matthew Rocklin,mrocklin@gmail.com,2017-05-31 16:58:03+01:00,GitHub,noreply@github.com,2017-05-31 16:58:03+01:00
522c38430a8483bfd8f1aa5cb2904310f0c64af5,"Faster array tokenize() (#2377)

* Faster array tokenize()

Optionally uses fast hashing functions if available (the packages
'mmh3' or 'cityhash' need to be installed), falls back on SHA1.

* Appease flake8

* Disable cityhash

* Reenable cityhash if post-0.2.1

* Also catch OverflowError (for mmh3)

* Add xxHash",Antoine Pitrou,pitrou@free.fr,2017-05-31 18:04:52+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-31 17:04:52+01:00
b26d2f5bb6b03cff1f464a3e9433d72fc43f99fe,Update comments in test,Martin Durant,martin.durant@utoronto.ca,2017-05-31 13:01:26-04:00,Martin Durant,martin.durant@utoronto.ca,2017-05-31 13:01:26-04:00
bf709e2598286ce64c420ea5cb2f6b4c43d88ec4,"BUG: Fixed partial string indexing with no freq (#2391)

Worked around an edge case in pandas datetime indexing by changing the data in
_meta_nonempty.index so that the index no longer looks monotonically decreasing.

Closes https://github.com/dask/dask/issues/2389",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-05-31 14:08:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-31 15:08:34-04:00
1a04e47536b19bad3549a022000eb1b5bf94cb0d,"Nested callbacks work (#2397)

To enable callbacks with nested scheduler calls, we clear the global
callbacks setting on scheduler start, and restore it on scheduler
finish. This means that only the outermost scheduler call (relative to
setting a callback) will get use the callback.",Jim Crist,jcrist@users.noreply.github.com,2017-05-31 15:10:37-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-31 15:10:36-04:00
6bd25dc940b6b418367fcd188fb335246e0fb173,"Allow pathlib.Paths as URLs (#2310)

* Allow pathlib.Paths as URLs

* Test that using pathlib with URIs fails

* Check that pathlib is only used for local

* No paths test on windows

Because some sort of monkey-patch is breaking later moto tests

* add import",Martin Durant,martindurant@users.noreply.github.com,2017-05-31 15:11:24-04:00,Antoine Pitrou,pitrou@free.fr,2017-05-31 21:11:24+02:00
b736de2f852e046a3139e12e7a85b1118554a4fe,"Add `Dispatcher.dispatch` (#2401)

- Implement  `Dispatcher.dispatch` for getting the dispatched
   function implementation for a given type

- Add a test for register_lazy

This ensued from discussion in (#2366)",Julien Lhermitte,ordirules@users.noreply.github.com,2017-05-31 15:55:06-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-05-31 15:55:06-04:00
e57fd006d5e42d2e6423124a1311a359d4399b50,"Distribute everything required to build the docs (#2399)

Which includes everything under `docs/source` and the Makefiles under `docs`.",Ghislain Antony Vaillant,ghisvail@users.noreply.github.com,2017-05-31 21:17:13+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-05-31 16:17:13-04:00
1cdc3ea00be563c63aad8fb1dcac685e774d4a05,Ignore numpy warnings when calculating dtypes (#2400),Matthew Rocklin,mrocklin@gmail.com,2017-05-31 16:17:28-04:00,GitHub,noreply@github.com,2017-05-31 16:17:28-04:00
5d45d55a454d92ef030d587dc9a1a29c18707b24,"Rename bag.concat to bag.flatten (#2402)

* Rename bag.concat to bag.flatten

Concat is the name we use from toolz.  However flatten may be more clear.
Additionally db.concat does something totally different.

* properly deprecate Bag.concat",Matthew Rocklin,mrocklin@gmail.com,2017-06-02 08:20:23-04:00,GitHub,noreply@github.com,2017-06-02 08:20:23-04:00
81e1dea6c2f86238044f2b716cd9c601cb11b08b,"Merge pull request #2365 from martindurant/fastparquet_metadata

Fastparquet metadata",Martin Durant,martindurant@users.noreply.github.com,2017-06-02 15:30:22-04:00,GitHub,noreply@github.com,2017-06-02 15:30:22-04:00
8e4137f40db07250a83edac65d753e7dc0554331,"Add support for UInt64Index

`UInt64Index` was added in pandas 0.20.0. This adds support for metadata
inference for it.",Jim Crist,jiminy.crist@gmail.com,2017-06-02 15:39:21-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-06-02 17:57:24-04:00
795dcaa6cc1fa4696ed543f9473c34f1289ec5d3,"Optimize out broadcast_to on unchanged shape (#2417)

* Optimize out `broadcast_to` on identical shape

If `broadcast_to` is called with a shape that is already equal to the
Dask Array's current shape, simply return the array unchanged. There is
no need to do extra work if the condition is already met.

* Test broadcast_to optimization for same shape

Verify that Dask Array's identity is unaltered between input and return
value if the shape is unchanged.",jakirkham,jakirkham@gmail.com,2017-06-06 08:15:41-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-06 08:15:41-04:00
5b05d6b67586aeeeb859aa25e5a19bfdd3753e85,Mark test_daily_stock as requiring the network. (#2419),Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-06-06 08:21:13-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-06 08:21:13-04:00
8de392df07949c59e733a3de470577de50fe3719,PartD requirement should be 0.3.8. (#2418),Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-06-06 09:47:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-06 09:47:27-04:00
8992d974dbda0a5c36d188c9ac2e51426ea9e496,skip sparse tests if sparse library not present (#2424),Matthew Rocklin,mrocklin@gmail.com,2017-06-06 09:59:01-04:00,GitHub,noreply@github.com,2017-06-06 09:59:01-04:00
4bcb5d928a178e662b4774bbe330db4d095eac25,"Case where you write no index (#2422)

Incorrect list syntax...",Martin Durant,martindurant@users.noreply.github.com,2017-06-06 10:52:06-04:00,GitHub,noreply@github.com,2017-06-06 10:52:06-04:00
1eb54aa3b9b706cb83425bcf266d5e47a0c4a9e7,"Optimize out reify calls in to_delayed (#2425)

* Optimize out reify calls in to_delayed

This has two major changes:

1.  The lazify optimization traverses down lists.  This is important
    after changes in https://github.com/dask/dask/pull/2339
2.  Call optimize when we convert from bags to delayed objects

See https://github.com/dask/dask/issues/2423

* Optimize in Array/DataFrame.to_delayed

* Use bag optimizations within to_textfiles",Matthew Rocklin,mrocklin@gmail.com,2017-06-06 14:07:15-04:00,GitHub,noreply@github.com,2017-06-06 14:07:15-04:00
706090baf5e20b58c05d3f5b3a4efe85c1face5a,"Handle scalars and arrays in `broadcast_to` (#2427)

* In `broadcast_to`, promote scalars and arrays

When a scalar or NumPy array is provided to `broadcast_to`, convert them
to proper Dask arrays so they can be broadcasted.

* Test `broadcast_to` on scalars and arrays

Try providing `broadcast_to` both scalars and NumPy arrays to make sure
they are properly broadcasted with Dask.",jakirkham,jakirkham@gmail.com,2017-06-06 16:09:23-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-06 16:09:23-04:00
092d5c493e7af0adc05c2c2b7158e98501d02d70,"TST/CLN: Catch more warnings (#2384)

* TST/CLN: Catch more warnings

Catches a handful of warnings from the dask.dataframe test suite. Remaining
warnings fall into a few classes:

1. ResoucreWarnings from cloudpickls (e.g.
  dask/dataframe/tests/test_arithmetics_reduction.py::test_frame_series_arithmetic_methods)
  Not sure what to do here. Probably a legitimate concern of dasks?
2. RuntimeWarnings from numpy (e.g.
  dask/dataframe/tests/test_arithmetics_reduction.py::test_reductions[False]
  I think dask should catch these, (followup PR)
3. ImportWarning from dependencies importing C code? e.g.
  dask/dataframe/tests/test_categorical.py::test_categorical_set_index[disk]
  I have a fix for partd (msgpack). Pandas has some too. Still investigating,
  may be a Cython issue
4. DeprecationWarning on regexes. e.g.
  dask/dataframe/tests/test_groupby.py::test_full_groupby_multilevel[grouper4]
  I think these are all pandas. xref
  https://github.com/pandas-dev/pandas/issues/16481#issuecomment-303836235
5. RuntimeWarning from pandas merge, e.g.
  dask/dataframe/tests/test_multi.py::test_merge_by_multiple_columns[disk-inner]
  Filing an issue on pandas

* CLN: catch warnings for dask/array

* TST: Reset warnings for test

Someone is globally setting Warnings to `'once'`. This will reset it
specifically for the test. Long-term solution is to figure out who
is setting that and fix it there.

* Skip on py27

* Fixed skip condition, linting

* Additional comments on warnings",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-06-07 07:05:23-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-07 08:05:23-04:00
0949a1dca60cb23cd76ae32ef33337d8b946c386,"Remove nans from divisions when shuffling (#2413)

* Remove nans from divisions when shuffling

When shuffling we first check to see if the column is already sorted, in which
case we can be much much faster.  To do this we compute the minimum and maximum
value of the column in every partition.  If there is an empty partition then
this can cause a problem, because the min/max value will be nan.

Now we remove these nans before proceeding

Fixes https://github.com/dask/dask/issues/2408

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-06-07 08:27:28-04:00,GitHub,noreply@github.com,2017-06-07 08:27:28-04:00
827b0d6c3df11cd67e34a7c6d24dd7d0e2a65096,"Add compute= keyword to to_parquet method (#2416)

* Add compute= keyword to to_parquet method

This allows the .to_parquet method to be called multiple times before
triggering execution.

* Only write_metadata as task if compute=False",Matthew Rocklin,mrocklin@gmail.com,2017-06-07 09:35:20-04:00,GitHub,noreply@github.com,2017-06-07 09:35:20-04:00
a70f3c7a29f969c02a8591ffb8e91c77098dbbec,"Fixes some type issues in Dask Array shapes (#2375)

* Handle depth of other integral types

Instead of requiring that `depth` be of type `int`, allow `depth` to be
of any integral type. Also handle all integral types provided for
`depth` the same way.

* Reconstruct `depth` dictionary

If a dictionary for `depth` is provided (or formed), handle conversion
of the keys and values to `int` type. This is done so as to avoid weird
integral types showing up in the shape of Dask Arrays.

* Drop blank line

* Test shape value types after `map_overlap`

Make sure that even if the `depth` provided to `map_overlap` has a
different type from `int`, that `map_overlap` proceeds through and
properly converts the Integral values to `int` instances.

* normalize chunk values to integer type",jakirkham,jakirkham@gmail.com,2017-06-07 10:17:39-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-07 10:17:39-04:00
b25fcaf1f84521425faa935f3c586f418c83760a,"Cleanup and fortify where tests (#2428)

* Test `where` on mismatched types

In order to make sure type promotion occurs correctly, have chosen the
two arrays to have different types. Should be promoted to the largest of
the two types.

* Test `where` with pure Boolean conditions

Verify that `where` is able to behave correctly with pure Boolean
conditions even with optimizations applied.

* Refactor out another test loop

* Break up assertion check in where

* Use `astype` with `randint`

It appears that in NumPy 1.10, `randint` does not support a `dtype`
argument. Fortunately it is a simple matter to convert with `astype`
after the fact.

* Test Python and NumPy bools in where

Make sure to test both Python and NumPy bools in `test_where` to make
sure they are both handled correctly. This is important check when
optimizations are added for these cases.",jakirkham,jakirkham@gmail.com,2017-06-07 13:28:16-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-07 13:28:16-04:00
e61db7d2115f14b6adb3f3d6c6a3c963f5c6b240,"Optimize scalar condition in where (#2432)

* Optimize Dask Array's where with scalar condition

If the `condition` provided to Dask Array's `where` function is a simple
scalar value (i.e. a Boolean), simply pick one of the two arrays and
return it. Also make sure to promote the returned Array's type and
broadcast the Array's shape to be consistent both with Dask's previous
behavior and NumPy's behavior.

* Test where for optimization

Add some tests to verify the resulting array from `where` has the same
identity as the input array if a `bool` value is provided as the
condition.",jakirkham,jakirkham@gmail.com,2017-06-07 16:28:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-07 16:28:31-04:00
f0f3276fd375eaa80a6d0c7df4a346b27340cda4,Add units to docstrings for partition sizing (#2434),Samantha Hughes,shughes-uk@users.noreply.github.com,2017-06-07 16:49:30-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-07 17:49:30-04:00
a883f4490d6fd79d075f601b145815417c399f15,Skip dask.array tests for numpy 1.13.0 (#2436),Matthew Rocklin,mrocklin@gmail.com,2017-06-07 19:30:43-04:00,GitHub,noreply@github.com,2017-06-07 19:30:43-04:00
88aea4271262f64b9a32471025e561dbc6bd6029,"Don't error if writing parquet with no data (#2437)

* Don't error if writing parquet with no data

Also, allow reading where there is no data: produces empty dataframe.

Warning: partition_on does not mix with writing empty dataframe, since
there is nothing to base directory names on; should this still error?

Warning: writing empty dataframe will still produce data files for each
part (if not using partition_on), but each file will contain no rows.
This can be fixed on the fastparquet side, but it's not immediately
obvious what the behaviour should be.

* assert_eq instead",Martin Durant,martindurant@users.noreply.github.com,2017-06-07 20:43:05-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-07 20:43:05-04:00
1c0113d8bf2d5944fbe6b7b1331636e0b7d9d45f,"Add matrix multiplication operator for dask arrays (#2349)

* Add matrix multiplication operator for dask arrays

* Use operator.matmul instead of eval

* Test equivalence of swapping numpy and dask

* Also cast RHS to array if necessary

* Test RHS array cast before matmul

* Raise NotImplementedError for higher-D arrays

* Add tests to catch NotImplementedErrors

* Update error message to specify @ and point to tensordot

* Add forgotten raise",Juan Nunez-Iglesias,jni.soma@gmail.com,2017-06-08 21:40:47+10:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-08 07:40:47-04:00
a7fd47f2108054ba991df2ae83cd1873442eea7c,"Bag map partitions (#2445)

* Add db.map_partitions

- Add top-level `map_partitions` function
- Add support for Bag args and kwargs to `map_partitions`

* Fix docstring for map

We error now if partition lengths mismatch

* Use ensure_dict throughout

* Add to api docs",Jim Crist,jcrist@users.noreply.github.com,2017-06-08 17:36:58-04:00,GitHub,noreply@github.com,2017-06-08 17:36:58-04:00
72a5f5104b22bd50de37329a99f0f5c623983171,"Add __array_ufunc__ protocol to dask.array (#2438)

* Add __array_ufunc__ protocol to dask.array

Example
-------

```python
In [1]: import dask.array as da, numpy as np

In [2]: x = np.arange(24).reshape((4, 6))

In [3]: np.sum(np.sin(x), axis=0)
Out[3]:
array([-1.56697566,  2.06850183,  3.80220828,  2.04018197, -1.59757823,
       -3.76653238])

In [4]: d = da.arange(24, chunks=(4,)).reshape((4, 6))

In [5]: np.sum(np.sin(d), axis=0)
Out[5]: dask.array<sum-aggregate, shape=(6,), dtype=float64, chunksize=(6,)>

In [6]: _.compute()
Out[6]:
array([-1.56697566,  2.06850183,  3.80220828,  2.04018197, -1.59757823,
       -3.76653238])
```

* Support out parameters

* test non-supported ufunc methods

* fix cumreductions

* Use elemwise in __array_ufunc__ and return NotImplemented

* Test out= paramter with numpy array

* cleanup tests for numpy < 1.13.0

* generalize special cases in __array_ufunc__

* flake8

* skip out= test under old numpy

* skip fix test

* use numpy=1.13.0 in travis.yml

* Update travis.yml libraries

NumPy 1.13.0 is not yet compatible with pyarrow or pandas 0.20.1

* pull out matmul raise issue and skip

* remove comment within travis install

* update travis.yml

* add graphviz from conda-forge pyarrow from pip

* pin pytest

* pin pytest below 3.1.1",Matthew Rocklin,mrocklin@gmail.com,2017-06-11 09:08:47-04:00,GitHub,noreply@github.com,2017-06-11 09:08:47-04:00
ecdae84aa3b8ee5408876b0b7d7eade3d127e177,"bump version to 0.15.0 (#2435)

* bump version to 0.15.0

* update changelog

* extend dask/distributed imports

* update changelog

* separate newer imports",Matthew Rocklin,mrocklin@gmail.com,2017-06-11 19:07:09-04:00,GitHub,noreply@github.com,2017-06-11 19:07:09-04:00
3625f8262b1c80bfe641ad87451c8ef2235cad6a,"Fix docstring for `from_dask_array` [ci skip] (#2469)

Typo.",Jim Crist,jcrist@users.noreply.github.com,2017-06-16 15:13:09-04:00,GitHub,noreply@github.com,2017-06-16 15:13:09-04:00
fa970532da39d1190b70ccf09db60b11aa1c1e3f,"Slice delayed (#2467)

* delayed works with slicing

Previously we weren't pulling delayed objects out of `slice` objects,
causing slicing to fail on delayed objects. This fixes that.

* Fix xfailed delayed Iterator test

This was testing for behavior that has never been implemented, and
probably can't be. We fix the test to check that passing iterators to
delayed functions works as currently implemented (converts iterator to
a list).",Jim Crist,jcrist@users.noreply.github.com,2017-06-16 15:13:30-04:00,GitHub,noreply@github.com,2017-06-16 15:13:30-04:00
813eba43ce6f26765081a9147ac84fbb5920116a,"Bag.to_dataframe works with iterators (#2468)

Previously this would fail as the `data` argument to `pd.DataFrame`
can't be an `Iterator`. We now convert if needed.",Jim Crist,jcrist@users.noreply.github.com,2017-06-16 15:14:07-04:00,GitHub,noreply@github.com,2017-06-16 15:14:07-04:00
37c3ae2e091412f5e2fdf3c957c383e89e4c8bb2,"CI: Fix CI failures on master (#2459)

* CI: Fix failures on master

* Skip learn",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-06-19 07:50:15-05:00,GitHub,noreply@github.com,2017-06-19 07:50:15-05:00
0313645ea002dfecb1ce9192ff8c817f63bf7697,"Rechunk rfftfreq/fftfreq if needed (#2473)

* Store normalized chunks without adjustment

Normalize the chunks before handling the excess chunk. This way we know
that `chunks` should still match what the user intended. Thus we can
reuse this in later steps where the `chunks` will be needed.

* Rechunk fftfreq and rfftfreq

To ensure the returned Dask Array has the chunks specified, make sure to
rechunk after restructuring the Dask Array should it be needed. If the
chunks are already correct, simply skip this step.

* Test that rfftfreq/fftfreq have the right chunks",jakirkham,jakirkham@gmail.com,2017-06-19 18:34:07-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-06-19 18:34:07-04:00
d0aa50ae07d3f213b3f295f00fc93dd666d56566,Add storage_options to bag.to_textfiles and dataframe.to_csv (#2466),Martin Durant,martindurant@users.noreply.github.com,2017-06-19 18:35:34-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-06-19 18:35:34-04:00
0720ed7d4ad8eca35d989372e67325bf0437586b,"Don't install numba with numpy 1.13 (#2479)

Currently numba is incompatible with numpy 1.13. Fix the travis install
script to not install numba in this case. Also clean up some cruft that
had accumulated.",Jim Crist,jcrist@users.noreply.github.com,2017-06-20 14:14:47-04:00,GitHub,noreply@github.com,2017-06-20 14:14:47-04:00
e70ee8abee773bc7b3d0307d1500c6be657d571c,"Better error messages for bad reductions on object series

The errors raised by pandas when calling a numeric reduction like `mean` on an
object series can be poor, making debugging difficult. To fix this we
explicitly error when an object series is passed to one of these reductions.",Fabian Keller,bluenote10@users.noreply.github.com,2017-06-20 20:47:42+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-06-20 14:47:42-04:00
053126688ed839b14ea66a0534a56d823949a8fe,"Ensure list passed to `pd.DataFrame` (#2476)

Previously this could have been a tuple.",Jim Crist,jcrist@users.noreply.github.com,2017-06-20 14:47:59-04:00,GitHub,noreply@github.com,2017-06-20 14:47:59-04:00
79a15778b906041b9799c4334106a0cb921f538e,"Rewrite fftfreq to use map_blocks, simplify rfftfreq (#2475)

* Rewrite fftfreq/rfftfreq to use map_blocks

In order to clean up and simplify the `fftfreq` and `rfftfreq` functions
a bit, split them up and rewrite them in terms of `map_blocks` on a
Python function to create the resultant Dask Array. This removes many of
the odd distinctions that occurred by trying to combine the real and
complex cases. Also it avoids the need to perform weird chunk
manipulation either at array creation or subsequently (including the
call to `rechunk`). Not only are these functions simpler and easier to
reason about, but it appears they are a bit faster than the original
implementations.

* Flatten rfftfreq function

There is really no need for `map_blocks` in `rfftfreq` as the function
literally consists of dividing by a scalar. So this is more overhead and
code complexity than just doing the division directly with Dask. Hence
we drop the closure and `map_blocks` from `rfftfreq` to simplify things
a bit.",jakirkham,jakirkham@gmail.com,2017-06-20 16:07:37-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-06-20 16:07:37-04:00
d01f68800089d49ac3c6ebcbf6de4054690ea8cb,"XFail test_interrupt with pytest-xdist (#2483)

This test started failing periodically again, but only when used with
`pytest-xdist`. I can't reproduce it locally, and I'm not sure that
`pytest-xdist` is actually the culprit. For now we xfail for xdist runs.
This test has used up too much dev time, and is still flakier than
baklava. Frustrating.",Jim Crist,jcrist@users.noreply.github.com,2017-06-21 18:49:57-04:00,GitHub,noreply@github.com,2017-06-21 18:49:57-04:00
2fa0eed9becdbd8eab212a74075ca3fc501a5668,"Add `meta` kwarg to `Bag.to_dataframe` (#2482)

* Add `meta` kwarg to `Bag.to_dataframe`

Allows passing in a metadata specification instead of a DataFrame. Also
deprecate the overloading of the `columns` kwarg. This now has the
following behavior:

- If `meta` is specified use that (and error if columns is provided).
- If `meta` not specified, infer metadata using `columns` (if provided).",Jim Crist,jcrist@users.noreply.github.com,2017-06-22 15:19:25-04:00,GitHub,noreply@github.com,2017-06-22 15:19:25-04:00
e04cf46e674940685b8d730032cace1774a01ae8,Specify trusty image (#2485),Luke Canavan,canavandl@gmail.com,2017-06-23 14:15:55-03:00,Jim Crist,jcrist@users.noreply.github.com,2017-06-23 13:15:55-04:00
fe8cd4f971ce46b96587a250b5942b8aad1dcaa0,"Improve words around filters= in read_parquet (#2478)

* Improve words around filters= in read_parquet

* Remove space for flake",Martin Durant,martindurant@users.noreply.github.com,2017-06-27 10:28:33-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-06-27 10:28:33-04:00
e9a7cc7e3719228779712c8812dae1f62b6d49e5,"Play nicer with ndarray subclasses (#2486)

* Add `subok` kwarg to `da.from_array`

Mirrors the `subok` kwarg in `np.array`. If True, array-like's will be
passed through as chunks unchanged. Default is False. This allows
avoiding the `np.asarray` call, making it easier to work with non numpy
arrays as chunks.

To make this work we change `getarray` to a more generic `getter`
function and add a `subok` parameter. Alternatively we could have kept
the same format and created more getter functions, but this would have
led to an explosion of functions for all the different combinations
(which seemed less maintainable).

* Add `asanyarray`

Similar to `asarray`, but doesn't convert chunks to instances of
`ndarray`.

* subok -> asarray

Rename subok kwarg in `from_array` to `asarray`, switch defaults
accordingly.",Jim Crist,jcrist@users.noreply.github.com,2017-06-28 16:39:10-04:00,GitHub,noreply@github.com,2017-06-28 16:39:10-04:00
24afbd51fe0418164f4526919c03c84178b1d392,"Use same limits in divisions when repartitioning (#2490)

* Use same limits in divisions when repartitioning

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-06-29 09:39:18-04:00,GitHub,noreply@github.com,2017-06-29 09:39:18-04:00
20caaced6a3c605f0e5888836c80187ddcaed827,"Add two notebooks to examples (#2494)

-  Web async
-  ALS",Matthew Rocklin,mrocklin@gmail.com,2017-07-03 16:20:32-04:00,GitHub,noreply@github.com,2017-07-03 16:20:32-04:00
c7ce4bceafb3a7835e56d966b4edbb881d3e4245,"Import star from dask.distributed (#2503)

While generally a bad habit in this case it allows us to evolve the
dask/distributed API without touching the dask/dask codebase.",Matthew Rocklin,mrocklin@gmail.com,2017-07-04 08:22:40-04:00,GitHub,noreply@github.com,2017-07-04 08:22:40-04:00
50c4ac1ec755399cee9b87a9db48413dfdda6e51,"TST: Don't trigger faulty NumPy lstsq problems. (#2505)

With `randint` and `seed=1`, the `np.linalg.lstsq` triggers some poor
rcond due to numpy/numpy#8740. Since dask does not trigger the same bug
itself, change the rcond as in numpy/numpy#9284 to not break.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-07-05 08:13:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-05 08:13:27-04:00
a18308c6384f2a8cd7c0c50749a20bd067842ef9,TST: Remove pytest.raises.match for back-compat. (#2504),Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-07-05 08:59:49-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-05 08:59:49-04:00
aa8811720d51552d45c7d343e22f10b59bd2964e,"Register `long`s with an identity normalization. (#2506)

Bottleneck 1.2.1 changed some things to produce `long` instead of `int`.
This type was not registered with a normalization, and so it walked the
MRO to `object` normalization, which produces a new UUID every time.
This breaks `test_deterministic_reduction_names`.

Fixes #2421.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-07-06 01:40:21-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-07-06 01:40:21-04:00
9e1d3b713fd0f2c179d53b9fbc9f867a19a1316a,"TST: Import correct sparse sizes from distributed. (#2508)

See dask/distributed#949.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2017-07-06 07:34:12-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-06 07:34:12-04:00
dd04aa7b34412688d6e01fa21cf8cfea2374801c,"To make tokenize threadsafe we add a lock around clearing the cache (#2511)

* To make tokenize threadsafe we add a lock around clearing the cache

This was showing up in complex multi-threaded dask/distributed
workloads.

* Remove matmul-raises test

This is misbehaving on windows and is nowhere near a priority",Matthew Rocklin,mrocklin@gmail.com,2017-07-07 12:51:01-04:00,GitHub,noreply@github.com,2017-07-07 12:51:01-04:00
049022b01f49c44291d4c5329aa4f3e29a7c84dc,"Add concurrent.futures documentation (#2501)

* Add concurrent.futures documentation

* [skip-ci] add api summaries

* [skip-ci] clean up text, add imports

* Implement recommendations",Matthew Rocklin,mrocklin@gmail.com,2017-07-07 21:16:40-04:00,GitHub,noreply@github.com,2017-07-07 21:16:40-04:00
bfcbd99ae646b82c40f0707a19eb37f98d34b524,"Update doc building (#2512)

1.  We avoid numpydoc 0.7, which is particularly strict about extra sections
2.  We fix our docstrings to avoid duplicate section titles
3.  We fix a few links within prose docs
4.  Fix a spelling mistake

Even though we fixed the duplicate section titles the full class docstring
seems to get everything, causing more issues.  I'm just going to pin to 0.6 for
now.  It looks like they're releasing 0.8 rather soon, so I suspect that 0.7
had known issues.",Matthew Rocklin,mrocklin@gmail.com,2017-07-08 09:40:54-04:00,GitHub,noreply@github.com,2017-07-08 09:40:54-04:00
657317cc09676348a0c1d725c2e6dfb3cf589809,bump version to 0.15.1,Matthew Rocklin,mrocklin@gmail.com,2017-07-08 09:51:08-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-08 09:52:37-04:00
f92f2d92cfda1218242cb8a81841ec6856189bbc,"Support for callables in df.assign (#2513)

Add support for callables in `df.assign`.",Jim Crist,jcrist@users.noreply.github.com,2017-07-10 09:47:43-05:00,GitHub,noreply@github.com,2017-07-10 09:47:43-05:00
b8b94d2150396703db10a315f0489885c3ef0f5c,"Support concat for categorical MultiIndex (#2514)

Previously we supported concatenating pandas objects with differing
categorical indices. This extends that to support concatenating
multi-indices with differing categorical indices.",Jim Crist,jcrist@users.noreply.github.com,2017-07-12 16:10:26-05:00,GitHub,noreply@github.com,2017-07-12 16:10:26-05:00
9b3fef64ec1e987bc416c9f1ff7e76b6f98a18a5,"Do not compare x.dim with None in array. (#1847)

* BUG: Do not compare x.dim with None in array.

I suspect this is the cause of failure in Python 3 at

https://travis-ci.org/bccp/nbodykit/jobs/183846633#L570

* Trying to fix flake8 errors

* blank line at end of file.",Yu Feng,rainwoodman@gmail.com,2017-07-17 14:35:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-17 16:35:05-05:00
637a8a99b88c374587992b5e7fd8043b882a1f57,"Remove spurious keys from map_overlap graph (#2520)

Previously we included a large number of spurious keys in the graph.

These were innocuous and were culled away at computation time but did
significantly increase graph generation time.",Matthew Rocklin,mrocklin@gmail.com,2017-07-17 16:53:45-05:00,GitHub,noreply@github.com,2017-07-17 16:53:45-05:00
a5d8e33d606de2b83bee25baa97018681a739bbf,"Better error message for read_csv (#2522)

Previously we'd provide a good error message only if the inferred dtypes
mismatched on `int->float` conversions. We now provide a nice error
message in all cases, including the following information:
- *All* mismatched columns, formatted nicely
- Suggested dtype dictionary to use
- If applicable, also suggest using `assume_missing=True`",Jim Crist,jcrist@users.noreply.github.com,2017-07-18 13:41:03-05:00,GitHub,noreply@github.com,2017-07-18 13:41:03-05:00
aae22fbe60627053509d69d373475dc3e2d1b3b1,"Add dd.to_timedelta (#2523)

Adds dask version of `pd.to_timedelta`",Jim Crist,jcrist@users.noreply.github.com,2017-07-18 13:41:19-05:00,GitHub,noreply@github.com,2017-07-18 13:41:19-05:00
faad4375e0308ccf56998d02c2b3ca2c295a4263,"Updates read_hdf docstring (#2518)

* Updates read_hdf docstring to include lock and mode parameters. Also adds graphviz install line to Development Guidelines.

* Adds info regarding sorted_index to read_hdf

* Minor update to mode description

* Fixes flake8 issue",James Bourbeau,jrbourbeau@users.noreply.github.com,2017-07-19 07:35:47-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-19 08:35:47-04:00
257a96b31f0f9869429654fd26ae68edde95fd71,"Remove deprecated bag behavior (#2525)

- Remove magic splatting from `Bag.map`
- Remove deprecated `Bag.concat` method",Jim Crist,jcrist@users.noreply.github.com,2017-07-19 12:55:35-05:00,GitHub,noreply@github.com,2017-07-19 12:55:35-05:00
00ed56ea4e33a5f514eda60b2f921f17882b65fc,"Do no attemp to compute divisions on empty dataframe. (#2529)

* Do no attemp to compute divisions on empty dataframe.

* Add test.",Bogdan,b.kyryliuk@gmail.com,2017-07-20 12:28:00-07:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-20 15:28:00-04:00
a9d5ab5576e86f0cb44be1cea4ec98c2c439a912,TST: clean up test directories in shuffle (#2535),Jeff Reback,jeff@reback.net,2017-07-22 22:45:05-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-22 22:45:05-04:00
6d58b523a53bee22a76ea9860ca1a131b2f9312d,"Check metadata in `dd.from_delayed` (#2534)

Previously if you specified the wrong metadata in `dd.from_delayed`
you'd get a nonintuitive error message. We fix this by creating a
function to check metadata inline, and raise a nice error message when
incorrect metadata is found. We apply this to `from_delayed` only for
now.",Jim Crist,jcrist@users.noreply.github.com,2017-07-24 16:17:47-05:00,GitHub,noreply@github.com,2017-07-24 16:17:47-05:00
1e4cffedd827093f646c5ee2aa7e5a15dffd0546,"da.repeat works with negative axis (#2544)

Previously this would fail with a confusing error message.",Jim Crist,jcrist@users.noreply.github.com,2017-07-24 23:27:46-05:00,GitHub,noreply@github.com,2017-07-24 23:27:46-05:00
0ef9424072c378bb4bbfe5830559a7c328fcee25,"da.where works with non-bool condition (#2543)

* da.where works with non-bool condition

Non-bool conditionals are evaluated for truthiness.

* Respond to comment",Jim Crist,jcrist@users.noreply.github.com,2017-07-25 00:22:08-05:00,GitHub,noreply@github.com,2017-07-25 00:22:08-05:00
9602208574516ed8ee7e94de56702775e987868a,"FIX typo in accumulate docstring (#2552)

Also pass the named kwarg to make the example easier to read.",Olivier Grisel,olivier.grisel@ensta.org,2017-07-25 16:59:58+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-07-25 09:59:58-05:00
3ba30276753205c97e8b4838048aaba608e1922e,"df.idxmax/df.idxmin work with empty partitions (#2542)

Fixes a bug where empty partitions in a DataFrame/Series would error for
`idxmax`/`idxmin`.",Jim Crist,jcrist@users.noreply.github.com,2017-07-25 11:00:43-05:00,GitHub,noreply@github.com,2017-07-25 11:00:43-05:00
2d720402275ddca569cc70d232b7f47b675e89a7,"Support compress with axis as None (#2541)

* Handle axis as None in compress

According to NumPy's documentation, when `compress` gets `axis` as
`None`, it simply flattens the array and applies the same operation on
it. Given this, it appears to be a simple matter to transform this case
into an already supported case for `compress`; namely, a flattened array
where `axis` is `0` instead.

* Test compress with axis as None",jakirkham,jakirkham@gmail.com,2017-07-25 13:14:51-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-25 13:14:51-04:00
96ca782f239f133e539e4d7346b388f10414eaa2,"In compress, use Dask to expand condition array (#2545)

To prep for making `compress` a lazy function, handle the `condition`
array argument as a Dask Array as long as possible. Unfortunately it
still needs to be converted to a NumPy Array to create the needed slice
to apply to the input array `a`. However this little rewrite should make
it easier to focus on just getting that portion of code into Dask Arrays
instead of NumPy Arrays.",jakirkham,jakirkham@gmail.com,2017-07-25 13:47:02-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-25 13:47:02-04:00
a22353a75d2a11ede8550438baec383b253d0b89,"Clarify ResourceProfiler docstring [ci skip] (#2553)

Clarify the difference between context manager and `register()` usage.",Jim Crist,jcrist@users.noreply.github.com,2017-07-25 13:49:36-05:00,GitHub,noreply@github.com,2017-07-25 13:49:36-05:00
2f1abf80ba92e87ce5b4de17980a3303bc79abd4,"Support dask array conditional in compress (#2555)

* Support dask array conditional in compress

Compress now works with dask arrays as conditionals without calling
compute on them. If the conditional is concrete we take an optimized
path and return an array of known shape. If it's lazy we return an
array of unknown shape along the specified axis.

* Add extract

Implements `da.extract` using `da.compress`.",Jim Crist,jcrist@users.noreply.github.com,2017-07-25 18:04:12-05:00,GitHub,noreply@github.com,2017-07-25 18:04:12-05:00
7c6c4ca11f91bf2d53b3e58c77604f9e7ece8e24,"Adds isin method to dask.dataframe.DataFrame (#2558)

* Adds isin method to dask.dataframe.DataFrame

* Adds test for DataFrame.isin method",James Bourbeau,jrbourbeau@users.noreply.github.com,2017-07-26 06:43:06-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-26 07:43:06-04:00
6d2889be4b9996036cdf437efc528bcb3b8ae82b,"Improvements to dask.array.where (#2549)

* Improvements to dask.array.where

This improves the dtype handling so that it follows elemwise behaviour
when either x or y is a scalar. For example:
```python
da.where(True, 1.0, da.ones(5, chunks=5, dtype=np.float32))
```
will now have type `np.float32` instead of `np.float64`. A unit test has
been added to check this.

The shape broadcasting is now only done in the scalar-condition path,
leaving it up to `elemwise` for the general case. This gives a simpler
graph when broadcasting is non-trivial, since the old code would have to
rechunk the broadcast array.

Finally, the general path is done via np.where instead of np.choose,
since a benchmark showed it to be faster (1.9s vs 3.6s on my machine for
the code below):
```python
from __future__ import print_function, division
import dask.array as da
import numpy as np
import time

def timer(name, func, passes=5):
    func()
    start = time.time()
    for i in range(passes):
        func()
    end = time.time()
    print(name, (end - start) / passes)

a = da.zeros(100000000, chunks=10000000)
b = da.ones(100000000, chunks=10000000)
c = da.random.randint(0, 2, 100000000, chunks=10000000)

timer('da.where', lambda: da.where(c, a, b).compute())
timer('np.where', lambda: da.core.elemwise(np.where, c, a, b).compute())
```

* Create a wrapper for np.result_type

This is used to simplify da.where's determination of dtype.",Bruce Merry,bmerry@gmail.com,2017-07-26 17:59:00+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-07-26 10:59:00-05:00
de4e32886a156d99049376c3bad2efb11811605e,"Allow split on rechunk on first pass (#2560)

Previously rechunk broke early if it wasn't able to merge on the first
pass.  This stopped large-chunk-arrays from rechunking efficiently by first
spliting large chunks into smaller ones.",Matthew Rocklin,mrocklin@gmail.com,2017-07-27 12:54:04-04:00,GitHub,noreply@github.com,2017-07-27 12:54:04-04:00
7a11e6ca4efc60365e736ad0e457e325ac9d5b42,"Allows for read_hdf to accept an iterable of files (#2547)

* Allows for read_hdf to accept an iterable of files

Also updates docstring to reflect this change

* Adds test for input file list",James Bourbeau,jrbourbeau@users.noreply.github.com,2017-07-27 11:54:41-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-27 12:54:41-04:00
39013eb5ebd6726f29e6d69aa69d3c4039dbdb9e,Fix and secure some references (#2563),Sren Fuglede Jrgensen,s@fuglede.dk,2017-07-27 22:43:19+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-27 16:43:19-04:00
6287749b67553da5c47516eafc045ef19dd9f5b6,Fix indices error message (#2565),jakirkham,jakirkham@gmail.com,2017-07-28 09:05:39-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-28 09:05:39-04:00
a48abc1d6e84f8c597e0c58fba27661b45b558dc,"Add argwhere, *nonzero, where (cond) (#2539)

* Add an implementation of nonzero

Provides a basic implementation of NumPy's nonzero for Dask. Makes use
of `compress` to make it work. As `compress` seems to be eagerly
evaluated, this means `nonzero` is as well. So it is worth keeping that
in mind. However it is possible the `compress` implementation could be
revisited and made lazy, which would ensure `nonzero` is lazy as well.

* Adds a nonzero method for Dask Arrays

Simply calls the nonzero function from the method.

* Test nonzero function and method

Perform a simple comparison between the results gotten from the nonzero
function and method for Dask Arrays to those provided by NumPy.

* Export the nonzero function to the API

* Include nonzero in the API documentation

* Add flatnonzero for Dask Arrays

Simply takes a Dask Array, flattens it, uses `nonzero`, and drops the
unneeded singleton tuple. This simple strategy seems to simply reproduce
the behavior of NumPy's implementation.

* Test flatnonzero

Simply compare the behavior between the Dask Array implementation and
the NumPy implementation to verify that they are the same.

* Export flatnonzero as part of the Dask Array API

* Add flatnonzero to the API docs

* Add count_nonzero for Dask Arrays

Provides a simple implementation of `count_nonzero` for Dask Arrays.
Does the simplest thing one might expect in this scenario. Namely checks
which elements are non-zero. Then sums over the user provide axis or
axes (if any). This seems to match nicely to the NumPy implementation
without much work.

* Test count_nonzero

Provides some basic comparison tests for count_nonzero using both NumPy
and Dask implementations to make sure they are in line with each other.

* Add count_nonzero to the API docs

* Include count_nonzero in the Dask Array API docs

* Workaround an int type issue on Windows

As Windows treats `int` as 32-bit, we need to force 64-bit to get the
expected result.

* Stacking Dask Arrays with unknown dim doesn't work

Appears that Dask Array's `stack` does not work with Dask Arrays that
have an unknown dimension length. While that makes sense in the general
case (we don't know their lengths), it doesn't apply to this case where
we do know their lengths. In any event, we can update our tests
accordingly as we do here.

* Drop axis from compress in nonzero

This was only needed when `compress` was unable to handle the
unspecified `axis` case. However, as `compress` is now able to handle
this case, there is no need for this argument. After all both arrays are
flattened anyways.

* In nonzero, apply compress to the index array

To keep the computation of the nonzero indices compact, run `compress`
on the non-zero indices before splitting them out into separate arrays
in a `tuple`. This also improves readability a bit as well.

* Support condition only with Dask Array's where

As `nonzero` is now implemented for Dask Array's, it is now possible to
support the single argument (or condition only) case in Dask Array's
`where` since it merely dispatches to `nonzero`. Hence the error message
is updated and this special case is handled.

* Test Dask Array's where's condition only case

Make sure this behaves like NumPy's `where` case. Borrows the same
testing strategy used for `nonzero`.

* Test where for incorrect number of arguments

Dask Array's where must either get 1 or 3 arguments, but not 2. This
check verifies that when 2 arguments are provided an error is raised.

* Add argwhere for Dask Arrays

Basically mimics NumPy's argwhere function for use with Dask Arrays.

* Expose argwhere as part of Dask Array's API

* Test Dask Array's argwhere against NumPy's

* Document argwhere in Dask Array's API

* Rewrite nonzero to use argwhere

As `argwhere` basically does all the work up to the point of getting
transposed and returning `tuple`s, it does much of the work that
`nonzero` was doing. Given this, it makes sense to rewrite `nonzero` in
terms of `argwhere`. Since `argwhere` simply contains one array with all
of the data, it may be more useful in some circumstances than `nonzero`
for use with Dask Arrays.

* Drop extra imports from Dask Array into tests

To simplify the changes already present in this implementation and to
test that the API properly exposes the newly added functions, skip
importing them and use the functions directly from Dask Array's API.

* In argwhere, move transpose before compress

It appears to be a little bit more efficient to have the transpose occur
before the call to `compress` in `argwhere`. So we move the transpose on
the indices beforehand and update the `compress` call accordingly.

* Drop transpose in nonzero

As it is possible to have the desired effect by simply indexing the
second axis as opposed transposing and slicing the first axis, switch to
using the non-transposing strategy. This removes an unneeded operation
from the graph.

* Rewrite flatnonzero to use argwhere

Instead of calling `nonzero` from `flatnonzero` where the array will be
packed into a `tuple` unnecessarily, simply call `argwhere` directly
from `flatnonzero` and drop the singleton dimension in the second axis.

* In argwhere, improve handling of trivial arrays

If any array had trivial dimensions, an issue would occur in the
`reshape` step, which blocked getting a result for `argwhere`. To fix
this, we add a workaround that provides the same behavior by applying
`ravel` to each chunk. The result is an implementation that works just
as well on trivial and non-trivial arrays.

* Test nonzero operations on trivial arrays

Add some checks to ensure that trivial arrays are handled correctly by
all of the nonzero checking functions.

* Fix typo in count_nonzero test

Need to be comparing to NumPy's function not using Dask Array's
implementation in both cases.

* Refactor out count_nonzero calls in test

* Fix count_nonzero's test scalar comparison

As Dask Array represents `count_nonzero` as a zero dimensional array
when all axes are collapsed before it is computed while NumPy represents
it as a Python integer, simply compare the results between the two in
this case instead of comparing the arrays. This will ensure the values
are correct even if they may represent the result slightly differently.

* Test count_nonzero on trivial arrays

* Fix count_nonzero type on Windows

The result of `count_nonzero` should always be `int64` regardless if one
runs on Unix or Windows. To fix this, we need to convert the type to
`int64` before summing to ensure this constraint is met. Also this
explicit conversion is generally a good idea instead of relying on Dask
to implicitly do the promotion for us.

* Refactor out a nonzero function

Creates an internal nonzero function that can be used to work on numeric
arrays, string data, and generic object arrays. The latter two cases may
be notably less efficient due to the use of NumPy's `vectorize`.
Unfortunately that seems to be the best way to solve those issues, so
that is what we go with for now. Can always be replaced by a more
efficient method if one is found.

* Test argwhere and count_nonzero on strs and objs

As these are using our nonzero function directly, these are the two
function we want to be sure work for the different type cases. Hence the
additional tests on them. Higher level functions based off of these will
do the right thing as a consequence of these lower level functions'
behavior.

* Break up count_nonzero based on use of axis

NumPy versions prior to 1.12.0 do not support the axis argument to
`count_nonzero`. So we skip testing those cases on older NumPy's.

* Workaround an oddity with count_nonzero on Windows

Seems that `count_nonzero` will return `int32` for `object` arrays.
Though this is not the same behavior seen for all other cases (including
character arrays). So just force the output type to be `int64` in all
cases anyways.

* Support 0-d Dask arrays in argwhere and nonzero

In the particular case of 0-d Dask Arrays, there are a few code paths
that don't work as things may be 1-d instead of 2-d. So this adds a few
branches to workaround these special cases.

* Test 0-D arrays with various nonzero methods

* Add a note about string handling in isnonzero

We treat strings with whitespace only as empty. This matches NumPy's own
behavior. Though it does not match Python's. Hence this note is left
with a reference to the NumPy issue we opened about this behavior.

* Drop 0-d array case from count_nonzero axis tests

The axis test for `count_nonzero` is suppose to exercise a variety of
non-trivial axes. This does not mesh with 0-d array case as it cannot
have any axes specified. Hence we drop this case from the
`count_nonzero` axis test. After all it is still tested when the axes
are trivial.

* Drop duplicate skip from `count_nonzero` test

* Condense cases in isnonzero

Only special case string handling in `isnonzero`. For all other cases,
simply cast everything to `bool`. This seems to have the right behavior
for numeric and object arrays.

* Refactor out `_isnonzero_str`

Adds a private function that performs a non-zero check on Python strings
that acts the same way NumPy does. This is then used inside `isnonzero`.

* Vectorize `_isnonzero_str` at the module level

* Use count_nonzero in vectorized non-zero function

Renames `_isnonzero_str` to `_isnonzero_vec`. Also changes its behavior
to use `count_nonzero` on each value provided. This leverages NumPy's
own non-zero implementation to determine whether something is non-zero
instead of rolling our own. The result should be a more robust
implementation to changes in NumPy. Also this implementation can be used
on all manners of types (not just strings).

* Generalize isnonzero vectorization handling

Try a simple test conversion for the type in question to see if NumPy
can in fact convert it to `bool`. From quick testing, this seems to
properly pass through all numeric types and object arrays. It catches
string types correctly and passes them on to the vectorization function.
So it seems to retain the behavior had before, but a better forward
looking manner.

The nice thing about this check is it actually is testing the operation
Dask will need to perform to make the conversion happen. So it is a good
indicator if it can proceed or not. Further if NumPy fixes any cases
that currently fails (or vice versa), we should still be able to catch
them correctly and handle them appropriately. All of this being done
before generating the Dask array.

* Convert nonzero str test to argwhere str test

Given that `argwhere` is used to implement `nonzero` and other related
functions, it makes more sense to test `argwhere`'s ability to handle
`str`s instead of `nonzero`'s. The latter will effectively be proved by
the former working as intended.

* Move asarray calls to the top of API functions

Make sure `asarray` is called immediately after entering `argwhere` and
`count_nonzero`. Also drop the `asarray` call from `isnonzero` as it
should be handled before entering this function. This also provides the
added benefit of allowing `isnonzero` to work on NumPy arrays as is.

* Use nonzero function in where

To ensure the `condition` is properly converted to a Dask Array and uses
our implementation of `nonzero`, call the function `nonzero` (as opposed
to the method) on `condition`.",jakirkham,jakirkham@gmail.com,2017-07-28 09:07:18-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-07-28 09:07:18-04:00
62644f8a0a9177a1188fb18fd740830924308c5e,"Add missing initialization to CacheProfiler (#2550)

* Add missing initialization to CacheProfiler

This fixes using CacheProfiler.register (previously it would only work
if explicitly cleared or used through the context manager protocol).

* Add a unit test for profiling with register/unregister

Also improved the existing ResourceProfiler test to check that at least
one result came back.

* Make ResourceProfiler always collect at least 1 sample

This is to make the test more reliable, since it previously relied on
the subprocess starting up fast enough that it could get into the
collection loop before the parent asked it send results.",Bruce Merry,bmerry@gmail.com,2017-07-31 23:13:46+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-07-31 16:13:46-05:00
76801704bf6177357f8b965ea456f9e201e4d226,"Don't render None for unknown divisions (#2570)

Previously when a user repr'ed a dataframe with unknown divisions they
would see ""None"" in the divisions column.  This was confusing because
users thought that their index was full of None values, rather than
simply being unknown.

Now we just don't render anything when the divisions are uknown.",Matthew Rocklin,mrocklin@gmail.com,2017-07-31 17:18:53-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-07-31 16:18:53-05:00
a056b9f46f4a2d75f4c542337610f89158165832,"Clear `_cached_keys` on name change in dask.array (#2572)

Previously a `_cached_keys` attribute was added to `dask.array` to store
the result of the `_keys` method for fast recompute. Later, mutating the
`name`/`dask` attributes of a `dask.array` was supported. Unfortunately,
mutating these attributes wouldn't clear the cache, which would lead to
hard to find bugs.

To fix this, we do the following:

- Make `Base` define `__slots__`, so that the `__slots__` attribute of
  `Array` is respected. Before the `__slots__` on `Array` were ignored,
  making `_cached_keys` an unexpected source of state (wasn't declared,
  and the declaration was thought to be respected)

- Make `name` a property, and clear the cache when set

- Add a test for the cache behavior.",Jim Crist,jcrist@users.noreply.github.com,2017-08-01 11:51:47-05:00,GitHub,noreply@github.com,2017-08-01 11:51:47-05:00
12aa265e8cdd8900a2515ec9947cec2e781901e5,"Generalize vindex in dask.array (#2573)

* Generalize vindex in dask.array

Extends dask.array.Array.vindex[] so it can handle multi-dimensional indexes
(using broadcasting like numpy) and non-full slices.

This will be useful for vectorized indexing in xarray (PR 1473).

* Raise error for vindex with boolean indexes",Stephan Hoyer,shoyer@gmail.com,2017-08-04 17:33:05-07:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-04 17:33:05-07:00
6f8ec4772e7b905ebde2df3a61ba04afad717779,"Adds choose method to dask.array.Array (#2584)

* Adds choose method to dask.array.Array

Also adds appropriate tests

* Fixes small error in test_array_core.py

* Makes the choose function call the choose method on input dask arrays

* Switches to having the choose method call the choose function",James Bourbeau,jrbourbeau@users.noreply.github.com,2017-08-04 23:31:51-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-04 23:31:51-05:00
8c080b88c303cd64f41d7c7a7cde4f4f2faa10a9,"Remove bare `except:` blocks and test that none exist. (#2590)

* Remove bare `except:` blocks and test that none exist.

If a bare except is desired, do `except: # noqa: E722`.

`pycodestyle` is used, because this is a recent feature not yet available
in `pep8` or `flake8` utilities.

* Fix last `except:` block.  Was testing the test.

* Oups

* Don't exclude tests from bare `except:` block check.",Erik Welch,erik.n.welch@gmail.com,2017-08-07 14:23:51-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-07 14:23:51-05:00
aafeedc1d7e406afb44ff18ad468a0b58b82c258,"Normalize `meta` on call to `dd.from_delayed` (#2591)

Previously this would let non-normalized metadata sneak through, which
would lead to failures on computation.",Jim Crist,jcrist@users.noreply.github.com,2017-08-07 14:25:40-05:00,GitHub,noreply@github.com,2017-08-07 14:25:40-05:00
f550091ba174ee5ae9de5b55f85ff0e74bf9ba5e,"Remove `expand` parameter from df.str.split (#2593)

* Remove `expand` parameter from df.str.split

We can't support this, since we don't know how many elements there will
be in the split result.

* Also forbid str.get_dummies",Jim Crist,jcrist@users.noreply.github.com,2017-08-08 12:52:23-05:00,GitHub,noreply@github.com,2017-08-08 12:52:23-05:00
20a189cc886f440f461bfc97e5fdf7d2b9cb8a75,"Reorg array (#2595)

* Move some creation functions to da.creation

Trying to reduce the file size of da.core.

* Move more functionality out of `da.core`

- move tile, repeat, fromfunction to da.creation
- delete duplicate `same_keys` definitions.

* Move methods out to `routines.py`

Removing more code from `da.core`

* Move routine tests out of da.tests.test_array_core",Jim Crist,jcrist@users.noreply.github.com,2017-08-09 15:26:45-05:00,GitHub,noreply@github.com,2017-08-09 15:26:45-05:00
4da76e4cc5aed0ba6bce4da97bd809f6417c1717,"Include computed collection within sharedict in delayed (#2583)

* Include computed collection within sharedict in delayed

When delayed is given a collection it optimizes and finalizes the
collection's graph before adding it into its own graph.  Because delayed
uses a sharedict it gives this new subgraph a name.  Previously we did
not provide a good name for graphs in this case and instead relied on
the id number of the dict.  Now we watch for this case more carefully.

* remove unzip call",Matthew Rocklin,mrocklin@gmail.com,2017-08-13 15:04:27-04:00,GitHub,noreply@github.com,2017-08-13 15:04:27-04:00
58c0f1e17d1d8cb8fb5744d06f8bce631ca766b1,"Don't check for memory leaks in distributed tests (#2603)

The dask/dask test suite fails this for now",Matthew Rocklin,mrocklin@gmail.com,2017-08-14 11:34:12-04:00,GitHub,noreply@github.com,2017-08-14 11:34:12-04:00
4d6a121a430c6f408d0155598f5672f2fa5a275a,"Add norm (#2597)

* Add norm

Provide a Dask Array implementation of NumPy linalg's `norm`.

* Test norm

Test the Dask Array implementation of NumPy linalg's `norm` by comparing
result computed with the Dask Array implementation to that of NumPy's.

* Fix norm type mismatch on NumPy 1.10

Seems NumPy 1.10 returns integers in some cases where float values
should be returned. Later version of NumPy have the correct behavior. To
simplify testing, just force the new NumPy behavior on the old NumPy
version.",jakirkham,jakirkham@gmail.com,2017-08-14 13:38:22-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-14 13:38:22-04:00
2abc432ebe2956275a98d6df00437b71d011b9ea,"Document norm in Dask Array API (#2605)

Makes sure that norm shows up in Dask Array's API.

[ci skip]",jakirkham,jakirkham@gmail.com,2017-08-15 10:12:24-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-15 10:12:24-04:00
d7318bf5b201d1ef25f8a2eff54af040701d9834,"Add diff (#2607)

* Add diff

Implements NumPy's diff function for use with Dask Arrays.

* Test diff

Try a variety of parameters with `diff` and compare the results between
the Dask Array implementation and the NumPy implementation.

* Include diff in the Dask Array API docs",jakirkham,jakirkham@gmail.com,2017-08-15 17:52:40-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-15 17:52:40-04:00
40a81abe16256a009072d3098ed237c5efcd01c7,"Optimize concatenate on singleton sequences (#2610)

* Space out some code blocks

Minor stylistic change to help group related blocks of code together.

* Skip concatenating on a single array

If only a single array is provided to `concatenate`, there is no need to
actually concatenate anything. So simply return the single array
unchanged.

* Test singleton optimization in concatenate",jakirkham,jakirkham@gmail.com,2017-08-16 14:42:33-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-16 13:42:33-05:00
6c1c5bd159fcea9e119fe8136ffdb61c7fb28769,"Add ediff1d (#2609)

* Add ediff1d

Provides a Dask Array implementation of NumPy's `ediff1d`, which
bootstraps itself off of `diff`.

* Test ediff1d

Try a variety of parameters with `ediff1d` and compare the results between
the Dask Array implementation and the NumPy implementation.

* Include ediff1d in the Dask Array API docs

* Rewrite ediff1d without diff

Since there is no need to consider taking multiple differences or
working on a particular axis, `ediff1d` can be written more simply
without needing to use `diff`. This change makes use of this fact.",jakirkham,jakirkham@gmail.com,2017-08-16 14:44:25-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-16 13:44:25-05:00
ed35ff7b80904f0ae5cf08bea44c6e7278e26bfd,"Improve dtype inference and reflection (#2571)

* Add dask.array.core.result_type to the public API

Also adds some targeted unit tests for it: one to test it in isolation,
the other to test that it is consistent with elemwise. The latter
currently fails due to #2574 / #2575.

* Fixes for elemwise dtype inference for 0d arrays

This fixed #2574 and #2575. When given a 0d dask array, it now
passes a 1d dummy numpy array to `apply_infer_dtype`. This assumes that
the operation is capable of handling broadcasting - in particular if
elemwise is given a numpy 0d array and a dask 0d array, it will use
mixed dimensionalities in dtype inference. I had a quick look through
the array code and didn't see any problematic cases, and the unit tests
pass.

Additionally, when a 0d dask array is used, the result of
apply_infer_dtype might not match the actual returned type if numpy
type rules are in use. In this case, the operation is wrapped to cast
the output to the inferred type, to ensure that the Array has a dtype
that matches the end result.

I added a unit test to cover #2575. I deleted some existing code from
the test_elemwise_on_scalars test that seemed to have nothing to do with
elemwise.",Bruce Merry,bmerry@gmail.com,2017-08-21 19:22:50+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-21 13:22:50-04:00
d8d1507059c2e34463386b10911bf6d7fa66b571,Add link to Stack Overflow's mcve docpage to support docs (#2612),Matthew Rocklin,mrocklin@gmail.com,2017-08-23 08:09:17-04:00,GitHub,noreply@github.com,2017-08-23 08:09:17-04:00
bd7c00113c455d72a8ddbbb4efda6b71136645d4,"Allow dataframe.loc with numpy array (#2615)

* fixes and tests

* improve isinstance calls

* Make .loc work for empty indexers",Mark Dunne,markd@deskgen.com,2017-08-24 13:55:41+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-24 08:55:41-04:00
d0be62a8c12de2269ce6e2d134376a44cca5df2c,"BUG: setitem should update divisions (#2622)

* BUG: setitem should update divisions

The `df` returned by `assign` may contain different divisions that `self` in
DataFrame.__setitem__ which throws off our dataframe structure.

Now we simply copy over `df.divisions` as well.

* Skip rolling tests requiring scipy if not present",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-08-25 08:11:08-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-25 09:11:08-04:00
94b0c251d65306b3fc7da00c33e0413d88b9d2b3,bump version to 0.15.2 (#2627),Matthew Rocklin,mrocklin@gmail.com,2017-08-26 11:21:13-04:00,GitHub,noreply@github.com,2017-08-26 11:21:13-04:00
1a24af47737e04b0dc07fb419671f6734c7abf1d,"Support complex data with vnorm (#2621)

* Test vnorm on complex data

* Drop `vnorm` optimization for `ord` divisible by 2

This optimization is fine for non-`complex` data. However if the data is
`complex`, then this optimization yields an incorrect result. Hence this
drops the optimization.",jakirkham,jakirkham@gmail.com,2017-08-28 13:18:47-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-28 12:18:47-05:00
3cd0dc55996ee74c364f11cdd3740046f1254a78,"Implement Series.str[index] (#2634)

* Implement Series.str[index]

Fixes #2633

* merge str[getitem] test into test_str_accessor",Matthew Rocklin,mrocklin@gmail.com,2017-08-28 20:53:38-04:00,GitHub,noreply@github.com,2017-08-28 20:53:38-04:00
e1e3d1579a41adea17418ea94efb6a4f3a35f3f9,"Replace Continuum Analytics with Anaconda Inc. (#2631)

* Replace Continuum Analytics with Anaconda Inc.

This company has renamed itself

* update year in license",Matthew Rocklin,mrocklin@gmail.com,2017-08-29 09:49:45-04:00,GitHub,noreply@github.com,2017-08-29 09:49:45-04:00
55067b202bb1cc5c843a0d17661ea27f183ba284,"Consistent slicing names (#2601)

* Normalize index prior to calling slicing code

This helps to make slicing names more consistent.

This would also allow us to remove some logic from the slicing code
itself in the future if we wish.

* add docstring to normalize_slice

* clean up slicing tests

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-08-29 09:50:28-04:00,GitHub,noreply@github.com,2017-08-29 09:50:28-04:00
bed713f37319ea19eef1e4478d2a1191af577f51,"Add `*_like` array creation functions (#2640)

* Add *_like functions for array creation

Provides Dask Array equivalents of the `*_like` functions from NumPy to
make it easier to create arrays by using a provide array as a template.

* Export *_like functions to Dask Array's public API

* Test *_like functions

Compares the results as appropriate to the equivalent NumPy functions.
Does not compare the array contents for `empty_like` where this would
likely not be the same due to `empty`'s behavior.

* Include *_like functions in API docs",jakirkham,jakirkham@gmail.com,2017-08-30 07:54:29-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-30 07:54:28-04:00
da24ff5281878aeca73e0ead79a467fb40b965e1,"Avoid using operator.itemgetter in dask.dataframe (#2638)

* Avoid using operator.itemgetter in dask.dataframe

This is not serializable in Python 2

* Add itemgetter class to dask/utils.py

* flake8",Matthew Rocklin,mrocklin@gmail.com,2017-08-30 09:56:24-04:00,GitHub,noreply@github.com,2017-08-30 09:56:24-04:00
4cf62a342526757d468542dc4ae2ce0cb7aacce2,"python setup.py test runs py.test (#2641)

* python setup.py test runs py.test

* Pytest setuptools integration",Danilo Horta,danilo.horta@gmail.com,2017-08-30 16:55:30+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-08-30 10:55:30-05:00
358c609814230d397029c9581e806b21cacbfea5,"update copyright date (#2642)

update copyright date",Will Warner,electronwill@gmail.com,2017-08-30 18:13:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-08-30 19:13:52-04:00
d32e8b7b91e130037701daffabf663d8f1bae5de,"ENH: Allow the groupby by param to handle columns and index levels (#2636)

* Allow df.groupby to accept the name of the index along with columns

* General review cleanup

* PEP8 Updates

* Avoid evaluating dask collections with np.isscalar when checking labels",Jon Mease,jon.mease@gmail.com,2017-08-31 10:11:05-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-08-31 09:11:05-05:00
db7bee4cdd4eeabcf192f3f6c65ee34ac7865ccb,"Indexing with an unsigned integer array (#2647)

Support for indexing with an unsigned integer array",Keisuke Fujii,fUjiisoup@gmail.com,2017-09-02 02:34:15+09:00,Jim Crist,jcrist@users.noreply.github.com,2017-09-01 12:34:15-05:00
dd0802fb2a38b2dfa5af9c3acd19c21b03b1f680,"Masked arrays (#2301)

- Add support for masked arrays as chunks
- Add api docs for mask arrays
- Update sparse docs on arbitrary chunk types",Jim Crist,jcrist@users.noreply.github.com,2017-09-01 14:12:17-05:00,GitHub,noreply@github.com,2017-09-01 14:12:17-05:00
b1c5f1b24057e2af89422e93f4ffea82b0b56861,"[docs] new cheatsheet (#2649)

[docs] new cheatsheet",Will Warner,electronwill@gmail.com,2017-09-02 07:19:06-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-02 08:19:06-04:00
b1ff82604af5360b7972cd613e57d47688824316,"WIP: Add user defined aggregations (#2344)

* Add first draft of user defined aggregations

* Fix typo in tests, remove nonunicode char in groupby.py

* Address typos highlighted in PR comments

* Clarify behavior when custom agg funcs name-clash with builtin ones

* Use _select_obj of GroupBy to determine columns

* Fix series-agg with custom reductions

* Add docs for aggregate with custom aggregation functions

* Change agg name in custom agg docs to match text

* Ignore name in test for size-aggregate in series groupby

* Add examples to Aggregation docstring

* Fix pep8

* Fix rebase to master

* Address formatting remarks",Christopher Prohm,chmp@users.noreply.github.com,2017-09-04 17:54:52+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-09-04 10:54:52-05:00
8d9060322308945197c3ac31a3fbf2b291083022,"Fix what hapend when combining partition_on and append in to_parquet (#2645)

Fixes #2644",Martin Durant,martindurant@users.noreply.github.com,2017-09-05 09:30:54-04:00,GitHub,noreply@github.com,2017-09-05 09:30:54-04:00
a2d0f69deea5038a31527462823511b3cc74c00f,"[docs] company name change from Continuum to Anaconda (#2660)

[docs] company name change from Continuum to Anaconda",Will Warner,electronwill@gmail.com,2017-09-05 15:49:14-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-09-05 16:49:14-04:00
f30e935f43e1c5baafc47ed928edbf01a7457fce,"CLN: Remove redundant code, fix typos (#2652)",jschendel,jschendel@users.noreply.github.com,2017-09-05 16:38:38-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-05 18:38:38-04:00
adf37b934e9a59d4163a1e109a18f278fe3b4bfa,"Add filenames return for ddf.to_csv and bag.to_textfiles as they both (#2655)

* Add filenames return for ddf.to_csv and bag.to_textfiles as they both use bytes/core.write_bytes function

* Fix flake8 warning, wrong os.remove in test_csv

* Fix flake8 no newline at end of file

* Add filenames return to to_hdf",Adonis,adonis.settouf@gmail.com,2017-09-06 02:38:26+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-05 20:38:26-04:00
8718ff50d170b9f7066a736c74b17a76cdc7cd72,[ci skip] Add flake8 note in developer doc page (#2662),Matthew Rocklin,mrocklin@gmail.com,2017-09-06 07:23:26-04:00,GitHub,noreply@github.com,2017-09-06 07:23:26-04:00
1b8f1837281a5cbce52a2e07abf510f6120a09be,"Support literals in atop

We use a special index value of `None` to imply that a value should be
treated as a literal.",Matthew Rocklin,mrocklin@gmail.com,2017-09-05 18:03:46-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-06 12:35:59-04:00
77aba65907189e12c65c6aa1cc91a8691788096e,Remove partial_by_order,Matthew Rocklin,mrocklin@gmail.com,2017-09-05 18:29:46-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-06 12:35:59-04:00
0cdc155c598e9463ab3d8d13301efad20446fb04,"Optional axis argument for cumulative functions (#2664)

* Make cumreduction's axis argument optional

Have `cumreduction`'s `axis` argument default to `None`. If it is
`None`, simply flatten the array and set `axis` to `0`. This is the
smallest change to support `axis` as `None`. Also it results in
equivalent behavior to what NumPy would do otherwise.

* Make `axis` optional for `cumsum` and `cumprod`

This is matches what NumPy expects for these parameters. Also the
handling of them is the same as well thanks to the change made to
`cumreduction`.

* Test cumulative reductions

Provide some tests of cumulative reductions on slightly more interesting
data and with different specifications of `axis`.",jakirkham,jakirkham@gmail.com,2017-09-07 16:29:59-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-07 16:29:59-04:00
20101ac6f02ba9b7009093eba73b0e0cf7533ab0,Fix for parquet file schemes,Martin Durant,martin.durant@utoronto.ca,2017-09-08 12:01:22-04:00,Martin Durant,martin.durant@utoronto.ca,2017-09-08 12:01:22-04:00
74ecf25bf2892176e40b06b9ec62277e565e5f60,"Merge pull request #2667 from martindurant/parquet_file_schema

Fix for parquet file schemes",jakirkham,jakirkham@gmail.com,2017-09-08 13:14:51-04:00,GitHub,noreply@github.com,2017-09-08 13:14:51-04:00
b57ba9b59da70e2189efe2f7353ba94dd66c10e8,"repartition works with mixed categoricals (#2676)

Previously this would fail, as mixed categories were dropped by
`pd.concat`. We use `dd.methods.concat` instead, which handles such
cases properly.",Jim Crist,jcrist@users.noreply.github.com,2017-09-12 14:57:18-05:00,GitHub,noreply@github.com,2017-09-12 14:57:18-05:00
a1a75a766243f1f84ac1df502de3faf8ce4ebc81,"Dask array slicing with boolean arrays (#2658)

* Support slicing with boolean dask arrays

* add failing test for boolean slicing

* squash

* Partially support indexing with dimension 1 < ... < n

* remove cases other than 1 and all dimensions

* update error message",Matthew Rocklin,mrocklin@gmail.com,2017-09-12 16:06:29-04:00,GitHub,noreply@github.com,2017-09-12 16:06:29-04:00
d80faefcb40d41f0da7a7cd86fb7918afa9bfdbc,"Fix norm keepdims (#2683)

* Avoid some keepdims branches in norm

To simplify some `keepdims` handling code in `norm`, pass `keepdims`
into a few more methods instead of tacking on singleton dimensions
afterwards. This makes the code a bit cleaner and avoids potential
errors sneaking in.

* In norm handle keepdims for svd-based results

There were a few cases in `norm` where `svd` was used and we forgot to
add back in the dimensions we removed when `keepdims` was `True`.
However this case is a little trickier as we want to operate on a vector
of singular values. However we need to get back two singleton
dimensions. In order to manage this, we take the result from `svd` and
tack on a singleton dimension before passing it to the appropriate
reduction function. That way the reduction function will either keep 2
singleton dimensions (the one we added and the one from the vector) or
it will get rid of both of them. No additional branch is required in
this case.",jakirkham,jakirkham@gmail.com,2017-09-15 07:16:23-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-09-15 06:16:23-05:00
2d57d3edd49169b44ee6d8faa5fd79b0fc4137eb,"Publish Series methods in dataframe api (#2686)

Also fill in a few docstrings for completeness",Matthew Rocklin,mrocklin@gmail.com,2017-09-16 08:47:31-04:00,GitHub,noreply@github.com,2017-09-16 08:47:31-04:00
95f0f6639293565e1cb5b0b7905deba1d4a06db4,"Catch warning from numpy in subs (#2457)

When slicing a dask.array with an array of integers, an operation in `subs`
would emit a FutureWarning from NumPy.

```python
>>> import dask.array as da; import numpy as np
>>> X = da.random.random((100, 2), (2, 2))
>>> idx = np.array([0, 0, 1, 1])
>>> X[idx].compute()
```

```pytb
(Pdb++) pp arg
(array([0, 0, 1, 1]), slice(None, None, None))
(Pdb++) pp key
('da.random.random_sample-95ef33cc2e3f5ffd6248bd70b54d75ec', 0, 0)
(Pdb++) arg == key
/Users/taugspurger/Envs/dask-dev/lib/python3.6/site-packages/dask/dask/core.py:1: FutureWarning: elementwise comparison failed; returning scalar instead, but in the future will perform elementwise comparison
  from __future__ import absolute_import, division, print_function
False
```

So we're doing `np.array([0, 0, 1, 1]) == 'a string'`. At the moment this
returns ``False``, but in the future it will be `array([False, False, False,
False])`, which means the tuple comparison will fail with a ValueError.

This prepares for that eventuality, while catching the warning today.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-09-18 13:42:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-18 14:42:37-04:00
3725ac2cd1f9fc0fab99986fd23751a145668d5c,"Add ptp (#2691)

* Add ptp

Implements `ptp` for Dask Arrays. Basically just the difference between
the `max` and `min` with an optional `axis` argument. Skipped providing
`out` even though NumPy provides it. Not sure that it makes much sense
to have `out` for Dask Arrays or that it is of any value.

* Export ptp in Dask Array's public API

* Document ptp in Dask Array API docs

* Test ptp

Provide some test cases for the Dask Array `ptp` implementation with
different `axis` arguments.",jakirkham,jakirkham@gmail.com,2017-09-20 16:34:43-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-09-20 15:34:43-05:00
c10d1b0daee2320b23065a3659456160dd8bcc93,"Remove resize tool from bokeh plots (#2688)

This was removed in 0.12.7 and now results in warnings",Matthew Rocklin,mrocklin@gmail.com,2017-09-20 16:35:18-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-09-20 15:35:18-05:00
3a83436dbe73d9b4ccf7b664b976f684f70b575c,"Only install pytest-runner if needed (#2692)

Only add pytest-runner to `setup_requires` if doing a test invocation.",Jim Crist,jcrist@users.noreply.github.com,2017-09-20 19:00:37-05:00,GitHub,noreply@github.com,2017-09-20 19:00:37-05:00
9f44da8d04f74755cd35d347408e95472c5e787d,Add schema keyword to read_sql (#2582),Martin Durant,martindurant@users.noreply.github.com,2017-09-21 11:01:54-04:00,GitHub,noreply@github.com,2017-09-21 11:01:54-04:00
3486d1773628567c56c1c82fa6a4197e7e10906a,"TST: Have array assert_eq check scalars (#2681)

* TST: Have array assert_eq check scalars

Closes https://github.com/dask/dask/issues/2680

* TST: Fixed broadcasting test

* TST: Fix svd_compressed

Make the right assertion",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-09-21 12:21:42-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-21 13:21:42-04:00
8a1286d6e4413722f32cd486a38da77a38f7154f,"Skip days in daily_stock that have nan values (#2693)

Some of the data sources fail to include complete data for some days.
We just skip those days.

I apologize for the lack of tests on this.  The support in
pandas_datareader is currently broken in a few ways that makes testing
this difficult.",Matthew Rocklin,mrocklin@gmail.com,2017-09-21 13:21:53-04:00,GitHub,noreply@github.com,2017-09-21 13:21:53-04:00
4011f4cd102c899b59f539e26aca23e12a588ac3,"Use travis conditional builds (#2697)

* Use travis conditional builds

Attempt to speed up travis builds by only running certain builds on
merge to master.

* Use references to avoid repeating config

* Use type instead of branch",Jim Crist,jcrist@users.noreply.github.com,2017-09-22 16:25:46-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-22 17:25:46-04:00
e40bb537bea0f5238296df005703056cb25e5673,"Add apply_along_axis (#2698)

* Add apply_along_axis to Dask Array

Implements a Dask Array equivalent of `apply_along_axis`. Does this by
leveraging a NumPy object Array to store all results before stacking
them all back together as one unified Dask Array.

* Export apply_along_axis to Dask Array's public API

* Test Dask Array's apply_along_axis

Provide some tests for the Dask Array implementation of
`apply_along_axis`, which compares it to the NumPy implementation. Try a
range of different functions and axes they are applied along. Also
explores functions that return something with some dimensionality to
them.

* Document Dask Array's apply_along_axis

* Rewrite apply_along_axis to use map_blocks

Previously the `apply_along_axis` implementation went through the Dask,
pulling out each 1D array, and applying the user provided function to
them. However this could create a rather large graph with a significant
amount of overhead for large Dask Arrays. A better solution ends up
being rechunking the data into 1D array chunks the size of which the
user provided function will operate on. Then simply using `map_blocks`
to apply the user provided function to each chunk. To ensure the right
size is determined for the result, some test data is run through the
user provided function first to estimate the results shape to provide to
`map_blocks`.

* Skip some apply_along_axis tests on old NumPys

Before NumPy 1.13.0, it was not permissible for `apply_along_axis` to
take a function that returned an array with dimensionality greater than
1-D. As such we should not bother testing cases where `apply_along_axis`
is given a function that returns something with higher dimensionality if
we don't have a NumPy version that can handle such a result and be
compared to. Thus we skip this case for any NumPy prior to 1.13.0.

* Use NumPy's apply_along_axis inside ours

To simplify our implementation of `apply_along_axis` and particularly
our wrapper function, just call `apply_along_axis` within our wrapper
function. This should allow it to be a bit more flexible, standardized,
and hopefully more efficient.

* Rechunk axis only in apply_along_axis

Instead of rechunking all other axes not being computed along to 1,
simply preserve their existing chunking. Only focus on having one chunk
for the axis that will be operated on by `apply_along_axis`. Due to
recent improvements under the hood in our wrapper function, this should
work seamlessly despite the fact there are some non-trivial dimensions.

* Raise for unsupported result shape

In the event a user has a NumPy older than 1.13.0, we cannot support
multiple dimension from the `func1d` function given to
`apply_along_axis`. So in this case, raise a `ValueError` just as old
version of NumPy would. Update the tests to make sure this error is
thrown.",jakirkham,jakirkham@gmail.com,2017-09-23 11:36:35-04:00,GitHub,noreply@github.com,2017-09-23 11:36:35-04:00
983de64dd5d638d5e29f871354ad82bd24429967,"Tweak apply_along_axis's pre-NumPy 1.13.0 error (#2703)

* Sum non-trivial dimensions as integers

NumPy will upcast the bool array that we are summing to integers as it
is a lower precision type. However there is no harm in forcing a higher
precision type to start with. Hence we force `sum` to convert the `bool`
array to `int` for summation.

* Tweak apply_along_axis's error message

The previous warning message implied that the returned array needed one
non-trivial dimension. However it could actually be a scalar. So instead
point out that more than one non-trivial dimension is an issue.",jakirkham,jakirkham@gmail.com,2017-09-23 13:30:43-04:00,GitHub,noreply@github.com,2017-09-23 13:30:43-04:00
c359e88894da54a9cd1fcd92cbdc223ec58ee3ef,"Use apply_along_axis name in Dask (#2704)

Previously an internal function was being used to name the
`apply_along_axis` operation in the Dask graph. This is a bit confusing
and not really what we want the user to see. So instead use
`apply_along_axis` as the name in the Dask graph to make things a bit
clearer.",jakirkham,jakirkham@gmail.com,2017-09-23 13:31:07-04:00,GitHub,noreply@github.com,2017-09-23 13:31:07-04:00
6f04f6f9ab5f3dd1ad1543f98f3922d9297fd83b,"Add apply_over_axes (#2702)

* Add apply_over_axes to Dask Array

Implements a Dask Array equivalent of `apply_over_axes`. Does this by
simply calling `apply_along_axis` for each axis that `apply_over_axes`
was provided. Adds in a singleton dimension afterwards if the axis was
reduced. However if the function does not preserve the dimensionality or
reduce it exactly by one, `apply_over_axes` raises a `ValueError` like
its NumPy equivalent.

* Export apply_over_axes to Dask Array's public API

* Test Dask Array's apply_over_axes

Provide some tests for the Dask Array implementation of
`apply_over_axes`, which compares it to the NumPy implementation. Try a
range of different functions and axes they are applied along. Also
explores functions that return something with some dimensionality to
them.

* Document Dask Array's apply_over_axes",jakirkham,jakirkham@gmail.com,2017-09-24 09:11:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-24 09:11:27-04:00
6f1448b7fa5890951bf41d99c4ff2eda577f9a5c,Make `y` optional in dask.array.learn (#2701),Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-09-24 08:11:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-24 09:11:37-04:00
159ebb43103b058d822c9f721e99fbf3c80dbdc7,add .github/PULL_REQUEST_TEMPLATE.md file,Matthew Rocklin,mrocklin@gmail.com,2017-09-21 14:07:53-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-24 12:11:10-04:00
95c56a563e435117778623a91111a5ba4312b25b,bump version to 0.15.3,Matthew Rocklin,mrocklin@gmail.com,2017-09-21 14:08:07-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-24 12:11:10-04:00
14c9acc0a93ee48a6b891038a1e9c29c5d349b91,add int96 times to parquet writer (#2711),Martin Durant,martindurant@users.noreply.github.com,2017-09-24 17:57:23-04:00,GitHub,noreply@github.com,2017-09-24 17:57:23-04:00
b5e27c254660d6744033b0b7c9297e3eb71afbc3,"Call mkdir from correct namespace in array.to_npy_stack. (#2709)

* Calls mkdir from correct namespace in to_npy_stack.

Bugfix to correctly call mkdir from the os namespace,
not the os.path namespace.

* Tests to_npy_stack directory making

Test_to_npy_stack() now forces to_npy_array() to work without a pre-made
array, which forces it to exercise the additional code calling os.mkidr.

* Fix tests to use OS appropriate paths.

Use os.path.join to make a path, rather than adding a slash.  Makes test
portable across operating systems.",mayl,larrymayster@gmail.com,2017-09-25 07:43:19-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-25 07:43:19-04:00
26027dce9bc162d218420f9987bdbcbe3d797d5f,Update link to IPython parallel docs (#2715),Matthias Bussonnier,bussonniermatthias@gmail.com,2017-09-25 09:27:00-07:00,Jim Crist,jcrist@users.noreply.github.com,2017-09-25 11:27:00-05:00
a4a5c1bcf01c16ff79c89965c37fd5be19217e7e,"Tree reduction support for dask.bag.Bag.foldby (#2710)

* Added working version as foldby2 for testing and comparison.

* Sorted dsk.keys() in foldby.

* Refactored foldby tree reduction to use split_every.

* Foldby now tree reduces with split_every argument.

* Added test for foldby tree reduction result.

* Removed awkward ipdb statement.

* Updated changelog.

* Changed dict comprehensions in foldby to python3 version.

* Better tests for foldby tree reduction.

* Using single-threaded scheduler in test_foldby_tree_reduction.

* Compute tests in parallel for foldby_tree_reduction.",severo,danielsouzasevero@gmail.com,2017-09-25 14:22:05-03:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-25 13:22:05-04:00
f015b5f0808420bdd23f8408f5822d2f5aff8ff1,"Support indexing with np.int (#2719)

* Support indexing with np.int

* Update changelog.rst",Keisuke Fujii,fUjiisoup@gmail.com,2017-09-26 20:32:16+09:00,Matthew Rocklin,mrocklin@gmail.com,2017-09-26 07:32:16-04:00
68d8c955159f82ec6456e887010c9ad93a44d8b4,"Pass on file_scheme to fastparquet (#2714)

* Pass on file_scheme to fastparquet

* test drill cat in dask dataframe

* directly columns",Martin Durant,martindurant@users.noreply.github.com,2017-09-29 08:40:18-04:00,GitHub,noreply@github.com,2017-09-29 08:40:18-04:00
0f29e7b8570dcd72d0dfbcaf276fce0189ab099f,Fix #2720 (#2729),Martin Durant,martindurant@users.noreply.github.com,2017-10-01 15:27:38-04:00,GitHub,noreply@github.com,2017-10-01 15:27:38-04:00
8a0aaf1d6586509ed0c5f9eb923d5983848e759a,"A few test cleanups

- Move some tests out of `dask.tests.test_base`. These were put in the
  wrong file.

- Remove old skip decorator in favor of `pytest.mark.skip`.",Jim Crist,jiminy.crist@gmail.com,2017-10-03 14:46:26-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-04 09:48:59-05:00
899ad26f70c3c34fe73b897904079db6922b81ab,Reduce memory usage,Jim Crist,jiminy.crist@gmail.com,2017-10-03 19:31:14-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-04 09:48:59-05:00
42efc8bd3d4c96b17aa3e439bc317708d889ea7e,"Fix install failures

- Use pytables from defaults
- Pin conda
- Use `conda list` to give better debug support",Jim Crist,jiminy.crist@gmail.com,2017-10-03 16:46:27-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-04 09:48:59-05:00
80aeb257566054600cd60a436833b792b7c15df8,API: Add `.str` accessor for Categorical with object dtype (#2743),Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-04 10:44:20-05:00,GitHub,noreply@github.com,2017-10-04 10:44:20-05:00
3be1d972739c738cd9412a009d61f5907f084376,"Pandas 0.21 compatability (#2737)

* COMPAT: pandas TimeGrouper

xref https://github.com/pandas-dev/pandas/issues/16747

* COMPAT: For pandas 0.21 CategoricalDtype

* COMPAT: For pandas 0.21.0 HTML repr changes

https://github.com/pandas-dev/pandas/pull/16879

* COMPAT: For pandas 0.21.0 numexpr import

https://github.com/pandas-dev/pandas/pull/17710

* COMPAT: Default for inplace is now False in eval

https://github.com/pandas-dev/pandas/pull/11149",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-05 13:52:23-05:00,GitHub,noreply@github.com,2017-10-05 13:52:23-05:00
b06e2fe212982e9b5a497c86cb1393aa204494f9,"Handle zero dimension when rechunking (#2747)

* Handle zero dimension when rechunking

Previously, zero dimensions resulted in a ZeroDivisionError.

* Move test and satisfy flake8 tuple spacing

* Avoid creating new variable

* Move test to test_rechunk.py",Simon Perkins,simon.perkins@gmail.com,2017-10-06 13:22:43+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-06 07:22:43-04:00
4c59ccc54126d368dec9757e5461b255d3aef10b,"Support -1 as an alias for dimension size in chunks (#2749)

* Support -1 as an alias for dimension size in chunks

Fixes GH2689

* docstring

* avoid list chunks in ghost",Stephan Hoyer,shoyer@gmail.com,2017-10-06 09:58:18-07:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-06 12:58:18-04:00
14e4df75ae9c64ff6c45e5be6daaed74355ca918,"Drop s3fs requirement (#2750)

Seems like `s3fs` is or can be optional as one can certainly run a
`distributed` cluster without using S3. Looking at `distributed`, it
appears to have dropped any requirement on `s3fs` at all. Also any
import in `dask` of `s3fs` is guarded against in case `s3fs` is not
present. As there are fallbacks that are commonly used when S3 is not
used, it seems reasonable to drop `s3fs` as a required dependency of the
`distributed` backend. Though maybe `s3fs` should live under a different
extra install option.",jakirkham,jakirkham@gmail.com,2017-10-06 12:58:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-06 12:58:35-04:00
2a8fbfbd46e89d2ccbd1dc8ac140c6cf5270a775,bump version to 0.15.4 (#2751),Matthew Rocklin,mrocklin@gmail.com,2017-10-06 21:57:05-04:00,GitHub,noreply@github.com,2017-10-06 21:57:05-04:00
b4ad37292fbddb4cfcb76066b2178e1f3b1cb2c5,Add changelog template for future date (#2758),jakirkham,jakirkham@gmail.com,2017-10-10 13:05:20-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-10 12:05:20-05:00
3270bee8caedb84ae0c8bbe8e7f7cb609064a230,"Consolidate changelog for 0.15.4 (#2759)

Drops some duplicate entries in the changelog for the 0.15.4 release.",jakirkham,jakirkham@gmail.com,2017-10-10 14:12:55-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-10 13:12:55-05:00
4dfc3da105bb700f30453d537b4a6a3b9a7ede26,"Add atleast_nd functions (#2760)

* Add atleast_1d

Implements the equivalent of NumPy's `atleast_1d` for Dask Arrays.

* Support 0-D arrays in atleast_2d

Previously the 0-D array case of `atleast_2d` was not handled. This
implements support for the 0-D case.

* Support 0-D arrays in atleast_3d

Previously the 0-D array case of `atleast_3d` was not handled. This
implements support for the 0-D case.

* Reuse NumPy docstrings for atleast_nd

The `atleast_2d` and `atleast_3d` functions were added some time ago,
but do not have docstrings. So just reuse the docstrings from NumPy per
usual. Also do the same for `atleast_1d`.

* Export atleast_nd functions to public API

The `atleast_2d` and `atleast_3d` functions were not part of the public
API previously. So this adds them to the public API to mirror NumPy.
Also adds the newly minted `atleast_1d` as well.

* Test atleast_nd functions

Simply compares the results of the Dask Array implementations to those
of NumPy's.

* Document atleast_nd

Includes documentation for `atleast_2d` and `atleast_3d`, which have
been around for a while. Also adds documentation for the newly minted
`atleast_1d`.

* Add changelog entry for atleast_nd functions

* Store atleast_nd expanded arrays before returning

* Handle multiple arrays in atleast_nd functions

* Test multiple arguments to atleast_nd

* Convert arguments to arrays in atleast_nd

Make sure we are dealing with Dask Arrays in all atleast_nd functions.",jakirkham,jakirkham@gmail.com,2017-10-11 11:13:35-04:00,GitHub,noreply@github.com,2017-10-11 11:13:35-04:00
79b827b17d7743ae3af9fa2108ade36857e12389,"update docs to use flatten vs concat (#2764)

i am updating the docs according to https://github.com/dask/dask/pull/2402",Hai Nguyen Mau,mauhai@users.noreply.github.com,2017-10-11 17:07:04+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-11 11:07:04-05:00
9454d22c31e2e2dab5cf01eb97b174117299b0a7,Allow tuples as sharedict keys (#2763),Matthew Rocklin,mrocklin@gmail.com,2017-10-11 13:50:36-04:00,GitHub,noreply@github.com,2017-10-11 13:50:36-04:00
e1afce627e9b2cf1b3407280ecb782e1a418c6f9,"Link PR for ""Allow tuples as sharedict keys"" (#2766)

Make sure the link to the PR shows up in the changelog.

[ci skip]",jakirkham,jakirkham@gmail.com,2017-10-12 07:27:46-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-12 07:27:46-04:00
4a86b91abff0aaa8846186ab4bbb56d5aaba6602,"Use get_worker().client.get if available (#2762)

* Use get_worker().client.get if available

This makes tasks within workers to default to the distribued
scheduler's get.

* Create thread state within dask/base.py

dask/distributed will now use this thread_state by default",Matthew Rocklin,mrocklin@gmail.com,2017-10-12 07:55:37-04:00,GitHub,noreply@github.com,2017-10-12 07:55:37-04:00
cf0fde5d6a16367443654609b5fa74e321410197,"Follow-up for atleast_nd (#2765)

* Use `asanyarray` in `atleast_nd` functions

* Break out no argument tests of atleast_nd

Was including many combinations of no argument tests with other things
like array shapes that were not relevant. This simply runs the no
argument tests on the functions sans other parameters.

* Break out the one argument `atleast_nd` tests

This simplifies the test suite a bit by having the one argument case
dealt separately with than the two argument case.

* Test atleast_nd functions using two arrays

Make sure the two arrays can have different dimensionality to ensure
that both are being taken care of correctly regardless of whether their
dimensionality is the same or not.

* Skip some two arguments tests of atleast_nd

These cases are already tested with the arguments in reversed order. So
there is no need to test them again. Hence they are selectively skipped.

* Avoid using pytest's skip

Instead of skipping parameter combinations with `pytest.skip`, just
construct the combinations we care about using an `itertools` trick.",jakirkham,jakirkham@gmail.com,2017-10-12 10:57:37-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-12 09:57:37-05:00
d9a183a0e7baff2bc76a1e3cb932275bfe681463,"Remove `random.different_seeds` from API docs (#2772)

Seems that `random.different_seeds` is not available in the API. So
shouldn't be listed in the Dask Array API docs.

[ci skip]",jakirkham,jakirkham@gmail.com,2017-10-13 07:08:00-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-13 06:08:00-05:00
bd565c3999afbbb004d39cabd24209ce99695f51,"Add allclose (#2771)

* Add allclose

Implements the equivalent of NumPy's `allclose` for Dask Arrays. Does
this by simply using the existing `isclose` operation for comparing each
element. Then calls `all` on the result of `isclose` to collapse it down
to a single `bool`.

* Expose allclose to Dask Array's public API

* Tests `allclose`

Provides a very simple test of Dask Array's `allclose`, which compares
the result against NumPy's `allclose`. Basically borrows and tweaks a
test used for Dask Array's `isclose`.

* Adds Dask Array's allclose to the API docs

* Reference ``allclose`` in the changelog",jakirkham,jakirkham@gmail.com,2017-10-13 08:36:20-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-13 08:36:20-04:00
00d961c94b4dbec2631ce4c4b296f16510a63118,"add auto-import of gcsfs (#2776)

* add auto-import of gcsfs

* [skip ci] add changelog entry",Matthew Rocklin,mrocklin@gmail.com,2017-10-13 12:26:04-04:00,GitHub,noreply@github.com,2017-10-13 12:26:04-04:00
8d383d688113224e987fb7f7390d74bd4c3e036f,"Deprecate vnorm (#2773)

At this point, users can get the same functionality from
`dask.array.linalg`'s `norm`. Since the latter matches a name from NumPy
and `vnorm` does not, it makes more sense to deprecate `vnorm` and
direct users to `norm`.",jakirkham,jakirkham@gmail.com,2017-10-13 14:32:35-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-13 13:32:35-05:00
b2b62b92265a8023eef50e1f79927bdc00d571ed,"Reduce test memory usage (#2782)

There were a few tests that allocated large arrays. This is an attempt
to minimize the cases where those are necessary.",Jim Crist,jcrist@users.noreply.github.com,2017-10-14 20:05:43-05:00,GitHub,noreply@github.com,2017-10-14 20:05:43-05:00
9e9fa10ef11bfe86a52214d8a2cda19508a4ee37,"Dask Collection Interface

This adds a standard protocol for the dask collections implemented via a
set of methods (and no required base class). The methods are similar to
the existing non-public api, but not exactly the same.

- Specified collection interface
- Switched all internals to use new interface
- Deprecated previous interface
- Broke out the core methods (e.g. `.compute` into a mixin)
- Deprecated `Base` class
- Documented interface",Jim Crist,jcrist@users.noreply.github.com,2017-10-14 20:07:50-05:00,GitHub,noreply@github.com,2017-10-14 20:07:50-05:00
dca3d3549701c6fb4e079a0e981be4f04837c334,"Implement Dask Array's unique to be lazy (#2775)

* Implement Dask Array's unique to be lazy

Previously Dask Array's `unique` would compute the result when called.
Given Dask's typically lazy nature, this was a bit surprising for users.
However for a while the needed features for a lazy `unique`
implementation (e.g. unknown shapes) simply did not exist. Now that it
looks like the needed features are available, rewrite `unique` to be
lazy to more closely match the behavior of other functions in Dask.

* Test that unique is now lazy

* Update changelog to note unique is lazy

* Run `compute` on `unique` in `from_bcolz`

Appears that `from_bcolz` was using Dask Array's `unique` and expected
it to not be lazy. Making `unique` lazy broke it apparently. However as
the non-lazy version simply returned a NumPy array with the result, it
seems pretty reasonable to just have `from_bcolz` call `compute` on the
lazy `unique` result to get the expected NumPy result, which is what is
done here. The computational behavior should be the same as before.

* Construct `unique`'s reduction graph directly

Instead of making use of `delayed` to construct `unique`'s reduction
graph, simply hand roll our own reduction graph directly. This should
avoid unneeded calls to `optimize` and still work well for the end user.",jakirkham,jakirkham@gmail.com,2017-10-15 11:49:51-04:00,GitHub,noreply@github.com,2017-10-15 11:49:51-04:00
5cc5da6af22c13d5bfaec02f32a556ec8f6b7312,"ResourceProfiler plot works with single point (#2778)

Previously if there was only a single point the (start, end) plot bounds
would be set to identical values, leading to js errors when trying to
view the plot. This fixes this issue and adds a test for it.

Note that this is only an issue for the ResourceProfiler - all other
plots already checked for this.",Jim Crist,jcrist@users.noreply.github.com,2017-10-16 06:52:54-05:00,GitHub,noreply@github.com,2017-10-16 06:52:54-05:00
c560965c8fc0da7cbc0920d43b7011d2721307d3,"Support broadcasting 0-length dimensions (#2784)

Make sure that 0-length dimensions can be broadcasted. Also when
broadcasting 0-length dimensions, have them broadcast to a 0-length
dimension in the end. This happens regardless of the lengths of this
particular dimension in the other arrays involved.",jakirkham,jakirkham@gmail.com,2017-10-16 11:22:16-04:00,Antoine Pitrou,pitrou@free.fr,2017-10-16 17:22:16+02:00
4f851be0ccf90534f0b6a8aacd22b123d3f85c4c,"da.random.choice works with array args (#2781)

* Fix da.random.choice

This method was implemented, but was broken for non-scalar inputs for
`a` and `p`. This fixes that, adds tests, and adds `choice` to the
top-level in `da.random`.

* Add `da.random.choice` to docs, add changelog",Jim Crist,jcrist@users.noreply.github.com,2017-10-17 07:49:17-05:00,GitHub,noreply@github.com,2017-10-17 07:49:17-05:00
c94af72c503c476bbfb007a7915d21fa01359d30,"minor doc changes in bag.core (#2797)

* minor doc changes in bag.core

Fixed some formatting and other very minor things

* added periods

* Update core.py

* removed whitespace",Hai Nguyen Mau,mauhai@users.noreply.github.com,2017-10-20 15:07:55+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-20 10:07:55-04:00
43bc11d4fd976ed115d4bc81ae97cd1872ec5ae2,"Docs update (#2803)

* Move map_blocks from internal to main array API

* point machine learning page to dask-ml docs",Matthew Rocklin,mrocklin@gmail.com,2017-10-20 16:17:04-04:00,GitHub,noreply@github.com,2017-10-20 16:17:04-04:00
878e9a696b79b579000e54425895d5f1280044f1,Typo in the docstring of read_parquet's filters param (#2806),Olivier Grisel,olivier.grisel@ensta.org,2017-10-23 13:59:09+02:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-23 06:59:09-05:00
c706f7eca6e9aa5ac48f9368bd8b1d1bab3f1edc,"Fix concat series bug (#2800)

* mkdir is part of os and not os.path

* fix #2798

* Added release note",James Munroe,jmunroe@mun.ca,2017-10-24 03:32:33+11:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-23 11:32:33-05:00
de2afdb76e34e0675a4ed429f28a49a314d33400,"CI: Update for new flake8 / pycodestyle (#2808)

flake8 now raises for E741, ambiguous variable name.
We ignore it.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-23 14:47:06-05:00,GitHub,noreply@github.com,2017-10-23 14:47:06-05:00
53565a05a8589501d39cab07f1807bec21e9d11f,"flake8 now checks bare excepts (#2816)

Remove explicit call to pycodestyle",Jim Crist,jcrist@users.noreply.github.com,2017-10-24 09:44:42-05:00,GitHub,noreply@github.com,2017-10-24 09:44:42-05:00
6de346b35512cf3592a00499419009cb706981b1,"Adds asarray and asanyarray to the dask.array public API (#2787)

* Adds asarray to the dask.array public API

* Updates asarray docstring to be more similar to np.asarray

* Adds asanyarray to the dask.array public API

* Adds changelog entry

* Modifies asarray and asanyarray to more efficiently handle lists/tuples of dask arrays",James Bourbeau,jrbourbeau@users.noreply.github.com,2017-10-24 09:45:56-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-24 09:45:56-05:00
49846ab133531df5ccb6a13580a6b4e1087eabd4,Adds comma to flake8 section in setup.cfg (#2817),James Bourbeau,jrbourbeau@users.noreply.github.com,2017-10-24 11:35:01-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-24 11:35:01-05:00
9df094342533d07cda7f0485d987b3be2868b71f,"API: remove dask.async (#2828)

async is a proper keyword in python 3.7, finishes work of #2318.",Thomas A Caswell,tcaswell@gmail.com,2017-10-27 10:07:18-04:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-27 09:07:18-05:00
f09ed193e217c93714c6726a30f56124cf0893b6,"BUG: Quantile with missing data (#2791)

BUG: DataFrame.quantile with scalar lost result name",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-27 13:05:12-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-27 20:05:12+02:00
4cd872ff1fda3589bad771da526a1e4363e4a85d,"Fix cloudpickle test (#2836)

New release of cloudpickle broke this test.",Jim Crist,jcrist@users.noreply.github.com,2017-10-27 13:39:16-05:00,GitHub,noreply@github.com,2017-10-27 13:39:16-05:00
a41715be0cf10d3f7e9ce361c77fc82ac6c5b73e,"df.astype(categorical_dtype) -> known categoricals (#2835)

Previously using astype with a `CategoricalDtype` would always result in
unknown categoricals. This fixes it so that it results in known
categoricals if the categoricals on the dtype object are known.

Also fixes a bug where old known categoricals would be set to unknown
after calling `astype`.",Jim Crist,jcrist@users.noreply.github.com,2017-10-27 15:46:08-05:00,GitHub,noreply@github.com,2017-10-27 15:46:08-05:00
990fb38c0733aaf3c05ce2d993f9def0da02fe96,"test against pandas rc (#2814)

* COMPAT: Revert prior change for pandas repr change

* COMPAT: pandas 0.21.0 deprecating reindex_axis

* COMPAT: use named argument for rename

This avoids a warning from pandas

* CI: Add job against pandas-dev

* Rename env var",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-27 15:47:25-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-27 15:47:25-05:00
643ae878d7cc5204aa096b9f9946e5ccac0aea25,"Array optimizations don't elide some getter calls (#2826)

Previously all no-op indexing operations were fully removed in the
optimization passes. This was fine for array-like's that follow numpy's
semantics, but not all objects fully follow these semantics.

Since chunks always should follow numpy slicing conventions, the only
thing we need to worry about is original backend storage (in calls to
`from_array`). We fix the optimization passes to never fully remove
slices if the indexing operation originated in `from_array`.",Jim Crist,jcrist@users.noreply.github.com,2017-10-27 15:48:13-05:00,GitHub,noreply@github.com,2017-10-27 15:48:13-05:00
7113a3c9bf335f2fe58989760af7b671d940e92f,"Squash a few warnings in dask.array (#2833)

* Remove a few `._keys()` calls that snuck in

These were all removed in the interface PR, but a few have snuck in
later.

* Squash warnings in view

Fix Array.view with order='F' to use transpose, as suggested in the
deprecation warning.

* Squash warning in rechunk

* Squash warning in slicing

* Squash deprecation warning for norm",Jim Crist,jcrist@users.noreply.github.com,2017-10-30 09:14:34-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-30 09:14:34-05:00
271566555d16bb092b9992354702945f6738edb8,"Fix installing of pandas dev (#2838)

* Fix installing of pandas dev

* Fix comparison in eval

* Update changelog.rst",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-30 10:24:09-05:00,GitHub,noreply@github.com,2017-10-30 10:24:09-05:00
bca06c23ba8d1c857f0aa1e20ae756d7ddda22bd,"Support `return_*` arguments with `unique` (#2779)

* Support other arguments to `unique`

Implements support for `unique`'s arguments `return_index`,
`return_inverse`, and `return_counts`. All of which are optionally
supported and lazily computed with the unique values. The results are
returned as a `tuple` if any of the other arguments are set to `True`.
Otherwise behavior is identical if none of the arguments are set to
`True`. Matches with NumPy's `unique`'s behavior.

Also explicitly use `int64` for `unique`'s extra returns.  This is
needed on Windows, in particular, as Python uses `int32` by default.
However `unique` returns `int64` for all indices and counts on both Unix
and Windows platforms. So forcing `int64` will ensure Windows works
correctly and shouldn't change anything for Unix.

* Test all of `unique`'s keyword combinations

Make sure any subselection is possible, correctly sized, correctly
ordered, and share the same values with the NumPy implementation.

* Note in changelog `unique` takes `return_` args",jakirkham,jakirkham@gmail.com,2017-10-30 16:04:24-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-30 21:04:24+01:00
f0baa8a8af893e9cd282189b485d6f62af20f4ad,"Compat for bokeh 0.12.10 (#2844)

Compat for new bokeh state API",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-10-30 22:55:00-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-10-30 22:55:00-05:00
6a62d1547f222b54e4762dcfe33807a663312825,"Do not except on set_index on text column with empty partitions #2820 (#2831)

* add second pass to remove_nan to replace nan that may appear at end of list

* improve tests, short circuit on second pass when removing nan

* added one more test for remove_nan which no nan values for completeness

* switch to pd.isnull and added tests for other types

* removed left over print

* cleaned up test

* updated changelog",Jesse Vogt,jesse.vogt@gmail.com,2017-10-31 15:27:59-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-31 21:27:59+01:00
488342e3f9b296719e008ae4be6bbfa9ac5f6887,"Test unique on more data (#2846)

Provides a few different datasets with different shapes, chunk sizes,
and value distributions. Gets all of `unique`s optional results to make
sure they all checkout correctly when compared to NumPy's `unique`.
Should provide some better assurances that Dask Array's `unique` works
correctly.",jakirkham,jakirkham@gmail.com,2017-10-31 17:05:16-04:00,Antoine Pitrou,pitrou@free.fr,2017-10-31 22:05:16+01:00
b9e3487a963b574f91eb403fdfc0baf1bc97d2eb,"Do not raise exception when calling set_index on empty dataframe #2819 (#2827)

* Do not raise exception when calling set_index on empty dataframe

* tweaked test base on PR convo in 2831

* force ddf to 1 partition when empty ddf found

* renamed empty_partitions_detected => empty_dataframe_detected

* use pd.isnull directly on array, updated changelog",Jesse Vogt,jesse.vogt@gmail.com,2017-10-31 16:34:10-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-10-31 22:34:10+01:00
f0f0c86b1f58493249d17b76fdab0d1d15282316,"Add more tests for read_parquet(engine='pyarrow') (#2822)

* Add more tests for read_parquet(engine='pyarrow')

* Also test test_empty_index with pyarrow",Uwe L. Korn,xhochy@users.noreply.github.com,2017-11-01 10:05:41+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-01 10:05:41+01:00
ecd425f7fe4c6b64682a0df63dfc16ec918c8dda,"Simplify `_unique_internal` (#2850)

* Simplify `_unique_internal`

Was retrieving the `indices` found by `unique`. However as those are not
used, it makes no sense to get them. Hence we drop requesting that
result from `unique` and simplify the surrounding code in
`_unique_internal`.

* Guarantee dtypes for initial indices and counts

Before we expected these would be constructed as `int64` arrays. However
now we explicitly require `int64` in their construction to ensure that
we get the desired type in both cases.

* Rename `t` to `u` in `_unique_internal`

Makes more sense to use `u` than `t` given it is no longer a `tuple`.

* Enforce `int64` for `arange` in `_unique_internal`

Would be effectively enforced through copying the `arange` result to an
array with `int64` precision. Still it seems better to enforce this when
creating the array with `arange` to begin with.

* Enumerate `r[""values""]` in `_unique_internal`

Makes the code a bit more readable by showing more clearly what we are
iterating over are the values.",jakirkham,jakirkham@gmail.com,2017-11-01 11:24:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-01 16:24:00+01:00
37481720370ef109486854bca05b18c32aa4aed6,Remove unnecessary map_partitions in aggregate (#2712),Christopher Prohm,chmp@users.noreply.github.com,2017-11-01 22:43:23+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-01 22:43:23+01:00
7ce1083f8d8e5b2046dc2c154701a8ca7f9ee545,"Update dask interface during XArray integration (#2847)

- Add `is_dask_collection` to dask top-level namespace
- `is_dask_collection` returns False on collection classes",Matthew Rocklin,mrocklin@gmail.com,2017-11-01 23:38:22+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-11-01 17:38:22-05:00
29dea4c1d6499f68172d186b636eae3f545c2999,"Minor tweaks to `_unique_internal` optional result handling (#2855)

* Just use `enumerate` in `_unique_internal`

We are not really using any of the fancy features of NumPy's
`ndenumerate`. So we are better off just using `enumerate`.

* Specify `_unique_internal`'s reductions' `out`

Change the array reduction operations to store their outputs to the
specified record in the result array. Should avoid having some extra
copies floating around.

* Skip `for`-loop over values if no extra results

If we are not requiring extra results for the indices or the counts,
there is no reason to even enter a `for`-loop designed to find these
values. So add an `if` before the `for`-loop to block entry unless these
extra results are being computed.

* Find mask for each unique value once

Instead of finding the mask for each unique value once per extra result
being computed, simply compute it once if any extra result should need
it. Then reuse it for both should it be needed.",jakirkham,jakirkham@gmail.com,2017-11-01 22:19:28-04:00,GitHub,noreply@github.com,2017-11-01 22:19:28-04:00
bb005b179317e29066e448dfc697b613dbbbc667,"fix and test for issue #2811 (#2818)

* check empty df in sample

* add test_sample_from_query

test fix for issue #2811

* Use jcrist's simpler test_sample_empty_partitions

* add blank line before test_sample_empty_partitions",xwang777,30608423+xwang777@users.noreply.github.com,2017-11-02 06:27:26-04:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-02 11:27:26+01:00
92b5e000d8cadba8c9dbcd5caca8cbd069f2dedd,"Explain unique's steps (#2856)

* Explain `_unique_internal` in the docstring

This provides the prose of how this function works in detail. Should
help users understand what this is doing if there is any confusion about
the code.

* Comment on the `unique` ""map"" step

* Comment on the `unique` ""reduce"" step

* Add TODO about using a tree reduction in `unique`

* Comment on `unique`'s result unpacking step

* Briefly explain how `unique`'s inverse map is made",jakirkham,jakirkham@gmail.com,2017-11-02 12:18:13-04:00,Antoine Pitrou,pitrou@free.fr,2017-11-02 17:18:13+01:00
597ac2ffdc73b81691ad710a47b962e2791ed2b5,"Move `thread_state` out of the top namespace (#2858)

This was added here, but isn't useful for most users. Move to
`dask.context`.",Jim Crist,jcrist@users.noreply.github.com,2017-11-02 13:19:31-05:00,GitHub,noreply@github.com,2017-11-02 13:19:31-05:00
aed6f3099b6369933a2f763eedddca276a8a8d76,"Test `unique`'s inverse mapping's shape (#2857)

The inverse mapping from `unique` should have a known shape. Also that
shape should be identical to that of the original array (provided to
`unique`) flattened. This makes the inverse mapping different from the
other results that `unique` provides that have an unknown shape. Namely
because the inverse mapping's shape is known a priori as it is not a
function of the original array's contents (though the contents of the
inverse mapping are). Therefore this tweaks `unique`'s tests to ensure
that the shape of the inverse mapping is being checked against the
original data's size.",jakirkham,jakirkham@gmail.com,2017-11-03 11:10:19-04:00,GitHub,noreply@github.com,2017-11-03 11:10:19-04:00
426de32563a44f844c0b6d2514a66e217efc16cf,"Fix empty dataframe partitioning for numpy 1.10.4 (#2862)

This was failing, as numpy 1.10.4 checks for `'NaT'` casting failed.
Rewritten to just try to create a missing value, and fallback to `NaN`.",Jim Crist,jcrist@users.noreply.github.com,2017-11-03 13:01:05-05:00,GitHub,noreply@github.com,2017-11-03 13:01:05-05:00
dcbd628db3471284bbde9d411bbed91fc5b2bc6d,"Error nicely on parse dates failure in read_csv (#2863)

In pandas, if a column specified in `parse_dates` has an invalid value,
the column is silently converted to `object` dtype. This can cause
issues if some columns infer as datetimes and others as object dtype, as
converting with `astype` is prone to failure.

To remedy this, we add a nice error message if any partition expecting a
datetime dtype finds an object dtype instead.",Jim Crist,jcrist@users.noreply.github.com,2017-11-06 19:14:53-06:00,GitHub,noreply@github.com,2017-11-06 19:14:53-06:00
cd179aee77c6e988926b27310011ccc18dc3e5b5,"Fixed fillna with Series (#2810)

Closes https://github.com/dask/dask/issues/2809",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-11-07 09:10:11-06:00,Jim Crist,jcrist@users.noreply.github.com,2017-11-07 09:10:11-06:00
acf4c4eda9bb92c3180830105b5f36b4733a75a3,"A few parquet cleanups (#2867)

* A few cleanups to `dd.io.parquet`

- Logic simplification
- Remove a few unneeded imports
- Formatting cleanups

* Reorder path and df args in to_parquet

These didn't match the consistent ordering of `df, path` in other output
functions/methods. Add a deprecation warning to remain backwards
compatible.",Jim Crist,jcrist@users.noreply.github.com,2017-11-07 09:16:49-06:00,GitHub,noreply@github.com,2017-11-07 09:16:49-06:00
d0fac49699b46078b070d318d4c9a02612d0bd97,"Add changelog for to_parquet changes. [ci skip]

Note deprecation of argument order in `dd.to_parquet`",Jim Crist,jiminy.crist@gmail.com,2017-11-07 16:33:31-06:00,Jim Crist,jiminy.crist@gmail.com,2017-11-07 16:33:31-06:00
5c5d7592563c54da30ffab0adf1f0d2926616fbe,"Close resource profiler process on __exit__ (#2871)

Previously ``ResourceProfiler`` would start a tracker process on
`__init__`, which would then persist until `.close()` was called (or the
profiler was garbage collected). This led to processes unintentionally
persisting longer than intended by users.

Now we close the tracker process on context exit, and restart it if it's
closed on enter. When registered globally (not in a context manager) the
process persists until `close` is explictly called, as it was before.
All user code should continue to work the same, and the cost of
restarting the process should be minimal compared to the cost of the
computations being profiled.",Jim Crist,jcrist@users.noreply.github.com,2017-11-08 14:19:10-06:00,GitHub,noreply@github.com,2017-11-08 14:19:10-06:00
3232cb9cd4cced7f74635f43a1f027dae21af287,"Fixup s3 tests (#2875)

* Fix travis env so s3 tests run

* Fix deprecation warning in s3 tests

* Fix s3 tests

One s3 test was missing an s3 fixture leading to a failure with a
credentials error on travis, and also causing all subsequent s3 tests to
fail.",Jim Crist,jcrist@users.noreply.github.com,2017-11-09 14:53:41-06:00,GitHub,noreply@github.com,2017-11-09 14:53:41-06:00
c21234f19aa5a9020d00b32d86517b34f3e6884c,"Fix py34 build

Install moto from pip instead of conda-forge.",Jim Crist,jiminy.crist@gmail.com,2017-11-09 16:39:09-06:00,Jim Crist,jiminy.crist@gmail.com,2017-11-09 16:39:09-06:00
486bb084d044870c4eb5e182e3728d748d08bcd7,"Bugfix: Filesystem object not passed to pyarrow reader (#2527)

* Pass filesystem properly to pyarrow ParquetDataset

* Fix test

* Skip test without fastparquet

Also cleanup a few imports",fjetter,fjetter@users.noreply.github.com,2017-11-10 00:21:11+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-11-09 17:21:11-06:00
950ba9e7e54cf0a04acc4c51ce5e53c33d8cfa30,"Support arrow in `to_parquet`. Several other parquet cleanups. (#2868)

- Support `engine` kwarg in `to_parquet`
- Add support for using `pyarrow` in `to_parquet`
- Switch `'arrow'` to `'pyarrow'` for engine kwarg, deprecating 
  old `'arrow'` name. This matches the pandas interface.
- Refactor how engines were handled, removing top-level imports
  in `dask.dataframe.io.parquet`
- Fix several bugs in both readers and writers, mostly having to do
  with how indices were handled
- Expand testing for `pyarrow` and `fastparquet` compatibility
- Allow running the test suite with neither, one, or both of
  `pyarrow` and `fastparquet` installed
- Add tests for reading and writing from both engines
- Cleanup bugs in the implementations of both engines that
   arose during testing.
- Change default of `compression` in `to_parquet` to `'default'`,
  meaning the use the default compression for the backend engine.
- Fix threadsafe bug in fastparquet where metadata was being mutated in
  a non-deterministic manner. This should be upstreamed, but fix here
  for now.
- Fix part of a metadata bug in fastparquet where the total number of
  rows isn't consistent when writing a file.",Jim Crist,jcrist@users.noreply.github.com,2017-11-13 14:02:14-06:00,GitHub,noreply@github.com,2017-11-13 14:02:14-06:00
f2c046916a617ef44add6730278ee8f2388e5362,"Finish moving `infer_storage_options` (#2886)

Previously this was all but moved in to `dask.bytes.utils`, but was kept
in its current location due to backwards compatibility with old versions
of distributed, and to avoid circular imports.

Since the next release of both libraries will be a major release, finish
up this move.",Jim Crist,jcrist@users.noreply.github.com,2017-11-14 13:07:34-06:00,GitHub,noreply@github.com,2017-11-14 13:07:34-06:00
10a6f792ee5062dad83fd25b353da6d710ccd252,"Avoid list index error in repartition_freq (#2873)

* Avoid list index error in repartition_freq

avoid list index error if old divisions result in only one new division

* Added test for list index error in repartition

added a repartition test that result in one division

* removed semicolon

fixed flake8 E703",Ced4,18117505+Ced4@users.noreply.github.com,2017-11-14 20:28:54+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-14 14:28:54-05:00
10b6dfe5cde7add6108274d1b0ff2ae1406ceb9c,"COMPAT: Ensure lists for multiple groupby keys (#2892)

* COMPAT: Ensure lists for multiple groupby keys

For compat with the changes in
https://github.com/pandas-dev/pandas/commit/4c6387520e.

* Add explanation",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-11-14 15:35:44-06:00,Jim Crist,jcrist@users.noreply.github.com,2017-11-14 15:35:44-06:00
f0bcaeed66fcf98123c7d96477b8cc2bae78065f,"Explicitly pass in pyarrow filesystem for parquet (#2881)

Explicitly wrap the dask filesystems before passing to pyarrow, instead
of relying on pyarrow to do it.",Jim Crist,jcrist@users.noreply.github.com,2017-11-14 17:45:06-06:00,GitHub,noreply@github.com,2017-11-14 17:45:06-06:00
66afcad5c5d93ef8ad2835372671a8cf55e64201,Modify hdfs import to point to hdfs3 (#2894),Jim Crist,jcrist@users.noreply.github.com,2017-11-16 13:04:45-06:00,GitHub,noreply@github.com,2017-11-16 13:04:45-06:00
fc1051e002b3016b803993893f5b629d461047aa,fix hdfs3 version,Jim Crist,jiminy.crist@gmail.com,2017-11-16 13:17:59-06:00,Jim Crist,jiminy.crist@gmail.com,2017-11-16 13:17:59-06:00
22ab4b4ee000618b681c578ba695a8b2f11c69e4,"Fix port for bokeh dashboard (#2889)

bokeh dashboard is on http://localhost:8787 rather than http://localhost:8786, as originally stated, at least on my Windows 7 machine.",Ian Hopkinson,ianhopkinson@googlemail.com,2017-11-16 22:47:47+00:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-16 17:47:47-05:00
1c5058d12bc5b5232d297d61921151b425627c28,"Fix install of fastparquet on travis (#2897)

* Fix install of fastparquet on travis

Missing dependencies were causing this to silently fail.

* add snappy

* python-snappy instead of snappy

* Fix py27 fastparquet test",Jim Crist,jcrist@users.noreply.github.com,2017-11-17 14:42:21-06:00,GitHub,noreply@github.com,2017-11-17 14:42:21-06:00
c61a0ae67e773c768e8ac714059ac71fec869186,bump version to 0.16.0,Matthew Rocklin,mrocklin@gmail.com,2017-11-14 15:10:17-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-17 16:04:37-05:00
42d2d190d21ab490515b130f508a3a977e32b074,"Document instructions for minmal dask-core install (#2732)

* Document instructions for minmal dask-core install

This pull request's core purpose is to add in instructions for installing dask-core which has less dependency bloat than the default `conda install dask`. A use-case for example is  for developers building docker images that don't want a overly huge image size (see e.g. [here](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/#avoid-installing-unnecessary-packages)), or for those who would like to manage the optional dependencies themselves.

Aware of https://github.com/dask/dask/pull/2336 which removes confusion of two channels (default and conda-forge), but seeing as dask-core downloads overwhelming come from the conda-forge channel (>30k vs < 100 see https://anaconda.org/search?q=dask-core), I thought I'd add back in the instructions for conda-forge, but add in 'recommended' in brackets next to default channel so that new users won't be too confused. Open to recommendations on what's better.

External references:
https://pypi.python.org/pypi/dask
https://github.com/conda/conda/pull/4982 (note new optional dependency functionality from conda 4.4.0 onwards)
https://github.com/conda-forge/dask-feedstock/issues/22

* Retain only link to conda-forge

Remove `conda install -c conda-forge` so as to not add extra confusion, as per #2336. Using KISS philosophy.

* Fix up some more small style and english issues.",Wei Ji,23487320+weiji14@users.noreply.github.com,2017-11-18 14:10:05+13:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-17 20:10:05-05:00
54c37d18fe2dfbfbeeb6209334dbf095f18126fd,"Fix a minor typo in the changelog (#2898)

`_unique_interlal` should be `_unique_internal`.

[ci skip]
[skip ci]
[appveyor skip]
[skip appveyor]",jakirkham,jakirkham@gmail.com,2017-11-19 01:27:21-05:00,GitHub,noreply@github.com,2017-11-19 01:27:21-05:00
ff6ba0548c61b7b30860d2a97b059571afe878d4,"Prep changelog for next release (#2903)

[ci skip]
[skip ci]

[appveyor skip]
[skip appveyor]",jakirkham,jakirkham@gmail.com,2017-11-19 01:28:21-05:00,GitHub,noreply@github.com,2017-11-19 01:28:21-05:00
7813d9bab5051cccf0c86fa7690e7a4a2a5798ff,"Add matmul function (#2904)

* Add matmul function

Simply dispatches to the `__matmul__` method of the arrays provided.

* Export `matmul` to the Dask Array API

* Test matmul function

Does various comparisons between the NumPy and Dask implementations.
Very similar to the tests done on the Dask Array methods `__matmul__`
and `__rmatmul__`.

* Document matmul in the Dask Array public API

* Note matmul in the changelog",jakirkham,jakirkham@gmail.com,2017-11-19 09:08:38-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-19 09:08:38-05:00
aaaccf0d57a66f5e1fa84b1277a30db3417b9975,Use asanyarray with `other` in matmul/rmatmul (#2902),jakirkham,jakirkham@gmail.com,2017-11-19 15:28:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-19 15:28:48-05:00
1f99105b429dbb0954de73b29db6f96281c28649,"Add vdot (#2910)

* Add a function for `vdot`

Provides an implementation of NumPy's `vdot` for Dask Arrays by leverage
the Dask Array `dot` implementation and taking the complex conjugate of
the first argument before passing it on to `dot`. Also flattens the
arguments before passing them onto `dot` to follow NumPy's `vdot`'s
behavior.

* Expose `vdot` in Dask Array's public API

* Include a test for vdot

Provides a simple exercise of `vdot` on some test data. In particular
tries a 1-D array and a 2-D array. Compares the results to NumPy. Also
asserts an expectation with respect to commutation of its arguments
(namely the result will be conjugated).

* Document `vdot` in Dask Array's API docs

* Note adding `vdot` in the changelog",jakirkham,jakirkham@gmail.com,2017-11-20 19:28:04-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-11-20 19:28:04-05:00
ed91ffb0d36108d3c7d93ce7b6a3385b70cd8603,Fix `df.corr`/`df.cov` for mixed array types (#2917),Jim Crist,jcrist@users.noreply.github.com,2017-11-21 09:33:23-06:00,GitHub,noreply@github.com,2017-11-21 09:33:23-06:00
d969688fb8200a628329bb3fa8a125a7a16a9e29,"Don't pass `compression` to `write_metadata` in pyarrow

- Ensure `compression` parameter is only passed to functions that accept it.
- Adds test for writing with compression.",castalheiro,castalheiro@users.noreply.github.com,2017-11-21 22:09:10+00:00,Jim Crist,jcrist@users.noreply.github.com,2017-11-21 16:09:10-06:00
430357b65802767a82e604bf939969d968a920cd,"Replace toolz.first with custom function in dask.delayed (#2919)

This will become a special value for the distributed scheduler to skip

See https://github.com/dask/distributed/issues/1567",Matthew Rocklin,mrocklin@gmail.com,2017-11-22 10:46:54-05:00,Jim Crist,jcrist@users.noreply.github.com,2017-11-22 09:46:54-06:00
32ebaa5497b8b17b0189276f8bbcab0805859535,"Support N-D arrays with matmul (#2909)

* Reimplement matmul methods with the function

Should simplify things a bit while retaining the same functionality.

* Rewrite `matmul` to support N-D arrays

Previously `matmul` was restricted to 1-D and 2-D arrays. This rewrites
`matmul` to support N-D arrays with N > 1. Support for N > 2 is
accomplished by using `atop` with NumPy's `matmul`. Some adjustments to
the arrays are made to handle the 1-D array case correctly and handle
broadcasting in the same way that NumPy's `matmul` would.

* Test `matmul` on N-D arrays

Make sure that `matmul` behaves correctly on a wide range of array
dimensionalities.

* Drop check for unimplemented behavior in `matmul`

Now that we have implemented `matmul` for N-D arrays with arbitrary N,
there is no need to check which case are not implemented as all cases
are implemented.

* Note `matmul`'s N-D support in the changelog",jakirkham,jakirkham@gmail.com,2017-11-22 13:30:20-05:00,GitHub,noreply@github.com,2017-11-22 13:30:20-05:00
da2cb1ff589e88bfe92e181e5f58701193a59dfe,"Improve compatibility with 32bit architectures (#2937)

This replaces np.int64 with np.intp in a few cases

See https://github.com/dask/dask/issues/20",Matthew Rocklin,mrocklin@gmail.com,2017-11-30 14:23:12-05:00,jakirkham,jakirkham@gmail.com,2017-11-30 14:23:12-05:00
78726cf2b2eb42af83ed270e101d7875fceec822,"Add meshgrid (#2938)

* Add `meshgrid` for Dask Arrays

Provides an equivalent `meshgrid` routine for Dask Arrays as the routine
in NumPy. Reuses code from `indices` in the implementation.

* Reimplements `indices` using `meshgrid`

Basically `indices` is `meshgrid` except that it passes `arange` arrays
through. Otherwise it uses default arguments for `meshgrid`.

* Export `meshgrid` to public Dask Array API

* Test Dask Array's meshgrid

Perform some basic comparisons between NumPy's `meshgrid` and Dask
Array's `meshgrid` to make sure that both give the same results.

* Document meshgrid in the Dask Array API docs

* Note `meshgrid` in changelog",jakirkham,jakirkham@gmail.com,2017-12-01 08:10:20-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-01 08:10:20-05:00
3fb8a86c350294d690bb573a9901c8bbf2db66ba,"Preserve singleton chunks in fftshift/ifftshift (#2733)

* Rejoin singleton chunks in *fftshift

The `fftshift` and `ifftshift` functions have to split the data into
pieces and reorder those pieces. However the consequence is this can
change the chunking of the data in the final result. Given FFTs can only
operate along dimensions that have one big chunk the length of the
dimension, having chunking like this broken up into pieces by `fftshift`
and `ifftshift` can be surprising to users. To make things a little
easier, make sure that the original chunking is restored in the case of
a single chunk by the end of `fftshift` and `ifftshift` by rechunking.
As we are only rejoining two chunks into one as they were before, this
should not come with any big performance penalties. All other cases that
are split in half and recombined cannot be rechunked without some kind
of significant performance penalties. So we leave those alone. Doing
this should be less surprising to users and make `fftshift` and
`ifftshift` easier to work with.

* Verify *fftshift preserves singleton chunks

Add some tests to make sure that `ifftshift` and `fftshift` rejoin
singleton chunks at the end. This is an expectation of end users. So we
would like to uphold it if possible and ensure we do so in our tests.

* Note new chunk behavior of `fftshift`/`ifftshift`",jakirkham,jakirkham@gmail.com,2017-12-01 11:39:14-05:00,GitHub,noreply@github.com,2017-12-01 11:39:14-05:00
dbc48cc06e68b09dfdca7ba735469e3b19934aec,"Bug issue2928: read sql table fails when reading empty table (#2935)

* If sql table is empty, return empty dask dataframe

* Flake8 compliance

* Flake8 compliance

* - Edit read_sql_table to comply with tables datatype when table is empty
- Unit testing",Apostolos Vlachopoulos,avlahop@gmail.com,2017-12-01 22:08:24+02:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-01 15:08:24-05:00
cbc62fbef1393a9e7438f1db05a18468e1a75e4e,"Callbacks unregister properly in nested contexts (#2940)

* Callbacks unregister properly in nested contexts

Previously unregistering callbacks would replace the existing set of
callbacks. Now we mutate that set in place to reset it (matching the
behavior of `set_options`). Fixes a leaking `ResourceProfiler` in the
distributed test suite.

* add/discard instead of clear/update",Jim Crist,jcrist@users.noreply.github.com,2017-12-04 14:03:30-06:00,GitHub,noreply@github.com,2017-12-04 14:03:30-06:00
9b4d60d56ad8367b7c33b821a24b634f4b138c37,"Boolean coercion of Arrays and DataFrames (#2958)

* array coercion

The following has been implemented
* Arrays of (arr.size > 1) CANNOT be coerced into a scalar(1)
  The call to self.compute() will not be performed.

* Arrays where arr.size <= 1 can be converted to:
    * int
    * float
    * complex

* The bool() builtin will throw ""ambiguous truth value"" TypeError
  when arr.size > 1, just like NumPy

* Tests added for each of these cases.

(1) Borrowed from NumPy (lib/user_array.py::_scalarfunc())

* DataFrame coercion

__bool__ is now implemented for Series and DataFrames to raise
a ValueError, just like Pandas. Computation will not be triggered.

Scalar types will still trigger compute when __bool__ is called.

Tests added for
* Raise TypeError when using int(), float(), complex() on
  Series and DataFrames.
* Raise ValueError when using bool() on Series and DataFrames.
  Even boolean valued Series will raise ValueError.

* flake8 fixes

* update changelog

* separate calls to pytest.raises

* edits suggested by jakirkham

* copy edits to dask/dataframe/core",Albert DeFusco,adefusco.public@me.com,2017-12-05 08:18:36-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-05 08:18:36-05:00
f15d17f773138776d070e403a997ca6563fb6595,"Add flip, flipud, and fliplr (#2954)

* Add `flip` for Dask Arrays

Provides `flip` to reverse element order on the `axis` of Dask Array
specified. Includes its own docstring as NumPy 1.12 is the first version
to have `flip`. So this ensures Dask Array can still have `flip` when
using older versions of NumPy.

* Add `flipud`

Implement a Dask Array version of `flipud` based off of `flip`.

* Add `fliplr`

Implement a Dask Array version of `fliplr` based off of `flip`.

* Expose `flip`, `flipud`, and `fliplr` to API

Make `flip`, `flipud`, and `fliplr` part of the Dask Array public API.

* Test `flip`, `flipud`, and `fliplr`

Provide some basic tests to compare the Dask Array and NumPy
implementations of `flip`, `flipud`, and `fliplr`. Skip `flip` if the
NumPy used is older than 1.12.0.

* Document APIs of `flip`, `flipud`, and `fliplr`

Make sure the Dask Array APIs of `flip`, `flipud`, and `fliplr` are
documented.

* Note `flip`, `flipud`, and `fliplr` in changelog",jakirkham,jakirkham@gmail.com,2017-12-05 10:26:50-05:00,GitHub,noreply@github.com,2017-12-05 10:26:50-05:00
79a38632e199095e15802df5cf00f92880aaf8c0,"Add Dask Array ufunc float_power (#2962)

* Add Dask Array ufunc for `float_power`

* Export Dask Array ufunc `float_power`

* Test Dask Array ufunc `float_power`

* Note Dask Array `float_power` ufunc in changelog",jakirkham,jakirkham@gmail.com,2017-12-06 10:49:54-05:00,GitHub,noreply@github.com,2017-12-06 10:49:54-05:00
48b57a6088efcc1e627bb47a4c36f9e2aa6eff1b,"PyArrow should write _common_metadata instead of _metadata (#2970)

_metadata should include the metadata of all RowGroups in the whole
dataset while _common_metadata only describes the schema.",Uwe L. Korn,xhochy@users.noreply.github.com,2017-12-07 20:31:37+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-12-07 11:31:37-08:00
f9e286e7be923287bdb16eb7c4e2fdb388378c14,"Try to add `float_power` ufunc (#2969)

In some older versions of NumPy, it appears that `float_power` is not
present. This tries to wrap `float_power` if present and ignores it if
not. Also selectively exposes it into the Dask Array public API. Further
skips testing it if the NumPy version is too old.",jakirkham,jakirkham@gmail.com,2017-12-07 16:43:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-07 16:43:52-05:00
56b7021294c2e7058be2b7f0269791233a77fc51,"Fix negative indexes and check out-of-bound indexes for vindex (#2967)

* Fix negative indexes and check out-of-bound indexes for vindex

* Explicit copy=True",Stephan Hoyer,shoyer@gmail.com,2017-12-08 07:03:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-08 10:03:19-05:00
bae4dccdd8c17f7fa0c628eaed764e209567fd8e,"Add block (#2650)

* Vendor NumPy 1.13's _Recurser in numpy_compat

Unfortunately we need to vendor `numpy.core.shape_base._Recurser` as it
appears to get dropped midway through NumPy 1.13 and is replaced with a
new implementation, which will require some fiddling to get working with
Dask Arrays. In comparison, the `numpy.core.shape_base._Recurser`
basically just works with any so is pretty easy to get working with Dask
Arrays as well.

* Add block

Provide a Dask Array implementation of NumPy's `block` function. This is
basically verbatim the code from NumPy with some tweak to use Dask Array's
equivalents of NumPy operations like `concatenate`.

* Export block to Dask Array's public API

* Test Dask Array's block

Inspired by NumPy's tests of `block` except changed to compare Dask
Array's implementation of `block` to NumPy's implementation. Some of the
error tests are basically identical to those in NumPy.

* Document block in Dask Array's API docs

* Note `block` in the changelog",jakirkham,jakirkham@gmail.com,2017-12-08 10:55:07-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-08 10:55:07-05:00
574188e77c770b45b06a87903ca3e252901187ae,"Struct dtype compat for NumPy 1.14 (#2964)

* Move pandas/dumpy upstream install to be the last pkg install operation

pandas and numpy were getting reinstalled by conda after the
force uninstall here.

(cherry picked from commit 3cb77afe906c5b0bd461c16fb794e7986c7717bf)

* COMPAT: Fix dtype creation for newer NumPy

* Remove incorrect comment

* Remove stale comment

* Release note

* More dtypes

* Better names",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-12-08 11:47:49-06:00,GitHub,noreply@github.com,2017-12-08 11:47:49-06:00
df11db4d5e51700e080c048469a5d0145ce7ce3e,"Test various slicing identities with Dask Arrays (#2978)

Tries a variety of different slicing arguments with Dask Arrays, which
should return the full array (and are known to in advance). Ensures that
in all of these cases the same Dask Array is returned unchanged. This is
done to ensure that Dask Arrays will not add these no-ops to the graph.",jakirkham,jakirkham@gmail.com,2017-12-09 11:23:47-05:00,GitHub,noreply@github.com,2017-12-09 11:23:47-05:00
7270c17b9a536a0e388edee88dec0b549d3180cc,"Fix `store` region test (#2979)

* Fix `store` region test

Make sure that the `store` region test compares each store against the
correct values.

* Move target store creation into single region test",jakirkham,jakirkham@gmail.com,2017-12-09 11:24:10-05:00,GitHub,noreply@github.com,2017-12-09 11:24:10-05:00
9b7e21cfc33cb9c66abb85b547669edb915bc9e7,"ENH:  Support merging Dask DataFrames on a combination of columns and index levels (GH2950) (#2960)

* Add support for merging on combination of columns and index levels

* Cleanup column/index combination helpers.

Make naming and functionality consistent with pandas' internal helpers

* Skip tests when PANDAS_VERSION < 0.22.0

* Added changelog entry

* Added dask graph size checks to new unit tests

* Move pandas/dumpy upstream install to be the last pkg install operation

pandas and numpy were getting reinstalled by conda after the
force uninstall here.

* Increase the number of partitions in the new tests",Jon Mease,jon.mease@gmail.com,2017-12-11 07:44:58-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-12-11 06:44:58-06:00
ec2c3e169cb00b0834e4b8ad45824777d28673ca,Updates to Dask w.r.t. recent Distributed changes (#2989),jakirkham,jakirkham@gmail.com,2017-12-11 18:20:00-05:00,GitHub,noreply@github.com,2017-12-11 18:20:00-05:00
5212d5400a09c2be888658145dcd799090f0c9db,"Add chunks to dask.array.broadcast_to (#2943)

* Add chunks to dask.array.broadcast_to

This allows for directly producing output arrays with proper chunking for
broadcasting, instead of relying on rechunking afterwards. The later can be
much slower, because broadcast arrays get fully loaded into memory by indexing.

* Remove separate normalize_and_check_chunks

* Fix normalize_chunks docstring",Stephan Hoyer,shoyer@gmail.com,2017-12-11 20:56:02-08:00,GitHub,noreply@github.com,2017-12-11 20:56:02-08:00
65ede33267a6b7e1a7deedc502aadf6c51861e0c,"BUG: Fixed concat index dtype with categorical (#2963)

* BUG: Fixed concat index dtype with categorical",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-12-12 13:43:55-06:00,Jim Crist,jcrist@users.noreply.github.com,2017-12-12 11:43:55-08:00
2b1b640c43eb22a4bff9b422c46230a807451021,"STY: Adjust insert_to_ooc argument order to match store's (#2993)

* Adjust `insert_to_ooc`'s argument order

Place the `arr` argument first and the `out` argument second. Matches
more closely to how `store` behaves. As this is an internal function, it
doesn't break API.

* In `insert_to_ooc`, adjust `store` closure's args

Flip the `x` and `out` arguments for the `insert_to_ooc`'s closure's
`store` function.",jakirkham,jakirkham@gmail.com,2017-12-13 17:00:58-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-13 17:00:58-05:00
c69c17764f1b59fed8c825ac9616e2b6ca5ce49c,"Fixes passing kwargs with unknown keys to Parquet metadata writing fu (#2986)

* Fixes passing kwargs with unknown keys to Parquet metadata writing functions

* Fix for missing inspect.getfullargspec in python 2.7

* Parquet write only with named arguments

* Revert ""Parquet write only with named arguments""

This reverts commit 477789e

* Pyarrow kwargs checks based on the defined sets",Jakub Nowacki,j.s.nowacki@gmail.com,2017-12-14 16:34:42+01:00,Jim Crist,jcrist@users.noreply.github.com,2017-12-14 07:34:42-08:00
d308eac6bac91f8501ae26ddf3ae217126cb5063,"COMPAT: Pandas 0.22.0 astype for categorical dtypes (#2997)

* COMPAT: Pandas 0.22.0 astype for categorical dtypes

Change in https://github.com/pandas-dev/pandas/pull/18710 caused a dask failure
when reading CSV files, as our `.astype` relied on the old (broken) behavior.

Closes https://github.com/dask/dask/issues/2996

* Fix pandas version check

* Refactored

* update docs

* compat

* Simplify

* Simplify

* Update changelog.rst",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-12-14 17:50:28-06:00,GitHub,noreply@github.com,2017-12-14 17:50:28-06:00
91574c12e917d834fa0c03bc3a036c5e7e21c1e5,"Adjustments to insert_to_ooc (#2998)

* Find subindex before acquiring lock

Within `insert_to_ooc`'s closure `store`, determine the `subindex` based
on the `region` and `index` before acquiring the lock. This can be done
independently of writing the data. So allow it to proceed in parallel
and be done before actually writing out the data. Should cutdown the
time the lock is held.

* Construct `insert_to_ooc`'s graph in a `for`-loop

Makes it a little easier to read and follow what is happening in the
graph construction step at the end of `insert_to_ooc`.",jakirkham,jakirkham@gmail.com,2017-12-15 09:27:07-05:00,GitHub,noreply@github.com,2017-12-15 09:27:07-05:00
2e99f7d9af3ae82e9f96d2b9c0c271769f66de87,"Always create `Delayed` object for `store` (#3000)

Instead of handling the `compute=True` and `compute=False` cases of
`store` through two different mechanisms, always create a `Delayed`
object at the end. Then either call `compute` on the object if
`compute=True` or return the `Delayed` object if `compute=False`.",jakirkham,jakirkham@gmail.com,2017-12-15 09:27:34-05:00,GitHub,noreply@github.com,2017-12-15 09:27:34-05:00
64420cb6c8450b3f328f2ac631804c418c8df2d4,"Changes `dask.array.meshgrid` to use `broadcast_to` internally (#2981) (#3001)

* Changes `dask.array.meshgrid` to use `broadcast_to` internally.

* Cleanup

* Adds PR reference.

* Minor style fix.

* Removes unnecessary import.

* Coerces arguments to dask arrays and adds test for it.

* Minor stylefix",Markus Gonser,magonser@mksg.de,2017-12-17 19:51:44+01:00,jakirkham,jakirkham@gmail.com,2017-12-17 13:51:44-05:00
6bd7406c1e4b3a6a2bcde4d932d78f90cf7033e7,"Add cluster setup documentation (#3014)

* Add cluster setup documentation

This moves and reorganizes the content previously in

-  http://distributed.readthedocs.io/en/latest/setup.html
-  http://dask.pydata.org/en/latest/scheduler-choice.html

* Update setup docs

* [skip ci] typos",Matthew Rocklin,mrocklin@gmail.com,2017-12-20 11:14:24-05:00,GitHub,noreply@github.com,2017-12-20 11:14:24-05:00
1fef002a32bd06b2300c386f2e15419be6b91170,"Compat for pyarrow 0.8.0 (#2973)

* TST: Expand coverage

* COMPAT: For pyarrow 0.8

* Fixup docs

* fixup! Fixup docs

* PY2 compat

* Changelog

* CI: Test against pyarrow master

* BUG/ENH: Correctly set df.columns.name

* fixup! CI: Test against pyarrow master

* fixup! BUG/ENH: Correctly set df.columns.name

* fixup! fixup! BUG/ENH: Correctly set df.columns.name

* REF: User pandas metadata for fastparquet reader

* cleanup

* Various fastparquet updates

* one more

* skip it

* Removed data files

* Skip column index names on old arrow

* pep8

* Handle null index names

* Passing for 0.7.1

* pep8

* Bump skip for pyarrow

* Added historical to CI

* Remove historical tests

* REF: refactor columns

* REF: refactor index normalization

* Py2 compat

* Cleanups",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-12-20 15:19:28-06:00,GitHub,noreply@github.com,2017-12-20 15:19:28-06:00
076830c8e87c5f8806c85be639b92d97008ebf03,"Read csv names (#3022)

* Add test for read_csv issue (#2976)

* Fix read_csv issue (#2976)

* Fix style

* Update docs

* Updated test using check_index=False",Martijn Arts,m.arts@gmx.net,2017-12-21 16:06:57+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-21 10:06:57-05:00
330c2dc2383d5d7823186be8d43170829bbfedee,"Adds condition to dask.array.percentile to handle scalar percentile (#3021)

* Adds condition to dask.array.percentile to handle scalar percentile

* Adds changelog entry

* Fixes trailing whitespace flake8 issue

* Adds check for numbers.Number",James Bourbeau,jrbourbeau@users.noreply.github.com,2017-12-21 12:21:34-06:00,Jim Crist,jcrist@users.noreply.github.com,2017-12-21 10:21:34-08:00
4b09c3e58a8668daafac0caf4fcd60e139c388a0,"Remove rolling (#2995)

* Remove rolling

* Remove deprecated rolling methods

xref https://github.com/pandas-dev/pandas/pull/18723

* PEP8

* Added reference",Tom Augspurger,TomAugspurger@users.noreply.github.com,2017-12-21 15:48:18-06:00,Jim Crist,jcrist@users.noreply.github.com,2017-12-21 13:48:18-08:00
f58d4564d96d5b87e27aab4193b74bce557a517b,allow custom shape and/or label (#2987),S. Andrew Sheppard,andrew@wq.io,2017-12-21 15:53:30-06:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-21 16:53:30-05:00
6d4d5a1b26efc30777ad23f587c78d69532a48f8,"Update Spark comparison documentation (#3019)

* [skip ci] Update Spark comparison documentation

* edits",Matthew Rocklin,mrocklin@gmail.com,2017-12-21 18:49:21-05:00,GitHub,noreply@github.com,2017-12-21 18:49:21-05:00
9a1f92801eebeefba4481fa5c9fc00badeee148a,Update rolling documentation,Matthew Rocklin,mrocklin@gmail.com,2017-12-22 09:39:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-22 09:39:05-08:00
7723be2d797165fc57c7e6061077d503b6df4216,"Better error on empty bag to_dataframe (#3025)

When no metadata is passed in to `dask.bag.Bag.to_dataframe`, the first
element of the bag is read and used to infer the dtypes. If the first
partition is empty, this would fail with a non-intuitive error. We now
raise a helpful error.

Also added ability to silence warnings in take, and made take warnings
test actually test the warnings.",Jim Crist,jcrist@users.noreply.github.com,2017-12-23 10:14:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-23 13:14:37-05:00
65e91ecb3e35d2313812f9b48f19249b82f0a107,Add more cases to adjust_chunks in atop docstring (#3009),Matthew Rocklin,mrocklin@gmail.com,2017-12-23 13:17:07-05:00,GitHub,noreply@github.com,2017-12-23 13:17:07-05:00
2d566f174add6b48375342cb1220e3933226c653,"Update inspect documentation (#3016)

* Update inspect documentation

Fixes #3015

* [skip ci] Clarify language",Matthew Rocklin,mrocklin@gmail.com,2017-12-23 13:25:13-05:00,GitHub,noreply@github.com,2017-12-23 13:25:13-05:00
0e14191d1c6088d903dbeedcf1e36ee5ec088027,"Cleanup insert_to_ooc (#3012)

* Add a docstring to `insert_to_ooc`

Provides a brief explanation of `insert_to_ooc`'s behavior, parameters,
and an example of how it works.

* Refactor out `insert_to_ooc`'s closure `store`

Create a global function `store_chunk`, which takes the place of
`insert_to_ooc`'s closure `store`. Should be a bit cleaner and faster to
work with when it comes to serialization between processes.

* Document `store_chunk`

Provides a basic docstring for `store_chunk` and an example of its
usage.

* fix doctest",jakirkham,jakirkham@gmail.com,2017-12-23 14:46:45-05:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-23 14:46:45-05:00
d80957501680522291de0653f3d9e2eda010295e,"Consistently tokenize partial objects (#3024)

Previously we weren't explicitly tokenizing args/kwargs in partial
objects, which led to non-consistent hashes if the args/kwargs didn't
have consistent reprs (e.g. functions).",Jim Crist,jcrist@users.noreply.github.com,2017-12-23 15:18:15-08:00,GitHub,noreply@github.com,2017-12-23 15:18:15-08:00
cd42eb69321cfc45ac36439a2eca56dd5a41584a,"Revert ""Always create `Delayed` object for `store` (#3000)"" (#3005)

This reverts commit 2e99f7d9af3ae82e9f96d2b9c0c271769f66de87.",jakirkham,jakirkham@gmail.com,2017-12-24 23:38:05-05:00,GitHub,noreply@github.com,2017-12-24 23:38:05-05:00
c03e7a765bf0a001d60fd953c875a31be987a369,"Add frompyfunc (#3030)

* Add frompyfunc [ci skip]

Add support for frompyfunc to dask.array.

* Update changelog

* Py27 compat",Jim Crist,jcrist@users.noreply.github.com,2017-12-24 23:56:57-08:00,GitHub,noreply@github.com,2017-12-24 23:56:57-08:00
a1653463534a7dd9212f45f833aa17b7dd12e574,Support partition_on for pyarrow (#2971),Uwe L. Korn,xhochy@users.noreply.github.com,2017-12-29 17:27:56+01:00,Matthew Rocklin,mrocklin@gmail.com,2017-12-29 08:27:56-08:00
bee8e286d19e2cdc2bdad4ea2b589075baef3e8c,"derived_from gets full signature from __wrapped__ (#3026)

* derived_from gets full signature from __wrapped__

Previously this would fail for wrapped functions (e.g.
`pd.DataFrame.rename`, causing the not implemented parameters section to
miss a few parameters. We now traverse `__wrapped__` attributes fully
before inspecting the arguments.

* Fix chunk test

This is testing an invariant that I don't think is necessary.

* Use signature instead on py3

Supports more methods of inspecting the signature.",Jim Crist,jcrist@users.noreply.github.com,2018-01-02 11:52:05-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-01-02 13:52:05-06:00
98d85bc694a5b0bdb4ff113b0865f16beca60dd5,"COMPAT: Pandas 0.23 duplicate names in MI (#3041)

* COMPAT: Pandas 0.23 duplicate names in MI

Pandas 0.23 is disallowing duplicate names in MultiIndexes. This
adjusts a test that relied on that behavior, and `groupby().nunique` which
produced it as a by-product.

Closes https://github.com/dask/dask/issues/3039

xref https://github.com/pandas-dev/pandas/pull/18882

* Cleanup renaming",Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-01-02 14:11:53-06:00,GitHub,noreply@github.com,2018-01-02 14:11:53-06:00
8149c4b67291bd91859f3c7ef7286f58aa09e646,"Metadata inference doesn't special case series (#3035)

* Metadata inference doesn't special case series [skip ci]

Previously 1 partition series were special cased during metadata
inference to support broadcastable series. This was a bad check, and
leads to misaligned arguments during any metadata inference check with a
single partition series.

This PR removes this behavior, and instead special cases inference in
`elemwise` following the `is_broadcastable` logic already implemented
there.

* Add to changelog",Jim Crist,jcrist@users.noreply.github.com,2018-01-02 12:26:17-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-01-02 14:26:17-06:00
adff78336acc32cb55b94797dbdcff2a385e93a4,"Optionally return stored data after storing (#2980)

* Test that `store` returns `None` normally

* Add a `keep` argument to `insert_to_ooc`

Provides a new argument for `insert_to_ooc` called `keep`, which
determines whether `out` is returned or not. The purpose being to chain
`out` into a later loading step for reading the data already written to
disk. By default `keep=False`, which preserves the existing behavior or
returning `None`. However if `keep=True`, then `out` is returned
instead.

* Add the `retrieve_from_ooc` function

Designs the `retrieve_from_ooc` to take the Dask graph created by
`insert_to_ooc` and create another Dask graph that loads the chunks
stored in `out` and returns them. This will allow Dask graphs to be
created for use as Dask Arrays that lazily load results written to
storage for later computation.

* Add optional `keep` argument to `store`

Provides the `store` function an optional `keep` argument. By default
`keep=False`, which provides the existing behavior as is. However if
`keep=True`, then a Dask Array is returned that with store the results
to `out` and reload them for later computation. For now ignores the
`compute` argument.

* Changes `store` for `compute=True, keep=True`

Previously when `store` was provided `keep=True`, it did nothing when
`compute=True` instead just returning the Dask Array and associated
graph unchanged. However this goes against the grain of what
`compute=True` means. So this changes it such that `compute=True`
submits all of the storage jobs and reuses the `Future`s in creation of
the Dask Array returned. That way data can only be loaded if the results
have already been written. Though this provides the nice option of using
this result in downstream computation and/or further inspection before
proceeding.

* Optimize `sources` before storing chunks

Puts all of the `sources` into one big Dask graph and then optimizes
them as Dask Arrays by call `__dask_optimize__` on all of the Array
sources with keys provided. Thus any optimizations that might be shared
between `sources` are performed only once for all of them. This graph is
then reused to reconstruct each `src` from the optimized graph before
storing them to each `tgt`.

As a bonus, this should take care of optimization for the `keep=False,
compute=False` case that were not previously handled. Also should ensure
that optimizations handled by `compute_as_if_collection` still get
handled.

* Combine all store graphs into one large graph

Instead of trying to handle each store graph separately, combine them
into one large graph that is used by all `Delayed` objects.

* Only create `Delayed` objects if `persist`ing

Instead of creating `Delayed` objects for all the cases that do not use
them (and merely unpack their contents), only create them when
`keep=True, compute=True` (i.e. when `persist`ing the storing step).
This cuts down on some overhead for the other cases and simplifies the
code a bit.

* Merge `load_dsks` into one shared graph

Instead of merging each of `load_dsks`' graphs within a `for`-loop,
merge them altogether before entering the `for`-loop and reuse that
graph for all Dask Arrays constructed.

* Cleanup returning of the result

Make sure there is only one `return` statement to make it easier to see
that a `return` does occur.

* Test storing and keeping results after

Includes some tests to exercise `store`'s `keep=True` cases to make sure
this behaves as intended. Namely that a Dask Array is returned and that
storage only occurs if `compute=True` or if `compute=False` and a later
call to `compute` triggers this.

* Change `keep` to `return_stored`

Follow a suggestion to rename the argument to make it a little clearer.

* Import Delayed at the top-level

* Import `persist` at top-level

* Unwrap code that fits on one line

* Add a comment to explain `retrieve_from_ooc`

Namely explain how arguments are reused from the `store_chunk` calls to
construct the `load_chunk` calls. Also explain what is dropped and
replaced in these new calls.

* Inline `return` calls in `if` branches

Should make it a little clearer what is returned under which conditions.

* Shorten comment about `load_dsk` construction

* Use comprehension for `tuple` of `Array`s

Follow-up on a suggestion to make this code more compact.",jakirkham,jakirkham@gmail.com,2018-01-02 20:08:33-08:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-02 20:08:33-08:00
8ebc3cf7f15b0ff6e02c17401c38479ff4b321b3,"Add x.str.cat (#3028)

* Add x.str.cat [ci skip]

Add support for `Series.str.cat`.

* Add to changelog

* Stronger type checking",Jim Crist,jcrist@users.noreply.github.com,2018-01-02 20:09:34-08:00,GitHub,noreply@github.com,2018-01-02 20:09:34-08:00
6dd19e528b481df2006b49d1e538864289b851ae,"Fix naming bug of cumulative aggregations (#3042)

* Add test for cumulative using multiple columns (#3037)

* Fix cumulative aggregation isse (#3037)

* Update changelog

* Rename argument token to op_name.",Martijn Arts,m.arts@gmx.net,2018-01-03 18:46:55+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-01-03 11:46:55-06:00
2dffe5b35c91ceaca4e5b41fbe446070bf6b5e47,"Series rename (#3027)

* Add Series.rename

Add Series.rename method.

* Add to docs and changelog

* Support series rename along index

* Add `sorted_index` kwarg

* Cleanups",Jim Crist,jcrist@users.noreply.github.com,2018-01-03 12:24:37-08:00,GitHub,noreply@github.com,2018-01-03 12:24:37-08:00
423218fcd273af9e99f437378100aac2c50fe7a0,fix link typo in single-distributed docs,Matthew Rocklin,mrocklin@gmail.com,2018-01-07 08:11:09-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-01-07 08:11:09-06:00
95d3a8b7da2b54407d5c18c21f17f3d8d028118b,"Update community conversation page (#3045)

Fixes https://github.com/dask/dask/issues/2945",Matthew Rocklin,mrocklin@gmail.com,2018-01-07 08:27:00-06:00,GitHub,noreply@github.com,2018-01-07 08:27:00-06:00
e74161c9cb81e57b99cd291b3d26805b77de5156,"[WIP] Add tests for order to prefer avoiding upwards branching (#3017)

* Add tests for order to prefer avoiding upwards branching

See https://github.com/dask/dask/issues/3013

* Remove computation of maxes from order

* flake8

* remove ordering test

* add changelog entry",Matthew Rocklin,mrocklin@gmail.com,2018-01-09 09:47:59-06:00,GitHub,noreply@github.com,2018-01-09 09:47:59-06:00
c7267daa4ae61fb6ac867a5c03a630c1d85834a8,bump version to 0.16.1 (#3053),Matthew Rocklin,mrocklin@gmail.com,2018-01-09 15:30:42-06:00,GitHub,noreply@github.com,2018-01-09 15:30:42-06:00
486c5ced8620352513d6bfb3bf1c7064401ec396,"Cleanup for GH2950 (#3059)

* Fix up changlelog for GH2960

* Change test compatibility constraint from 0.22 to 0.23 for GH2960 tests
Pandas 0.22 became 0.23 after these changes were merged.",Jon Mease,jon.mease@gmail.com,2018-01-11 09:03:33-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-01-11 08:03:33-06:00
62e886bd0c2fedd9b5b8faa5e12a8e23dd2da564,"Update documentation with intersphinx (#3050)

* Update documentation with intersphinx project linking capabilities for Pandas and Numpy

* update documentation

* restore to original conf",sephib,sephib@users.noreply.github.com,2018-01-12 17:29:51+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-01-12 09:29:51-06:00
4a53994c3f242fda6ee7822894209c9b6698b804,"Tokenize scipy sparse arrays and np.matrix (#3060)

* Tokenize sparse arrays

* Split sparse and np.matrix tokeniztion test

* Address review comments",Roman Yurchak,rth.yurchak@gmail.com,2018-01-14 17:26:36+01:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-14 08:26:36-08:00
d7db87b6b4028825125b99feee814f38789de7a5,"Prefer fewer dependents and many dependencies in task ordering (#3056)

This change the task ordering policies to the following

1.  Avoid tasks with dependents
2.  Prefer tasks with many total downstream dependencies
3.  Break ties with the key

This also fixes an error where string comparison did not match value comparison

Fixes #3055",Matthew Rocklin,mrocklin@gmail.com,2018-01-14 13:45:13-05:00,GitHub,noreply@github.com,2018-01-14 13:45:13-05:00
1223f0167e1f760a93aaf286e6dcfa72ba21f773,"Add color= option to visualize that supports coloring by task order (#3057)

* Add color= option to visualize that supports coloring by task order

This is helpful when exploring task priority issues.

Currently this feature feels a bit tacked on.  Suggestions on how to
make this less intrusive would be welcome.

* add docstring and changelog

* update color= section in docstring",Matthew Rocklin,mrocklin@gmail.com,2018-01-14 15:01:04-05:00,GitHub,noreply@github.com,2018-01-14 15:01:04-05:00
6cbcf0813af48597a427a1fe6c71cce2a79086b0,"Add more helpful error when len is called on arrays with empty chunks. Fixes 3058. (#3067)

* Add more helpful error when da's len is called on empty chunks. Fixes #3058

* Update changelog.

* Address PR review comments; use TypeError rather than ValueError, update error message.",Xander Johnson,alexx.johnson@gmail.com,2018-01-14 18:29:35-08:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-14 18:29:35-08:00
f29cf97d43e3b9df5f10abef92cfdef7fbbccdfc,"Fixes a metadata issue with store's return_stored (#3064)

* Test two arrays of different sizes and types

Make sure that each array's metadata is handled correctly and uniquely.

* Fix a bug in `store` when `return_stored=True`

There was an issue of applying the same metadata from the last array to
all preceding arrays when `return_stored=True`. This fixes that issue by
adding a `for`-loop and selecting out each array from `sources`
appropriately to match the data loaded from disk.

* Use generator expression to create arrays

To alleviate some style concerns raised, switch to using a generator
expression in a `tuple` using `zip`. Add an `assert` afterwards to
ensure we got the number of results we expected (same as number of
sources).

* Note `store`'s `return_stored` in the changelog

We forgot to include a changelog entry for the original PR. This
corrects that error.

* Add `store`'s metadata bug fix in the changelog",jakirkham,jakirkham@gmail.com,2018-01-16 13:28:41-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-16 10:28:41-08:00
b7be7d8007ed7c2b425b5998b85dde60d82052c5,"A mild refactor of `dask.bytes` (#3069)

* Refactor bytes implementation

Refactor handling of paths/filesystems in bytes to fit a more generic
filesystem class. In particular:

- All protocol/parameters specified in the urlpath are stripped before
forwarding to any filesystem methods. Filesystems only see paths, making
this interface more uniform. Also avoids parsing the paths multiple
times.

- Cleanup Open/OpenFile classes.

* Refactor bytes backend a bit

- Remove `OpenFileCreator` class, as it's unnecessary
- Use `open_files` in more places
- Fix bug in hdfs specific block functionality to not check for client
  when block locations aren't known.
- Remove any non-standard use of methods on `filesystem`, in prep for
  merging arrow and dask filesystem backends. This means removing
  `get_block_locations` from required methods, and moving `logical_size`
  to a function (as it should be).

* parquet tokenizes names properly

* A few renames/docstrings

* Add a few tests

* Fix failing py2 test

* Fix windows error

* Actually fix windows bug

* Respond to comments",Jim Crist,jcrist@users.noreply.github.com,2018-01-17 13:36:58-08:00,GitHub,noreply@github.com,2018-01-17 13:36:58-08:00
c8ba85599339d8f9ba8d2a1fd0ba2de8e31b1b12,"XFAIL `test_partition_on` for pyarrow writing (#3075)

There's a race condition on pyarrow 0.7.0 that's fixed on master.
xfailing it for now. To make this easier in the future, made adding
custom marks for the parquet tests more extendable.",Jim Crist,jcrist@users.noreply.github.com,2018-01-17 15:41:12-08:00,GitHub,noreply@github.com,2018-01-17 15:41:12-08:00
223a08cdf46c0776b235d1818951baacc521cff5,"Deprecate `open_text_files` (#3077)

This method is only a small wrapper around `open_files`, which is
confusing.

Also cleans up a few tests, and removes a few duplicate tests.",Jim Crist,jcrist@users.noreply.github.com,2018-01-18 08:18:12-08:00,GitHub,noreply@github.com,2018-01-18 08:18:12-08:00
3dbdbc6730bae5ab1242f3b149b0992177724f78,"Cleanup bytes docstrings [skip ci] (#3078)

Cleanup a few issues in `dask.bytes.open_files` and
`dask.bytes.read_bytes` docstrings.",Jim Crist,jcrist@users.noreply.github.com,2018-01-18 09:02:15-08:00,GitHub,noreply@github.com,2018-01-18 09:02:15-08:00
bf5f7fe786664dff30990b82f35e380f35cd2535,"Fixes slicing list/array issue (#3076)

* Adds slice isinstance check for b when a is None in fuse_slice

* Adds test to ensure proper NotImplementedError is raised

* Adds changelog entry and reference to issue in added test",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-01-18 12:11:17-06:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-18 10:11:17-08:00
fef1532a6ceb040a18a84476562e79258a16df66,"Remove `get_block_locations` handling (#3079)

* Remove `get_block_locations` handling

This was used for short circuit reads from hdfs using libhdfs3, but has
the following problems:

- `hdfs3` specific, other hdfs libraries currently don't expose this
feature. This would be less of an issue if `hdfs3` was a full featured
hdfs library, but due to its lack of handling various security features
other libraries (e.g. `libhdfs`) may be preferable instead (for now).
- This feature complicated testing and code, relying on tests in the
`hdfs3` library that have now started failing (due to lack of being
run).
- The feature wasn't fully thought out in a generic way. If we re-add it
later, we can think about how this might expand to other hdfs clients
(or other potential backends).

This optimization also only comes into play if:
- You have short-circuit reads enabled
- The data you want to read is on the same nodes you're computing on
- The data you want to read is evenly distributed among those nodes
- The scheduler decides it makes sense to read from those nodes instead
of moving the computation elsewhere.

* Add to changelog",Jim Crist,jcrist@users.noreply.github.com,2018-01-18 12:24:13-08:00,GitHub,noreply@github.com,2018-01-18 12:24:13-08:00
9a718f275ad2f449dde690a0e7181166fcfa977b,"to_parquet trims protocol from paths (#3080)

Previously this wasn't handled, and wasn't caught because `s3fs` strips
protocols internally automatically.",Jim Crist,jcrist@users.noreply.github.com,2018-01-18 15:13:20-08:00,GitHub,noreply@github.com,2018-01-18 15:13:20-08:00
17e2bd6e0ec86c92d76e66f0e128270c9dd686ee,"Add `dask.base.optimize` (#3071)

* Add `dask.base.optimize`

Adds a function for optimizing (but not computing) multiple collections
simultaneously.

* Document `dask.optimize` [skip ci]

* Add to changelog

* `dask/optimize.py -> dask/optimization.py`

- Renames `dask/optimize.py` to `dask/optimization.py`
- Adds deprecated functions in `dask/optimize.py` to forward to
`dask/optimization.py`.
- Add attributes to `dask.base.optimize` function to forward to
deprecated methods, which allows this function to be imported in the
top-level namespace.",Jim Crist,jcrist@users.noreply.github.com,2018-01-19 13:51:24-08:00,GitHub,noreply@github.com,2018-01-19 13:51:24-08:00
becbe1adf89d571cf03cfe3a58f9ca5a33580689,"Pad result from _colorize (#3073)

Previously colorize would return results like `#FFFFF` (five Fs) rather than
the result left-padded to six characters `#0FFFFF`.  This provides a fix.",Matthew Rocklin,mrocklin@gmail.com,2018-01-21 08:43:43-05:00,GitHub,noreply@github.com,2018-01-21 08:43:43-05:00
69ea16e388c215b6c1a849d543a690334406d2e2,"Specify `delayed`'s `nout` must be non-negative (#3087)

Make sure that users are aware that `delayed`'s `nout` can be `0`.",jakirkham,jakirkham@gmail.com,2018-01-21 20:33:32-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-21 17:33:32-08:00
a0aaa58b7d1f8ccd7278ff10934d578c50f2f6fa,"Move hdfs integration and tests (#3083)

* Move hdfs code over to dask

* Move over hdfs testing infrastructure

* Cleanup test file

- Since there's no distributed specific functionality, there's no need
  to test with distributed anymore
- Move testing infrastructure to use more idiomatic pytest

* Tweak dockerfile

* Update travis file

* Non-hdfs builds work when containerized

* Cleanup hdfs readme docs

* Cleanup filesystem imports

- Actually use hdfs filesystem from dask instead of hdfs3
- Don't import S3FS unless required

* Skip hdfs file in doctests

* Only one conftest.py needed

No need for multiple conftest.py files.

* Maybe builds run containerized now

* Respond to comments",Jim Crist,jcrist@users.noreply.github.com,2018-01-22 07:35:45-08:00,GitHub,noreply@github.com,2018-01-22 07:35:45-08:00
071225f9acb8c5657e1ce85f91b770272b6e39ce,"Few travis fixes (#3091)

* Fix travis conditional build

* Fix ignored tests

`pytest_ignore_collect` overrides the usage of `pytest --ignore`, which
led to failures on travis.  Instead it's simpler to use the
`collect_ignore` option, since we just want to ignore a few files.

* Better comment",Jim Crist,jcrist@users.noreply.github.com,2018-01-22 12:17:40-08:00,GitHub,noreply@github.com,2018-01-22 12:17:40-08:00
109c7676f845df3a097ccd1768b4a3059dd94ab8,"Allow the CI dev build to fail (#3088)

* Allow the CI dev build to fail

- Move the CI dev build to only on merge
- Allow the CI dev build to fail
- A few other travis fixes
- Silence a weird bug when using xdist + py36, to be investigated later",jakirkham,jakirkham@gmail.com,2018-01-23 14:32:28-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-23 11:32:28-08:00
27624636709f47668c5074013184fbf5d7321195,"parquet append=True allowed to create new dataset (#3097)

(fastparquet only)

Fixes #3008",Martin Durant,martindurant@users.noreply.github.com,2018-01-25 13:44:15-05:00,GitHub,noreply@github.com,2018-01-25 13:44:15-05:00
a9e203265a36bb9bbd0018be7dfc2494e796bb43,"Fix for change in signature of partition_on_columns (#3114)

* Fix for change in signature of partition_on_columns

This new signature appeared in 0.1.4 - rettain compatability using
version check.

* remove extra looseVersion",Martin Durant,martindurant@users.noreply.github.com,2018-01-29 20:51:29-05:00,GitHub,noreply@github.com,2018-01-29 20:51:29-05:00
18d3afb681117f7b39bca418679d7eb4cad33ba4,"Dtype rationalisation for sql queries (#3100)

* Dtype rationalisation for sql queries

Plus a few more options and docs

* flake

* revert frequency in sql

* More update to docstring

* Fix for older pandas

df.astype() apparently required dict in the past

* remove debug",Martin Durant,martindurant@users.noreply.github.com,2018-01-30 19:15:19-05:00,GitHub,noreply@github.com,2018-01-30 19:15:19-05:00
35ee4dfea06392b3b359869b945d00202358d296,"Fix travis parquet test issues (#3117)

* Fix non-deterministic parquet test failure

This was a bug in our test code that accidentally iterated over a set
instead of a list and assumed ordering. Should fix the non-deterministic
test failures for the parquet tests on travis.

* Remove `-q` from pip install on travis

Makes debugging future install issues easier.",Jim Crist,jcrist@users.noreply.github.com,2018-01-30 18:13:48-08:00,GitHub,noreply@github.com,2018-01-30 18:13:48-08:00
4cd1f8846dbdec9801959441e34c609a92022c53,"Support arrays with unknown chunk sizes in percentile (#3107)

* Support arrays with unknown chunk sizes in percentile

Fixes #3106

* fix use of _percentile in dataframes

* fix doctest

* [skip ci] add changelog",Matthew Rocklin,mrocklin@gmail.com,2018-01-31 09:02:43-05:00,GitHub,noreply@github.com,2018-01-31 09:02:43-05:00
4ef57a6d050a6f599d652b5fe28ee3ebe30c4e7e,"Added a few more videos to presentations (#3102)

* Added a few more videos to presentations

* added duration to presentations

* Update presentations.rst",Rich Signell,rsignell@usgs.gov,2018-01-31 09:04:40-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-01-31 09:04:40-05:00
22f74e0deb71e50e6b7d8b0b452a410c7861e1e7,"Avoid calling pd.Timedelta in repartition(freq=) (#3110)

* Avoid calling pd.Timedelta in repartition(freq=)

It turns out that 1m and 1M both convert to minutes, causing some
frustration.

See https://stackoverflow.com/questions/48467042/dask-dataframes-time-series-partitions

We don't actually need the call to pd.Timedelta.
Everything works fine regardless.

* flake8

* revert to prepend/append division values",Matthew Rocklin,mrocklin@gmail.com,2018-01-31 09:05:26-05:00,GitHub,noreply@github.com,2018-01-31 09:05:26-05:00
d4e3c5970321db29dbb51dd09583918bedca49f1,"Remove `write_bytes` (#3116)

* Write directly to file in `to_csv`

Skip intermediate bytes/string generation. This reduces graph size,
reduces memory usage, and is simpler overall to understand.

* Remove use of `write_bytes` in dask.bag

Use `open_files` directly instead of `write_bytes`. This allows handling
`dask.bag` io cleaner. Also remove double optimization in
`to_textfiles` (once in `to_delayed` and once before compute) by
creating a bag and calling `compute` on that instead.

* Remove `write_bytes`

This function was overly complicated and tried to handle too many
different input types. It is easier and cleaner to have output functions
work with the file objects directly.",Jim Crist,jcrist@users.noreply.github.com,2018-01-31 09:17:44-08:00,GitHub,noreply@github.com,2018-01-31 09:17:44-08:00
0dd12b9c9b8ff36160d20586b07fa96f262ac704,"A few travis tweaks (#3119)

- Unpin conda version
- Don't test imports on the dev tests (should only need to test these
  on one build).",Jim Crist,jcrist@users.noreply.github.com,2018-01-31 09:18:35-08:00,GitHub,noreply@github.com,2018-01-31 09:18:35-08:00
03e75ac7bdf4f102da86071bde7299175686e143,"Cosmetic fixes to sql (#3120)

Following comments on #3100",Martin Durant,martindurant@users.noreply.github.com,2018-01-31 14:19:57-05:00,GitHub,noreply@github.com,2018-01-31 14:19:57-05:00
d5407c286168e2240afd3d121dc7621bf26fe544,"Remove `fastparquet` package before pip installing (#3085)

Recent versions of `pip` have gotten a bit smarter about detecting a
package is already installed instead of simply overwriting. This is
actually a good thing for the majority of use cases. However it means
that we have to adjust our logic for installing the development version
`fastparquet`. Though it is probably for the best so that we don't
accidentally have stray files floating around from a previous install.
To adapt to this new behavior from `pip`, we forcible remove
`fastparquet` after installing it (we only wanted to ensure the bulk of
its dependencies were present anyways) with `conda`. Then the `pip`
install can proceed without issues.",jakirkham,jakirkham@gmail.com,2018-01-31 20:12:08-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-01-31 17:12:08-08:00
e1ffaccaa609dd395736f2ce90dda146cb0abc26,"Sort by grouper values prior to calling groupby-apply (#3118)

* Sort by grouper values prior to calling groupby-apply

Otherwise we run afoul of a reindex operation when we have multiple
repeated index values

* sort grouper if series/dataframe, sort df in key/name

* avoid mutation in groupby tests

* [skip ci] update changelog",Matthew Rocklin,mrocklin@gmail.com,2018-02-01 12:36:07-05:00,GitHub,noreply@github.com,2018-02-01 12:36:07-05:00
63338bcf126c0904787f3f644784485621419ae4,"Read methods/functions accept iterables of paths (#3124)

* Support passing a list of files to read_csv/read_table

* Support passing a list of files to dd.read_parquet

* Refactor multiple file implementation for db.read_text

Use list handling in `dask.bytes` instead of recursive function in
`dask.bag`.",Jim Crist,jcrist@users.noreply.github.com,2018-02-01 11:10:11-08:00,GitHub,noreply@github.com,2018-02-01 11:10:11-08:00
cceb6e2ac50a85b3f34154612dc98508432f057c,"Full traversal in dask.order (#3066)

* Add failing test for short dependent chains

* add more ordering tests

* Implement full traversal in order

* relax tests and clean up old code

* pass on cycle test

* remove self references in dependencies in order

* add changelog entry

* remove graph cycle test

* remove reversed list in test",Matthew Rocklin,mrocklin@gmail.com,2018-02-01 16:21:12-05:00,GitHub,noreply@github.com,2018-02-01 16:21:12-05:00
8c6f4792105d7f31cdf62553828e57df94c102f3,"Add `optimize_graph` kwarg to `to_delayed` methods (#3126)

* Add `optimize_graph` kwarg to `to_delayed` methods

Adds an `optimize_graph` kwarg to all `to_delayed` methods indicating
whether to optimize the graph before the conversion (default True). Adds
tests and docs for this functionality.

Also deprecates the ``dd.to_delayed`` function, as this was inconsitent
with other collection's api's.

* Update changelog [skip ci]",Jim Crist,jcrist@users.noreply.github.com,2018-02-01 14:04:41-08:00,GitHub,noreply@github.com,2018-02-01 14:04:41-08:00
ae5e1d564ba429dc2a66995555173c58b8e7f000,"Support using pyarrow for hdfs (#3123)

* Add support for HDFS using pyarrow

* Tweak a few tests

* Update dockerfile

* Tests run without hdfs3

* Update ci environment

* Test backend drivers

* Remove patches for pyarrow

- Only support recent Pyarrow version with patches pushed upstream
- Add tests for glob
- Add psf license for glob functionality

* Remove unnecessary hdfs3 test

* Update docs [ci skip]

* Update changelog

* Skip doctests for filesystems

* Respond to comments

* Respond to doc comments

* Make glob generic

Move the glob code out of pyarrow module, and apply it to hdfs3 driver
as well (due to inconsistent behavior between hdfs3 and other glob
implementations). Test that hdfs3 and pyarrow glob matches.

* Use multiprocessing in hdfs read_text test

* Add distributed test",Jim Crist,jcrist@users.noreply.github.com,2018-02-01 15:59:01-08:00,GitHub,noreply@github.com,2018-02-01 15:59:01-08:00
1d1148e8f9792718d9b05c52737c36cce83720da,license year (#3127) [skip ci],Joseph Lin,josephlin55555@gmail.com,2018-02-02 10:05:13-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-02-02 07:05:13-08:00
8570bb2bb063838b6faa43068cd7c446f5805998,"Support changing colormap with string like visualize(cmap='RdBu') (#3122)

* Support changing colormap with string like visualize(cmap='RdBu')

* [skip-ci] add changelog entry",Matthew Rocklin,mrocklin@gmail.com,2018-02-02 15:23:01-05:00,GitHub,noreply@github.com,2018-02-02 15:23:01-05:00
7769996ac5ed56ff11e7af96f2c4597207dda008,"Pyarrow with partition_on forwards kwargs (#3142)

Previously extra keyword arguments were silently ignored when using
`to_parquet` with `partition_on` and `engine='pyarrow'`. This fixes that
and adds an appropriate test.",Jim Crist,jcrist@users.noreply.github.com,2018-02-06 09:33:38-08:00,GitHub,noreply@github.com,2018-02-06 09:33:38-08:00
83c3129ce24f71e13e97219fb5c4da1b7d774668,"WIP: Aggregation methods for object-type array (#3137)

Support reductions on arrays of object dtype.",Keisuke Fujii,fUjiisoup@gmail.com,2018-02-07 04:18:18+09:00,Jim Crist,jcrist@users.noreply.github.com,2018-02-06 11:18:18-08:00
7f5c6eb9b3cef6ce5fac67629842bf0c0bb0ee3f,"Proper metadata for x.str.extractall (#3143)

Ensure the index is set properly for `str.extractall`",Jim Crist,jcrist@users.noreply.github.com,2018-02-06 12:52:20-08:00,GitHub,noreply@github.com,2018-02-06 12:52:20-08:00
3f6fd6a12dc0162a03d74d550058457824d0585c,"df.query works with kwargs (#3144)

Previously this would error out. Also simplified the implementation and
cleaned up the tests for both query and eval.",Jim Crist,jcrist@users.noreply.github.com,2018-02-06 22:52:09-08:00,GitHub,noreply@github.com,2018-02-06 22:52:09-08:00
13935acebfbcbc1e72b7a61521676fa9f0e86270,"Add doc note bag.map_partition callback should expect generators (#3150)

* document bag.map_partition callback should expect generators

* update docstring

* Add author information to changelog",Nir,nirizr@gmail.com,2018-02-09 09:50:37-08:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-09 12:50:37-05:00
de6c2a49d76066abb51085570816322f063fc5c5,"Dataframe to array (#3147)

* Enable df.map_partitions(...) to return dask arrays

* simplify values and to_records with map_partitions

* [skip ci] add docs and changelog

* add definition of is_arraylike

* Replace __array_ufunc__ with __array__

* replace PandasObject with explicit classes

* flake8",Matthew Rocklin,mrocklin@gmail.com,2018-02-09 13:15:04-05:00,GitHub,noreply@github.com,2018-02-09 13:15:04-05:00
4bf9346bc22180d69fb467b97bef3a4bd3fdcde6,"Improve support for dd.read_parquet with multi-indices (#3149)

* Improve support for dd.read_parquet with multi-indices

Be more robust in interpreting `index=..., columns=...` when dealing
with a parquet file with a multi-index.

* Respond to feedback

* Respond to feedback

* Update changelog",Jim Crist,jcrist@users.noreply.github.com,2018-02-09 10:57:06-08:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-09 13:57:06-05:00
13e76e33217532d0e28be023aacd0d02188c201f,bump version to 0.17.0 (#3154),Matthew Rocklin,mrocklin@gmail.com,2018-02-09 14:59:07-05:00,GitHub,noreply@github.com,2018-02-09 14:59:07-05:00
8b2bebec7e08c19cf5a398f5e1b7751371760363,use more recent api (#3157),Thrasibule,thrasibule@users.noreply.github.com,2018-02-10 14:26:35-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-10 14:26:35-05:00
3ba1c3854293deb9a2ea7d3df693dddf5bce93a0,"More tests of store's returned result (#3152)

* Clear delayed target before retesting store

* Move region tests with no result returned

Make sure all the region tests with no result returned are together.
This include with a single region and multiple regions.

* Wrap long line in tests

This line isn't over the limit, but it will soon be. So wrap it
proactively.

* Test immediate/delayed store and return of result

Was not testing whether `store` with result returned worked correctly
when the result was persisted to disk previously, this fixes that issue
by adding tests for this case.",jakirkham,jakirkham@gmail.com,2018-02-12 15:55:35-05:00,GitHub,noreply@github.com,2018-02-12 15:55:35-05:00
512aaec69b52be0461046f2973b58240784d748f,"Add lazy loader (#3155)

* Added lazy files to docs, need to test

* Fixed example

* Modified docs

* modify lazy reader example

* Mention reader must return numpy array",Julien Lhermitte,705366+jrmlhermitte@users.noreply.github.com,2018-02-13 14:07:43-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-13 14:07:43-05:00
b6fa99460e3fe32648857d2e2a815d99f7cbc5a1,"Fix dimension chunking in indices (#3167)

* Fix incorrect dimension chunking in indices

chunk nesting for each dimension was incorrectly specified.

* flake8

* changelog.rst

* Add PR number to changelog.rst",Simon Perkins,simon.perkins@gmail.com,2018-02-14 19:51:23+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-14 12:51:23-05:00
571d7076d3fd881176bda18138814674f400b3ac,"Add daskernetes to kubernetes documentation (#3161)

* Add daskernetes to kubernetes documentation

* fix link and headers

* add docker doc page",Matthew Rocklin,mrocklin@gmail.com,2018-02-14 14:09:09-05:00,GitHub,noreply@github.com,2018-02-14 14:09:09-05:00
1893ebf938164d6dd80c347c3a31313dcd6b41a7,"allow column assignment of pandas datetime to dask dataframe (#3164)

* replace np.isscaler with pd.api.types.is_scalar per Tom/Matt's advice

* update changelog

* add test

* fix changelog update - move note to correct session

* fix linting issues

* pd.datetime to pd.Timestamp, and spacing change as requested",Max Epstein,max@remine.com,2018-02-14 15:15:27-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-02-14 14:15:27-06:00
93b2f5d1feffbfdfb8a4c485d9c841bac31c41f7,"Update kubernetes and cloud documentation

1.  Remove kubernetes-native, just point to daskernetes
2.  Add separate cloud deployment page with motivation and history
3.  Add standalone kubernetes page that gives a comparison of the two approaches",Matthew Rocklin,mrocklin@gmail.com,2018-02-16 15:44:20-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-16 15:44:20-05:00
fadc962812b91185c4a0a60fb43f0feae0143f16,"Minor optimizations to Dask Array's store (#3153)

* Drop end comma from `tuple` in `retrieve_from_ooc`

There was an extra comma at the end of a `tuple` in `retrieve_from_ooc`.
This drops that extraneous comma to improve readability.

* Flatten Array keys passed to optimize in `store`

Make sure that the Dask keys that are passed to `Array`'s
`__dask_optimize__` method are flattened. While the `__dask_optimize__`
method of `Array` does flatten the keys, it is best not to rely on that
in `store` and just ensure they are properly formatted.

* Fuse region/chunk slices when creating store Dask

Instead of leaving the user-provided `region` and chunk slice (i.e.
`index`) to be fused in the `store_chunk` and `load_chunk` functions, go
ahead and fuse them when constructing the Dask graph and leave `region`
as `None`. This should cutdown the work done in `store_chunk` and
`load_chunk`. Also should allow for the `region` argument in both of
these functions to be subsequently dropped.

* Drop region arg from store/load chunk functions

Since `fuse_slice` is now run as part of Dask construction and this
removes the need to pass the `region` on for handling in the store/load
chunk functions, simply drop the `region` arguments and related logic
from `store_chunk` and `load_chunk`.  Makes them a bit easier to follow
and maintain going forward.

* Optimize `store`'s `targets` through `Delayed`

Use the standard way of optimizing Dask Delayed objects to optimize the
targets in advance if needed. Thus if `cull`ing or any other
optimization strategy becomes common place for Delayed objects, it will
be handled through the standard mechanisms instead of us doing it in
some custom way.

As an added bonus, this avoids collect empty dictionaries in the event a
target does not have a Dask (e.g. not Delayed).  Previously `store` had
collected empty dictionaries in this case. So this should be an
improvement when constructing and working with the `SharedDict` object
for `targets` in the common case (i.e. no Delayed targets).

Also provides a check to guarantee we are actually getting Dask Delayed
objects and are not supporting any other Dask collections. If we don't
get a Dask Delayed object, we assume this is some Array-like object.

* Note Delayed target support in store's docstring

For some time, `store` has supported `Delayed` `targets`. The intent
being to support creating a storage location once storage occurs and
possibly handle other things.  However this wasn't noted in the
docstring. So we make that a little clearer by noting `targets` can be
`Delayed`.

* Merge store Dasks together first

Before merging store Dasks with source and target Dasks, go ahead and
merge the store Dasks together alone. Simplifies the merging process a
bit and avoids directly relying on a dependency. Also makes sure that
there is a `SharedDict` for each group of related dictionaries that get
added to final store Dask. Namely the `sources`, `targets`, and now the
`store_chunk`s steps.

* Rename store_dsks_mrg and store_dsks to store_dsk

As we are only really interested in the one Dask graph that represents
all `store_chunk` operations, renamed `store_dsks_mrg` and `store_dsks`
to `store_dsk` to make that clearer.

* Add optional postcompute Dask to retrieve_from_ooc

Provides an option to give `retrieve_from_ooc` a computed Dask as well
to fill in values in the `load_chunk`s part of the Dask. This can be
useful when inlining results from the `persist`ed `store_chunk`s step.
This argument is totally optional and will be used to inline computed
results of `Future`s as the case may be. If this argument is not
provided, then the keys are simply inserted into the new Dask as was the
case before.

* Provide fused `store_chunk`/`load_chunk` strategy

Renames `store_chunk` to `load_store_chunk`. The new `load_store_chunk`
function differs slightly from `store_chunk`'s previous behavior in that
it will skip storing results if `x` is `None`. Also `load_store_chunk`
takes the new `load_stored` option, which allows for reading the results
back in from `out` after storing them. IOW `load_store_chunk` provides
the behavior of `store_chunk`, `load_chunk`, and a fused version of
`store_chunk` and `load_chunk`. By keeping this functionality all within
one function using different options, it should avoid divergence that
could occur with having different functions.

Reimplements `store_chunk` and `load_chunk` to be light wrappers around
`load_store_chunk` with only a few needed arguments. The rest are
handled in some default manner. By doing this, the original behavior of
`store_chunk` and `load_chunk` are restored while simply using
`load_store_chunk` underneath the hood. The `store_chunk` and
`load_chunk` functions are kept to preserve readability in terms of the
code, Dasks generated, and scheduler progress.

Makes some adjustments to `insert_to_ooc` to handle either using
`load_store_chunk` when `return_stored` and `load_stored` are both
`True` or simply using `store_chunk` for all other cases. This results
in some tweaks to the key name used and arguments provided. The purpose
of these adjustments are to ensure `load_store_chunk` shows up when
loading and storing will happen in the same step. Otherwise
`insert_to_ooc` only adds `store_chunk`, which may or may not be
followed by a separate `load_chunk` step depending on whether
`return_stored` is `True` or `False`.

* Rework `store` to inline uses of `store_chunk`s

Refreshes `store` so as to effectively inline all uses of `store_chunk`s
when `return_stored=True`. Thus users only see `load_store_*` nodes
whether or not `compute` is `True` or `False`. This avoids some lock
contention between storing and loading steps when `compute` is `False`.
When `compute` is `True`, this effectively inlines `Future`s or results
that the `store_chunk` step would have returned. Thus making the most
compact Dask possible when `return_stored=True`.

* Change `insert_to_ooc`'s `sto_chunk` to `func`

Appears that `sto_chunk` was more confusing than helpful in the review.
So rename it to `func` to make it clear we intend this to be a different
function and not a typo of `store_chunk`.

* Use dictionary comprehensions in insert/retrieve

In the `insert_to_ooc` and `retrieve_from_ooc` functions, make use of
dictionary comprehensions to simplify the code a bit. These also tend to
be a bit faster than Python `for`-loops.

* Ensure `store` makes depth 1 Dask for compute True

When `return_stored` and `compute` are both set to `True`, ensure that
`store` returns Dask Arrays that contain depth 1 Dasks only. This helps
ensure that the Dask Arrays generated in this case don't have any
lingering connections to the Dask used for storing in the Dask Arrays
returned.

* Check how many times `store` acquires a `Lock`

Verifies how many times a `Lock` instance is acquired in `store` when
using `return_stored`. Namely if `compute=True`, the lock will be
acquired two times for each chunk as storing and loading are separate
steps to allow for storing of chunks to occur asynchronously. However if
`compute=False`, the lock will be acquired only one time for each chunk
as store and load are fused into a single step that acquires the lock
for both parts. This acts as a check to ensure that the `compute=False`
case of `return_stored` does in fact fuse storing and loading into a
single step that holds the lock for both parts.

* Note `store_chunk` inlining in changelog",jakirkham,jakirkham@gmail.com,2018-02-20 11:59:24-05:00,GitHub,noreply@github.com,2018-02-20 11:59:24-05:00
3cdd90a25f0a7afcb54999b7a0814e3cc87369ab,Fix for when selecting a parquet column from directory partitioning (#3171),Martin Durant,martindurant@users.noreply.github.com,2018-02-20 12:01:07-05:00,GitHub,noreply@github.com,2018-02-20 12:01:07-05:00
f2735e931b453fb3732af85c137ff93d3cc507c6,"Note `where`-style selection of Dask Arrays works (#3182)

The docs still noted that selection by a conditional Dask Array does not
work. However this case actually does work with Dask Arrays. So move
this to the supported cases.

[skip ci]",jakirkham,jakirkham@gmail.com,2018-02-20 17:02:16-05:00,GitHub,noreply@github.com,2018-02-20 17:02:16-05:00
5a5ea67df82cbd7abad102865a402f55bdc8bfcb,"Use `cloudpickle` to load instead of `pickle` (#3180)

Use `cloudpickle.loads` instead of `pickle.loads` just for clarity.
Since these are the same methods, this changes no actual behavior.",jakirkham,jakirkham@gmail.com,2018-02-20 17:33:05-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-02-20 14:33:05-08:00
c8a2773b01bae9ab576fd7f9c8475103d13917a9,Run ordering test for all parquet engines (#3178),Uwe L. Korn,xhochy@users.noreply.github.com,2018-02-20 23:33:44+01:00,Jim Crist,jcrist@users.noreply.github.com,2018-02-20 14:33:44-08:00
f98846e0c75ec5b4af897d143de140c220471773,"Change numpy versioning in make_sliced_dtype (#3187)

* Change numpy versioning in make_sliced_dtype

It looks like numpy reverted a change in how it handles struct dtypes.

This also simplifies a test to only test against numpy behavior,
rather than explicitly test different outcomes for different versions.

* add changelog entry",Matthew Rocklin,mrocklin@gmail.com,2018-02-21 18:11:52-05:00,GitHub,noreply@github.com,2018-02-21 18:11:52-05:00
246d2ce2ef5bb306b7b6e26e7bc6cfaea492b26b,"Introduced parameter for output stream for progress bar (#3185)

* Introduced parameter for output stream for progress bar

Using stderr instead of stdout for progress bars can be desirable, see
hyperspy/hyperspy#1842. This change allows users to specify the stream to use
and allows to easily change the default behavior.

* Implemented the change suggested by @sk1p to fix the failed tests

* Added spaces for code style",Dieter Weber,d.weber@materials-scientist.com,2018-02-22 00:55:58+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-21 18:55:58-05:00
162ab9f741f825b4e3c05fd35698e5c835330656,"Docs update (#3188)

* Move array overview to main landing page

Also rewrite creation docs

* clean up table of contents

* merge dataframe overview into dataframe main page

* merge delayed docs

* [skip ci] add link to futures from delayed

* add docs on compute and locks

* DOC: Added redirect stage to the doc build process",Matthew Rocklin,mrocklin@gmail.com,2018-02-22 11:26:24-05:00,GitHub,noreply@github.com,2018-02-22 11:26:24-05:00
683d1c9082d8fc69e6a3dbc8299f18f0f9e75e30,"Add HTTPFileSystem (#3160)

* Add HTTPFileSystem

* First test

Plus auto-import the back-end

* Simplify logic; parse query

* Add tests

* flake

* More tests, fixes, and working for Range-free servers

* Rever change in bytes.core

* fix test

* flake on tests

* Add checks for non-behaving HTTP servers

* one more flake

* Fix for comments

Use UUID for ukey; file may have changed at any time

Use temp directory for test server

* flaking

* Add httpfs docs to remote services, update changelog",Martin Durant,martindurant@users.noreply.github.com,2018-02-22 11:30:29-05:00,GitHub,noreply@github.com,2018-02-22 11:30:29-05:00
23897769ed80f02882d44da2b41d59728c36a389,"Support tokenizing partials when keywords is None (#3191)

* Support tokenizing partials when keywords is None
* pin travis numpy to 1.14.1 for Python 2.7, 3.6
* Fix test where ""add"" arises randomly in hex string
* bump pandas up as well
* fix docstrings with new numpy",Matthew Rocklin,mrocklin@gmail.com,2018-02-22 15:46:17-05:00,GitHub,noreply@github.com,2018-02-22 15:46:17-05:00
17e7624d34c7716435830423dc8ff99f85c48651,bump version to 0.17.1,Matthew Rocklin,mrocklin@gmail.com,2018-02-22 16:05:44-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-22 16:05:44-05:00
abd69bd05ada0176f479f0718721ee7707901f8e,"Update delayed.rst (#3200)

It should be 5, isn't it?",Pangeran Bottor,pangeranbhp@gmail.com,2018-02-24 00:36:37+07:00,jakirkham,jakirkham@gmail.com,2018-02-23 12:36:37-05:00
4bc4413d60dd0b0bc0400430c12436cf0119e051,"DOC: Note vindex in slicing (#3199)

* Update wording about unsupported slicing case

As there is only one unsupported case, updating the wording afterwards
to make this explicit.

[ci skip]

* Note `vindex` next to lists of multiple axes

As `vindex` nicely serves this use case of having multiple lists of
axes, make a note next to this unsupported slicing use case so that
other users are aware of this function and hopefully check it out.

[ci skip]",jakirkham,jakirkham@gmail.com,2018-02-23 13:13:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-23 13:13:37-05:00
3ad05d6eb70c84a2faea95ce15b5290b7b2eb4ae,"Mod before truncate in shufle_group (#3201)

* Mod before truncate in shufle_group

Fixes #2730

This caused some rows to be missed during task-based shuffles",Matthew Rocklin,mrocklin@gmail.com,2018-02-24 10:03:01-05:00,GitHub,noreply@github.com,2018-02-24 10:03:01-05:00
41468d6183758638550ee22939bb0ced28b6a736,Update futures documentation,Matthew Rocklin,mrocklin@gmail.com,2018-02-24 17:15:57-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-24 17:16:10-05:00
bcaf86e66dff96cf355ef3da4f1b8f6dfab0c1a1,"Add cython to install script (#3215)

So that pip-installing fastparquet from master works (was previously
conda-installed).",Martin Durant,martindurant@users.noreply.github.com,2018-02-26 13:09:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-26 13:09:37-05:00
9d8ee974ce073cc3ec44df5627f9c8ccec121067,"Support categories= argument for pyarrow (#3177)

* Support categories= argument for pyarrow

* Support categories= in older pyarrow versions

* Set unknown categories

* Rebase changelog",Uwe L. Korn,xhochy@users.noreply.github.com,2018-02-26 23:03:12+01:00,Jim Crist,jcrist@users.noreply.github.com,2018-02-26 14:03:12-08:00
7e0bf9b94005817792282ac15324a880b3b021d7,"resample.agg (#3202)

This PR adds in resample.agg that allows for something like df['col'].resample('1min').agg(['mean', 'min']).",postelrich,postelrich@gmail.com,2018-02-27 08:40:59-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-27 08:40:59-05:00
8bd36eb76a51a0cfc41ca77b82444ad7335bbd86,"Support 0 or 1 args in broadcast_shapes and broadcast_chunks (#3218)

* Test `broadcast_shapes`/`broadcast_chunks` w/1 arg

Adds tests for `broadcast_shapes` and `broadcast_chunks` with one
argument. Didn't appear there was one before for either case. Hence this
adds one for this important base case.

* Support `broadcast_chunks` with no arguments

Make sure that if `broadcast_chunks` gets no arguments, it return an
empty tuple.

* Test `broadcast_shapes`/`broadcast_chunks` w/o arg

Adds tests for `broadcast_shapes` and `broadcast_chunks` when no
argument is provided. Didn't appear there was one before for either
case. Also it failed for `broadcast_chunks` previously. Hence this adds
test for this base case.",jakirkham,jakirkham@gmail.com,2018-02-27 08:43:56-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-27 08:43:56-05:00
5d3bb24eef369b56d7ab91b39bd28bd6cb9d4a99,Add bitwise ufuncs (#3219),jakirkham,jakirkham@gmail.com,2018-02-27 08:49:03-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-27 08:49:03-05:00
17ef412ad98ec642b1dfb6345ab97899194e9e96,"Scheduling docs update (#3214)

* Add base-level API page

* Update diagnostics documentation

1.  Separate diagnostics pages into single and distributed
2.  Add cover page for diagnostics
3.  Add standalone graphviz page
4.  Rearrange diagnostics-single doc to show user-facing docs first
    then dev docs
5.  Add API to diagnostics-single page

* remove code errant block

* remove inspect.rst",Matthew Rocklin,mrocklin@gmail.com,2018-02-27 09:40:04-05:00,GitHub,noreply@github.com,2018-02-27 09:40:04-05:00
7f69508882ea9f783124f6cd28e31f666423e884,"Add broadcast_arrays (#3217)

* Add broadcast_arrays

Implements `broadcast_arrays` for Dask Arrays. Builds off of all the
other `broadcast_*` functions already in `dask.array.core`.

* Export `broadcast_arrays` to the public API

Make `broadcast_arrays` available in the `dask.array` package.

* Test broadcast_arrays

Perform a simple test with `broadcast_arrays` that compares the results
from the NumPy implementation with the Dask Array implementation.

* Wrap long import line in `dask.array.creation`

About to make it longer and it is already over the line length limit. So
go ahead and wrap it in advance.

* Rewrite meshgrid to use broadcast_arrays

Simplify the code in `meshgrid` a bit by making use of
`broadcast_arrays`, which does all the bookkeeping for broadcasting the
shape and chunks.

* Document broadcast_arrays in dask.array API

Include `broadcast_arrays` for auto-documenting in the `dask.array`
public API.

* Note Dask Array's broadcast_arrays in changelog",jakirkham,jakirkham@gmail.com,2018-02-27 13:08:26-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-27 13:08:26-05:00
d52d0a6f59413026d98f3fda827029b61cf697f3,"Clean up old documentation (#3222)

* Clean up old documentation

This cleans up documentation.
There is no particular theme to these changes.
I just went through in a single pass and rearranged things that had
become somewhat stale..

* [skip ci] add fullstop

* add faq back into index",Matthew Rocklin,mrocklin@gmail.com,2018-02-27 17:19:31-05:00,jakirkham,jakirkham@gmail.com,2018-02-27 17:19:31-05:00
31f0f8f6b60961fd30aae11502f27b00b14fbbe9,"Fix a typo (#3224)

enviornments ->
environments",okkez,okkez000@gmail.com,2018-02-28 21:12:36+09:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-28 07:12:36-05:00
04631d6058cd61836a085562d6a17801058dd035,Update single-distributed.rst (#3228),Wes Roach,wesr000@gmail.com,2018-02-28 12:43:33-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-28 13:43:33-05:00
f8e8ebf16e33ae42a6d025745f46256c3e834b20,Fix diagnostics-local links in documentation,Matthew Rocklin,mrocklin@gmail.com,2018-02-28 17:41:19-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-02-28 17:41:19-05:00
59858f5c95684c5c2b84e27204ea1e4a28be2431,Added link to meeting calendar. (#3233),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-03-01 13:58:27-06:00,jakirkham,jakirkham@gmail.com,2018-03-01 14:58:27-05:00
e4c89249a922ed95d9fc833ab0c2b4ed2f5cb42d,"Fix handling of non-iterable non-string keys for task graphs (#3238)

* Fixed two issues with dask/core when keys are not strings

The first issue on lines 306-315 in subs is fixing the assumption that if type_arg is type(key) then arg is an ndarray, when it can actually be any non-core python type at this point in the branching.

The second issue is where '->'.join(cycle) will fail (in trying to create an error message) if the elements of cycle cannot be added to strings.  This is resolved by calling str(x) on each before joining.

* Forgot to check ndarray on type(key)

* Added test for user class substitution, modified subs to fall back to == if len() or zip() call fails

* Changelog

* Update to catch len() error in python <= 3.4 and >= 3.5

* Added comment and added name to changelog",dancollins34,33334385+dancollins34@users.noreply.github.com,2018-03-05 07:01:45-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-05 07:01:45-05:00
82203f9ac6071b6cbf8f69fce8000e0c04184636,"Rework pip install docs (#3246)

1.  Quote brackets (see https://stackoverflow.com/questions/49110640/unable-to-install-daskcomplete/49111005#49111005 )
2.  Emphasize `pip install dask[complete]`",Matthew Rocklin,mrocklin@gmail.com,2018-03-05 18:02:10-05:00,GitHub,noreply@github.com,2018-03-05 18:02:10-05:00
234d41470dbd621f0ea4e784918193c16e78a397,Rename daskernetes to dask-kubernetes (#3249),Matthew Rocklin,mrocklin@gmail.com,2018-03-07 09:23:32-05:00,GitHub,noreply@github.com,2018-03-07 09:23:32-05:00
4ad9622793c07bad8fa47c099f9043cb887bb23f,"Support mixed operations between arrays and dataframes (#3230)

* Support mixed operations between arrays and dataframes

This allows mixing of Dask array and dataframe objects in element-wise
computations *if* they are well aligned.

    df.x - df.y.values

* Support array-dataframe operations with mixed dimensions

* changelog, flake8",Matthew Rocklin,mrocklin@gmail.com,2018-03-07 09:24:02-05:00,GitHub,noreply@github.com,2018-03-07 09:24:02-05:00
2ce85a7dd45294bde14ed6a9253d7bcdd2dc83e9,"Consolidate changelog entries (#3260)

Somehow we wound up with two development release sections. This merges
them back together.

[ci skip]",jakirkham,jakirkham@gmail.com,2018-03-09 08:16:21-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-09 08:16:21-05:00
db49a4da16f89691591c28273663a2deda72052f,"Ignore `.pytest_cache` directory (#3262)

[skip ci]",jakirkham,jakirkham@gmail.com,2018-03-09 08:18:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-09 08:18:52-05:00
cc9f8db12e4c43b61fb79bb74bbd71b3cd8ba1f7,"fix invalid gcsfs git repo url (#3257)

change gcsfs repo url from https://github.com/gcsfs/gcsfs to https://github.com/dask/gcsfs.git",Anderson Banihirwe,axbanihirwe@ualr.edu,2018-03-09 07:28:44-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-09 08:28:44-05:00
1af19fb2a0ae7e5fe60833657f68993dbd3d5fc0,"Allows optional axis argument in Dask Array squeeze method (#3261)

* Provide optional axis argument with squeeze

The `squeeze` method in NumPy takes an optional `axis` as does the
function. However we only support `axis` in the Dask Array function and
not the method. This brings the Dask Array `squeeze` method up to parity
with its NumPy counterpart by adding the optional `axis` argument.

* Cover different axis arguments to squeeze

* Test squeeze function too

* Make use of item selection in squeeze

To generalize squeeze a bit and simplify it as well, just make use of
item selection to squeeze axes.

* Always check and normalize axes in squeeze",jakirkham,jakirkham@gmail.com,2018-03-09 17:09:15-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-09 17:09:15-05:00
2cca91f36301de96e8b20f76f7faf9f77334668d,Update index.rst (#3267),Tor E Hagemann,hagemt@users.noreply.github.com,2018-03-09 14:58:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-09 17:58:19-05:00
47d025476312c6a8155192196b8da3b5af0c13e4,"Support delayed and single-partition bags in Bag.join (#3254)

* Support delayed and single-partition bags in Bag.join

This can significantly improve performance when joining against larger
collections due to serialization overhead on the distributed scheduler.

There is still more work to do here for multi-partition joins.

Experiments also show that GC is having a profound effect on performance
here.

* [skip ci] add changelog entry",Matthew Rocklin,mrocklin@gmail.com,2018-03-10 09:07:29-05:00,GitHub,noreply@github.com,2018-03-10 09:07:29-05:00
3855ba4f89fc69e31b4b0dc940ceefa66ec14e50,Update develop.rst (#3285),nkhadka,nbnnbnkhadka@gmail.com,2018-03-14 07:47:09+05:27,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-03-13 21:20:09-05:00
55328a0fad511b81b06b5a078f484365658c81cf,fixed typo (#3286),Scott M. Edenbaum,scott.edenbaum@gmail.com,2018-03-14 09:31:11-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-14 09:31:11-04:00
a8d70e9192140f56977c9e8798b7727ebc15fdc6,"Note fft_wrap works on N-D real/complex data (#3282)

The `fft_wrap` docstring is a bit out of date relative to what the
function is capable of. So refresh it note that higher dimensionality is
supported and that it works on real and complex data.

[ci skip]",jakirkham,jakirkham@gmail.com,2018-03-14 11:54:44-04:00,Jim Crist,jcrist@users.noreply.github.com,2018-03-14 08:54:44-07:00
e05d6466047714f3cef12c526131e576c0d109a5,"Require NumPy 1.10.4+ (#3283)

As NumPy 1.10.4+ is the oldest version of NumPy that we test against,
set that as the lower bound for Dask's optional NumPy requirement. Also
some things that Dask is doing internally assume NumPy 1.10 at a minimum
(e.g. wrapping `cbrt`).",jakirkham,jakirkham@gmail.com,2018-03-14 11:57:53-04:00,Jim Crist,jcrist@users.noreply.github.com,2018-03-14 08:57:53-07:00
c0631b0f4cc66709aae48971609b77571b70b777,"Loading of partitioned parquet should result in known categories (#3216)

* Loading of partitioned parquet should result in known categories

Fix for the fastparquet side

* Add tests and fix a bit

* Also test index categories

* fixes",Martin Durant,martindurant@users.noreply.github.com,2018-03-14 12:02:10-04:00,GitHub,noreply@github.com,2018-03-14 12:02:10-04:00
9e5267f07bbfc87c92dd35dfaec6818a94ab4786,"Implemented logic to add extra arguments to apply (#3256)

* Implemented logic to add extra arguments to apply

Note this change could break existing code because meta becomes just an
extra keyword

* Implemented dd.core.Scalar test

* Updated tests with/without meta

* Partial implementation, trouble with keyword arguments

* Fixed delayed implementation

* Docstrings

* Added changelog

* Make flake8 happy

* Reuse of to_task_dask and test adaptation

* Refining docstrings, general cleanup",Gabriele Lanaro,gabriele.lanaro@gmail.com,2018-03-18 14:09:15-07:00,Jim Crist,jcrist@users.noreply.github.com,2018-03-18 14:09:15-07:00
11a50f0d329bdaf1ea6b7f0cff9500f55699fd36,"Consistent use of ordering by task name (#3271)

We break ties in task ordering by using the task key itself. Previously we did this inconsistently due to using `sorted(reverse=True/False)` in different situations. This caused inconsistent ordrering in general and pathological ordering in some situations like nearest neighbor computations.

We now use two different comparators for string comparison.",Matthew Rocklin,mrocklin@gmail.com,2018-03-19 10:04:14-04:00,GitHub,noreply@github.com,2018-03-19 10:04:14-04:00
ca835969b5bd2f953c3eeb47328dbaf250d75f05,"Handle `return_stored` in `store` method correctly (#3296)

* Handle `return_stored` in `store` method correctly

If `store` is returning the stored array loaded, then strip the length 1
tuple from the result to make it easier to work with. IOW return the
Dask Array representing the stored result of the computation.

* Test store method returned",jakirkham,jakirkham@gmail.com,2018-03-19 13:35:22-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-19 13:35:22-04:00
10c46a1d7d80a9368acd4e7fbc9bb11c4386835b,Prevent astype in array.concatenate if all parts have same dtype (#3301),Martin Durant,martindurant@users.noreply.github.com,2018-03-19 13:49:19-04:00,GitHub,noreply@github.com,2018-03-19 13:49:19-04:00
f5779130fc2a733cc3c3ad128124d88d0292190c,"Avoid sorting large stacks in order (#3298)

When performning task ordering we sort tasks based on the
number of dependents/dependencies they have.  This is critical to
low-memory processing.

However, sometimes individual tasks have millions of dependencies,
for which an n*log(n) sort adds significant overhead.  In these cases
we give up on sorting, and just hope that the tasks are well ordered
naturally (such as is often the case in Python 3.6+ due to sorted
dicts and the natural ordering that exists when constructing common
graphs)

See https://github.com/pangeo-data/pangeo/issues/150#issuecomment-373066066
for a real-world case",Matthew Rocklin,mrocklin@gmail.com,2018-03-19 16:42:42-04:00,GitHub,noreply@github.com,2018-03-19 16:42:42-04:00
1e56992097c798d5149eff3729fe541d72f6621d,"Pass `store`'s `kwargs` to `compute` call (#3300)

* Pass `store`'s `kwargs` to `compute` call

Appears the `kwargs` intended for the `compute` call in Dask Array's
`store` were getting dropped after a recent rewrite. This corrects it so
that `kwargs` are passed to the `compute` call.

* Test that `store` gets `kwargs`",jakirkham,jakirkham@gmail.com,2018-03-19 18:44:59-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-19 18:44:59-04:00
302f5d32f01fa7cefb695c5f169935ff9b2409b0,"Fix a typo in persist's docs (#3305)

* Fix a typo in persist's docs  [ci skip]

* Fix small typo in index  [ci skip]",jakirkham,jakirkham@gmail.com,2018-03-20 07:20:09-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-20 07:20:09-04:00
79782b485bde8a37eb781c329274397065a5dd5c,"Removes ""incubating"" from Apache Impala reference (#3308)",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-03-20 16:12:42-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-20 17:12:42-04:00
a1ffd01e28be6a1cbb45089417471e8e57bd637d,"Validate inputs to atop (#3307)

This checks that the lengths of the index strings given to atop match
the dimension of the arrays.",Matthew Rocklin,mrocklin@gmail.com,2018-03-21 08:32:36-04:00,GitHub,noreply@github.com,2018-03-21 08:32:36-04:00
f4a753129f9cd8e290373ce1ddf926adfe18ead7,Add set of tasks that should not be added to stack in order (#3303),Matthew Rocklin,mrocklin@gmail.com,2018-03-21 08:32:56-04:00,GitHub,noreply@github.com,2018-03-21 08:32:56-04:00
2b78f3e1f45ff69ab529ea20f4ce1c8fcd3d2762,bump version to 0.17.2,Matthew Rocklin,mrocklin@gmail.com,2018-03-21 10:06:48-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-21 10:06:48-04:00
c54659aaeec29d4b2e41f0efa63732ab8447d2ff,"Clean up section headers in remote docs (#3311)

This flattens out the header hierarchy and so exposes the options properly in
the TOC.

This also adds HTTP(s) to the list at the beginning.",Matthew Rocklin,mrocklin@gmail.com,2018-03-21 13:57:31-04:00,GitHub,noreply@github.com,2018-03-21 13:57:31-04:00
ded169210f2395ca7f1b2c47964fc225d2ef442c,[skip ci] Point helm docs to use stable channel (#3312),Matthew Rocklin,mrocklin@gmail.com,2018-03-21 15:53:43-04:00,GitHub,noreply@github.com,2018-03-21 15:53:43-04:00
8e2c65fda004621b6d13341d7498a147b165a601,"Add ""Why dask?"" section to documentation (#3310)",Matthew Rocklin,mrocklin@gmail.com,2018-03-22 16:47:34-04:00,GitHub,noreply@github.com,2018-03-22 16:47:34-04:00
37779c0d5da1ed5c662caf4f3acd20bfd9324e25,Make Dask SVG human readable and add no_pad variants (#3313),Matthew Rocklin,mrocklin@gmail.com,2018-03-23 15:17:42-04:00,GitHub,noreply@github.com,2018-03-23 15:17:42-04:00
b53b7d996856228f6fb86cce3ec8154382c87217,Fix typo in Dask Bag docs  [ci skip] (#3319),jakirkham,jakirkham@gmail.com,2018-03-23 19:40:46-04:00,GitHub,noreply@github.com,2018-03-23 19:40:46-04:00
79f595f781cc56f369bf9823c2f887cce934f28b,Fix code style in changelog  [ci skip] (#3320),jakirkham,jakirkham@gmail.com,2018-03-23 19:41:37-04:00,GitHub,noreply@github.com,2018-03-23 19:41:37-04:00
d883ef03925fdd6f3b03cb5f84476a6791d59033,"Note squeeze's optional axis arg in the changelog (#3321)

Mentions that the Dask Array `squeeze` method now takes the optional
`axis` argument should users wish to squeeze out specific axis/axes.
Useful for duck typing.

[skip ci]",jakirkham,jakirkham@gmail.com,2018-03-23 22:26:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-23 22:26:50-04:00
c89bc69d7526c09bf47966e5b34ca68999e8914b,Enable/Fix test_select_partitioned_column for pyarrow 0.9.0 (#3207),Uwe L. Korn,xhochy@users.noreply.github.com,2018-03-25 18:28:07+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-25 12:28:07-04:00
907434be10d7351c28179d15954ff4a363559b7f,Add isna method to Dask Dataframe (#3294),Christopher Ren,christopher.x.ren@gmail.com,2018-03-25 19:40:18+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-25 14:40:18-04:00
1e8a56c0d129bfe1b88378ace8dbf473cdf89ff2,Add Martin Durant to Changelog authors  [ci skip] (#3323),jakirkham,jakirkham@gmail.com,2018-03-25 16:10:32-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-25 16:10:32-04:00
4ea114b2d8d6f5ef8ad063944ac388d4ef72435a,"Fix style issues in the changelog  [ci skip] (#3328)

Fixes various issues with inline code sections and PR references amongst
other things.",jakirkham,jakirkham@gmail.com,2018-03-25 20:17:38-04:00,GitHub,noreply@github.com,2018-03-25 20:17:38-04:00
85e9a467103007c22affa9ba65447cb500bf5963,"Typo fix: argument to DataFrame is called dsk, not dask (#3331)",Jrg Dietrich,astro@joergdietrich.com,2018-03-26 13:56:43+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-26 07:56:43-04:00
7d54cc41f0a0383cfe106dc6bee523e37c87d224,Allow 't' as shorthand for HDF format specifier (#3330),Jrg Dietrich,astro@joergdietrich.com,2018-03-26 14:52:22+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-26 08:52:22-04:00
bd9fed747ed01589edb0c2b28ed774b72498e1ac,Typo fix (#3332),Brendan Martin,brmartin508@gmail.com,2018-03-26 09:40:36-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-26 09:40:36-04:00
3fd149b2d0090be66f047cb05972fd6cb67d9dc0,Add missing authors to the changelog  [ci skip] (#3327),jakirkham,jakirkham@gmail.com,2018-03-26 11:18:06-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-26 11:18:06-04:00
473b81bd627f16aaa4f09a56e7e35840d6785f48,"Update API and Kubernetes docs (#3326)

* Add content to api page

* Add kubernetes sub-toc-tree

* [skip ci] add link to dask.distributed API",Matthew Rocklin,mrocklin@gmail.com,2018-03-26 11:19:10-04:00,GitHub,noreply@github.com,2018-03-26 11:19:10-04:00
6e3b8ce8ba4becdcc8fbf7e969f7213af7ad838b,"Simplify construction of store graph (#3316)

* Wrap long line in TypeError exception in store

* Make optimized Dask Arrays after optimizing graph

After merging and optimizing the collective graph from the Dask Array
sources, go ahead and reconstruct the Dask Array sources using this
optimized graph right afterwards. By keeping this code together, should
make it easier to understand what we are doing and make it less likely
that it could accidentally be broken in the future. Also this mirrors
what we are doing with the Dask Delayed targets as well. Simplifies the
construction of the store graph too.

* Eliminate for-loop in Dask store graph creation

Now that the Dask Array sources are constructed in optimized form right
after optimization, the store graph `for`-loop is much simpler. As using
comprehensions is the preferred strategy in the Dask codebase due to
their compactness (improving readability and maintainability) and
efficiency, go ahead and rewrite what is left of the for-loop in two
lines using comprehensions. Also consolidates `sharedict.merge` into
these lines for good measure, which in turn simplifies getting the keys
from the store graph.

* Swap source and target order in comprehension

Matches how the arguments are passed to `insert_to_ooc`, which should
make it a little easier to follow.",jakirkham,jakirkham@gmail.com,2018-03-26 11:20:40-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-26 11:20:40-04:00
25ad52793a3984b0dfb0c1c4d7a65ff5e5adbe22,"Use read_parquet(..., engine='pyarrow') (#3337)

According to the source

dask/dataframe/io/parquet.py:755: UserWarning: parquet with `engine='arrow'` is deprecated, use `engine='pyarrow'` instead",larsr,Lars.Rasmusson@sics.se,2018-03-27 18:10:39+02:00,Jim Crist,jcrist@users.noreply.github.com,2018-03-27 09:10:39-07:00
e76804acf181e100b6ee83ec2b03593e6ec96676,"Add landing page (#3315)

This is a high-level landing page for Dask's main site.
It mostly links to the documentation, but with a more aesthetic first
impression.

This adds a single HTML and small CSS file.
All larger CSS and images are hosted separately.",Matthew Rocklin,mrocklin@gmail.com,2018-03-27 13:53:46-04:00,GitHub,noreply@github.com,2018-03-27 13:53:46-04:00
5d9e4fb01c4691fcb1bc3b4fc7e8603a3296b0b7,"Update landing page (#3338)

* [skip ci] add google analytics script

* [skip ci] Clarify that we scale workflows, not the libraries themselves",Matthew Rocklin,mrocklin@gmail.com,2018-03-27 15:14:24-04:00,GitHub,noreply@github.com,2018-03-27 15:14:24-04:00
31529d02ede1216c9e40943818508eac54b986ac,fix typo in landing page,Matthew Rocklin,mrocklin@gmail.com,2018-03-27 15:34:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-27 15:34:27-04:00
5df0f05a8af3f707112d46eb7f8ce7880f203c22,Update array-design.rst (#3340),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-03-27 14:47:31-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-27 15:47:31-04:00
c4f51fd2edbc964c6693390981fb26d0f51fa05c,"Move inner apply near other apply functions (#3349)

Seems this got separated from related apply functions. Moves it down a
bit so it is closer functions making use of this internal function.",jakirkham,jakirkham@gmail.com,2018-03-28 17:02:53-04:00,GitHub,noreply@github.com,2018-03-28 17:02:53-04:00
56d059ebd56a6fd79722201f48806314f12c6bf3,"Make load_store_chunk args from store_chunk's args (#3334)

Reuse the name generated for `load_store_chunk`'s keys based off the
keys used for `store_chunk`. Also tack on the arguments used for
`load_store_chunk` after those used for `store_chunk`. Should avoid
deviations between the two cases as the `load_store_chunk` case is
merely an extension of the `store_chunk` case.",jakirkham,jakirkham@gmail.com,2018-03-29 09:28:26-04:00,GitHub,noreply@github.com,2018-03-29 09:28:26-04:00
ea53dfa88be01466ce0ffafdc031e7ade8f5bd24,"Add piecewise to Dask Array (#3350)

Implements the equivalent of NumPy's `piecewise` function for Dask
Arrays.",jakirkham,jakirkham@gmail.com,2018-03-29 12:38:11-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-29 12:38:11-04:00
a18e4e9934eda54ed78edb11b80228cf9124c607,"Test `broadcast_chunks` handles `nan` correctly (#3357)

Add some tests for `nan` lengths in chunks passed to `broadcast_chunks`.
The behavior already appears to be correct, but was untested. So this
should help ensure it doesn't regress.",jakirkham,jakirkham@gmail.com,2018-03-29 16:55:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-29 16:55:31-04:00
ac660104fcb9b6c78c73366f831812d80feb96e9,"Tweak piecewise tests (#3359)

* Tweak piecewise test

The two cases were a little off despite generating the same result. This
brings them into parity. Also adds a seed that is known to generate all
3 cases.

* Split out the piecewise otherwise test

This test just handles the case where `piecewise` has an extra
conditional argument used as an otherwise or else case.

* Skip piecewise otherwise test on pre-1.12 NumPy

Appears that `piecewise` runs into an issue on pre-1.12 NumPy when given
an extra conditional argument for an otherwise/else case. So we just
skip this test on old NumPy's a reference the relevant issue.",jakirkham,jakirkham@gmail.com,2018-03-30 07:55:45-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-30 07:55:45-04:00
3bcad51489f57b6e54e261b199b9e5c484e7d1a6,"Explain name= and dask_key_name= in delayed docstring (#3346)

Fixes #3318",Matthew Rocklin,mrocklin@gmail.com,2018-03-30 08:04:00-04:00,GitHub,noreply@github.com,2018-03-30 08:04:00-04:00
7de2447e790a1394c00df5d04ec90d226677f596,"Expand meta= error message (#3343)

* Expand meta= error message

Fixes #3342

* add udf= keyword to emulate and raise_on_meta_error",Matthew Rocklin,mrocklin@gmail.com,2018-03-30 08:04:17-04:00,GitHub,noreply@github.com,2018-03-30 08:04:17-04:00
076d5eb333ecd3552488d56e8f9f0abb3e7af1d3,"Fix broadcast_shapes handling of nan (#3356)

* Fix `broadcast_shapes` for `nan` lengths

Appears that Python's `max` will sometimes ignore `nan` values. To fix
this, we switch to NumPy's `max`, which will always prefer `nan` values
if they show up.

* Test `broadcast_shapes` handles `nan` correctly

Add some tests for `nan` lengths in shapes passed to `broadcast_shapes`.
Tries to catch some cases that were mishandled before.

* Add `broadcast_shapes` `nan` fix to changelog",jakirkham,jakirkham@gmail.com,2018-03-30 08:04:40-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-03-30 08:04:40-04:00
753b5db6913666a82b081ef5987af2303754f16f,Use map_overlap method in docs (#3341),Matthew Rocklin,mrocklin@gmail.com,2018-03-30 14:12:31-04:00,GitHub,noreply@github.com,2018-03-30 14:12:31-04:00
714323c5d5adff6d104e877f50b345181b880c91,"Style sphinx table of contents (#3360)

This adds an orange-black styling to the table of contents side-bar
in the documentation.

It also uses the Dask logo in the upper left

Capitalize Dask in conf.py",Matthew Rocklin,mrocklin@gmail.com,2018-03-31 08:00:35-04:00,GitHub,noreply@github.com,2018-03-31 08:00:35-04:00
639e7ae6517ecda031207c44a71a0d247838c3b7,Add supporters to the bottom of the landing page (#3362),Matthew Rocklin,mrocklin@gmail.com,2018-03-31 08:00:58-04:00,GitHub,noreply@github.com,2018-03-31 08:00:58-04:00
3d861c7e6e772d12282ebd5fd11aa3ee424b7e72,"Add isin for dask arrays (#3363)

* Add isin for dask arrays

* Fixup per review",Stephan Hoyer,shoyer@gmail.com,2018-03-31 11:07:53-07:00,jakirkham,jakirkham@gmail.com,2018-03-31 14:07:53-04:00
099a8f16f34fc82e0ec8f86ca0fa8c0e28cee1b3,"Fix `isin` API documentation  [ci skip] (#3364)

Forgot to add `isin` with `autofunction` as well. This fixes that issue.",jakirkham,jakirkham@gmail.com,2018-03-31 15:12:48-04:00,GitHub,noreply@github.com,2018-03-31 15:12:48-04:00
631a67d46c0d316748576c3ae0fbbe776bdcfd91,"[skip ci] Set html_theme even when on rtd (#3365)

Otherwise our logo-only flag doesn't work",Matthew Rocklin,mrocklin@gmail.com,2018-04-01 13:37:06-04:00,GitHub,noreply@github.com,2018-04-01 13:37:06-04:00
698939bd377ee85caebe55f0aa13bfb380e91dc9,[skip ci] Add high-level user interface documentation (#3368),Matthew Rocklin,mrocklin@gmail.com,2018-04-03 18:13:16-04:00,GitHub,noreply@github.com,2018-04-03 18:13:16-04:00
06b1c651582cb4dcf68cbc2e94f0c1b1d3fbfe3e,"Apply non-fancy indices first in vindex (#3353)

* Handle vindex's NumPy Arrays in a special function

Move all NumPy array slicing content into what use to be `_vindex_1d`,
which is now `_vindex_array`. This will make it easier to extend
`vindex` to handle other objects like Dask Arrays afterwards.

* Extract different types of indices in vindex

Extracts the scalar indices and partial slices. Then applies them first
in `vindex`. Also drops the scalar indices and partial slices from the
indices as they are handled.  Also as the scalar indices reduce the
array's rank, which needs to be taken into account for later slices.
Thus making it easier to reason about later steps as we know this has
already happened. Further these immediately result in Dask Array chunks
being dropped from consideration as only the chunk including the index
or partial slice are kept. This is a nice property to have before other
subselections are applied.",jakirkham,jakirkham@gmail.com,2018-04-04 12:34:11-04:00,GitHub,noreply@github.com,2018-04-04 12:34:11-04:00
97844da383038a5af4761f87495a45213029c13e,[skip ci] Add documentation for adaptive scaling (#3371),Matthew Rocklin,mrocklin@gmail.com,2018-04-04 12:34:45-04:00,jakirkham,jakirkham@gmail.com,2018-04-04 12:34:45-04:00
67cca9961ea4c9df07bd6fbab64e5728b1869037,Fix memory formatting in kubernetes-helm doc (#3374),Henry Doupe,henry.doupe@aei.org,2018-04-04 13:15:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-04 13:15:35-04:00
21b02ecb84d9b34f6cfa4a98c4a53876bbdf6d14,"Make 'default' compression for fastparquet be snappy, if available (#3373)

* Make 'default' compression for fastparquet be snappy, if available

* add to changelog [skip ci]",Martin Durant,martindurant@users.noreply.github.com,2018-04-04 13:51:18-04:00,GitHub,noreply@github.com,2018-04-04 13:51:18-04:00
e85f40e253aabf583043228b543ae27d1c82eea1,"ORCFile reader (#3284)

* First pass at ORCFile reader for dask
* Pyarrow 0.9.0 is out, with ORC support.
* Move test data to GCS and download fewer times
Note that the ORC reader does not seem to guarantee column ordering
* Should have entry in API doc too
* update pyarrow version message [skip ci]",Martin Durant,martindurant@users.noreply.github.com,2018-04-04 18:59:07-04:00,GitHub,noreply@github.com,2018-04-04 18:59:07-04:00
b408eea71cc419105036f9b96ba962f44e1675c3,"Adds HHMI Janelia logo to supporters (#3375)

This adds the HHMI Janelia logo to the supporters as they support 
jakirkham as a core developer.

jakirkham got the ok to do this internally.",jakirkham,jakirkham@gmail.com,2018-04-05 10:48:30-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-05 10:48:30-04:00
b64e694032ee43273fafd47359df5237af1dacb0,"Add __array_ufunc__ protocol to DataFrame and Series (#3044) (#3370)

Add __array_ufunc__ protocol to DataFrame and Series (#3044)

Example
-------

```python
In [1]: import numpy as np, dask.dataframe as dd, pandas as pd
In [2]: numpy_arr = np.random.randn(5)
In [3]: ps = pd.Series(numpy_arr)
In [5]: np.sum(np.ceil(ps))
Out[5]: 2.0

In [6]: ds = dd.from_pandas(ps,3)
In [9]: np.sum(np.ceil(ds))
Out[5]: dd.Scalar<series-..., dtype=float64>
In [6]: _.compute()
Out[6]: 2.0
```

Add out parameter support

Example
-------

```python
In [1]: import numpy as np, dask.dataframe as dd, pandas as pd
In [2]: ps = pd.Series(np.random.randn(5))
In [3]: ds = dd.from_pandas(ps, 3)
In [4]: dsc_out = dd.core.Scalar({('s', 0): 0}, 's', 'i8')
In [5]: np.sum(ds, out=dsc_out)
In [6]: dsc_out
Out[6]: dd.Scalar<series-..., dtype=float64>

In [7]: dsc_out.compute()
Out[7]: 0.2768562049182187

In [8]: np.sum(ps)
Out[8]: 0.2768562049182187
```",Ksenia,bobrovaksenia@gmail.com,2018-04-05 19:07:18+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-05 13:07:18-04:00
7c26bbee725b2192bd17fe08d97d0e2fa8ad9e74,"Update remote data docs to be more user focused (#3378)

Previously this started with more developer focused information.
I hope that this newer layout puts user interests more in the forefront.",Matthew Rocklin,mrocklin@gmail.com,2018-04-05 21:24:58-04:00,GitHub,noreply@github.com,2018-04-05 21:24:58-04:00
175b962970ac831c2cbd2c0a0b387caee5702236,Use valid color value for banner background (#3358),Stefan van der Walt,sjvdwalt@gmail.com,2018-04-06 04:54:58-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-06 07:54:58-04:00
3f4cccaa2a282591ef72f21c6bcfaaebe11d5985,"Docs cleanup (#3380)

* set numpydoc version to 0.8

* [skip ci] clean up sphinx warnings",Matthew Rocklin,mrocklin@gmail.com,2018-04-06 08:31:26-04:00,GitHub,noreply@github.com,2018-04-06 08:31:26-04:00
5b2a700c13d803fb9c274c30a283582ff424f85a,"Darken hero background in main doc page

This was accidentally lightened in 175b962970ac831c2cbd2c0a0b387caee5702236",Matthew Rocklin,mrocklin@gmail.com,2018-04-06 10:26:16-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-06 10:26:16-04:00
7cd5143820f58cc600bbaf553b542ccc5e760d9e,"Reset requests after using moto (#3381)

https://github.com/spulec/moto/pull/1553 fixed the bad interaction between
moto and requests. We now use master downstream of that, which means that
ORC py2 tests can be re-enabled

move moto reset to moto tests",Martin Durant,martindurant@users.noreply.github.com,2018-04-06 14:40:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-06 14:40:31-04:00
815718d14b5818715579721c74bdd9e497f6947b,"first/last aggregations for DataFrame-/SeriesGroupBy (#3389)

* first/last aggregations for DataFrame/SeriesGroupBy

```
In [1]: import pandas as pd, dask.dataframe as dd
In [2]: df = pd.DataFrame({'F': list('abcdef'),
                           'B': [4, 5, 4, 5, 5, 4],
                           'C': [7, 8, 9, 4, 2, 3],
                           'D': [1, 3, 5, 7, 1, 0],
                           'E': [5, 3, 6, 9, 2, 4],
                           'A': list('aaabbb')})
In [3]: ddf = dd.from_pandas(df, npartitions=3)
In [4]: ddf.groupby(by='A').agg({'B': 'mean', 'C': 'mean', 'D': 'first', 'E': 'last'}).compute()
Out[4]:
          B    C  D  E
A
a  4.333333  8.0  1  6
b  4.666667  3.0  7  4
In [5]: ddf.groupby(by='A')['D', 'E'].first().compute()
Out[5]:
   D  E
A
a  1  5
b  7  9
In [6]: ddf.groupby(by='A')['D', 'E'].last().compute()
Out[6]:
   D  E
A
a  5  6
b  0  4
```

* Simplifying parameters for test",Ksenia Bobrova,bobrovaksenia@gmail.com,2018-04-12 18:54:19+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-12 11:54:19-05:00
6fffd1957d281d457d005ecc5f0a15527436f5e8,Add Squeeze method to dataframe (#3366),Christopher Ren,christopher.x.ren@gmail.com,2018-04-16 15:44:31+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-16 10:44:31-04:00
735061227b744750a8080646a3dcc16f13b90323,"Support `traverse` keyword in persist/optimize (#3410)

Produces an automata for reconstructing python collections containing
dask collections after the dask collections have been transformed in
some way. Allows for more efficient and generic
`compute/persist/optimize/etc...` with `traverse=True`.

Also support task literals in both graph and results",Jim Crist,jcrist@users.noreply.github.com,2018-04-16 13:46:57-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-16 16:46:57-04:00
9f508387e94af35db9d71cf13732888f2619bed7,"Use safe_wraps for wrapping isin() (#3391)

* Use safe_wraps for wrapping isin()

Fixes GH3388

* Move safe_wraps to dask.array.utils",Stephan Hoyer,shoyer@gmail.com,2018-04-16 16:34:54-07:00,jakirkham,jakirkham@gmail.com,2018-04-16 19:34:54-04:00
28674739d90d2fa986a7bd3bbab0d496099c6fd2,"Fix persist for distributed scheduler (#3413)

Fixup and test for persist with traverse keyword when used with
distributed scheduler.",Jim Crist,jcrist@users.noreply.github.com,2018-04-16 22:58:33-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-17 01:58:33-04:00
79528dbea664cc6438b9029102e0263516b59dbc,"Preserve DataFrame divisions when reading from parquet using pyarrow (#3387)

* Update test_parquet to check divisions for fastparquet and pyarrow >=0.9.0

pyarrow tests currently pass for <0.9.0 and fail for >=0.9.0

* WIP towards preserving divisions when reading parquet files using pyarrow

* Sort ParquetDatasetPieces naturally so that part numbers are processed in order

* Handle converting divisions to timestamps
But getting tests to pass required multiplying int64 time by 1000 and I'm not sure why.

* Use pyarrow schema to convert time to nanoseconds before passing to pandas

Refactor division logic into a new method and base it entirely on the
pyarrow schema (not the pandas metadata)

* Skip test_columns_name for write_parquet 'fastparquet' when reading with 'pyarrow'

This was causing a SIGSEGV error and the comments already state that fastparquet doesn't write column_names

* Encode string divisions

* Clarify parquet string encoding comment

* Use storage name when looking up column metadata for divisions

* Compute divisions column index on the row group of the first piece, rather than on the schema.
These differ in the case of partitioned datasets

* Get numpy datatype from the pandas metadata if available, otherwise get it from parquet schema as before

* Add `infer_divisions` kwarg to read_parquet function

* Updated changelog

* Fixes for pyarrow=0.8

* flake8

* Parquet testing updates so that more tests have 10+ parquet pieces
This ensures that we're testing natural sorting

* Refactor natural sorting logic
  - Move nat_sort_key into dask.utils
  - Natural sort paths resulting from globstring patterns before passing lists of paths to the engines
  - Only natural sort pyarrow parquet pieces if a single input path resulted in multiple pieces

* Compute division column index for each pyarrow parquet piece

* Move LooseVersion import to top of dataframe/io/parquet.py

* Don't assume unix file separators

* Refactor _to_ns to use a lookup table

* Rename nat_sort_key to natural_sort_key and add wikipedia reference

* Remove unnecessary  check_{engine} guards

* Remove unnecessary check_pa_divs assignment

* Rename check_divs -> should_check_divs

* flake8

* Fix natural_sort_key doctest

* Python 2 fix. str -> string_types",Jon Mease,jon.mease@gmail.com,2018-04-17 11:37:33-04:00,Jim Crist,jcrist@users.noreply.github.com,2018-04-17 08:37:33-07:00
cab9b17174ca61b052f46fd735fa02edb5dc450d,"Remove deprecated `Base` class (#3414)

This was deprecated in 0.16.0. Since we've already had a major release
since then, remove the deprecation.",Jim Crist,jcrist@users.noreply.github.com,2018-04-17 11:49:40-07:00,GitHub,noreply@github.com,2018-04-17 11:49:40-07:00
60f7e5af4b879e1ced499cf56261599cd71d9a87,Add einsum to dask array (#3412),Simon Perkins,simon.perkins@gmail.com,2018-04-19 11:47:13+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-19 05:47:13-04:00
bc9f70c3eaed2bb7799cf73b6fc0a7ed1230cc4a,"Propagate optimize_grpah keyword in persist (#3420)

This was causing dask.distributed tests to fail",Matthew Rocklin,mrocklin@gmail.com,2018-04-19 06:22:56-04:00,GitHub,noreply@github.com,2018-04-19 06:22:56-04:00
519932079fc08e084d469951f668bb211ba9176c,"Fix nonempty_index for CategoricalIndex (#3394)

* Fix nonempty_index for CategoricalIndex

* Handle duplicate data for cat MultiIndex in CategoricalIndex",fjetter,fjetter@users.noreply.github.com,2018-04-19 21:00:59+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-04-19 14:00:59-05:00
b00c68eff51a6059e4a4f05ce4011a45caf47c62,Fixes example code block in dataframe.Series.map_overlap (#3425),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-04-19 18:48:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-19 18:48:00-04:00
86285bf787eb77dc973e95edfa7b9a414c101aa5,"Mention that Dask is open source in landing page (#3423)

We apparently forgot to mention this except in the header.
This integrates this message into a broader message about being part
of the PyData ecosystem.",Matthew Rocklin,mrocklin@gmail.com,2018-04-20 03:18:38-04:00,GitHub,noreply@github.com,2018-04-20 03:18:38-04:00
a842d448b7dabd48f8ad23cba906f2502e6149a8,Add einsum autofunction (#3424),Simon Perkins,simon.perkins@gmail.com,2018-04-20 10:03:40+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-20 04:03:40-04:00
f40b5368635184f0cb02d4cf3b10081946fcf170,Skip einsum optimize tests if unsupported in NumPy (#3428),Simon Perkins,simon.perkins@gmail.com,2018-04-20 20:03:15+02:00,Jim Crist,jcrist@users.noreply.github.com,2018-04-20 11:03:15-07:00
0c443fd49cd63ce23f803706c7f9762f0b8bb165,"topk overhaul and argtopk (#3405)

- Support `axis` in `topk`
- Add `argtopk`
- Support `split_every` in `topk`",crusaderky,crusaderky@gmail.com,2018-04-23 06:32:13+01:00,Jim Crist,jcrist@users.noreply.github.com,2018-04-22 22:32:13-07:00
196c9b0d2656fb544945018bb68ce6ebce5c0870,"Remove support for numpy < 1.11.0 (#3429)

* Remove support for numpy < 1.11.0

Downstream libraries have bumped the minimum numpy version they support,
and we should too.

* Fix failing __array_ufunc__ test

Numpy `out` parameter with dask dataframes requires numpy >= 1.13",Jim Crist,jcrist@users.noreply.github.com,2018-04-23 07:33:22-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-23 10:33:22-04:00
daeaaaa3bcf65aab753c5a7b24d7c6f4cb92ddc7,"Fixes typo in array creation docs (#3433)

* Fixes typo in array creation docs

* Renames variable in for loop",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-04-23 22:23:06-05:00,jakirkham,jakirkham@gmail.com,2018-04-23 23:23:06-04:00
0fd986fb3f9aefb2c441f135fc807c18471a61b8,Remove outdated requirement from repartition docstring (#3440),Jrg Dietrich,astro@joergdietrich.com,2018-04-25 11:43:44+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-25 05:43:44-04:00
4020cb97a1d356d0b05c9c9b5c96f1aa277f3bf9,"Add gradient for Dask Arrays (#3434)

* Implement gradient for Dask Arrays

Creates the equivalent of NumPy's `gradient` function for Dask Arrays.
Simply wraps the NumPy `gradient` function using `map_overlap` to allow
`gradient` to computed on each chunk with a halo.

Currently only supports uniform spacings specified by concrete scalars.
Though this could be relaxed in the future if there is demand.

* Expose `gradient` to the top-level Dask Array API

* Test Dask Array's `gradient` against NumPy's

Make sure that Dask Array's `gradient` gets comparable answers to
NumPy's `gradient` even across chunks.

* Document `gradient` in the Dask Array API docs

* Note Dask Array's `gradient` in the changelog",jakirkham,jakirkham@gmail.com,2018-04-25 16:19:53-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-25 16:19:53-04:00
e570766c61e8503ec8298c45c89429d9719dcf47,"Support map_overlap on unspecified axes in depth and boundary (#3445)

* Add newline before `return` in `coerce_boundary`

* Use `get` on `depth` in `add_dummy_padding`

As `depth` may not be defined for all axes, use `get` to retrieve the
value defaulting to `0` when not specified.

* Test map_overlap on non-trivial depth and boundary

Includes a test where only the non-trivial parts of the depth and
boundary are specified.

* Note `map_overlap` takes partial depth/boundary",jakirkham,jakirkham@gmail.com,2018-04-26 03:09:05-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-26 03:09:05-04:00
c8e30b8745ee8a884425f290fce39bda2613bca3,"Transform result in agg only when it is a DataFrame (#3446)

* In agg, reference result.columns only if results is a DataFrame",Jrg Dietrich,astro@joergdietrich.com,2018-04-26 09:11:07+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-26 03:11:07-04:00
993f15363e2a7e5a3dc167af0800442eaaa98e9a,"Assume the current python executable is the one we should spawn. (#3450)

On Debian the Python executable is named python3, so the test fails
because it tries to run the Python 2 interpreter.

Using sys.executable should be the safest option as the test server
will be launched using the same interpreter that the test suite is
running under.",Diane Trout,diane@caltech.edu,2018-04-29 09:44:25-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-29 12:44:25-04:00
784c9aa595183f9c50406b034f9453ba18e9380b,add rejoin to futures API docs,Matthew Rocklin,mrocklin@gmail.com,2018-04-30 16:56:09-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-04-30 16:56:09-04:00
357f98fb4f864515503ced070f63714e9e9a494e,"Set default values for make_timeseries (#3421)

This makes it easier to quickly create a non-trival dataframe for
testing or training.

These values are what we use by default in dask-examples",Matthew Rocklin,mrocklin@gmail.com,2018-05-01 06:20:49-04:00,GitHub,noreply@github.com,2018-05-01 06:20:49-04:00
bd20e8ca2cf4c2edac52f11606785afe0ca8fa37,Remove duplicate intersphinx_mapping definition (#3453),Diane Trout,diane@caltech.edu,2018-05-01 08:49:59-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-01 11:49:59-04:00
7242b8d103fedadc6eba49fa99b7d5d97ffda51d,"Fixes Series comparison to NumPy scalars (#3436)

* Adds check for 0-dimensional numpy array",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-05-01 14:02:18-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-01 15:02:18-04:00
f6c8a9c6304bb431d8e76c82efab9ea46a40138a,bump version to 0.17.3,Matthew Rocklin,mrocklin@gmail.com,2018-05-02 14:31:59-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-02 14:31:59-04:00
d7467542ac7086b80aadee5a295d9de97b636faa,Switches to using dask.compat string_types (#3462),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-05-02 17:10:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-02 18:10:34-04:00
1319fc9f27f6d8a7f15e62af93ddf20c588d7011,"Adds string subclass check to dataframe.__getitem__ (#3461)

* Adds string subclass check to dataframe.__getitem__

* Switch to using dask.compat string_types

* Adds changelog entry",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-05-02 17:46:15-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-02 18:46:15-04:00
35993a598604d963c567d10542687b16eca82131,"Add dask-jobqueue and dask-drmaa links to HPC setup docs (#3426)

* Add dask-jobqueue and dask-drmaa links to HPC setup docs

* [skip ci] add realistic example",Matthew Rocklin,mrocklin@gmail.com,2018-05-02 20:33:58-04:00,GitHub,noreply@github.com,2018-05-02 20:33:58-04:00
141cdc0aef8e7acb9d6a90c81a6829019ea2f7fd,"Pass filesystem to arrow piece reader (#3466)

Fixes #3464 , a rgression which found metadata in parquet pieces
before actually reading, but did not pass on the filesystem",Martin Durant,martindurant@users.noreply.github.com,2018-05-03 12:07:18-04:00,GitHub,noreply@github.com,2018-05-03 12:07:18-04:00
b5e95a693e5000738ec1f760d5537c61b22dc9bd,Allow using both sorted_index and chunksize in read_hdf (#3401) (#3463),Pierre-Bartet,p.bartet.friburg@gmail.com,2018-05-03 19:14:25+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-03 13:14:25-04:00
0b43b76efe909ce72fc561b1d3335b7257f55c13,"Remove FAQ (#3465)

* [skip ci] Remove FAQ

* Add stack overflow redirect

Add note from chunks FAQ",Matthew Rocklin,mrocklin@gmail.com,2018-05-03 14:05:25-04:00,GitHub,noreply@github.com,2018-05-03 14:05:25-04:00
13f07b53be51110dbfd42943cc863220fc50ed7e,bump version to 0.17.4,Matthew Rocklin,mrocklin@gmail.com,2018-05-03 17:44:27-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-03 17:44:27-04:00
9727d6667e85b9f41d2871ace9925de4d9e9ac74,"[skip ci] Remove changelog requirement from PR template (#3459)

See https://github.com/dask/dask/issues/3447",Matthew Rocklin,mrocklin@gmail.com,2018-05-04 06:42:51-04:00,GitHub,noreply@github.com,2018-05-04 06:42:51-04:00
24fda1faf0da80a3d839d917372aeb7cd421e59c,"Replace get= with scheduler= keyword (#3448)

This adds a new scheduler= keyword to compute and persist functions,
replacing the non-intuitive get= keyword, enabling users to specify different
schedulers with names like the following:

```python
x.compute(get=dask.threaded.get)  # Before
x.compute(scheduler='threads')    # After
```

The common schedulers are stored in a dictionary in dask/base.py
and dask.distributed is handled specially to avoid importing by default

This also changes docstrings and documentation.",Matthew Rocklin,mrocklin@gmail.com,2018-05-04 07:38:38-04:00,GitHub,noreply@github.com,2018-05-04 07:38:38-04:00
f0c8e141d1dd28849085b7390e7e71437cd814ce,"Support case in get_scheduler with no inputs (#3468)

Previously this failed on a check on collections",Matthew Rocklin,mrocklin@gmail.com,2018-05-04 08:46:14-04:00,GitHub,noreply@github.com,2018-05-04 08:46:14-04:00
4756b59050ab3478b5dd197093d0d28e7b8a33fd,"Fix rechunk with chunksize of -1 in a dict (#3469)

* Fix rechunk with chunksize of -1 in a dict

* Docstring updates",Stephan Hoyer,shoyer@gmail.com,2018-05-04 13:51:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-04 13:51:50-04:00
495a3611c1ccc12ccc37cf8a56ec3a88743815f5,Rename method= keyword to shuffle= in bag.groupby (#3470),Matthew Rocklin,mrocklin@gmail.com,2018-05-04 16:38:57-04:00,GitHub,noreply@github.com,2018-05-04 16:38:57-04:00
5c2787fcda94c212e1bdaec4ca591471ddc3820b,"Centralized configuration (#3432)

This creates a dask.config module to serve as central repository for all
configuration in Dask and Dask sub-projects. It includes utilities to
find config files (in yaml format), parse environment variables,
establish standardized locations for those files, and migrate
configurations over time.",Matthew Rocklin,mrocklin@gmail.com,2018-05-05 19:09:23-04:00,GitHub,noreply@github.com,2018-05-05 19:09:23-04:00
d551aa172db2f794ad941ef518b66156cc0c99b9,"[Docs] Add `dask-ssh` CLI Options and Description. (#3476)

* Add CLI Options and Description.

Add CLI Options from `dask-ssh --help`.

* [Docs] Update Add highlights on docs",Beomi,jun@beomi.net,2018-05-08 23:05:48+09:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-08 10:05:48-04:00
29ea899b724e0a518e9e6efd2af267225a615fbb,"Use NumPy 1.11 with Python 3.4 (#3482)

Appears that Pandas 0.19 and NumPy 1.12 conflict due to the Conda
package for Pandas' version constraints (particularly for Python 3.4).
So try downgrading the NumPy version used in this CI matrix to fix this
issue.",jakirkham,jakirkham@gmail.com,2018-05-09 05:42:42-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-09 05:42:42-04:00
7c419580037f552befc2650cb13967dd6bdef86a,"Faster slice_1d in dask.array (#3479)

This uses numpy and binary search to accelerate slicing performance 
when there are many chunks along a dimension

See also benchmarks in https://github.com/dask/dask-benchmarks/pull/15",Yu Feng,rainwoodman@gmail.com,2018-05-09 03:03:48-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-09 06:03:48-04:00
1fd5f14af228d3f9b90b9f96213a55a014178a05,"fix typo (#3495)

remove duplicate phrase",Frederick,fmoor@users.noreply.github.com,2018-05-14 04:45:17-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-14 07:45:17-04:00
5826ae0a108deedfca24e4d31db5f28a9e196026,"einsum split_every parameter (#3472)

* da.einsum split_every support

* Check for invalid einsum parameters",crusaderky,crusaderky@gmail.com,2018-05-15 13:20:02+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-15 08:20:02-04:00
520cbc0821c7f36c861a7f23f8e65be9f6405dcc,Fix config handling for directory paths (#3500),Matthew Rocklin,mrocklin@gmail.com,2018-05-15 15:29:02-04:00,GitHub,noreply@github.com,2018-05-15 15:29:02-04:00
075698e2bee04dd09cb1f475ff271a6edd7ee7b7,"Read whole files fix regardless of header for HTTP (#3496)

* Read whole files fix regardless of header for HTTP

* Should have been for read length -1

(not zero, that should produce b'')

* Add comments and allow buffer for small whole files

The latter comes with small addition to a test",Martin Durant,martindurant@users.noreply.github.com,2018-05-15 15:29:28-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-15 15:29:28-04:00
48c4a589393ebc5b335cc5c7df291901401b0b15,Add dataframe to/from json (#3494),Martin Durant,martindurant@users.noreply.github.com,2018-05-15 15:30:18-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-15 15:30:18-04:00
390fc144d917aa13c47ed59925a78ad220377f82,"Pandas 0.23.0 compat (#3499)

* Pandas 0.23.0 compat

Compatibility for result_type in apply

Avoid deprecated Index.summary

Avoid ambiguous column warning

Catch deprecation warning

Catch indexing warnings

Handle rolling warnings

Changelog fix",Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-05-16 14:02:16-05:00,GitHub,noreply@github.com,2018-05-16 14:02:16-05:00
c493dbf1b5e4e9490fe8c48cbfc9a86c44751cb1,Adds synchronous scheduler syntax to debugging docs (#3509),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-05-17 05:58:52-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-17 06:58:52-04:00
6f9bf19a0f1bf2f410fef08b3cdaf8f78f024737,"Replace dask.set_options with dask.config.set (#3502)

Previously we had two ways to set global configuration/state

1.  dask.set_options(...) which used dask.context._globals
2.  dask.config.set(...) which used dask.config.config

These are now backed by the same data structure, held in
dask.config.config.  For backwards compatibility they both still work
as before (mostly), though we'll be recommending dask.config.set
in the future.",Matthew Rocklin,mrocklin@gmail.com,2018-05-17 11:25:51-04:00,GitHub,noreply@github.com,2018-05-17 11:25:51-04:00
20145c9a5d12d965ab1ffe52e0c37659aec70ac2,"Add dask.config.update_defaults function (#3513)

This provides a uniform way for downstream library to register their
default values.

Previously our recommendation was for downstream libraries to update the
global configuraiton directly.  This had issues when the global config
would be reset, for example when refreshing the configuration.  Now we
remember these default values in a list of dicts and store them for
future use.",Matthew Rocklin,mrocklin@gmail.com,2018-05-18 14:21:49-04:00,GitHub,noreply@github.com,2018-05-18 14:21:49-04:00
bf5cfb01da7c6bc13f6e968df307f0352cb942ff,"Feature/dask.array.apply_gufunc (Issue #702) (#3109)

* Initial (still buggy) implementation of ``apply_gufunc``

* Finalize initial bugfree implementation

* Wrapup tasks

* Tiny out of topic linebreak fix for docu

* Add new methods to docu

* Minor

* Minor

* Minor docu fix

* Stylefixes, modify doc examples

* Fix conceptual issue: loop dims get broadcast fully before func is called

* Add docstring

* Remove `curry` from `gufunc`

* Stylefixes

* Use `apply_gufunc` into `dask.array.Array.__array_ufunc__`, provide `gufunc` wrapper (calls `apply_gufunc` directly) and provide `asgufunc` decorator.

* Finalize some tests and import `gufunc` methods to `dask.array` module

* Adds documentation for `gufunc` module

* Remove unused imorts

* Stylefixes

* Minor import fix

* Remove unused code

* Minor

* Fix doctests

* Limit some tests to newer versions of `numpy`

* Improve documentation

* Rename `asgufunc` to `as_gufunc`

* Minor enhancement of documentation

* Use `assert_eq` instead or `np.testing.assert_array_equal`

* Use `@pytest.mark.xfail(reason=""..."")` for one test

* Add test with mixed numpy dask array inputs

* Minor

* Changes `apply_gufunc(..., concatenate=)` to `apply_gufunc(..., allow_rechunk=)`

* Minor doc fix

* Put arguments in docstring in correct order.

* Make `signature` strictly a string input

* Make `output_dtypes` accept strings, add respective tests, and pass dtypes also to `np.vectorize`.

* Document passing of additinal `kwargs` to function, add test for it.

* Reimplement a more readable version of consistency check of chunk sizes

* Minor enhancement of few code lines for readability

* Minor stylefixes

* Fixes typo which broke tests

* Make some tests optional for numpy<1.12 because of missing `np.vectorize(..., signature=...)` support

* [skip ci] fix api link

* Minor typo

* Correct input validation to `TypeError`

* Add `pytest.mark.xfail` to tests that call private `numpy.linalg._umath_linalg` methods

* Revert ""Correct input validation to `TypeError`""

This reverts commit d2b27bfcb9e27367bb5e738cccdf433a6e949309.

* Correct input validation to `TypeError`",Markus Gonser,magonser@mksg.de,2018-05-18 20:35:15+02:00,Stephan Hoyer,shoyer@gmail.com,2018-05-18 08:35:15-10:00
83107230c0bad0cd901ea4f86667c42250aff649,"Update sphinx readthedocs-theme (#3516)

Fixes https://github.com/dask/dask/issues/3515",Matthew Rocklin,mrocklin@gmail.com,2018-05-19 21:16:38-04:00,GitHub,noreply@github.com,2018-05-19 21:16:38-04:00
771a045cd9196b37af54bee16761da7330c943a6,"Merge 0.17.x with master (#3510)

* Fix rechunk with chunksize of -1 in a dict (#3469)

* Fix rechunk with chunksize of -1 in a dict

* Docstring updates

(cherry picked from commit 4756b59050ab3478b5dd197093d0d28e7b8a33fd)

* Faster slice_1d in dask.array (#3479)

This uses numpy and binary search to accelerate slicing performance 
when there are many chunks along a dimension

See also benchmarks in https://github.com/dask/dask-benchmarks/pull/15

(cherry picked from commit 7c419580037f552befc2650cb13967dd6bdef86a)

* einsum split_every parameter (#3472)

* da.einsum split_every support

* Check for invalid einsum parameters

(cherry picked from commit 5826ae0a108deedfca24e4d31db5f28a9e196026)

* Pandas 0.23.0 compat (#3499)

* Pandas 0.23.0 compat

Compatibility for result_type in apply

Avoid deprecated Index.summary

Avoid ambiguous column warning

Catch deprecation warning

Catch indexing warnings

Handle rolling warnings

Changelog fix

(cherry picked from commit 390fc144d917aa13c47ed59925a78ad220377f82)

* Updated changelog

* Removed distributed master install

* RLS: 0.17.5",jakirkham,jakirkham@gmail.com,2018-05-22 12:54:53-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-05-22 11:54:53-05:00
fcf77748318bf1ccafac37211be1987534e6e5af,"Raise error if meta columns do not match dataframe (#3485)

* raises error is meta does not match df

* add check for NaN in meta and df columns

* Make error message more informative",Christopher Ren,christopher.x.ren@gmail.com,2018-05-23 19:13:41+08:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-23 07:13:41-04:00
115318c2c0a552d4fb8596d920d975f117ffc697,Add index to unsupprted argument for DataFrame.rename (#3522),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-05-23 06:15:27-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-23 07:15:27-04:00
8cd5a989305e26e41ee8cd48aabd3295dbd1b415,Add docker page to setup docs (#3521),Matthew Rocklin,mrocklin@gmail.com,2018-05-23 07:15:44-04:00,GitHub,noreply@github.com,2018-05-23 07:15:44-04:00
7b2760901bf16c5d3b42744fb80ce0120eac50fd,"Protect dask.config with lock (#3520)

Dask local clients sometimes modify the configuration in other threads",Matthew Rocklin,mrocklin@gmail.com,2018-05-23 07:16:14-04:00,GitHub,noreply@github.com,2018-05-23 07:16:14-04:00
b68ba1140c826c6ab5725bfec5c9dff35831b800,"Update array-creation.rst (#3525)

fixing names to be correct / consistent (filenames, lazy_images, lazy_image)",Kevin Mader,kmader@users.noreply.github.com,2018-05-23 14:25:59+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-23 08:25:59-04:00
613401529c80cca77b44ced6cd59a7bc7b629f90,"Introduce ""auto"" value for normalize_chunks (#3507)

This allows for automatic decisions when rechunking in certain dimensions.

```python
In [1]: import dask.array as da

In [2]: x = da.ones((20, 20), chunks=(2, 2))

In [3]: x.rechunk({0: -1, 1: ""auto""}, block_size_limit=20*8).chunks
Out[3]: ((20,), (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1))

In [4]: x.rechunk({0: -1, 1: ""auto""}, block_size_limit=100*8).chunks
Out[4]: ((20,), (5, 5, 5, 5))
```

This also centralizes some logic for dict and -1 handling from rechunk into `normalize_chunks`.  This introduces options for this logic to also be used at construction time.

```python
In [1]: import numpy as np

In [2]: import dask.array as da

In [3]: x = np.random.random((1000, 1000, 1000))

In [4]: y = da.from_array(x, chunks={0: 100, 1: -1, 2: ""auto""})

In [5]: y
Out[5]: dask.array<array, shape=(1000, 1000, 1000), dtype=float64, chunksize=(100, 1000, 125)>
```",Matthew Rocklin,mrocklin@gmail.com,2018-05-24 14:16:06-04:00,GitHub,noreply@github.com,2018-05-24 14:16:06-04:00
d87f838c869e6b3adf508e8abaa71c6d1db3d094,"Fixes bug, where size of dimensions would not always be checked  (#3526)",Markus Gonser,magonser@mksg.de,2018-05-24 22:03:08+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-24 16:03:08-04:00
30efc84f0507ba3598b46df43d2a8982cc704215,"use config.update_defaults in dask.array (#3532)

This records the defaults so that they survive refresh events",Matthew Rocklin,mrocklin@gmail.com,2018-05-24 17:00:12-04:00,GitHub,noreply@github.com,2018-05-24 17:00:12-04:00
38837b861bd89c9c62ce24e32a0177b38d270b34,"Avoid unnecessary rechunking tasks (#3529)

Previously we would call getitem even when we were just getting the full
array.  Now we check for full slice cases and just redirect back to the
previous result.",Matthew Rocklin,mrocklin@gmail.com,2018-05-24 17:58:31-04:00,GitHub,noreply@github.com,2018-05-24 17:58:31-04:00
d1f00aece8a48ccafdb040208c27cc14c4b4abfa,Render JSON docs [skip ci] (#3534),Martin Durant,martindurant@users.noreply.github.com,2018-05-25 12:41:28-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-25 12:41:28-04:00
79c181ada85206e65617514d1dd3f891a9b7e836,"add to/read_zarr (#3460)

* First stab at zarr

* flake

* return value and more tests

* Allow rechunk in to_zarr and check chunks for regularity

Dockstring for rechunk=  parameter suggests that rechunk will
allow various chunking schemes. Intent is to have None become the
default, and decide which scheme is best for it.

* Add import to examples for doctest

* Allow direct use pf mappers in to/read_zarr

* simpler length check

* fix

* Add chunks parameter to from_zarr

* comment typo [skip ci]

* Add doc and changelog [skip ci]

* remove rechunk parameter

* doc typo [skip ci]

* Simplify overwrite

* corrections",Martin Durant,martindurant@users.noreply.github.com,2018-05-25 22:40:08-04:00,jakirkham,jakirkham@gmail.com,2018-05-25 22:40:08-04:00
4a2c72c4cbea125064a00e6bf3bbc13ec593b5d1,"Compute dtypes at runtime for fft (#3511)

It looks like MKL's fft algorithm now supports smaller dtypes,
like float32 and complex64.  This removes our default dtypes to that
we determine dtype with a small computation",Matthew Rocklin,mrocklin@gmail.com,2018-05-25 22:42:30-04:00,jakirkham,jakirkham@gmail.com,2018-05-25 22:42:30-04:00
8f164773cb3717b3c5ad856341205f605b8404cf,Adds support for subsetting DataFrames with pandas Index/Series and numpy ndarrays (#3536),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-05-26 10:53:30-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-05-26 10:53:30-05:00
1f3c87e6ae1add4af048e002c09e8fd9d313a4b4,Add pubsub documentation (#3538),Matthew Rocklin,mrocklin@gmail.com,2018-05-28 14:54:24-04:00,GitHub,noreply@github.com,2018-05-28 14:54:24-04:00
2583b68505804872f2c0b3a460e6f60f28dd8810,"Fix to correct handling of inhomogeneous chunksize (#3539)

* Implement test for inhomogeneous chunksizes

* Implement correct handling of inhomogeneous chunksize

* Enhance test that checks for one chunksize in coredim if `allow_rechunk=False`

* Move test of chunksize close to other similar tests",Markus Gonser,magonser@mksg.de,2018-05-29 17:31:24+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-29 11:31:24-04:00
1bb2284a14da738e5973d68d2456ce68d7d20018,Trivial/cosmetic changelog fixes (#3541),crusaderky,crusaderky@gmail.com,2018-05-29 23:22:29+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-29 18:22:29-04:00
e1c48e0c970aeb81ffeb58791db2ca3ce76fa846,render zarr docs (#3544),Martin Durant,martindurant@users.noreply.github.com,2018-05-30 11:19:15-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-05-30 11:19:15-04:00
d45d46805ab51404c619fe7981a1eef021dab182,"Include ""region"" in key names for da.store (#3540)

* Include ""region"" in key names for da.store

* Don't extend store-key's name

* Use UUIDs for store

Allows storing of data into many targets without clash",Martin Durant,martindurant@users.noreply.github.com,2018-06-07 10:35:01-04:00,jakirkham,jakirkham@gmail.com,2018-06-07 10:35:01-04:00
35354830ed4b029ab73e72e45022e03d381f43b4,"Dataframe sample method docstring fix (#3566)

* Removes ""optional"" from frac parameter

* Adds space to fix code syntax",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-07 10:12:06-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-07 11:12:06-04:00
08f1d03117939ab31387d7126afd122d41c67c64,Fix check in configuration with env=None (#3562),Simon Perkins,simon.perkins@gmail.com,2018-06-07 20:47:39+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-07 14:47:39-04:00
821f05e81308ee3213343f55eab5224d16232709,"Correct internal dimension of Dask's SVD (#3517)

* Correct internal dimension of Dask's SVD

Previously the Dask Array SVD code had assumed the shared dimension
would be equal to the column in the Dask Array matrix always. However
the shared dimension in SVD is whichever is shortest (row or column) of
the provided matrix. Computing the results actually provides NumPy
Arrays of the expected shape. Meaning that the chunking is merely being
misreported when constructing the Dask Arrays from the Dask graph. Hence
this fixes how the shapes and chunks of the resulting Dask Arrays are
determined.

* Test that Dask's svd has correctly shaped results

Make sure that Dask's `svd` returns arrays that would have the correct
shapes compared to similar results from NumPy.",jakirkham,jakirkham@gmail.com,2018-06-07 17:21:29-04:00,GitHub,noreply@github.com,2018-06-07 17:21:29-04:00
946832ff3ec5b48718cc7aad07a556ff554dea9d,BUG: do not raise IndexError for identity slice in array.vindex (#3559),Scott Sievert,stsievert@users.noreply.github.com,2018-06-10 13:40:44+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-10 09:40:44-04:00
daf6fae9b5ae8008d2cbe06072259e912fc567b6,"Update sizeof definitions (#3582)

Previously we had two independent implementations in dask/dask and
dask/distributed that had diverged.  This brings them back in sync.

We'll remove the version in dask/distributed shortly to avoid this from
happening again.",Matthew Rocklin,mrocklin@gmail.com,2018-06-10 10:32:22-04:00,GitHub,noreply@github.com,2018-06-10 10:32:22-04:00
d31745a568975e8a75de0bdabd9810f609b6889b,"Adds `isneginf` and `isposinf` (#3581)

* Add `isneginf` and `isposinf`

Includes some ufunclike functions for checking the signage of infinity
included in an array.

* Add `isneginf` and `isposinf` to the public API

* Test `isneginf` and `isposinf`

Provide some data with different signs of infinity and some non-infinite
numbers (nan) to make sure it is able to discern these correctly and get
the same result with Dask Arrays as NumPy would get on ndarrays.

* Document `isneginf` and `isposinf` in the API docs",jakirkham,jakirkham@gmail.com,2018-06-10 10:32:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-10 10:32:50-04:00
a250b5f591474d9b75a6633419e398ac171bfc91,"Drop Dask Array's `learn` module (#3580)

This module predates `dask-ml`, which has since superseded. As no one is
likely relying on the `learn` module, just go ahead and drop it along
with associated tests.",jakirkham,jakirkham@gmail.com,2018-06-10 10:33:14-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-10 10:33:14-04:00
1a76ba3aa1482b3938be1b4b85059fd0f8309560,"[array.linalg.qr] added sfqr (short-and-fat) as a counterpart to tsqr (#3575)

* [array.linalg.qr] added sfqr (short-and-fat) as a counterpart to tsqr (tall-and-skinny) to extend the applicability of qr; most ""big data"" cases using QR decompositions would probably be either short-and-fat or tall-and-skinny  #diversity

* Support non-square arrays in triu/tril

* Clean up da.linalg tests

* fix: dask.array.linalg.tsqr incorrectly reported shapes (https://github.com/dask/dask/issues/3583)

but also not using tsqr for the case of short and fat single blocks (inefficient)

* redirecting the single block case to sfqr (for efficiency)",Jeremy Chen,convexset@gmail.com,2018-06-11 04:39:14+08:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-10 16:39:14-04:00
806506c9a87e5909f295dbaab17208cc7481c7ea,"Allow 0-width chunks in dask.array.rechunk (#3591)

Fixes #3501",Marc Pfister,marc.pfister@gmail.com,2018-06-12 07:26:25-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-12 09:26:25-04:00
85c68a59826a58ad11428ea6c5d15c1634f93c29,"Document Dask Array's `nan_to_num` in public API (#3599)

Appears that we wrapped NumPy's `nan_to_num` function for use with Dask
Arrays, but it didn't make it into the docs. This adds `nan_to_num` to
Dask Array's API docs.

[ci skip]",jakirkham,jakirkham@gmail.com,2018-06-12 19:45:47-04:00,GitHub,noreply@github.com,2018-06-12 19:45:47-04:00
18649b1bcd94fcdd86b7b38cdf6705469906191c,"fixes dd.read_json to infer file compression (#3594)

* fixes dd.read_json to infer file compression

* add compression option to to_json, fix tests

* test to_json with multiple partitions

* change inferred compression test to use dd.to_json

* remove unused imports

* fix orc test

* fix http tests

* update travis to ignore test_http for optimize

* workaround for bug in requests 2.19.0",Matt Lee,mathewlee11@gmail.com,2018-06-13 09:03:48-04:00,Martin Durant,martindurant@users.noreply.github.com,2018-06-13 09:03:48-04:00
0a7fe8de2eef643f797afe5fda4c1b0bda8ad03d,Fixes the link to Dask-ML's API (#3602),jakirkham,jakirkham@gmail.com,2018-06-13 09:55:34-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-13 09:55:34-04:00
279fdf7a6a78a1dfaa0974598aead3e1b44f9194,"Remove --verbose flag from travis-ci (#3477)

Fixes https://github.com/dask/dask/issues/3441",Matthew Rocklin,mrocklin@gmail.com,2018-06-13 11:07:52-04:00,jakirkham,jakirkham@gmail.com,2018-06-13 11:07:51-04:00
ce26f5dc675ce9ecd6341cd1cc8fcc6b0de7df08,Adds n to sample method (#3606),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-13 12:45:02-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-13 13:45:02-04:00
46fe650b757a27ec275e076532e0f85600a3a9d1,"Show block example (#3601)

* Separate chunk construction from data structuring

Make it a little clearer what the structure of the data chunks are by
refactoring out the pieces.

* Show how `block` can be used to join Dask Arrays

Provides a simple demo of how `block` can be used to join smaller Dask
Arrays together along multiple axes at once.",jakirkham,jakirkham@gmail.com,2018-06-13 15:18:34-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-13 15:18:34-04:00
85af1cd48670838a9cb70c87e73cde791507726d,"Add parquet file support (#3573)

* intial changes to add support for ParquetFile as argument

* removed extra returned arguments that were added for testing purposes

* added test_read_from_fastparquet_parquetfile

* flake8 refactoring

* Added additional assert

* Removed additional assert after testing with a ParquetFile from S3 and worked

* Added check if path contains protocol when not using LocalFileSystem

* Added support for non-hive ParquetFiles and flake8 refactoring

* more robust logic for removing '_metadata' from path, if contained

* added assertion and test for when incompatible engine is set",andrethrill,andrethrill@users.noreply.github.com,2018-06-13 21:48:06+01:00,Martin Durant,martindurant@users.noreply.github.com,2018-06-13 16:48:06-04:00
715f337ec6b49477b73806d2c71b283e158b9635,"Replace token= keyword with name= in map_blocks (#3597)

* Replace token= keyword with name= in map_blocks

Behavior here was reversed from normal dask.array conventions.
This does an abrupt change of the name= semantics and issues a warning
when users use token=, pointing them to name=

See https://github.com/dask/dask/issues/3226#issuecomment-396419864

* Remove some uses of name= in map_blocks",Matthew Rocklin,mrocklin@gmail.com,2018-06-13 17:38:43-04:00,GitHub,noreply@github.com,2018-06-13 17:38:43-04:00
411f3c5a56ca66b2cce55660daae810846cdc5c9,"Disable locking in to_zarr (needed for using to_zarr in a distributed context) (#3607)

* Disable locking in `to_zarr`

Appears that locking was enabled in `to_zarr` using the default
`threading.Lock` object. This doesn't work well in Distributed context.
Given we already ensure the Dask Array will have proper chunking and
Zarr will match it, there is no need to have any lock. So simply disable
locking completely.

* Test storing to a Zarr Array using Distributed

Make sure that it is possible to store to an on disk Zarr Array in a
Distributed context.",jakirkham,jakirkham@gmail.com,2018-06-13 17:40:10-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-13 17:40:10-04:00
b3851b446be28a1ed569c8d5ce7ce2da3ac63ab1,"Remove ""da.random"" from random array keys (#3604)

* Remove ""da.random"" from random array keys

We tend not to preface keys with the module name.
The long names also make diangostics slightly less pleasant.",Matthew Rocklin,mrocklin@gmail.com,2018-06-13 20:18:54-04:00,GitHub,noreply@github.com,2018-06-13 20:18:54-04:00
fbe8f8a1ddede4c11e4004ed3855988ad2309806,"Refresh Distributed test for HDFS (#3609)

Updates the testing style for HDFS using a Distributed Client. This
makes it more consistent with similar tests using the Distributed Client
elsewhere.",jakirkham,jakirkham@gmail.com,2018-06-14 06:53:25-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-14 06:53:25-04:00
56174aca5f19b64f4f8fe72ec4086998955aac47,"Support Zarr Arrays in `to_zarr`/`from_zarr` (#3561)

* Support a Zarr Array in `to_zarr`/`from_zarr`

This allows the user to provide a preconstructed Zarr Array for storing
with `to_zarr`. Also supports constructing a Dask Array with `from_zarr`
given a Zarr Array. Thus users can store the result in memory if they
like or to disk with a Zarr Array that may already exist as well as
easily load it into Dask.

* Test `to_zarr`/`from_zarr` with an existing array

Includes a roundtrip test for an existing Zarr Array.

* Disallow Distributed store to in-memory Zarr Array

Make sure that users are unable to store to in-memory Zarr Arrays from a
Distributed context as they do not make sense to access from multiple
processes.

* Test Distributed store of in-memory Zarr Array errs

Test that when trying to store an in-memory Zarr Array using
Distributed, this will error instead of attempting the operation.

* Make Client default so Zarr check works

The Zarr check for in-memory Arrays being used in Distributed context
looks at the globally registered scheduler (as that is what is used to
perform the computation and storage of the result). However the testing
framework doesn't seem to be registering the Client it creates globally.
Meaning the check will fail. This adds a flag to ensure the testing
framework's Client is registered globally so the check is exercised as
intended in the test.

* Include example of storing to a Zarr Array

Provides a simple example using `to_zarr` with a custom created Zarr
Array.",jakirkham,jakirkham@gmail.com,2018-06-14 09:28:06-04:00,GitHub,noreply@github.com,2018-06-14 09:28:06-04:00
6b2058de4fa9bc97721843c0ee732349a536a417,"Added recursion to array/linalg/tsqr to better manage the single core bottleneck (#3586)

Added recursion to tsqr to better manage the single core bottleneck; a balance is struck by only recursing when there is a need for it (the single core compute has to work on a block/chunk larger than the largest chunk) and when ""meaningful reduction can be made"" in the size of the single core compute (aspect ratio of the tall-and-skinny chunks is at least 2).

* simplify arguments in parametrized tests

* fix: tsqr SVD decomposition output shapes; enhanced SVD tests

* dask/array/tsqr resolved issues of uncertain array dimensions (rows & columns), added tests to cover cases of uncertainty for both qr & svd

* Use informative keynames in tsqr

This uses informative keynames like 'getitem' and 'qr` in the graph
for tsqr.  This helps the distributed scheduler make some decisions
and also improves the interpretability of visual diagnostics.

* tidied up docs; removed use_recursion (a classic case of ...)

* Updated memory use in docs.",Jeremy Chen,convexset@gmail.com,2018-06-15 01:18:29+08:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-14 13:18:29-04:00
207afc664d21cdcfda7575f887b4014d31c17575,Remove name= keyword from svd/qr functions (#3617),Matthew Rocklin,mrocklin@gmail.com,2018-06-14 23:22:58-04:00,jakirkham,jakirkham@gmail.com,2018-06-14 23:22:58-04:00
142db7f964ec6dc0f1d2ef53ffe75981518357b2,bump version to 0.18.0,Matthew Rocklin,mrocklin@gmail.com,2018-06-14 13:56:14-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-15 08:09:07-04:00
8dadb1b0f1b680a084d39083b32a89d8f09b6830,Add Index.to_series method (#3613),henriqueribeiro,henriqueribeiro@users.noreply.github.com,2018-06-15 15:40:23+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-15 10:40:23-04:00
0d7855e7e25fa8c33116104bda9dc5d1e1bfba16,"Fix slicing of big arrays (#3619) (#3620)

Added slightly modified version of example which failed before as test",Marco Rossi,developer@marco-rossi.com,2018-06-15 22:25:33+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-15 16:25:33-04:00
1bb72e680732a13f15ef82ce31f77c4f410ebac5,Adds missing comma (#3622),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-16 08:39:39-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-16 09:39:39-04:00
cfd0f7c223722bff489b8cb9ccb5e8f918a7f913,"Add Dask Array implementation of pad (#3578)

* Add Dask Array implementation of `pad`

This provides a Dask Array implementation of NumPy's `pad`. It
dispatches through 1 of 4 different functions depending on the type of
padding (i.e. `mode`) used. If padding only involves edge chunks, then
NumPy's `pad` is applied to the edge chunks and internal chunks are left
untouched. If padding involves some sort of tiling, then the array is
sliced up into pieces that orientated and organized as need, which are
then combined with the original array using `block`. If the padding
involves the computation of some statistics of the array, the statistics
are computed and broadcast to match padding, which are then combined
with the original array using `block`. If a user defined function is
provided, then the array is padded with 0s and `map_blocks` is used
(with some `rechunk`ing) to apply the user function and get the
resulting array.

Some special cases like computation of the `median` and usage of
`reflect_type=""odd""` are currently not supported. The former could be
supported within some reasonable constraints. The latter has somewhat
mystifying behavior, which would need to be understood to be
implemented.

* Add `pad` to the `dask.array` namespace

* Include some basic tests of Dask Array's pad

* Add Dask Array's pad to the API docs

* Bump to NumPy 1.11.1

Appears a bug fix we need for NumPy's `pad` function is added in NumPy
1.11.1. So try bumping to NumPy 1.11.1 to see if that resolves the
issue.",jakirkham,jakirkham@gmail.com,2018-06-16 13:42:27-04:00,GitHub,noreply@github.com,2018-06-16 13:42:27-04:00
f75ebda49feb89c63c2b0fc4676e0affc2543223,"Explain why `test_distributed` is skipped (#3627)

Appears `pytest` will error a test if it is skipped without a reason
now. This adds a reason explaining that this test won't be run if
`distributed` is not installed.",jakirkham,jakirkham@gmail.com,2018-06-16 16:31:53-04:00,GitHub,noreply@github.com,2018-06-16 16:31:53-04:00
abebbed07fd68a63074520045739bfba843de73b,Remove duplicates in changelog (#3628),crusaderky,crusaderky@gmail.com,2018-06-16 22:43:35+01:00,jakirkham,jakirkham@gmail.com,2018-06-16 17:43:35-04:00
3c2df31d552126409d8f13ab921228dc5e94dea8,"Fix array random API examples (#3625)

* Modifies doc_wraps in dask.array.random

* Adds test to make sure doctests are skipped",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-16 18:36:40-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-16 19:36:40-04:00
4b2454cb44b30f33ff1b5ae7a10d907430961e72,"Minor tweaks to CI (#3629)

* travis tweaks

* gitignore additions

* Add terminal newline to `.gitignore`

* gitignore tweaks",crusaderky,crusaderky@gmail.com,2018-06-17 18:29:28+01:00,jakirkham,jakirkham@gmail.com,2018-06-17 13:29:28-04:00
c691058d7a264ddef5748dca46d90ef0180024b8,revert requests fix (#3624),Matt Lee,mathewlee11@gmail.com,2018-06-18 11:02:33-04:00,jakirkham,jakirkham@gmail.com,2018-06-18 11:02:33-04:00
94c82b75276fa0045aa6e4b9dc447b0a45b7060b,"Fix missing partition columns in pyarrow-parquet (#3636)

* Fix missing partitoin columns in pyarrow-parquet

* Add skip on pyarrow test

* Fix column ordering for pyarrow 0.9.0

(because the pandas metadata is written differently from before)",Martin Durant,martindurant@users.noreply.github.com,2018-06-20 09:21:00-04:00,GitHub,noreply@github.com,2018-06-20 09:21:00-04:00
972b0182ca4cc01faa9bf4ad24261467df569f85,"Add back dask.utils.effective_get (#3642)

This was removed in 0.18.0, which broke some XArray work.
See the following issues:

- https://github.com/pydata/xarray/issues/2238
- https://github.com/dask/dask/issues/3638",Matthew Rocklin,mrocklin@gmail.com,2018-06-20 10:00:11-04:00,GitHub,noreply@github.com,2018-06-20 10:00:11-04:00
1755e866a421fc758bcd70a114702c3e3f46ab2f,"DASK_CONFIG dictates config write location (#3621)

* DASK_CONFIG dictates config write location

Previously existing configuration files could be specified by
`DASK_CONFIG`, but projects like `distributed` would always write the
default configuration file to `~/.config/dask/`. We now make the write
location configurable as well. This is important in environments where
`~/.config` may not exist of be writable.

* Overhaul ensure_file

- Don't ever write to destination if it's an existing file
- Catch errors when writing fails.",Jim Crist,jcrist@users.noreply.github.com,2018-06-20 09:01:22-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-20 10:01:22-04:00
e30d28b537a1dcaa445bd4db543cf26be6380fc1,"Add average function to dask array (#3640)

* Adds average function

* Adds a few tests

* Adds average to API docs

* Removes weights zero sum check",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-20 09:28:50-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-06-20 09:28:50-05:00
83a983bedb29dd7d82b40bc2ea288b1a20219e75,Replace 'collections' key in unpack_collections with unique key (#3632),Yu Feng,rainwoodman@gmail.com,2018-06-20 07:59:45-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-20 10:59:45-04:00
4c481ed6eca4c8adec6e5ad7c73f54955da11ee0,"Tokenize ghost_internal with axes (#3643)

* Tokenize ghost_internal with axes

Previously two different calls to the map_overlap internal function
`ghost_internal` would reuse the same keys from the input for
intermediate chunks, even if the depth was different.

Now we properly tokenize based on the axes keyword argument.

Fixes #3634

* add docstring and comment",Matthew Rocklin,mrocklin@gmail.com,2018-06-20 12:04:24-04:00,jakirkham,jakirkham@gmail.com,2018-06-20 12:04:24-04:00
227d0301a47a62e34adcdab6bbf0a0851da3e467,"Test gradient magnitude (#3647)

* Fix variable naming in gradient test

* Test computing the gradient magnitude

As there were some issues combining multiple gradient results into a
single computation (now fixed in `map_overlap`), add a simple test to
`gradient` to try combining multiple results together into something
typically used (i.e. gradient magnitude). Should help ensure this issue
doesn't crop up in the future.",jakirkham,jakirkham@gmail.com,2018-06-20 15:54:13-04:00,GitHub,noreply@github.com,2018-06-20 15:54:13-04:00
5fb3854c26bfef3ad095b976d291879911134907,"from_array: special handling for ndarray, list, and scalar types (#3568)",crusaderky,crusaderky@gmail.com,2018-06-20 22:13:34+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-20 17:13:34-04:00
69fc200c9d6524820a75b1f7713af44848c522a6,"Avoid deepcopy in dask.config.set (#3649)

When using dask.config.set as a context manager we need to be able to
reverse the changes we make.

Before we used to do a `deepcopy` of the previous configuration and
then apply it back when we exited.  This was expensive and broke
whenever the configuration contained anything that wasn't easily
deepcopyable (roughly the same things that aren't pickleable).

Now we record what changes we made, and remove them more surgically.",Matthew Rocklin,mrocklin@gmail.com,2018-06-21 17:53:55-04:00,GitHub,noreply@github.com,2018-06-21 17:53:55-04:00
24a348fa5ea25c7f7f92a36b2d3fbca8b0447df8,"Add outer for Dask Arrays (#3658)

Provides a simple implementation of `outer` for Dask Arrays using
`atop` to wrap the NumPy implementation.",jakirkham,jakirkham@gmail.com,2018-06-22 07:47:33-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-22 07:47:33-04:00
d7755492c81b7b11788a314e008edd11663ff150,bump version to 0.18.1,Matthew Rocklin,mrocklin@gmail.com,2018-06-22 08:12:12-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-22 08:12:12-04:00
1ba5f2d5e96642ba9e5154642fc1f88a08ac2477,Add docker example to documentation (#3543),Matthew Rocklin,mrocklin@gmail.com,2018-06-22 09:11:13-04:00,GitHub,noreply@github.com,2018-06-22 09:11:13-04:00
da56592d2399311055f1edd87d04820dc01e1704,"Don't overlap on non-overlapped dimensions (#3653)

This created far more tasks than were necessary",Matthew Rocklin,mrocklin@gmail.com,2018-06-22 14:13:24-04:00,GitHub,noreply@github.com,2018-06-22 14:13:24-04:00
2ac47a5585882e1f57caa1ed5a0ce2c2436aa25f,"Use funcname in dask/array/wrapped.py (#3654)

Previously arrays like ones and zeroes had the non-informative name
'wrapped'",Matthew Rocklin,mrocklin@gmail.com,2018-06-22 14:13:41-04:00,GitHub,noreply@github.com,2018-06-22 14:13:41-04:00
36e235d7074f01830dd79a24fd656f4cda9e2c81,"fix for `dask.array.linalg.tsqr` fails tests (intermittently) with arrays of uncertain dimensions (#3662)

* fix for issue https://github.com/dask/dask/issues/3659 where tsqr fails tests with uncertain dimensions

cause: uncertain dimensions mean the possibility of chunks with zero height, which np.linalg.qr does not accept
fix: a wrapper function for np.linalg.qr was written to handle the case

* regression test for case where tsqr encounters zero-height chunks (both in the case of known and unknown chunk sizes)

* modified _tensordot  to return the right shaped outcome (using np.zeros) in the edge case of a valid tensordot where some contraction axes has size 0

* added comments on workarounds",Jeremy Chen,convexset@gmail.com,2018-06-25 21:10:54+08:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-25 09:10:54-04:00
704470af67373f2d040aab61fe38ec64f99c955d,"Break apart uneven array-of-int slicing to separate chunks (#3648)

* add slicing-plan function

* Replace take_sorted and take with slicing_plan

* add warning on pathological slicing

* Add dask.array.PerformanceWarning

* use warnings.warn(stacklevel=) to point to user code

* Avoid testing warning in Python 2

Python 2 stops warnings after they have been raised once",Matthew Rocklin,mrocklin@gmail.com,2018-06-25 09:11:25-04:00,GitHub,noreply@github.com,2018-06-25 09:11:25-04:00
105649e2fdb36981529c9f267630e48ed8e88ff2,"Fix extra progressbar (#3669)

* Test case for triggering extra progress bar with Array.compute().

https://github.com/dask/dask/issues/3668

* Revert one line from 24fda1faf0da80a3d839d917372aeb7cd421e59c to fix a duplicate progress bar problem.

Closes #3668.",Mike Neish,1554921+neishm@users.noreply.github.com,2018-06-25 16:22:28-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-25 16:22:28-04:00
59d8c9c09199afefd16de8503de1fa7323cd2eba,"Allow tasks back onto ordering stack if they have one dependency (#3652)

This helps to resolve dask.array.map_overlap workloads

See #3554",Matthew Rocklin,mrocklin@gmail.com,2018-06-25 18:39:35-04:00,GitHub,noreply@github.com,2018-06-25 18:39:35-04:00
36f4be2b0d205990a5c56b94ffe1abd68f9bc14f,"Note `da.pad` can be used with `map_overlap` (#3672)

Originally users were on their own for more complex paddings of
boundaries. So the recommendation here provided users a way to address
those needs. However now that Dask Array has a `pad` implementation that
mimics NumPy with a wide range of paddings supported. It should be
preferred when possible.",jakirkham,jakirkham@gmail.com,2018-06-27 13:23:46-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-27 13:23:46-04:00
5fe6e1025e328218f2d0b179553e778ded93a5a0,Reimplement argtopk to release the GIL (#3610),crusaderky,crusaderky@gmail.com,2018-06-27 20:02:38+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-27 14:02:38-04:00
674149506fb28e566106aa6cebb14a27001b35e7,Prefer end-tasks with low numbers of dependencies when ordering (#3588),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-06-27 13:04:16-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-27 14:04:16-04:00
9aad6618a2b4800c71c3f8e2759c14a78a186e5d,Adds quotes to source pip install (#3678),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-27 19:59:22-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-27 20:59:22-04:00
4efc484babe4f20f06c9fcd34e1d676dc6603d57,"Align auto chunks to provided chunks, rather than shape (#3679)

Previously we used to align ""auto"" chunks to the shape, even if the old chunks
are not well aligned to the shape.  Now we align to the previous chunking if it
was consistent.

Here is an example that would change:

```python
import dask
import dask.array as da

x = da.ones(3000, chunks=512).astype('u1')

with dask.config.set({'array.chunk-size': '1kiB'}):
    y = x.rechunk('auto')

>>> y.chunks            # Previously
((1000, 1000, 1000),)
>>> y.chunks            # New
((1024, 1024, 952),)
```",Matthew Rocklin,mrocklin@gmail.com,2018-06-29 08:12:41-04:00,GitHub,noreply@github.com,2018-06-29 08:12:41-04:00
84a035ba36b592cc863d80dd27066790256391d3,"Add the @ operator to the delayed objects (#3691)

* Add the @ operator to the delayed objects

* @ operator python 2 safe tests",Mark Harfouche,mark.harfouche@gmail.com,2018-06-29 17:21:25-07:00,Jim Crist,jcrist@users.noreply.github.com,2018-06-29 19:21:25-05:00
75eba00d14660712a8a7d8fc3c8408fe249f3a5d,"Adds endpoint and retstep support for linspace (#3675)

* Adds endpoint and retstep support for linspace

* Removes versionadded and wraps task line",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-06-30 11:41:57-05:00,jakirkham,jakirkham@gmail.com,2018-06-30 12:41:57-04:00
59e2a0bbbd19f82814a31f897e81b325cf788f1f,Fix wrong names (#3695),WZY,ziyao.wei.wzy@gmail.com,2018-06-30 17:04:03-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-06-30 17:04:03-04:00
6feffaaae2530babcfd06ef56ecdcf00e69329bf,"Implement .blocks accessor (#3689)

* Implement .blocks accessor

```python
>>> import dask.array as da
>>> x = da.arange(10, chunks=2)
>>> x.blocks[0].compute()
array([0, 1])
>>> x.blocks[:3].compute()
array([0, 1, 2, 3, 4, 5])
>>> x.blocks[::2].compute()
array([0, 1, 4, 5, 8, 9])
>>> x.blocks[[-1, 0]].compute()
array([8, 9, 0, 1])
```

Fixes #3684
Fixes #3274",Matthew Rocklin,mrocklin@gmail.com,2018-07-01 07:19:10-04:00,GitHub,noreply@github.com,2018-07-01 07:19:10-04:00
ab1a7f77827f0a3d72a1e92788e79590ae5a76a1,Fix wonky sentence (#3701),Yuval Langer,yuval.langer@gmail.com,2018-07-01 23:47:31+03:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-01 16:47:31-04:00
fc71015ecf82e8416f6598377ab5d00e83a04dfb,fixed typo in tsqr documentation and improved clarity (#3698),Jeremy Chen,convexset@gmail.com,2018-07-02 20:17:01+08:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-02 08:17:01-04:00
cb3c51566cfdd7ee2fbb9b96aef9c9417240e0ee,"Add block_info keyword to map_blocks functions (#3686)

Fixes https://github.com/dask/dask/issues/3683

Your block function get information about where it is in the array by
accepting a special ``block_info`` keyword argument.

```python
>>> def func(block, block_info=None):
...     pass
```

This will receive the following information:

```python
>>> block_info
{0: {'shape': (1000,),
     'num-chunks': (10,),
     'chunk-location': (4,),
     'array-location': [(40, 50)]}}
```

For each argument and keyword arguments that are dask arrays (the positions
of which are the first index), you will receive the shape of the full
array, the number of chunks of the full array in each dimension, the chunk
location (for example the fourth chunk over in the first dimension), and
the array location (for example the slice corresponding to ``40:50``).",Matthew Rocklin,mrocklin@gmail.com,2018-07-02 08:17:41-04:00,GitHub,noreply@github.com,2018-07-02 08:17:41-04:00
5b2ecf4a5fbc38b7b1a013abd45299b8d5a235e0,"Change header font styling (#3703)

This was inspired by the alabaster theme",Matthew Rocklin,mrocklin@gmail.com,2018-07-02 08:18:02-04:00,GitHub,noreply@github.com,2018-07-02 08:18:02-04:00
f0deae99d3ddd18bbfe6e51d521ce760bf303cb4,Add constrains on HEAD when getting size of HTTP files (#3697),Martin Durant,martindurant@users.noreply.github.com,2018-07-02 18:43:27-04:00,GitHub,noreply@github.com,2018-07-02 18:43:27-04:00
669cde6b1a02e5fc7f0bcb924489c6ae8e697323,Adjust setup/hpc doc after change in config file location and treatment (#3715),Aurlien Ponte,aurelien.junk@gmail.com,2018-07-04 16:07:42+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-04 10:07:42-04:00
a0b7edb48a80e7dcdb2e42919edf06de7d475d3c,Fixes Zarr array creation links (#3725),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-07-05 11:19:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-05 12:19:37-04:00
ab0c34e6c7e88a3d608cf1c1ee5e2090de79dbba,XFail intermittent http test_bag (#3724),Matthew Rocklin,mrocklin@gmail.com,2018-07-05 12:27:01-04:00,GitHub,noreply@github.com,2018-07-05 12:27:01-04:00
c2fc8175c94b3a241b54356117dbc037908d6fe9,"Avoid importing skimage on AttributeError (#3723)

When running Python in optimized mode it strips docstrings.
This causes and error in Pillow:

    dask/array/image.py:7: in <module>
	from skimage.io import imread as sk_imread
    ../../../miniconda/envs/test-environment/lib/python2.7/site-packages/skimage/io/__init__.py:7: in <module>
	from .manage_plugins import *
    ../../../miniconda/envs/test-environment/lib/python2.7/site-packages/skimage/io/manage_plugins.py:28: in <module>
	from .collection import imread_collection_wrapper
    ../../../miniconda/envs/test-environment/lib/python2.7/site-packages/skimage/io/collection.py:12: in <module>
	from PIL import Image
    ../../../miniconda/envs/test-environment/lib/python2.7/site-packages/PIL/__init__.py:27: in <module>
	__doc__ = __doc__.format(__version__)  # include version in docstring
    E   AttributeError: 'NoneType' object has no attribute 'format'

We now gracefully avoid this import",Matthew Rocklin,mrocklin@gmail.com,2018-07-05 12:27:29-04:00,GitHub,noreply@github.com,2018-07-05 12:27:29-04:00
8bc700397bc93fb72befa06572df305ae874aa4d,"Slice by dask array of ints (#3407)

* Slice by dask array of ints

* Reimplement slice_with_int_dask_array using atop

* Use argtopk in slice-by-int example

* Test a[a.nonzero()]

* Fixed algorithm

* Minor refactor and lint

* Prevent changelog conflicts

* Use tuples instead of lists to slice ndarray

* atop: use tuples of ints instead of letters

* Remove ambiguous dtype=int (int32 on Windows and int64 on Linux)

* docstring/comment improvements

* Support for uint index

* Support negative indices

* Better docstrings for kernel functions

* Note about potential search algorithm

* Additional unit tests",crusaderky,crusaderky@gmail.com,2018-07-05 18:01:41+01:00,Stephan Hoyer,shoyer@gmail.com,2018-07-05 13:01:41-04:00
a1a53708af978a385772c93ecb4b35c2f16c3757,"Ignore image/stats tests under Python optimize (#3729)

This is due to Pillow not working under PYTHONOPTIMIZE=2",Matthew Rocklin,mrocklin@gmail.com,2018-07-06 09:24:00-04:00,GitHub,noreply@github.com,2018-07-06 09:24:00-04:00
c29c9902773197f37727a30c082d9db8b6876139,[skip ci] Properly indent worker memory in hpc docs (#3733),Matthew Rocklin,mrocklin@gmail.com,2018-07-06 17:30:48-04:00,GitHub,noreply@github.com,2018-07-06 17:30:48-04:00
624b1ab0269f34777da277375290d0ddac0b0bfd,Fix typos in dask array docstrings (#3731),Davis Bennett,davis.v.bennett@gmail.com,2018-07-07 07:44:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-07 07:44:31-04:00
1a5b3cc304efd37fb03673db8cba703a199a088b,"Fix array boolean indexing behavior (#3728)

* Fix array boolean indexing behavior

* Skip test_boolean_list_slicing for old numpy versions and add test_boolean_numpy_array_slicing",WZY,ziyao.wei.wzy@gmail.com,2018-07-07 07:46:55-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-07 07:46:55-04:00
1a9c1491299d0339edc97e9a56850e865c1512b4,"Fix dtype-related issues of arange (#3722)

* arange dtype tweaks
* assert_raises -> pytest.raises",crusaderky,crusaderky@gmail.com,2018-07-07 19:44:30+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-07 14:44:30-04:00
e279e8c8767fa53776bcac6c2ff44cd66bfd80e6,"Fix argtopk with uneven chunks (#3720)

* Fix argtopk with uneven chunks

* Fix normalize_chunks((4, 5), (9, ))

* Fix FFT tests

* More robust type test",crusaderky,crusaderky@gmail.com,2018-07-08 20:09:35+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-08 15:09:35-04:00
a2d58c011233c8c7abc45b9ed1919f4678e884d6,Add delayed best practices to documentation (#3737),Matthew Rocklin,mrocklin@gmail.com,2018-07-09 07:33:22-04:00,GitHub,noreply@github.com,2018-07-09 07:33:22-04:00
94bfc31aa89eed56149d30ea5ff23bce754f2ae1,"Add assert_eq to top-level modules (#3726)

This moves the assert_eq testing functions to top level so that they are
uniformly available as

-   dask.array.assert_eq
-   dask.bag.assert_eq
-   dask.dataframe.assert_eq

THis gets used enough in downstream libraries that it might be nice to
have in a consistent place",Matthew Rocklin,mrocklin@gmail.com,2018-07-11 08:25:34-04:00,GitHub,noreply@github.com,2018-07-11 08:25:34-04:00
02f864b0b7deaa189a48d58d08df404235f6cdf2,"Test that dask collections can hold scipy.sparse arrays (#3738)

They can't do much with them because they don't support the ndarray
interface, but it's useful for dask-ml work that we can produce them and
then hand them off to dask.delayed or da.map_blocks workflows",Matthew Rocklin,mrocklin@gmail.com,2018-07-11 08:25:51-04:00,GitHub,noreply@github.com,2018-07-11 08:25:51-04:00
72bb4a3fd172e41303a2ff7d3803ccdcc9e9f2d2,Update HPC setup documentation (#3712),Matthew Rocklin,mrocklin@gmail.com,2018-07-11 23:53:31-04:00,GitHub,noreply@github.com,2018-07-11 23:53:31-04:00
d8f7ad314f37729167902f5129ee0287d35a5ac7,Change doctests to Python 3 #3690 (#3744),Eric Bonfadini,408262+eric-bonfadini@users.noreply.github.com,2018-07-12 14:04:53+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-12 07:04:53-05:00
ca8d62e94427cba308bb7aafe83b13df6c7bb084,Add last_endline optional parameter in bag.to_textfiles (#3743) (#3745),George Sakkis,george.sakkis@gmail.com,2018-07-12 23:58:48+03:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-12 15:58:48-05:00
a95be8d16428671dda934f4c9217a6fc6023b89f,update docstring: ParquetFile is accepted as argument to read_parquet() (#3752),andrethrill,andrethrill@users.noreply.github.com,2018-07-13 17:11:49+01:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-13 11:11:49-05:00
9ab0e9ef566d0dfe78edb66186da96d147052625,Updates copy for single partition arrays (#3754),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-07-13 23:40:28-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-13 23:40:28-05:00
06248f39d44d45ff375ee364a1cfa593c161c990,Fix @delayed decorator for methods and add tests (#3757),WZY,ziyao.wei.wzy@gmail.com,2018-07-14 17:09:00-04:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-14 16:09:00-05:00
51735524627e6f350762e704dae6bf3206dbfd2f,"DOCS: Proposed update for README.rst (#3766)

* DOCS: change source activate to conda activate for building docs",minebogy,minebogy@users.noreply.github.com,2018-07-14 17:26:31-05:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-14 17:26:31-05:00
16957a92d9c5f2a7fce2a494b0c9c9ec11a13652,Skip test if import fails. (#3768),Itamar Turner-Trauring,itamar@itamarst.org,2018-07-14 22:35:05-04:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-14 21:35:05-05:00
e214ea7a4fed9f2aa383984eba167b13f3fdaf1d,"Raise error when replace=False in da.choice (#3765)

* Raise error when replace=False in da.choice

* Expands check to exclude single-partition arrays

* Add test for replace=False for single-partition",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-07-15 09:51:22-05:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-15 09:51:22-05:00
bc3a275ae4595ffda8e7705cff7ffeb46cf12a94,DOC: Update autofunction reference to dask.array.gufunc (#3770),Robert Sare,rmsare@stanford.edu,2018-07-15 13:54:13-06:00,Martin Durant,martindurant@users.noreply.github.com,2018-07-15 14:54:13-05:00
5a4064d6c95435d132c8b7f0f2ee9aef63f3a73f,"Update chunks in Array.__setitem__ (#3767)

Fixes #3730",Itamar Turner-Trauring,itamar@itamarst.org,2018-07-15 18:24:35-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-15 17:24:35-05:00
003962f61dc2c19e363ad723e9bb0ca406afd621,add index name to make_timeseries (#3779),Matthew Rocklin,mrocklin@gmail.com,2018-07-18 18:24:56-04:00,GitHub,noreply@github.com,2018-07-18 18:24:56-04:00
4ed1d87bd87e01951cf876ce9c414fffc51d810a,Add a chunksize convenience property (#3777),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2018-07-19 19:57:49+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-19 14:57:49-04:00
aab569b5397a77a7364545f7febd8178c6b1dd2d,"Fix setup of lz4 decompression functions. (#3782)

* Fix setup of lz4 decompression functions.

* Add lz4 for CI.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2018-07-20 07:21:36-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-20 07:21:36-04:00
05e5e8b91b2d560346ec057d641d660f3255fd10,Fix and simplify array slicing behavior when step<0 (#3702),WZY,ziyao.wei.wzy@gmail.com,2018-07-20 07:26:49-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-20 07:26:49-04:00
358b9e8b30e737a5a02101e6f34c9242ee3d01db,"Ensure to_zarr with return_stored True returns a Dask Array (#3786)

* Use Dask Array `store` method in `to_zarr`

Normally `store` is designed for storing multiple arrays. So things like
`return_stored` return a `tuple` or Dask Arrays. However the `to_zarr`
use case involves storing a single Dask Array. Thus having
`return_stored` return a singleton tuple with a Dask Array is a little
unnecessary. This fixes that issue by switching to the Dask Array
`store` method, which returns a single Dask Array without a tuple when
`return_stored` is `True`.

* Test `to_zarr`'s `return_stored` behavior

Make sure that `to_zarr` returns a Dask Array and that contains the same
data as the Dask Array that was stored.",jakirkham,jakirkham@gmail.com,2018-07-20 07:32:05-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-20 07:32:05-04:00
97198a9e5dc09592b9d54022baf0d36fd7b11594,Add aggregate function for rolling objects (#3772),GPistre,gerome.pistre@gmail.com,2018-07-20 13:38:09+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-20 07:38:09-04:00
592ab6cea0ea60da87b6e1e8a9a85a10d6af22de,"Clean exception message in da.stack with stacking many arrays (#3781)

Fixes #3762",nmiles2718,nmiles@stsci.edu,2018-07-20 15:33:24-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-20 15:33:24-04:00
91ad15f1c6f755766d88cf27c56c792ee4e40c94,"Handle missing `matmul` on Python 3.4 (#3791)

As `matmul` was added in Python 3.5 and we still support Python 3.4, we
can't get away with just adding this on Python 3 only as it will fail on
Python 3.4. To fix this, simply try to add `matmul` support everywhere
and skip it if `matmul` is not an operator.",jakirkham,jakirkham@gmail.com,2018-07-20 18:41:52-04:00,GitHub,noreply@github.com,2018-07-20 18:41:52-04:00
1c5e3cb3e8b749bc4453d90065722385d6accf2f,"Optionally skip test_json_compressed[xz] (#3796)

If neither `lzma` nor `backports.lzma` are available, skip
`test_json_compressed[xz]`. Explain that `backports.lzma` should be
installed to run the test on Python 2.7.",jakirkham,jakirkham@gmail.com,2018-07-20 18:42:11-04:00,GitHub,noreply@github.com,2018-07-20 18:42:11-04:00
cf27f9ebf56c5f9cfaf30e32b348d3628b157db1,"Add datasets module (#3780)

Currently this only contains timeseries.
Hopefully this creates a model on which we can add in the future.",Matthew Rocklin,mrocklin@gmail.com,2018-07-20 23:06:57-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-07-20 22:06:57-05:00
6efcbfadde5d94d2a4a7a994ddf8ba6826398ded,"Properly tokenize cumulative groupby aggregations (#3799)

Fixes #3755 
Fixes #3766",Cloves Almeida,cjalmeida@gmail.com,2018-07-22 17:24:09+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-22 11:24:09-04:00
219b067b6586f284e4b192c0c70b1e7359be2b39,[skip ci] Add assert_eq to testing documentation (#3800),Matthew Rocklin,mrocklin@gmail.com,2018-07-23 10:33:15-04:00,jakirkham,jakirkham@gmail.com,2018-07-23 10:33:15-04:00
97e22ad9c2306f44b8d3d4a87dc4975b91f56eb9,Create Changelog entries for 0.18.2  [skip ci] (#3804),jakirkham,jakirkham@gmail.com,2018-07-23 11:07:46-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-07-23 10:07:46-05:00
0c81bdb21886d40dee5695bff539f68563223c1b,Add 0.18.2 release date  [ci skip] (#3806),jakirkham,jakirkham@gmail.com,2018-07-23 11:17:51-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-07-23 10:17:51-05:00
3dddd1148d1050ea7eca16a9c6dd2bc187adb02a,Better error message on import when missing common dependencies (#3771),Danilo Horta,danilo.horta@gmail.com,2018-07-24 20:21:14+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-24 12:21:14-07:00
3fdc757ea58cdc13457f5a66acacca26871e1759,Fix argtopk split_every bug (#3810),crusaderky,crusaderky@gmail.com,2018-07-25 15:49:34+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-25 07:49:34-07:00
65c2ff90dd3bf02822a2c1e72a675ce9cd211cda,Dask dataframe get dummies sparse (#3792),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-07-25 12:38:05-05:00,GitHub,noreply@github.com,2018-07-25 12:38:05-05:00
4b84c0aa21c4390676278778365655c5066f188f,"ENH: DataFrame.iloc (#3805)

* ENH: DataFrame.iloc

(cherry picked from commit 6ac1d15e091fd2dfa7ab2359c794a46e3f1abc5f)

* Linting

* Linting

* Updated message, removed from series",Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-07-25 12:40:29-05:00,GitHub,noreply@github.com,2018-07-25 12:40:29-05:00
49c62083850a510f99374d93417d7173ae00cfed,"Ensure result computing dask.array.isnull() always gives a numpy array (#3825)

pandas.isnull() will return Python booleans when given Python scalars as inputs,
which can break things in strange ways, e.g., as manifested in GH3822.

I still don't know exactly what went wrong there, but this fixes it.",Stephan Hoyer,shoyer@gmail.com,2018-07-28 08:21:46-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-28 08:21:46-07:00
b341ac841234cb06c170c7af0fc65b2827be2cef,Fix typo in import statement of diagnostics (#3826),JohnMrziglod,mrzo@gmx.de,2018-07-30 17:01:20+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-07-30 08:01:20-07:00
77af8f802776e53dbadef30ee9af68b68de83331,"When reading multiple paths, expand globs. (#3828)

* Also expand globs when paths is a list.

* Added unit test for expansion in get_fs_token_paths.

* Fix failing tests. Refactor expanding paths into a function.

* Fixed lies in docstring.

* Raise an exception if multiple masks provided on write.",Irina Truong,i.chernyavska@gmail.com,2018-08-01 05:58:28-07:00,Martin Durant,martindurant@users.noreply.github.com,2018-08-01 08:58:28-04:00
712ba2617942dac5330a47d92c6ac5a3d3b0c748,Added index column name after resample (#3833),Eric Bonfadini,408262+eric-bonfadini@users.noreply.github.com,2018-08-01 19:32:36+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-08-01 12:32:36-05:00
ed9917fce721d8e54fe9b9f01975ab12c01c2ae3,Support concatenate for scipy.sparse in dask array (#3836),Matthew Rocklin,mrocklin@gmail.com,2018-08-01 11:19:48-07:00,GitHub,noreply@github.com,2018-08-01 11:19:48-07:00
893074d9f425fe0ed929d555432b47472fcd45a7,"Fix argtopk on 32-bit systems. (#3823)

The docs say it returns int64, but the NumPy version can return int32 on
32-bit systems. Use np.intp for the type to produce the same semantics
as NumPy.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2018-08-01 14:25:25-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-01 11:25:25-07:00
d9ffbc11a10c768d1debda54ee8ffee9f24d8529,"Add link to YARN docs (#3838)

* Add link to YARN docs [ci skip]

Adds a link to dask-yarn documentation.

* Fixup [skip ci]",Jim Crist,jcrist@users.noreply.github.com,2018-08-01 18:29:45-05:00,GitHub,noreply@github.com,2018-08-01 18:29:45-05:00
1141ae1ad3ec6e079f284ef4ba403e2cbf770f33,Support Python 2 for ImportErrors (#3837),Matthew Rocklin,mrocklin@gmail.com,2018-08-02 05:51:59-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-08-02 07:51:59-05:00
e823ecf51032ea7e4d57687a91d788cfb28e36ac,"fix of minor typos in landing page index.html (#3746)

* fix of minor typos in landing page index.html

* removed spaces

[ci skip]",Christoph Moehl,cmohl@yahoo.com,2018-08-02 16:44:40+02:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-02 09:44:40-05:00
334bc7fbdf20f6656ab4f6ef292ee926766db047,"Drop Python 3.4 support (#3840)

* Drop Python 3.4 from travis

* Cleanup python version handling

- Use PY2/PY3 everywhere
- Remove branches for no longer supported python versions",Jim Crist,jcrist@users.noreply.github.com,2018-08-03 08:48:02-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-03 09:48:02-04:00
31581b1ef1648af8c7dafa9bd02120dcda6a2757,"Remove expired deprecation warnings (#3841)

* Remove deprecated optimize module

* Remove deprecated

- dask.bytes.core.FileSystem
- dask.bytes.core.open_text_files

* Remove deprecated ``dd.to_delayed`` method

* Remove deprecations in dd.io.parquet

* Remove deprecated vnorm method and function

* Remove deprecation in da.topk

* Remove deprecated `how` parameter from df.resample

* Remove deprecated behavior/tests in dask.bag

- Remove deprecated meta handling in from_delayed
- Remove unnecessary tests leftover from handling map deprecation

* Fix test-imports test

dask.optimize -> dask.optimization

* add informative error message to read_parquet engine=",Jim Crist,jcrist@users.noreply.github.com,2018-08-03 11:57:33-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-03 12:57:33-04:00
b8816eb498bfe4a24ace89484b2df2af3d181bfe,Add (lazy) shape property to dataframe and series (#3212),henriqueribeiro,henriqueribeiro@users.noreply.github.com,2018-08-03 20:53:00+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-08-03 14:53:00-05:00
6a49cc0d88b7bb97ea97d39df9d50c31315bcaf0,Update delayed-custom.rst (#3850),Anderson Banihirwe,axbanihirwe@ualr.edu,2018-08-04 15:28:29-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-04 15:28:29-04:00
b685cbed0b9f2fbd3fc75e500528a4483f4c517a,Normalize keys in rechunk (#3820),Matthew Rocklin,mrocklin@gmail.com,2018-08-04 16:00:57-04:00,GitHub,noreply@github.com,2018-08-04 16:00:57-04:00
c160afdd8da4c1b2355e21b9a4d7fc928ddaab62,Add DASK_ROOT_CONFIG environment variable (#3849),Joe Hamman,jhamman@ucar.edu,2018-08-04 13:03:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-04 16:03:32-04:00
08abeccfe76218f08f68a955266009098c3a35fd,Allow shape of dask.array to be a numpy array (#3844),Mark Harfouche,mark.harfouche@gmail.com,2018-08-06 10:10:11-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-06 10:10:11-04:00
e356222aab78b7e8e67531a04b9b290019a3fd6c,"Fix numpy deprecation warning on tuple indexing (#3851)

This lifts the deprecation warning due to numpy's indexing changes.",Tobias de Jong,tadj42@gmail.com,2018-08-06 19:38:19+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-06 13:38:19-04:00
07cb89f766b1b5780e14bab3c4e39184c9e7e430,"Rename ghost module to overlap (#3830)

* Replace ghost by overlap in module and change function names

* Update overlap imports in array core and init

* Update references to overlap in array documentation

* Replace ghost with deprecated module

* Fix typo in add_dummy_padding warning

* Add in deleted docstring for ghost.fractional_slice

* Update ghost tests to use overlap names

* Fix value argument to overlap.constant

* Add getitem import to pass tests

* Remove ghost term from docs heading

* Move getitem import to test_ghost

* Fix under-indenting due to renamed functions

* Remove old ghost tests

* Use Warnings and clarify message text

* Fix Ghosting -> Overlapping, and rename images in text

* Rename PNG images

* Delete old PNG images

* Rename old SVGs

* Change SVG docname parameters

* Change 'overlapped' to 'overlapping' in SVGs

* Add array-ghost.html -> array-overlap.html to redirects

* Update docnames with 'overlapping'

* Fix .svg extension in docname

* Delete array-ghost.rst",Robert Sare,rmsare@stanford.edu,2018-08-06 14:14:03-06:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-06 15:14:03-05:00
27328136f58d1d30d5e6e7ea11d16c6f6c0da875,"Mark test_parquet_pyarrow test as a known failure (#3626)

As this test has been failing for some time and creates unnecessary
noise on `master`, just mark it as a known fail. If it gets fixed, we
can always readd it.

Should note that the failure is for `hdfs3` in particular, but `pyarrow`
is already skipped here. So we just skip the test overall and not
conditionally.",jakirkham,jakirkham@gmail.com,2018-08-06 16:17:33-04:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-06 15:17:33-05:00
55d243b68b3d33648c77e1d3801371be4ad15a41,"Don't cull in local scheduler, do cull in delayed (#3856)

- Removes culling from the local scheduler. This was (usually)
unnecessary, as all the collections (except delayed) culled by default.
- Adds culling to ``dask.delayed``",Jim Crist,jcrist@users.noreply.github.com,2018-08-06 15:37:26-05:00,GitHub,noreply@github.com,2018-08-06 15:37:26-05:00
b14ee7ebaddddde78b2b3513baf6e60d201c5772,"DOC: clarify delayed docstring (#3709)

* DOC: clarify delayed docstring

* tweak docstring [skip ci]",Scott Sievert,stsievert@users.noreply.github.com,2018-08-06 20:46:27+00:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-06 15:46:27-05:00
b77845af4e68aa03889674c8e5536f6500213670,[skip ci] remove out-dated example (#3169),Matthew Rocklin,mrocklin@gmail.com,2018-08-06 16:50:42-04:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-06 15:50:42-05:00
392e2cbe73c00b192941013f1c246ee2fc8d2c16,"Fix failing hdfs test [test-hdfs] (#3858)

- Remove skip for `test_parquet_pyarrow`, as this tests now passes
- Update to use new travis ci conditionals for optionally testing hdfs
functionality. When this was originally added you could only
conditionally run on branch name - now you can conditionally run on
commit message string (which is nicer and easier to use). New behavior
is documented in the hdfs ci readme.",Jim Crist,jcrist@users.noreply.github.com,2018-08-06 18:33:23-05:00,GitHub,noreply@github.com,2018-08-06 18:33:23-05:00
bfa1f7ed2b052ab1a0f281ab5edd6b2c7a2cfc7a,"Increase conda download retries (#3857)

* Increase conda download retries

We've been seeing an increase in conda download failures on travis
lately. After talking to the conda team, it was suggested to try
increasing the value of `remote_max_retries` to 10 to see if that helps
(they're not 100% sure why this would be happening).

* Error on install failure

Previously the error would only happen at runtime. Should make debugging
a bit easier.",Jim Crist,jcrist@users.noreply.github.com,2018-08-06 18:34:02-05:00,GitHub,noreply@github.com,2018-08-06 18:34:02-05:00
7f3e09f7036bcdb82f1504ba3b2fa2ae0a39c864,"Add python_requires and Trove classifiers (#3855)

* Add python_requires to help pip, and Trove classifiers

* Add Python 3.7

[skip ci]",Hugo,hugovk@users.noreply.github.com,2018-08-07 14:55:14+03:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-07 06:55:14-05:00
e48aca49af9005c938ff4773aa05ca8b20e2e1b1,"Fixes for pyarrow 0.10.0 release (#3860)

* Fixes for new pyarrow release

- Error nicely if pyarrow version has broken ORC reader
- Skip ORC tests for bad pyarrow versions
- Use `is_timestamp` instead of `TimestampType`
- Remove support for pyarrow versions < 0.8.0 (which are missing
`is_timestamp`, and are rather old anyway.",Jim Crist,jcrist@users.noreply.github.com,2018-08-07 13:06:50-05:00,GitHub,noreply@github.com,2018-08-07 13:06:50-05:00
3f6a54c4f923cb7d75fe8c770102944609c58ad6,"Skip test_s3 for PYTHONOPTIMIZE=2 test (#3863)

New release of moto breaks with `PYTHONOPTIMIZE=2`.",Jim Crist,jcrist@users.noreply.github.com,2018-08-08 10:34:43-05:00,GitHub,noreply@github.com,2018-08-08 10:34:43-05:00
0fca28e4226c9b5a5811f2a8e8913a773e277172,"Re-add the ghost import to da __init__ (#3861)

Needed for libraries that implicitly assumed `da.ghost` namespace was
automatically imported.",Jim Crist,jcrist@users.noreply.github.com,2018-08-08 10:35:19-05:00,GitHub,noreply@github.com,2018-08-08 10:35:19-05:00
e7a71c092def9d8d16580bfa3456e6b85334656b,"[WIP] Fix collections.abc deprecation warnings in Python 3.7.0 (#3876)

* Fix collections.abc deprecation warnings in Python 3.7.0

Since Python 3.3, the abstract base classes for collections
were extracted into the collections.abc submodule.

This fixes eventual deprecation warnings and prepares
for the future versions of Python.

See also:
https://docs.python.org/3.7/library/collections.html

* Import all collections.abc members from compatibility.py",Jan Margeta,jmargeta@gmail.com,2018-08-15 15:16:38+02:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-15 08:16:38-05:00
b88b805633051df046009650c400a865b5a638af,added new presentations (#3880),Javad,javad94@users.noreply.github.com,2018-08-16 19:13:38+04:18,Matthew Rocklin,mrocklin@gmail.com,2018-08-16 08:55:38-06:00
ad450dd83db0e80f0adb20cbc215731f43a53470,"ENH: DataFrame.to_dask_array (#3884)

Closes https://github.com/dask/dask/issues/3090",Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-08-20 11:26:05-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-20 12:26:05-04:00
19fb2b4f504c5dc1bc157770d15a09d4c51828a7,"Ensure copy preserves masked arrays (#3852)

* Use the copy method of the object instead of np.copy

This to preserve masking upon deepcopy

refs #3848

* Add test for the copy machinery for da.ma

* Fix flake8 compliance",Tobias de Jong,tadj42@gmail.com,2018-08-21 13:48:42+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-21 07:48:42-04:00
6a9fc9a342d62c102d8cfc9607ebab2c25f45781,"Rename to_csv keys (#3890)

* Rename _to_csv_chunk to _write_csv

Because this is used as a dask.delayed function this was showing up in
diagnostics.  I believe that the new name is somewhat more pleasant to
see.

* strip underscores from keynames

* Use udf name for key name in groupby-apply",Matthew Rocklin,mrocklin@gmail.com,2018-08-21 08:13:56-04:00,GitHub,noreply@github.com,2018-08-21 08:13:56-04:00
68fb32596687afb8565fce2672f0c4ebcfe0eaa1,Allow dot jpeg to xfail in visualize tests (#3896),Matthew Rocklin,mrocklin@gmail.com,2018-08-21 15:48:15-04:00,GitHub,noreply@github.com,2018-08-21 15:48:15-04:00
a8dbbce49c4dea78d676518552cdd4aadf589d7f,Add dask array normalize_chunks to documentation (#3878),Daniel Rothenberg,darothen@mit.edu,2018-08-22 07:20:28-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-22 07:20:28-04:00
f644e7f34f23386f034a19d2b743ad0c69b79441,"Add Python 3.7 to travis.yml (#3894)

* Add Python 3.7 to travis.yml

* Add axes= keyword to fft dtype sample computation

This is important for irfft2 dtype analysis",Matthew Rocklin,mrocklin@gmail.com,2018-08-22 14:16:03-04:00,GitHub,noreply@github.com,2018-08-22 14:16:03-04:00
b559054d89fac2cf008e35e0790d9843c1c4a4ad,Add expand_environment_variables to dask.config (#3893),Joe Hamman,jhamman@ucar.edu,2018-08-22 13:31:32-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-22 16:31:32-04:00
54ffe4330d217d50d5a10a8a5869cd0a70d9267c,Docs: Fix link to snakeviz (#3900),Hans Moritz Gnther,moritz.guenther@gmx.de,2018-08-23 11:09:44-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-23 11:09:44-04:00
50387195ef1e5ccadd91197b2bb55be3497e91c7,TST: Match pandas warnings for concat sort (#3897),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-08-27 16:53:10-05:00,GitHub,noreply@github.com,2018-08-27 16:53:10-05:00
83fdc8dc98418fbcb2393401644036dda40f5d37,"Adding missing ` (#3915)

I found this while reading the online docs which indeed incorrectly
render that word.

Signed-off-by: Rodrigo Tobar <rtobar@icrar.org>",rtobar,rtobarc@gmail.com,2018-08-29 20:23:44+08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-08-29 07:23:44-05:00
9d4b99d4aff4f611e5ca3a7ddc27d7d6c1e679f5,"Include filename in read_csv (#3908)

* Adding include_path_col to read_csv

* Adding tests for read_bytes and read_csv/table with include_path

* Allowing path converters and fixing up test for windows compat

* Fixing test for windows

* Checking whether include_path_col name is duplicate of cols in files

* include_path_col --> include_path_column

* Making path categorical

* Making categories known

* Adding a space

* Unnesting output from read_bytes

* Fixing up column error handling

* KeyError --> ValueError",Julia Signell,jsignell@gmail.com,2018-08-30 10:48:37-04:00,Jim Crist,jcrist@users.noreply.github.com,2018-08-30 09:48:37-05:00
546760c5ced47ace30bca21fb125b7258c56035c,Bump version to 0.19,Matthew Rocklin,mrocklin@gmail.com,2018-08-29 12:08:43-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-30 12:39:37-04:00
88224411854b061bc414cac8fcde81aecd2712ff,"Deterministic DataFrame.set_index (#3867)

* Deterministic repartitioning for DataFrame.set_index and partition_quantiles if random_state=None",George Sakkis,george.sakkis@gmail.com,2018-08-31 00:52:46+03:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-30 17:52:46-04:00
2c69a1c940de8c136789d5d2d054a70dfe2495dd,DOC: Add hint on how to render task graphs horizontally (#3922),Uwe L. Korn,xhochy@users.noreply.github.com,2018-08-31 13:49:46+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-08-31 07:49:46-04:00
064ebb190da8eab0f66973bd2d51dd84ec4e10dc,"Add try-now button to main landing page (#3924)

Also redden default dask-orange color",Matthew Rocklin,mrocklin@gmail.com,2018-08-31 11:37:45-04:00,GitHub,noreply@github.com,2018-08-31 11:37:45-04:00
5eae4f08a2d01e0ab6a5026c2c5400ab202e44ba,Don't enforce dtype if result has no dtype (#3928),Matthew Rocklin,mrocklin@gmail.com,2018-08-31 17:47:12-04:00,GitHub,noreply@github.com,2018-08-31 17:47:12-04:00
a00612f320ac81edb282f89f4ed77428c7a08233,Add ipython completions (#3935),chris-b1,cbartak@gmail.com,2018-09-02 15:19:32-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-02 16:19:32-04:00
80330636d1a416c7096bd33968690d0e95e28b29,"Reading parquet with `filters`. Last division limits are now correct. #3831 (#3923)

* Last divisions limit shoud now be correct. See: https://github.com/dask/dask/issues/3831#issuecomment-414732749

* flake8 fix

* added unit test

* fixed typo

* fixed unit test to run ony with fastparquet",andrethrill,andrethrill@users.noreply.github.com,2018-09-03 19:40:49+01:00,Martin Durant,martindurant@users.noreply.github.com,2018-09-03 14:40:49-04:00
09100d02ad8f2b23da70234707888b1374dd46bd,"Fix NumPy issubtype deprecation warning (#3939)

Change issubdtype(..., float) to issubdtype(..., np.floating) as
recommended by the warning issued by numpy >= 1.14.",Bruce Merry,bmerry@gmail.com,2018-09-04 14:44:33+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-04 08:44:33-04:00
5fa703eaaa6679e452c1dc7cdc8c9ac039994de5,Fixing returning type in categorical.as_known  (#3888),Sriharsha Hatwar,sriharsha02hatwar@gmail.com,2018-09-04 23:24:43+05:18,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-09-04 13:06:43-05:00
163a43ebe37ca2deac03781018c27524633d66c9,Fixed DataFrame.assign for callables (#3919),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-09-04 13:57:54-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-04 14:57:54-04:00
b3de82f58c3586eb928b6116de7d16e3e898b971,"Include partitions with no width in repartition (#3941)

Previously when repartitioning a dataframe that had partitions of zero
width like the following:

    >>> df.divisions
    (1, 1, 1)

We would lose information about the earlier partitions.

Fixes https://github.com/dask/dask/issues/3911",Matthew Rocklin,mrocklin@gmail.com,2018-09-04 15:50:56-04:00,GitHub,noreply@github.com,2018-09-04 15:50:56-04:00
19242cd6280aac57836e46c67e9f539913d1815a,"Don't constrict stage/k dtype in dataframe shuffle (#3942)

This was causing us to drop partitions in some cases

Fixes https://github.com/dask/distributed/issues/2226",Matthew Rocklin,mrocklin@gmail.com,2018-09-05 08:33:36-04:00,GitHub,noreply@github.com,2018-09-05 08:33:36-04:00
92c8cba82e5e427f9acbdadcc6973a531466ae41,"Fixes 3930 (#3931)

* Last divisions limit shoud now be correct. See: https://github.com/dask/dask/issues/3831#issuecomment-414732749

* flake8 fix

* added unit test

* fixed typo

* Fixed unknown division when reading parquet file with filters

* fixed unit test to run ony with fastparquet

* added unit test

* Exception is now caught in case dask/fastparquet #371 is still not available in current installation",andrethrill,andrethrill@users.noreply.github.com,2018-09-05 14:58:14+01:00,Martin Durant,martindurant@users.noreply.github.com,2018-09-05 09:58:14-04:00
ab1e21ca589d9ccf0b5f4a5a83161f0e175ef58b,Fix arg reduction tokens to be unique with different arguments (#3955),Tobias de Jong,tadj42@gmail.com,2018-09-05 22:45:39+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-05 16:45:39-04:00
73dcc577421bff93e09a18506decba5031c83827,"Coerce numpy integers to ints in slicing code (#3944)

Fixes #3937.

This avoids triggering bugs in downstream where 
isinstance(x, int) is used instead of isinstance(x, Integral)",Yu Feng,rainwoodman@gmail.com,2018-09-05 18:53:52-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-05 21:53:52-04:00
0faf2334404380940ce1ad1ec5c6e15f6ff54e8e,"Linalg.norm ndim along axis partial fix (#3933)

Extend da.linalg.norm to apply to general axes

Tests added, all cases but svd based N-D cases work.",Tobias de Jong,tadj42@gmail.com,2018-09-06 03:55:24+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-05 21:55:24-04:00
40b5d7b07c9db16e7cbd70be1bc8738ce94fe32c,bump version to 0.19.1,Matthew Rocklin,mrocklin@gmail.com,2018-09-06 08:13:20-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-06 08:13:20-04:00
c6ec6201055b23a0c8dace38237f7dcfff6a93c2,Set pyarrow as default for HDFS (#3957),Matthew Rocklin,mrocklin@gmail.com,2018-09-06 11:28:22-04:00,GitHub,noreply@github.com,2018-09-06 11:28:22-04:00
c5bddf3e3a9bad897e3bbec49020a0bb262dbc5b,DOC: fixed sphinx syntax (#3960),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-09-07 06:54:03-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-07 07:54:03-04:00
53ee903ead749c4baf52d62e1d42178876670edd,"Support gradient with coordinate (#3949)

* Support coordinate for gradient

* lint

* more test

* Updated changelog

* Skip test with old numpy

* Avoid casting scalar to uniform 1d-array

* STY: Drop extra space  [ci skip]

* Improve by comment. Not working with dask.array coordinate

* Raise NotImplementedError for dask.array coordinate",Keisuke Fujii,fUjiisoup@gmail.com,2018-09-08 10:58:39+09:00,jakirkham,jakirkham@gmail.com,2018-09-07 21:58:39-04:00
63280ec4aa860ef97486c6534c602d19677a4262,"Use dask_sphinx_theme (#3963)

* Use dask_sphinx_theme

* [skip ci] Reword intro sentence",Matthew Rocklin,mrocklin@gmail.com,2018-09-08 11:16:27-04:00,GitHub,noreply@github.com,2018-09-08 11:16:27-04:00
879e49c1c9fbd3ea7f34faffeeac488a076085c5,Fix use of has_keyword with partial in Python 2.7 (#3966),Mark Harfouche,mark.harfouche@gmail.com,2018-09-09 09:53:15-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-09 09:53:15-04:00
2c2a8f4242c134b4e3c673d1652939a43f14455d,from_array: add @martindurant's explaining of how hashing is done for an array. (#3965),Mark Harfouche,mark.harfouche@gmail.com,2018-09-09 13:49:46-04:00,Martin Durant,martindurant@users.noreply.github.com,2018-09-09 13:49:46-04:00
748d17728165f3666f02e1571b1cdcc72999e1b5,Use JupyterLab in Binder links from main page,Matthew Rocklin,mrocklin@gmail.com,2018-09-09 17:08:16-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-09 17:08:16-04:00
0910b41a536e11a9216f687c7ac8ccb75b2909a9,"Issue 3937 follow up, int type checks. (#3956)

* Extend int treatment to Integral types in optimization.

Fixes #3937.

* Switch isinstance(..., int) to isinstance(..., Integral)

This allows the code to better generalize; but less strict.

einsum is left unchanged because it came from numpy.

* flake8 changes.",Yu Feng,rainwoodman@gmail.com,2018-09-10 07:00:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-10 10:00:41-04:00
ceab81a0ed8909c80616a61b410553d052f315d0,"Change test_pickle_globals to not check __globals__ directly (#3984)

* Change test_pickle_globals to not check __globals__ directly

Implementation taken from https://github.com/cloudpipe/cloudpickle/issues/202#issuecomment-421366065

* [skip ci] Fix docstring",Matthew Rocklin,mrocklin@gmail.com,2018-09-14 10:51:57-04:00,jakirkham,jakirkham@gmail.com,2018-09-14 10:51:57-04:00
76e02358d14e86edb1a566680c26b6cebb96a2d0,Update asking for help docs (#3969),Matthew Rocklin,mrocklin@gmail.com,2018-09-14 10:57:36-04:00,GitHub,noreply@github.com,2018-09-14 10:57:36-04:00
c85a01f80ec77501079023f9842b13d3efa5d117,"Fix array histogram range error when array has nans (#3980)

Fixes #3977. 

This PR adds the range parameter to the np.histogram call that is used in da.histogram.

Note that there were improvements made to np.histogram in the 1.15.0 NumPy release. So the error reported in #3977 only occurs for NumPy versions < 1.15.0. Either way, this PR provides a fix that is valid for all NumPy versions.",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-09-14 12:37:56-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-14 13:37:56-04:00
14b4c3848516a0f03bcf1b40e3f1f7475131497c,"Apply gufunc infer dtype (#3936)

* Modifies `apply_infer_dtype` to accomodate functions with multiple outputs. Also provides docstring.

* [WIP] Adds infering of dtype for `apply_gufunc`

* Finalize initial implementation

* Improve docstring and add changelog

* Minor: removes unnecessary print statement

* Minor: removes trailing whitespaces for flake8 test in unrelated code

* [WIP] modifies `apply_gufunc(..., output_dtypes=""f,f"")`behavior, to accept comma delimited string or list of dtypes. Drops non-comma delimted dtypes string.

* Simplifies `output_dtype` specification to only allow list/tuple of dtypes for the case of multiple returns.

* Uses `pytest.raises` for two tests

* Enables acceptance of list of one dtype for functions, which only have one (direct, non-tuple) return argument",Markus Gonser,magonser@mksg.de,2018-09-14 19:52:11+02:00,Stephan Hoyer,shoyer@gmail.com,2018-09-14 10:52:11-07:00
0fb0f876bb974cfca1458903540ac389e6f89019,bump version to 0.19.2,Matthew Rocklin,mrocklin@gmail.com,2018-09-17 09:53:29-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-17 09:53:29-04:00
17c8a8e4c86bf92320a23aec6bddac41d92b86c9,"Add unravel_index (#3958)

* Add unravel_index

Provides a Dask Array implementation of NumPy's `unravel_index`. This is
useful if one has a Dask Array full of 1-D indices and would like to
convert them to N-D indices instead.

* Publish unravel_index to the public API

Make sure `unravel_index` is available from `dask.array`.

* Test unravel_indices

Ensure that the Dask Array `unravel_indices` implementation matches that
of the NumPy one in some common cases.

* Document unravel_index

Include `unravel_index` in the Dask Array API docs.

* TST: Select unraveled points from Dask Array

Try comparing the selection of Dask Array points with those of a NumPy
selection. Requires `vindex` as Dask Array does not support fancy
indexing.",jakirkham,jakirkham@gmail.com,2018-09-17 18:01:41-04:00,GitHub,noreply@github.com,2018-09-17 18:01:41-04:00
885bbb28b40bc1d810130f52b737bce6d9aa48bc,"dask.array: Don't use dummy expansion for trim_internal in overlapped (#3964)

Fixes #3947",Mark Harfouche,mark.harfouche@gmail.com,2018-09-18 06:50:20-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-18 06:50:20-04:00
a8fd0dd5d404edf1342e2db13729a04d49e793f7,"Fail early in fastparquet read for nonexistent column (#3989)

Probably a regression from fb2c6c77f42b8a6bac7a09b9a67d1b5909142258

Fixes https://github.com/dask/fastparquet/issues/376 (not a fp bug)",Martin Durant,martindurant@users.noreply.github.com,2018-09-18 08:44:36-04:00,GitHub,noreply@github.com,2018-09-18 08:44:36-04:00
a25c47b3a003ba2aff2cd803f49812ae69ff43bc,Making skiprows accept lists (#3975),Julia Signell,jsignell@gmail.com,2018-09-18 10:04:03-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-09-18 09:04:03-05:00
bf8f19451d73c9ba64f4adfda5562be912e5e19b,Updates DataFrame.to_hdf docstring for returned values [skip ci] (#3992),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-09-19 06:55:26-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-19 07:55:26-04:00
aca8643fededa8dab272f602b903ef08387ef3eb,Fix PR links in changelog  [ci skip] (#3994),jakirkham,jakirkham@gmail.com,2018-09-20 08:32:57-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-20 08:32:57-04:00
24a7b0514af7b6e0e71507e02da1ca5ce5552282,"Docs: Update why.rst with some grammar improvements (#3996)

This PR updates the documentation section `Why Dask?` with some commas and a few connection words in order to improve the reading flow of the document (specially the lack of commas which made me re-read the same sentence more than twice in order to understand the sentence correctly).",M. Farrajota,farrajota@users.noreply.github.com,2018-09-20 13:38:13+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-20 08:38:13-04:00
08e7e1387e718dbbc774a47a42342c84528137df,"Docs: Update array-overlap.rst with some grammar improvements (#3997)

This PR updates the documentation section `Overlapping Computations` with some corrections to a few sentences in order to make them more clear and correct. 

Also, to make a few sentences easier to read, a few commas were added / removed.",M. Farrajota,farrajota@users.noreply.github.com,2018-09-20 15:11:19+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-20 10:11:19-04:00
7c542241438c0d381c1c57fefa1d4fcdfc3d157f,Make multiprocessing context configurable (#3763),Itamar Turner-Trauring,itamar@itamarst.org,2018-09-20 19:17:14-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-20 19:17:14-04:00
15eb83fa39c9e152a0788b25bf7306bd8c31efd0,"Add bag.read_avro (#4000)

* Add bag.read_avro

Involves a little copying of code from uavro, but stands alone.

* Read all headers when chunking

* remove sync for debug",Martin Durant,martindurant@users.noreply.github.com,2018-09-22 09:25:58-04:00,GitHub,noreply@github.com,2018-09-22 09:25:58-04:00
18df80b87ee2941b645bdbecdd4fd2dede9ae32a,"read_avro for remote (#4007)

* read_avro for remote

Replicate some of read_bytes specifically for avro case

Fixes https://github.com/dask/dask/issues/4006

* flake and pass compression through

* remove unneeded import",Martin Durant,martindurant@users.noreply.github.com,2018-09-25 09:26:15-04:00,GitHub,noreply@github.com,2018-09-25 09:26:15-04:00
af1fc74d281d7f2cbd1be5662374b6d2d6d7b912,"Replace readthedocs links with dask.org (#4008)

* Replace readthedocs links with dask.org

* Remove index.html

This has moved to https://github.com/dask/dask.github.io

We set up a redirect for people still using the old address

* [skip ci] update dask-sphinx-theme version to 1.1.0",Matthew Rocklin,mrocklin@gmail.com,2018-09-26 08:40:25-04:00,GitHub,noreply@github.com,2018-09-26 08:40:25-04:00
f6a1fdbaf0611e2b641aee666bc0e9008d7ac210,docs -> index,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 08:53:02-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 08:53:02-04:00
e5c4b30a21a28c81ba52e0771f8994c8b2136a81,add back in master_doc change to docs/source/conf.py,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 09:00:56-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 09:00:56-04:00
5dc3f6e3bf847035e8a94c9b2fb919c40ee3230e,use master_doc in docs/source/conf.py,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 09:21:57-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 09:21:57-04:00
1c9de5aaeae66127c37ed6ffa00e115149453e1e,"Remove docs/source/examples, point to examples.dask.org (#4014)",Matthew Rocklin,mrocklin@gmail.com,2018-09-26 12:26:38-04:00,GitHub,noreply@github.com,2018-09-26 12:26:38-04:00
a47e905675bc0ff8d1da1ac89b8214e548534d5a,"Fuse linear chains of subgraphs (#3979)

* Add SubgraphCallable

Condenses a single graph into callable subgraph.

* Rehash how SubgraphCallable's are called

To support use in `fuse`, they must be *fast* to build, but should still
remain fast to call. In this case we remove the compilation step, but
improve the speed of `dask.core._get_recursive` to the point where
calling it is cheap.

* Add initial implementation of fuse_subgraphs

Adds ability to fuse linear chains of non-fusable-with-fuse subgraphs
together into a single task. The intention is that this is called
somewhere in ``__dask_optimize__`` after ``fuse``. It's a separate
function because some collections (e.g. dask array) have addtional steps
after ``fuse`` that require access to the graph, and tasks wrapped in
``SubgraphCallable`` wouldn't be available to those optimization
routines.

[skip-ci]

* Improve key renaming

* Merge with fuse  [skip ci]

* Add tests

* Remove unneeded exec_ function

* Add fuse_subgraphs to config, fix inline_functions

- `fuse_subgraphs` now defaults to config value
- `inline_functions` works with non-hashable callables

With these changes, other collections can be configured to use
`fuse_subgraphs`, although certain optimization passes (e.g.
`optimize_slices`) will not be performed inside the fused subgraphs.

* Add __ne__ for python 2.7

* Turn subgraph fusion on by default for dask.dataframe

* Fix dask.dataframe.optimize test

* Don't compute twice in set_index, copy in read_bytes

- Be more precise with when and how optimizations are applied in
`set_index`, which prevents accidental fusing of expensive tasks before
computation, resulting in those tasks being computed twice.
- Adds a cheap copy operation in `read_bytes`, preventing non-threadsafe
behavior that showed up due to tasks fusing resulting in `OpenFile`
objects being used twice. This is less necessary with the above, but
makes things more correct in the presence of other errors.",Jim Crist,jcrist@users.noreply.github.com,2018-09-26 13:26:11-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 14:26:11-04:00
7533946480ab3d4f7208f1ebbb17a9316e47ba16,"Update docs.rst with punctuation corrections (#4010)

* Update docs.rst with punctuation corrections

This PR updates `docs.rst` (docs landing page) with some corrections and improvements (mostly punctuation).

One change I'm not very certain about is the lower casing of **Pure Python** to **pure Python**. I googled about the former style but I only found references in the **pure Python** format. I'm addressing this issue because in the documentation there are both **Pure Python** and **pure Python** occurrences so I decided on the one I've found most used online.

* Revert removal of serial commas",M. Farrajota,farrajota@users.noreply.github.com,2018-09-26 22:41:54+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 17:41:54-04:00
136141291c7a879109ed19f1d4418ed56801e3d7,"Update setup.rst with minor corrections [skip ci] (#4017)

This PR updates `setup.rst` with a couple corrections and punctuation.",M. Farrajota,farrajota@users.noreply.github.com,2018-09-26 23:28:03+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 18:28:03-04:00
1b9755ce0c91ac5d183d54ad22d47e64e748603b,"Update install.rst with corrections (#4016)

This PR updates `install.rst` with some corrections to punctuation, naming conventions and adds key words to improve the reading flow of sentences.",M. Farrajota,farrajota@users.noreply.github.com,2018-09-26 23:28:47+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-26 18:28:47-04:00
b8b420117191510c6f3934059342c07ab1f944d6,"Improve performance of bag.read_text on small files (#4013)

* Improve performance of bag.read_text on small files

Adding a new optional parameter to `bag.read_text()`, called `files_per_partition`, gives users the option to group files into fewer partitions than one per file. This can dramatically improve performance on large numbers of small files by reducing the complexity of the graph and increasing the duration of read partition operations.

* Address review comments

* Further refinement of files_per_partition",Eric Wolak,github@wolak.net,2018-09-27 14:00:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-27 17:00:20-04:00
e44a7457e7d6c2a57ce7fdf918690ac53138ed0c,"Automatically wrap large arguments with dask.delayed in map_blocks/partitions (#4002)

This avoids having many copies of an object in the graph, one in each task.",Matthew Rocklin,mrocklin@gmail.com,2018-09-27 17:46:51-04:00,GitHub,noreply@github.com,2018-09-27 17:46:51-04:00
6bb1d8a4b77478af4bd94ab46483c94afd1d6728,ENH: Index in dd.from_dask_array (#3991),Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-09-28 08:51:16-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-28 09:51:16-04:00
af1a0b9e7f3036133e94796827eb054bfd5a2709,"Docs: Update ssh.rst with improvements [skip ci] (#4023)

This PR updates `ssh.rst` with some grammar corrections and improvements. Specifically, the note paragraph has been highlighted and periods have been removed from all rows in the description column.",M. Farrajota,farrajota@users.noreply.github.com,2018-09-29 14:51:24+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-29 09:51:24-04:00
dce0429f8b5ca7aaf22ad3096831c5616a44aac8,"Docs: Update cli.rst with corrections [skip ci] (#4022)

This PR updates `cli.rst` with some corrections and some proposed modifications (added a note and warning highlights).",M. Farrajota,farrajota@users.noreply.github.com,2018-09-29 14:57:22+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-29 09:57:22-04:00
bbace4303e98464fce27885ee94897e464d23c58,"Docs: Update single-distributed.rst with corrections [skip ci] (#4021)

* Docs: Update single-distributed.rst with corrections [skip ci]

This PR updates `single-distributed.rst` with some corrections to punctuation and naming conventions. 

With respect to #4020, I've changed the capitalization in the title from ""**D**ask.distributed"" to ""**d**ask.distributed"" to keep the same consistency when naming or referring to modules in the text.

* Replace ``dask.array`` with Dask Array [skip ci]

* Remove periods from list [skip ci]",M. Farrajota,farrajota@users.noreply.github.com,2018-09-29 14:57:57+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-29 09:57:57-04:00
d26ce29735cd113d5635adcd90d9e98f2ee83981,"Docs: Update single-machine.rst with corrections [skip ci] (#4020)

* Docs: Update single-machine.rst with corrections [skip ci]

This PR updates `single-machine.rst` with some corrections mostly to punctuation and naming conventions. 

I've made a change to the capitalization to the link **Dask.distributed on a single machine** to **dask.distributed on a single machine** mainly because, apart from the title of the next section, everywhere else in the documentation it is lower-case, and since it is referring to a module it would be best to keep the name in lower case.

If you agree with this minor circumstance, then I'll make the same change  in the next section in `single-distributed.rst`.

* Update sentence and remove module highlighting [skip ci]

* Remove periods from lists [skip ci]",M. Farrajota,farrajota@users.noreply.github.com,2018-09-29 14:58:28+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-29 09:58:28-04:00
2a924ad8d8282addc8325add7d2fc1b8619dd654,"Fix typo in `test_store_kwargs` (#4024)

Was using `return_store` instead of `return_stored` where the latter is
the supported keyword argument.",jakirkham,jakirkham@gmail.com,2018-09-29 18:31:24-04:00,GitHub,noreply@github.com,2018-09-29 18:31:24-04:00
3e23b4424fcb8dd86e5b30ba8cff26d6ce27aeed,"Fix-up Dask Array's fromfunction w.r.t. dtype and kwargs (#4028)

* Tidy up `fromfunction` test a bit

Do some minor cleanup in `test_fromfunction` to space things out a bit
and fix-up line length.

* Handle undefined `dtype` in `fromfunction`

Mirror NumPy's behavior in Dask Array's `fromfunction` when the `dtype`
is unspecified. Namely default to using a `dtype` of `float` in this
case.

* Test `fromfunction` without `dtype`

Make sure that Dask Array's `fromfunction` can handle the unspecified
`dtype` case correctly. Namely that it matches NumPy's `fromfunction`'s
behavior in this case of defaulting to `float`.

* Handle `dtype` and `kwargs` in `fromfunction`

Fixes up Dask Array's `fromfunction` to handle `dtype` and `kwargs` by
writing a wrapper function for `np.fromfunction`. Also removes the need
for a closure in the Dask graph by moving the closure into the wrapper
function. This still does the same work, but is it a bit cleaner in
terms of building the Dask graph and serializing content in a
Distributed setting.

* Test `fromfunction` with different dtypes

Make sure that Dask Array's `fromfunction` is able to handle different
`dtype`s correctly. Namely that it matches the expected `dtype` in the
output and uses that `dtype` with NumPy's `fromfunction`.

* Test `fromfunction` with keyword arguments

Make sure that Dask Array's `fromfunction` is able to correctly handle
keyword arguments much as NumPy's implementation does. Try both with no
empty keyword arguments when a default values is present and with
non-default keyword arguments. Also make sure that `dtype` is not
included in the keyword arguments by not handling it in the function.",jakirkham,jakirkham@gmail.com,2018-09-30 09:20:34-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-30 09:20:34-04:00
0fb3dcd7af1b898df5e3f48f6bf114300ab70237,"Move local `indices` import to global import (#4029)

This import of `indices` in `argwhere` is likely a holdover from when
`argwhere` was defined in `dask.array.core`. As `argwhere` has since
been moved to `dask.array.routines`, importing `indices` globally is not
an issue. So go ahead and switch this import to a global import as that
is preferred.",jakirkham,jakirkham@gmail.com,2018-09-30 09:21:31-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-30 09:21:31-04:00
ec6c9dda4e84b9000c27962e1ab32391b3d9db07,"Docs: Fix missing space in ssh.rst [skip ci] (#4031)

This PR fixes a missing space in `ssh.rst` w.r.t. the `note` text highlight box.",M. Farrajota,farrajota@users.noreply.github.com,2018-09-30 14:26:24+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-30 09:26:24-04:00
788f48dc7de83d94cf254e131216b8878a2ff32e,"Add new random dataset for people (#4018)

* Add new random dataset for people

This uses the mimesis library to generate a dask bag of random records
for people.",Matthew Rocklin,mrocklin@gmail.com,2018-09-30 11:22:00-04:00,GitHub,noreply@github.com,2018-09-30 11:22:00-04:00
4b9ead454038ddbc102e922d861774fb301d915b,"Move local imports in `corrcoef` to global imports (#4030)

These imports of `sqrt` and `diag` in `corrcoef` are likely holdovers
from when `corrcoef` was defined in `dask.array.core`. As `corrcoef` has
since been moved to `dask.array.routines`, importing `sqrt` and `diag`
globally is not an issue. So go ahead and switch these imports to global
imports as that is preferred.",jakirkham,jakirkham@gmail.com,2018-09-30 13:46:44-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-30 13:46:44-04:00
bc954b49a77903f13084bdd1619d62a251b5cebf,"Docs: Update hpc.rst with improvements [skip ci] (#4034)

This PR updates `hpc.rst` with some corrections and modifications (small ones though). 

Please note that the improvements, although small, are spread throughout the file.",M. Farrajota,farrajota@users.noreply.github.com,2018-09-30 23:15:33+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-09-30 18:15:32-04:00
904805bbea947cf977af735bd6d7c66e30eb955a,"Make path for reading many parquet files without prescan (#3978)

* Make path for reading many parquet files with fastparquet without prescan

* flake

* Add docstrings, remove debug",Martin Durant,martindurant@users.noreply.github.com,2018-10-01 13:15:51-04:00,GitHub,noreply@github.com,2018-10-01 13:15:51-04:00
ecc1e806898410784efc3d4cecf1f02ea5ae2de1,Sort result in Bag.frequencies (#4033),Matthew Rocklin,mrocklin@gmail.com,2018-10-01 14:34:34-04:00,GitHub,noreply@github.com,2018-10-01 14:34:34-04:00
ae211840a6cfa4b9b92fbbaf0563a31ff30d38c0,"fuse_subgraphs works without normal fuse (#4042)

* fuse_subgraphs works without normal fuse

Previously if `fuse` backed out early, `fuse_subgraphs` would never run.
Now we also check if `fuse_subgraphs` may be useful, and if so don't
backout early.",Jim Crist,jcrist@users.noreply.github.com,2018-10-02 13:35:33-05:00,GitHub,noreply@github.com,2018-10-02 13:35:33-05:00
e04b3e03385a2037938c41edb2cf011e509dcaa4,"Fix failing hdfs test [test-hdfs] (#4046)

Fix test error leftover from change to pyarrow as the default hdfs driver.",Jim Crist,jcrist@users.noreply.github.com,2018-10-02 14:13:43-05:00,GitHub,noreply@github.com,2018-10-02 14:13:43-05:00
5f0dde1c17192f33b472f711d5a81fbeba06248f,Update shuffle method selection docs [skip ci] (#4048),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-02 15:47:05-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-02 16:47:05-04:00
df1cee3b55706443303b85563e7c01e26611603d,"Docs: Update kubernetes.rst [skip ci] (#4049)

This PR updates `kubernetes.rst` with minor corrections and highlights two paragraphs that each point to documentation. The previous format was somewhat clunky near two sections, and the highlights seemed reasonable and not too distracting for this particular case.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-02 23:40:34+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-02 18:40:34-04:00
39885cc5c1d9fa9a94e2bd761e460e25bf91acda,Add support for npartitions=1 edge case (#4050),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-03 06:34:31-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-03 07:34:31-04:00
81ab129c0f44f6c7f1a126ab432a8580dd366a75,"Avoid asarray and lock arguments for from_array(getitem) (#4044)

* Avoid asarray and lock arguments for from_array(getitem)

Fixes #4043

* != -> is not",Matthew Rocklin,mrocklin@gmail.com,2018-10-03 12:32:28-04:00,jakirkham,jakirkham@gmail.com,2018-10-03 12:32:28-04:00
2a98f4967707aeb5e3f67f0eccd39b3fbdc0050f,"Add basic infrastructure for cupy (#4019)

This applies dispatch functions for the cupy library for GPU arrays.
We then copy some of the sparse test suite to see what works and what doesn't.",Matthew Rocklin,mrocklin@gmail.com,2018-10-03 16:48:31-04:00,GitHub,noreply@github.com,2018-10-03 16:48:31-04:00
547d1836c47e202a3207bf67218ab89f527168b9,"Support unknown dims in ravel no-op case (#4055)

For the case of a 1-D `x`, `x.ravel()` (and `x.reshape(-1)`) should work
regardless if `x` has known dimensions. Note that other cases of
reshaping with unknown dimensions are not necessarily safe, so for now
only this simple case is supported.",Jim Crist,jcrist@users.noreply.github.com,2018-10-04 16:34:38-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-04 17:34:38-04:00
a27c0d21e589b205ad54c70a9afcc915dd5a760f,dask.pydata.org -> docs.dask.org,Matthew Rocklin,mrocklin@gmail.com,2018-10-05 07:29:51-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-05 07:29:51-04:00
a472ff2af5072dbd19dec1d3f32d948416d179a7,"Make da.RandomState extensible to other modules (#4041)

This enables other libraries like cupy or randomgen to compose their
random modules with dask array.

Fixes https://github.com/dask/dask/issues/3993",Matthew Rocklin,mrocklin@gmail.com,2018-10-05 11:05:15-04:00,GitHub,noreply@github.com,2018-10-05 11:05:15-04:00
4da6cfc374f2c6d6c46366baeaca68b4577db253,"Improve sub-classability of dask dataframe (#4015)

Previously in several places we hard-coded pandas classes in type checks.
This made it hard for other projects to inherit from dd.core._Frame and dask dataframe
algorithms operate correctly.

Now we replace these static checks and a few other methods with dispatchable
variants that can be implemented in external packages. This allows
other projects to more cleanly subclass dask dataframe.",Matthew Rocklin,mrocklin@gmail.com,2018-10-05 12:10:27-04:00,GitHub,noreply@github.com,2018-10-05 12:10:27-04:00
2e98e50a9055cab1a5d04d777f4e59702318a0ca,bump version to 0.19.3,Matthew Rocklin,mrocklin@gmail.com,2018-10-05 14:56:39-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-05 14:56:39-04:00
1b03c8da258f77f8d18688da5a781459c0969613,"fix dask-ml links

Previously this pointed to /en/latest with readthedocs conventions
These were broken",Matthew Rocklin,mrocklin@gmail.com,2018-10-06 11:05:04-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-06 11:05:04-04:00
63061c7126443a799ffac821ae2636f534c7338a,"Docs: Update kubernetes-helm.rst [skip ci] (#4063)

This PR updates `kubernetes-helm.rst` with some improvements w.r.t. grammar and punctuation. Some additional words had to be inserted here and there, but nothing too drastic.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-08 23:56:53+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-08 18:56:53-04:00
b306476399c8b59156a04cdbe151a743b303cbd9,"Docs: Update python-advanced.rst [skip ci] (#4064)

This PR updates `python-advanced.rst` with a few punctuations and additional words to improve readability.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-08 23:57:31+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-08 18:57:31-04:00
6702d1f74a34df38a0c7e4b932eccb78c21f6672,"Docs: Update cloud.rst [skip ci] (#4065)

This PR updates `cloud.rst` with a minor punctuation improvements.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-08 23:58:01+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-08 18:58:01-04:00
8d817d8be21de66fa82f4a095e3d5f9f379f4293,Fix Typo on hpc example. (missing `=` in kwarg). (#4068),Matthias Bussonnier,bussonniermatthias@gmail.com,2018-10-08 16:55:41-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-08 19:55:41-04:00
4867dd5133ee4a12edc8bdf815233a890d014dda,Fix typo in datasets.make_people (#4069),Matthew Rocklin,mrocklin@gmail.com,2018-10-09 10:07:29-04:00,GitHub,noreply@github.com,2018-10-09 10:07:29-04:00
8a4f884babca2d1d4fc73bfcc2f8ac2bf1dc3732,"Add DataFrame.partitions accessor similar to Array.blocks (#4066)

This makes it easier to pull out smaller parts of a large dataframe",Matthew Rocklin,mrocklin@gmail.com,2018-10-09 11:02:03-04:00,GitHub,noreply@github.com,2018-10-09 11:02:03-04:00
49a6420f0fd635ef2e954896bc835f16a0af18c3,Pass get functions and Clients through scheduler keyword (#4062),Matthew Rocklin,mrocklin@gmail.com,2018-10-09 12:47:18-04:00,GitHub,noreply@github.com,2018-10-09 12:47:18-04:00
7d87c7ed3072e3450dfaf3a6d087fa5f6401b41f,"Added `percentiles` options for `dask.dataframe.describe` method (#4067)

* Added `percentiles` options to `describe`

* Added the percentiles option in the `describe` function of `dask.dataframe`
* Added test cases

Signed-off-by: Zhenqing <lizhenqing.fudan@gmail.com>

* Flask8 compliance",Zhenqing Li,DigitalPig@users.noreply.github.com,2018-10-09 13:58:43-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-10-09 12:58:43-05:00
5c23342850c7cebdd638d34ee55b6a9d0a4b8fac,"Implement ``apply_gufunc(..., axes=..., keepdims=...)`` (#3985)

Fixes #3843",Markus Gonser,magonser@mksg.de,2018-10-09 20:07:22+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-09 14:07:22-04:00
bbae2d8a03b5b018e019f9fd2b90004fe6b601ac,bump version to 0.19.4,Matthew Rocklin,mrocklin@gmail.com,2018-10-09 15:25:57-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-09 15:25:57-04:00
c711d9f36b592e61efb039ba6f4fb05b30f72eaa,"Include index keyword in to_dask_dataframe (#4071)

This was included in from_dask_array but was never copied over",Matthew Rocklin,mrocklin@gmail.com,2018-10-09 17:24:35-04:00,GitHub,noreply@github.com,2018-10-09 17:24:35-04:00
040b313bc760aaa212a0ee53bc24d3f84984f14a,"Docs: Update adaptive.rst (#4073)

This PR updates `adaptative.rst` with minor punctuation corrections.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-10 01:25:03+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-09 20:25:03-04:00
beb093719c3a715cd57fb772026de2fb040c7b80,"Docs: Update docker.rst (#4074)

This PR updates `docker.rst` with some minor corrections and fixes an indentation mistake in the first bullet point (`daskdev/dask`).",M. Farrajota,farrajota@users.noreply.github.com,2018-10-10 01:27:42+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-09 20:27:42-04:00
2d9705f18522f08fdc004aec9ba2e20ac6008078,"Atop fusion (#3998)

This fuses elementwise, broadcasting, transpose, tensordot 
and other operations into one layer of tasks.  This helps to 
reduce graph generation and optimization overhead when 
working with large dask arrays.",Matthew Rocklin,mrocklin@gmail.com,2018-10-10 10:45:51-04:00,GitHub,noreply@github.com,2018-10-10 10:45:51-04:00
be4915eafaf7159b9269ac40d493777f86b1a264,Fixes typo in delayed docs (#4078),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-10 12:27:39-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-10 13:27:39-04:00
2c066acd520847429a41c692c00ecb2c15f391d7,Support da.asanyarray on dask dataframes (#4080),Matthew Rocklin,mrocklin@gmail.com,2018-10-11 14:52:08-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-11 13:52:08-05:00
d8d0fee917cc8bfcc83da08916023977821da0b0,Add bag.to_avro (#4076),Martin Durant,martindurant@users.noreply.github.com,2018-10-11 15:02:19-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-11 15:02:19-04:00
d33125c5249c9e996913ffca9315b3b9ce5cc55d,"Fixup some bugs found after merging atop fusion (#4081)

* Handle non-hashable indices in atop fusion
* be tolerant to bad naming of dependencies
* add dependencies to delayed
* avoid more contains checks
* specify dependencies more strictly in da.linalg
* fix bug in new_axes
* std/var check less precise",Matthew Rocklin,mrocklin@gmail.com,2018-10-11 20:19:13-04:00,GitHub,noreply@github.com,2018-10-11 20:19:13-04:00
abfae43c808ad15714df8033c8be3176b1595644,Pull num_workers from config.get (#4086),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-12 07:39:33-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-12 08:39:33-04:00
ec5cc654af0b41c40fe1f296235883cfaaa485ec,"add support for duplicate column names (#4087)

- modifies _repr_data to use a list of series instead of a dict
- adds a test that tries to print with duplicate column names",Jan Koch,Jan.Koch@tu-dortmund.de,2018-10-12 14:47:49+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-12 08:47:49-04:00
f439d43e8484b0b449a1fa17d6a39be402439ca5,Fix typo in code example (#4089),Antonino Ingargiola,tritemio@gmail.com,2018-10-12 15:01:20+02:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-12 09:01:20-04:00
50fcd2be96828156a5e09af2763df7433511f017,Improve stability of num_workers config test (#4093),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-13 14:35:39-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-13 15:35:39-04:00
aabf796ec57f9e1619929e1f9b6b3321864dddb3,"Docs: Update use-cases.rst [skip ci] (#4094)

This PR updates `use-cases.rst` with several corrections and improvements to the text. Because of the amount of changes applied, it is best to take a closer look at them, from top to bottom, to see if they make sense.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-15 15:37:43+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-15 10:37:43-04:00
7b62512354639c6eab563b8812e91c74b44059c0,"Docs: Update support.rst [skip ci] (#4097)

This PR updates `support.rst` with minor rectifications and improvements to punctuation and a couple of wording improvements.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-15 15:38:11+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-15 10:38:11-04:00
692572c80db6c6269e88197acd4dc72da0078536,"Implement min_count for the DataFrame methods sum and prod (#4090)

* Implement min_count for the methods sum and prod

* Add unit tests that validate with pandas' behaviour

* Skip unit test for pandas versions without min_count

* Add the same unit test for the prod method

* Remove call to compute as it is not required for equality checking

* Decrease duplicate code in unit tests",Bart Broere,broerebart@hotmail.com,2018-10-15 17:12:04+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-10-15 10:12:04-05:00
678a7bc592c02698f5c3ee17f1713488e75c1e88,"Remove pandas warnings in concat (#4095)

* remove pandas warnings in concat

* replace with version-dependent kwargs

* fixup

* catch warnings on groupby-apply-meta

* avoid index/column overlap warnings",Matthew Rocklin,mrocklin@gmail.com,2018-10-15 12:27:46-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-10-15 11:27:46-05:00
fcd88caa7cf414497dd074e520977d0cb21ac7b4,ENH: DataFrame.to_csv header option to only output headers in the first chunk (#3909),Rahul Vaidya,rahul@rvaidya.com,2018-10-15 13:46:50-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-10-15 15:46:50-05:00
4bdee1986bf9eeb6148182be9ee6c4d4a1ae8d01,Add pycon 2018 presentation (#4102),Javad,javad94@users.noreply.github.com,2018-10-16 02:10:16+03:18,Matthew Rocklin,mrocklin@gmail.com,2018-10-15 18:52:16-04:00
fe2a42477caab379b5668097379be4d3cee7ed44,"Remove Series.to_parquet (#4104)

* moved the to_parquet method to only be defined on DataFrame instead of _Frame so that Series mirrors that of the pandas Series with regards to to_parquet

* updated dataframe api docs to reflect moving to_parquet to the DataFrame only

Fixes #3982",Justin Dennison,justin1dennison@gmail.com,2018-10-16 18:39:13-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-16 18:39:13-04:00
b329d207fd8443df762268bb6812f0a6af985f9b,"Docs: Update why.rst [skip ci] (#4107)

This PR updates `why.rst` with minor punctuation corrections and a few words were added / removed to some sentences to reduce repetitions.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-18 13:38:11+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-18 08:38:11-04:00
68ab3e7633f3e63b9f597ae8cc973d28ebaf2909,Quick description for gcsfs (#4109),Martin Durant,martindurant@users.noreply.github.com,2018-10-19 21:16:37-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-19 21:16:37-04:00
189dbded0529e1da15a97aa7469ab5df17dee366,"Fixed typo in docstrings of read_sql_table method (#4114)

Since this is an example for read_sql_table, ""dd.read_sql"" should be ""dd.read_sql_table""",TakaakiFuruse,takaakifuruse@gmail.com,2018-10-21 21:54:59+09:00,Martin Durant,martindurant@users.noreply.github.com,2018-10-21 08:54:59-04:00
8581ed6081d3aea6f239f3e46ddccb38ab028ade,Remove unnecessary endianness check in datetime test (#4113),Elliott Sales de Andrade,quantum.analyst@gmail.com,2018-10-21 09:26:56-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-21 09:26:56-04:00
f89d92687a655efde0c7b92c71571c24928f0e49,Fix invalid escape sequences with raw strings (#4112),Elliott Sales de Andrade,quantum.analyst@gmail.com,2018-10-21 09:59:32-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-21 09:59:32-04:00
2b47098b4fc08e1edcf98d839b5485807aadb330,"Change docs to reflect meeting frequency change (#4061)

Previously we held a short weekly developer meeting.  This was sparsely
attended.  We're changing this to be longer in time but less frequent.",Matthew Rocklin,mrocklin@gmail.com,2018-10-22 08:11:30-04:00,GitHub,noreply@github.com,2018-10-22 08:11:30-04:00
b1f06aa605dcdd801bec012bf025be12d91d5bc1,"Avoid warnings and deprecated pandas methods (#4115)

* Avoid using deprecated ix method

* avoid warning in broadcast_shapes

* avoid some np.matrix warnings

* catch more nan warnings in dataframe tests",Matthew Rocklin,mrocklin@gmail.com,2018-10-22 18:27:40-04:00,GitHub,noreply@github.com,2018-10-22 18:27:40-04:00
df7db48145b5a61e2f5fab7aa89da3256c8877e3,"Set name=False in array foo_like functions (#4116)

This avoids tokenization when passed numpy arrays

Fixes https://github.com/dask/dask/issues/3946",Matthew Rocklin,mrocklin@gmail.com,2018-10-23 11:01:16-04:00,GitHub,noreply@github.com,2018-10-23 11:01:16-04:00
7c10c0d71001990f6682c8a2f638a862e412da92,"Raise an error on the use of the get= keyword and set_options (#4077)

Previously we used to warn if the user used the `get=` keyword.

Now we raise a TypeError

Fully deprecate dask.set_options",Matthew Rocklin,mrocklin@gmail.com,2018-10-23 11:02:07-04:00,GitHub,noreply@github.com,2018-10-23 11:02:07-04:00
62fded33aad791c3ad2bf2f78bae7a150995f639,"Remove dask.array.ghost module (#4121)

* Remove dask.array.ghost module

This was deprecated a few releases ago.
We include an informative error pointing users to dask.array.overlap

* skip doctests in dask/array/ghost

* Exception -> ImportError",Matthew Rocklin,mrocklin@gmail.com,2018-10-23 16:41:33-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-23 15:41:33-05:00
720cb14e09f74ea56aac10398729ff96729ec4ba,"Docs: Update user-interfaces.rest [skip ci] (#4124)

This PR updates `user-interfaces.rst` with some corrections to sentences,  header titles, lists, and punctuation. 

Nothing major, but there are some changes here and there across the file.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-24 01:21:58+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-23 20:21:58-04:00
386cd3811ae686e5864515c88af01318be551009,"Update issue template (#4119)

We now ask people not to double-post

And we point to the minimal-bug-reports blogpost",Matthew Rocklin,mrocklin@gmail.com,2018-10-24 13:05:32-04:00,GitHub,noreply@github.com,2018-10-24 13:05:32-04:00
a8a5221540740c392521df17fe4d91c8329c1215,"Fix use of getargspec in dask array (#4125)

Fixes to ensure compatibility with __array_function__ in NumPy

fixes #4111",Stephan Hoyer,shoyer@gmail.com,2018-10-24 11:25:47-07:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-24 14:25:47-04:00
abfd5a65ab5ff392d2bdcaee197b7030397ac924,Adds dask.array.invert (#4127),Anderson Banihirwe,axbanihirwe@ualr.edu,2018-10-24 13:41:55-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-24 15:41:55-04:00
11d30b5154820289bfa58fd5bdf19844f5d10add,"Raise informative error on arg-reduction on unknown chunksize (#4128)

Fixes https://github.com/dask/dask/issues/3108",Matthew Rocklin,mrocklin@gmail.com,2018-10-24 17:21:39-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-24 16:21:39-05:00
b007f2ae4dc915a4c1ad8337cd90567dc57182e7,"Swap 'old' and 'previous' when reporting append error (#4130)

Fixes #3553",Martin Durant,martindurant@users.noreply.github.com,2018-10-24 17:27:41-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-24 17:27:41-04:00
649e8602666b3f19244469ffe01560aaa40fc74f,"Normalize reversed slices in dask array (#4126)

Fixes #2994",Matthew Rocklin,mrocklin@gmail.com,2018-10-24 17:30:31-04:00,GitHub,noreply@github.com,2018-10-24 17:30:31-04:00
b67f835e41598e615adbc16e34109fc05fac1c74,"Docs: Update array.rst [skip ci] (#4133)

This PR updates `array.rst` with some fixes to punctuation, grammar and other corrections. Nothing major.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-25 00:33:25+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-24 19:33:25-04:00
40bac17b35553e6c2f50e6c22e2f6a8f005f5045,Fix invert docstring (#4131),Anderson Banihirwe,axbanihirwe@ualr.edu,2018-10-24 17:49:31-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-24 19:49:31-04:00
5632659f377685cc8aa5a82a03591addeb8ff67f,"Allow arg reductions on unknown chunks on different axes (#4135)

-  Allow arg reductions on unknown chunks on different axes
-  support single chunk case",Matthew Rocklin,mrocklin@gmail.com,2018-10-25 12:24:56-04:00,GitHub,noreply@github.com,2018-10-25 12:24:56-04:00
4f29a044bacee983d3a93afad2e1978756c82068,"Add import for ADL, and add docs (#4132)",Martin Durant,martindurant@users.noreply.github.com,2018-10-25 12:26:06-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-25 12:26:06-04:00
e4f9ad6ad8b689d722124a3fa659f7b9e9d4e837,"Docs: Update `array-chunks.rst` [skip ci] (#4139)

This PR updates `array-chunks.rst` with minor corrections.

At the end, I've expanded `da.ones` to `dask.array.ones` because there was no mention in the text or previous pages about the abbreviation of `dask.array` to `da`. Besides this change, no other modifications have been made to the text.",M. Farrajota,farrajota@users.noreply.github.com,2018-10-26 12:37:23+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-26 07:37:23-04:00
22e105cbab96769d300c5e0ff24026098c8378bc,Make target directories in redirects if they don't exist [skip ci] (#4136),Matthew Rocklin,mrocklin@gmail.com,2018-10-26 07:37:54-04:00,GitHub,noreply@github.com,2018-10-26 07:37:54-04:00
faab2a4f5b37972f412b1c209877f82a1fb828ab,"Avoid collections.Mapping/Sequence (#4138)

These are deprecated",Matthew Rocklin,mrocklin@gmail.com,2018-10-26 07:37:59-04:00,GitHub,noreply@github.com,2018-10-26 07:37:59-04:00
f52e073b89469c2d687aa7a93f55e57992f8b16e,bump version to 0.20.0,Matthew Rocklin,mrocklin@gmail.com,2018-10-26 15:42:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-26 16:01:30-04:00
846b64b15e28076c3570d1a08d0e714882e9f16d,"Only allocate the result space in wrapped_pad_func (#4153)

Previously `wrapped_pad_func` was copying the input `array` into
`result` and then overwriting it. However the copy shouldn't be needed
as it isn't used. Thus this uses `np.empty` to create the NumPy array
with correct shape and type instead leaving filling it to the `for`-loop
below.",jakirkham,jakirkham@gmail.com,2018-10-30 12:01:58-04:00,GitHub,noreply@github.com,2018-10-30 12:01:58-04:00
ddfa6ccfce58015d08b6148301b5c6f6a794fb25,"Add fix for  DataFrame.__setitem__ for index (#4151)

Fixes #3818",Anderson Banihirwe,axbanihirwe@ualr.edu,2018-10-30 11:32:52-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-30 13:32:51-04:00
47626c494ce1336ff3abb740ccb34c557fc605ed,Dask.config set and get normalize underscores and hyphens (#4143),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-10-31 02:43:27-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-31 03:43:27-04:00
2e17e9d3c31f1f40c6490610a38311c743d4c9a7,Fix documentation in Delayed best practices example that returned an empty list (#4147),Jonathan Fraine,exowanderer@users.noreply.github.com,2018-10-31 10:10:07-04:00,Matthew Rocklin,mrocklin@gmail.com,2018-10-31 10:10:07-04:00
09c795fc636c4eaeb2b62d370a8d0868347b0bb4,"Generalize expand_pad_width to expand_pad_value (#4150)

As we use this function both with widths and statistical values, which
are not widths, rename it to something more fitting like
`expand_pad_value`.",jakirkham,jakirkham@gmail.com,2018-10-31 12:29:29-04:00,GitHub,noreply@github.com,2018-10-31 12:29:29-04:00
9adbab6e3eb10616638fc3903c07df7d0815ebaa,"Docs: Update array-creation.rst (#4164)

This PR updates `array-creation.rst` with some punctuation and naming corrections among other small improvements.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-01 16:11:29+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-01 12:11:29-04:00
66f5e0bbb31c503063616610475c50deaf1eccb8,"Test da.pad with 2D linear_ramp case (#4162)

As adding `linear_ramp`s is a little more sophisticated than some of the
other forms of padding, check to make sure it is behaving as expected
when there is more than one dimension involved.",jakirkham,jakirkham@gmail.com,2018-11-01 18:24:58-04:00,GitHub,noreply@github.com,2018-11-01 18:24:58-04:00
54b924157865cc2fc9a9ae398e170974b6f8046a,"Fix import for broadcast_to. (#4168)

* Fix import for broadcast_to.

The import fails when it's not imported from numpy.

* Use only np.broadcast_to.

As mentioned in comments, the fallback version of broadcast_to has been removed.

* Use np.broadcast_to instead of chunk.broadcast_to

These were always using NumPy's `broadcast_to` or our compat version of
it. So changing them to use NumPy directly should be fine.

* Drop unused import to fix flake8 error",samc0de,sssam.sam@gmail.com,2018-11-05 20:58:12+05:18,Jim Crist,jcrist@users.noreply.github.com,2018-11-05 09:40:12-06:00
37a29c5f97e2f60c78179f6e412900c1288aa608,"Only subs on core collections, not subclasses (#4159)

This avoids bad behavior with subclasses like namedtuples

Fixes #4158",Matthew Rocklin,mrocklin@gmail.com,2018-11-05 10:44:22-05:00,jakirkham,jakirkham@gmail.com,2018-11-05 10:44:22-05:00
68a7f08601eae3ea819711b31eeba5e83b8fe4a7,"Rewrite Dask Array's `pad` to add only new chunks (#4152)

* Create `get_pad_shapes_chunks` helper function

Adds a helper function for getting the shapes and chunks for the arrays
to be padded on either end of the result. Useful in conjunction with
broadcasting operations like those in `pad_edge` or `pad_stats`.

* Create `linear_ramp_chunk` helper function

Adds a helper function to be used for chunks in the Dask graph in the
`linear_ramp` case of `pad` to build border chunks.

* Rewrite Dask Array's `pad` to add only new chunks

In nearly all cases Dask Array's `pad` would handle the intended padding
in new chunks concatenated around the input array. This is nice as it
ensure the original array is passed through unaltered with padding
chunks being generated (possibly using the original arrays data) as
needed by downstream computations.

However this was not the case for the `constant`, `edge`, and
`linear_ramp` modes where NumPy's `pad` was called on the edge chunks
instead. This could be bad for a few reasons. First the edge chunks
would increase in size based on the padding width in these specific
cases. Second NumPy's `pad` appears to have performance penalties (due
to temporaries and copying) if these array chunks are quite large. Third
inconsistent handling of chunking in modes causes unnecessary confusion.

To fix these issues, this rewrites Dask Array's `pad` in these cases to
not make use of NumPy's `pad`. Instead it performs the padding
operations itself by building up the chunks for each dimension on either
end and concatenating them with the original array. Thus the original
array is simply passed through while padded chunks are generated around
the edges.

* Drop `np_pad` wrapper

As we no longer use the `np_pad` wrapper function in, `pad_edge` or any
of the other padding functions, go ahead and drop it.",jakirkham,jakirkham@gmail.com,2018-11-05 11:31:34-05:00,GitHub,noreply@github.com,2018-11-05 11:31:34-05:00
2ec208f124b08b5ea34dd55be8741db9defad1af,"Add block_size=0 option to HTTPFileSystem. (#4171)

For servers which don't just ignore bytes range requests, but
actually error and don't provide any data.",Martin Durant,martindurant@users.noreply.github.com,2018-11-05 15:09:06-05:00,GitHub,noreply@github.com,2018-11-05 15:09:06-05:00
c966e078ae4dc195a24434498ca31e145bb6bc62,"Docs: Update array-overlap.rst [skip ci] (#4175)

This PR updates `array-overlap.rst` with a few punctuation improvements (minor stuff only).",M. Farrajota,farrajota@users.noreply.github.com,2018-11-06 05:45:43+00:00,jakirkham,jakirkham@gmail.com,2018-11-06 00:45:43-05:00
5255092ecb98858451d35efaedb3ae03036870b1,"Fix column choice when passing list of files to fastparquet (#4174)

* Fix column choice when passing list of files to fastparquet

* Invert choice",Martin Durant,martindurant@users.noreply.github.com,2018-11-06 13:42:39-05:00,GitHub,noreply@github.com,2018-11-06 13:42:39-05:00
005622faa1ea7cfaf529225fb7a9433d3749164c,"Add traverse support for dataclasses (#4165)

* Add traverse support for dataclasses

* final cleanups",Armin Berres,github@space-based.de,2018-11-07 18:01:34+01:00,Jim Crist,jcrist@users.noreply.github.com,2018-11-07 11:01:34-06:00
6c7f42f2d9d0b76dd2520f1da2050b7aa463420a,Trivial typo in docstring (#4183),Carlos Valiente,carlos@pepelabs.net,2018-11-07 18:54:22+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-07 13:54:22-05:00
ceb618f101932f53063adca011a0b0cbf71ae00d,"Docs: Update array-sparse.rst [skip ci] (#4185)

This PR updates `array-sparse.rst` with some punctuation and naming convention corrections and a few words here and there to improve clarity (no major changes)",M. Farrajota,farrajota@users.noreply.github.com,2018-11-08 12:59:34+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-08 07:59:34-05:00
113457b692034d8a15f521a33be88a1183bcfae0,"Avoid optimization on sharedicts without dependencies (#4181)

When users construct Sharedicts manually they may not provide
dependencies.  If so, we should just avoid optimizing gracefully.

Fixes #4176",Matthew Rocklin,mrocklin@gmail.com,2018-11-08 08:00:06-05:00,GitHub,noreply@github.com,2018-11-08 08:00:06-05:00
45cf19876f278671ad9a3a38f953823dbc049b2e,"Pass engine_kwargs from read_sql_table to sqlalchemy (#4187)

Enables users to pass specific database parameters to sqlalchemy

Fixes #2975",Damien Garaud,damien.garaud@gmail.com,2018-11-08 21:50:51+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-08 15:50:51-05:00
072709c6c045ed3bdbd3af709d7deab98ad4989a,"Docs: Update array-slicing.rst (#4192)

This PR updates `array-slicing.rst` with a rewording of some sentences to improve readability, but nothing major.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-09 12:41:00+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:41:00-05:00
c09f1a20b9e825885c77001a757d57d822a72858,"Docs: Update array-linear-operator.rst (#4191)

This PR updates `array-linear-operator.rst` with a small rewording of a sentence.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-09 12:41:23+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:41:23-05:00
ede4c420419cdc4b1f3ad308752e0a2470c3ec89,"Docs: Update array-stats.rst (#4190)

This PR fixes a typo in  `array-stats.rst`.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-09 12:41:46+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:41:46-05:00
0e6340083370c34b02a6809701052f991528e644,Update the pytest version for TravisCI (#4189),Damien Garaud,damien.garaud@gmail.com,2018-11-09 13:42:05+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:42:05-05:00
06cf3de619fd58868f360d23ad9a20fdc783a23e,"Validate index inputs to atop (#4182)

Fixes https://github.com/dask/dask/issues/4177",Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:42:28-05:00,GitHub,noreply@github.com,2018-11-09 07:42:28-05:00
00b343953baba29146cb55a55e9bb80dddc3d535,"Docs: Update array-design.rst (#4180)

This PR updates `array.design.rst` with minor corrections to punctuation and some wording improvements.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-09 12:42:52+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:42:52-05:00
c7b9ee3cb16f1381f1997bbb4ee1e20f56fe663e,"Use key_split rather than funcname in dot names (#4160)

Use key_split rather than funcname in dot names

Also remove labels for data boxes

Fixes #4146

Add partition/chunk index labels to boxes",Matthew Rocklin,mrocklin@gmail.com,2018-11-09 07:43:20-05:00,GitHub,noreply@github.com,2018-11-09 07:43:20-05:00
df4c6dc05461c77d568e747dfceb5043c065fb4d,bump version to 0.20.1,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 13:44:36-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-09 13:44:36-05:00
a6a6440cf37b30f6859fba10e70f19a591cab5f3,"Docs: Update array-stack.rst [skip ci] (#4197)

This PR only adds a single comma to `array-stack.rst`.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-13 19:19:48+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-11-13 13:19:48-06:00
dce686397c0998afc24bda3ddeedc53e7515a8ab,"Docs: Update dataframe.rst [skip ci] (#4204)

This PR updates `dataframe.rst` with mostly fixes to punctuation and naming conventions (several small changes overall)",M. Farrajota,farrajota@users.noreply.github.com,2018-11-14 03:43:29+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-13 21:43:29-06:00
11efbc6f87f60b08a19a36dbb8467ff0c7320178,"Improve memory footprint for dataframe correlation (#4193)

Update the 'cov_corr_chunk' function in order to avoid multiple 3D ndarrays
instances.

Fixes #4106",Damien Garaud,damien.garaud@gmail.com,2018-11-14 13:33:55+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-14 07:33:55-05:00
fefdbab5b51d69d21cd7e362ad9347de3c6c42bb,"Docs: Update array-gufunc.rst (#4198)

This PR updates `array-gufunc.rst` with few corrections to punctuation and wording.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-14 12:34:27+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-14 07:34:27-05:00
dae2730000ea42a186e11434b2c2fdbbf43a347e,"Docs: Update bag.rst (#4199)

This PR updates `bag.rst` with a single fix: split *Dask.Bag* to *Dask Bag*.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-14 12:34:46+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-14 07:34:46-05:00
09501d43bf6fd7fe84f163fc94cd13e564a90879,"Docs: Update bag-overview.rst (#4200)

This PR updates `bag-overview.rst` with some corrections to name conventions and punctuation along with some rewording of some sentences to improve clarity.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-14 12:35:20+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-14 07:35:20-05:00
996a53cd3713dcfdd1ae733d7f2bb4e0592f056f,"Docs: Update bag-creation.rst (#4202)

This PR updates `bag-creation.rst` with fixes to punctuation, naming conventions and some rewording of a few sentences to improve clarity.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-14 12:35:52+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-14 07:35:52-05:00
d4fe52975d1b3c5ca1f13e045fdf6f1ddd40e6cd,Add stats module namespace [skip ci] (#4206),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-14 10:04:37-06:00,Jim Crist,jcrist@users.noreply.github.com,2018-11-14 10:04:37-06:00
8f60d0aeb0b2580c2f7a4becd5e64559d92bb001,Fix link in dataframe documentation (#4208),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-14 13:18:53-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-14 14:18:53-05:00
5e08c7b3fba9057fe927c6b7f16948b270de43b0,"Docs: Update dataframe-create.rst (#4209)

This PR updates `dataframe-create.rst` with some punctuation and naming convention corrections, and some rewording of some sentences to improve clarity (small changes only, the usual stuff).",M. Farrajota,farrajota@users.noreply.github.com,2018-11-15 12:29:37+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-15 07:29:37-05:00
d32eba24c120945b08ad10cddbc91b58b9e2e9a0,"Avoid fusing dependencies of atop reductions (#4207)

Previously we were comfortable fusing atop computations that contained
reductions with their dependencies.  This had two problems:

1.  The non-reduction functions would receive lists of arrays that they
    didn't know how to handle
2.  We would have more data in ram for a task than was perhaps intended.

Now we avoid traversing past atop computations where reductions occur.

Fixes #4201",Matthew Rocklin,mrocklin@gmail.com,2018-11-15 07:30:23-05:00,GitHub,noreply@github.com,2018-11-15 07:30:23-05:00
94b07eac1ceb235b72ee059a536dbb1c1ccfea8a,"Add empty DataFrame check to boundary_slice (#4212)

Fixes #4211",James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-15 07:51:34-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-15 08:51:34-05:00
f74a9e9f8a73b6f9d1e15c54f40f2c83ea801657,bump version to 0.20.2,Matthew Rocklin,mrocklin@gmail.com,2018-11-15 09:08:19-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-15 09:08:19-05:00
a1a7068e99a6c3ba0ada959110fed95a1493ebf8,"Docs: Update dataframe-performance.rst (#4222)

This PR updates `dataframe-performance.rst` with several punctuation and naming convention corrections, plus some sentences were slightly modified to improve clarity by adding/replacing some words here and there. It may look like a lot has changed, but it is mostly small changes / corrections over many lines.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-18 13:46:42+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-18 08:46:42-05:00
a861ea61aa3d8a8ef7f2c7bbee1e5b4bb345c012,"Docs: Update dataframe-design.rst (#4224)

This PR updates `dataframe-design.rst` with a few corrections to punctuation and naming conventions (small stuff only).",M. Farrajota,farrajota@users.noreply.github.com,2018-11-19 13:23:10+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-19 08:23:10-05:00
e178551faa80023c758cd6e891a8d22a7fd61ad2,"Docs: Update dataframe-groupby.rst (#4228)

This PR updates `dataframe-groupby.rst` with a few corrections to grammar, punctuation and naming conventions (nothing major here)",M. Farrajota,farrajota@users.noreply.github.com,2018-11-19 23:53:19+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-19 17:53:19-06:00
51a6e6f02d87e984f1a491bbbd8b2d8135e59821,"Docs: Update dataframe-extend.rst (#4231)

This PR updates `dataframe-extend.rst` with a few punctuation and naming convention corrections (minor stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-11-21 13:13:16+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-21 08:13:16-05:00
ca2ea72f1dcd6363c0fa6c453911f0768168b4c2,Add index to to_dask_dataframe docstring (#4232),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-21 07:14:29-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-21 08:14:29-05:00
22922239e8c4bc5f8fbff046eec0dd137beeff47,Avoid a few warnings (#4223),Matthew Rocklin,mrocklin@gmail.com,2018-11-21 09:51:23-05:00,GitHub,noreply@github.com,2018-11-21 09:51:23-05:00
8254115cb312cec907f6201ee904068ddb64f687,"Docs: Update dataframe-indexing.rst (#4230)

This PR updates `dataframe-index.rst` with a few naming convention corrections (only minor stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-11-21 14:53:47+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-21 09:53:47-05:00
cdba62004f3b424b595a3620a8e77ae349ea002d,Add nancumsum/nancumprod unit tests (#4215),crusaderky,crusaderky@gmail.com,2018-11-21 21:30:55+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-21 16:30:55-05:00
a528044e561244ee4ca665f18a064fe563050bfc,"Remove dask.store module (#4221)

This was a very old experiment that we've ignored for the past several years.",Matthew Rocklin,mrocklin@gmail.com,2018-11-21 16:31:36-05:00,GitHub,noreply@github.com,2018-11-21 16:31:36-05:00
7b79004b56e855f390920a2d000fd3f68217d167,"Docs: Update delayed.rst (#4234)

This PR updates `delayed.rst` with few punctuation and naming conventions corrections (minor stuff), and reworded a sentence to improve clarity (added a couple of connection words).",M. Farrajota,farrajota@users.noreply.github.com,2018-11-26 13:35:10+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-26 08:35:10-05:00
454b50cdbdaf42a589f178c84b21e7965b1e6f75,"Docs: Update delayed-collections.rst (#4235)

This PR updates `delayed-collections.rst` with a few punctuation and naming convention corrections (some slight modifications w.r.t. naming conventions to improve clarity)",M. Farrajota,farrajota@users.noreply.github.com,2018-11-26 13:35:38+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-26 08:35:38-05:00
5267a75e98e78d6dc10402b7779d029c82cfda74,"Remove AUTHORS.md [ci skip]

This hasn't been updated in years, and is a poor record of all the
contributors who have spent time submitting and reviewing PRs. Better to
just remove it and rely on git instead.",Jim Crist,jiminy.crist@gmail.com,2018-11-26 08:18:13-06:00,Jim Crist,jcrist@users.noreply.github.com,2018-11-26 09:16:52-06:00
cb5b9991d9e254fb99a5c9136c54be55e683b636,"Text and fix when appending categoricals with fastparquet (#4245)

* Text and fix when appending categoricals with fastparquet

* remove pdb",Martin Durant,martindurant@users.noreply.github.com,2018-11-26 12:27:21-05:00,GitHub,noreply@github.com,2018-11-26 12:27:21-05:00
dbb814561c49f07fb6e188eae8d44faf9d6089e3,"Don't reread metadata when passing ParquetFile to read_parquet (#4247)

* Don't reread metadata when passing ParquetFile to read_parquet

Fixes #4243

* path for py35",Martin Durant,martindurant@users.noreply.github.com,2018-11-26 16:42:35-05:00,GitHub,noreply@github.com,2018-11-26 16:42:35-05:00
6e3431edd520b861fdd5da4d852e80f0ed431ecd,Updated doc for the new scheduler keyword (#4251),milesial,milesial@users.noreply.github.com,2018-11-27 21:47:03+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-27 15:47:03-05:00
60f488cf7358d14c523f84de9afbb10022818367,"Docs: Update delayed-best-practices.rst (#4254)

This PR updates `delayed-best-practices.rst` with some corrections to punctuation and naming conventions. Additionally, a few words have been added to a couple of sentences to improve clarity.",M. Farrajota,farrajota@users.noreply.github.com,2018-11-27 23:02:05+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-27 18:02:05-05:00
38676863a6ae336bcb307a29a521de32480722b0,"bump version to 1.0.0

Note that no major change has happened with this version bump.
This is mostly to signal that Dask is production-ready, which has been
true for a long time.",Matthew Rocklin,mrocklin@gmail.com,2018-11-28 10:44:54-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-28 10:44:54-05:00
2b53bb4c396dbf0cd4267c488c23700620fde0b3,Add fill_value support for series comparisons (#4250),James Bourbeau,jrbourbeau@users.noreply.github.com,2018-11-29 06:46:11-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-29 07:46:11-05:00
1cff4821300210139068600cd9e5948d3dc6f90a,"Fix the average function when there is a masked array (#4236)

* add a unit test about the average function and masked arrays

The Dask average function does not take into account the masked when the sum of weights is computed.

* Fix the average function when there is a masked array

Sum of weights takes into account the masked array if exists.

close #3846

* Move the average with masked array test to test_ma.py

* Implement the average with masked array in the dask.ma module

add the _average wrapper which shared the average implementation
between da.average and da.ma.average",Damien Garaud,damien.garaud@gmail.com,2018-11-29 18:51:35+01:00,Jim Crist,jcrist@users.noreply.github.com,2018-11-29 11:51:35-06:00
7247ce666f7c277a231f59b175761d05b881884d,Fix link to 'map_blocks' function in array api docs (#4258),David Hoese,david.hoese@ssec.wisc.edu,2018-11-29 23:34:08-06:00,jakirkham,jakirkham@gmail.com,2018-11-30 00:34:08-05:00
e6af2e42f08b0d9d3f29c00a0bd6c9c33dad2404,"Avoid recursion in dask.core.get (#4219)

* Avoid recursion in dask.core.get

Instead we use a topological sort

This cleans up tracebacks and profiling a bit when we have large complex
tasks or graphs (as we sometimes do when fusing many sequential tasks
together)

* cull in SubGraphCallable

* Remove cull from SubgraphCallable",Matthew Rocklin,mrocklin@gmail.com,2018-11-30 11:45:01-05:00,Jim Crist,jcrist@users.noreply.github.com,2018-11-30 10:45:01-06:00
e9731f7810706fd60391d38f65c947b27b6cd548,"Add a paragraph on Dask-Yarn in the cloud docs (#4260)

Some users want to deploy on cloud-hosted hadoop clusters, we add a
paragraph to the cloud deployment docs linking to the yarn deployment
docs, and specifically the EMR example.",Jim Crist,jcrist@users.noreply.github.com,2018-11-30 16:49:24-06:00,Matthew Rocklin,mrocklin@gmail.com,2018-11-30 14:49:24-08:00
35bc6c4fc973f5de9032195fded0e048491c586b,"Docs: Update understanding-performance.rst (#4267)

This PR updates `understanding-performance.rst` with a couple of punctuation and naming convention improvements, plus some word changes / deletions in a couple of sentences to improve the flow when reading these sentences.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-05 18:26:23+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-05 10:26:23-08:00
c43215b55571b5dd9b5f92e49d3907db03fe1fbd,"Docs: Update api.rst (#4263)

This PR updates `api.rst` with a couple corrections to punctuation and naming conventions (basic, unimportant stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-05 18:33:21+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-05 10:33:21-08:00
354e7e2d43aa755a30694388998fd408e5c530fe,"Docs: Update futures.rst (#4262)

This PR updates `futures.rst` with some punctuation and typo corrections. However, I've found a couple of issues that may need some special oversight.

Two important notes:

- In the **Actors** section, some note commands were either not properly defined or were hidden on purpose, but I couldn't tell which one was it. If it was the later, then I need to revert the changes I made in order to hide the note messages.
- The last two sentences in the **Asynchronous Operation** subsection of the **Actors** section require a re-write (I've highlighted them using **  **). I'm not sure if they are supposed to be a single sentence or not, but it seems like someone forgot about them when refactoring them. Someone should take a look at them to infer their real meaning.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-05 18:35:14+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-05 10:35:14-08:00
1ce39960b0c42fe0c901c118164327c02a9dcde5,"Fix typo in code example (#4272)

dask.config.set() accepts a dictionary, not a set.",Daniel Li,daniel.li@deshaw.com,2018-12-06 12:24:12-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-12-06 11:24:12-06:00
b48d712cadfd46655d6b14847b6755e2d36786d9,"Add schema name in read_sql_table for empty tables (#4268)

* Add schema name in read_sql_table for empty tables

* Propagate the schema name from dask to pandas API.

* Another unit test for read_sql_table

* Tests #4268.
* Sqlite does not support multiple schemas; therefore, the new code
  cannot be tested using sqlite.
* Unit test is skipped because it requires a postgres connection.

* Added host and port for postgres-based unit test

* Skip test",Mina Farid,mina.farid@uwaterloo.ca,2018-12-06 17:02:38-05:00,Martin Durant,martindurant@users.noreply.github.com,2018-12-06 17:02:38-05:00
c5c10370fd6c9b5c80b5b02e243bacef79eb5f63,"Docs: Update diagnostics-distributed.rst (#4277)

This PR updates `diagnostics-distributed.rst` with a couple punctuation improvements (minor things)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-08 16:51:12+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-12-08 10:51:12-06:00
02a5bde35b17127379d6c98ae256612db48c31d8,"Remove verbose flag from pytest setup.cfg (#4281)

This was added accidentlly as we copied over the setup.cfg settings from
dask-ml.  Unfortunately this makes testing logs long enough that they don't fit
in Travis-CI easily.",Matthew Rocklin,mrocklin@gmail.com,2018-12-08 09:20:25-08:00,GitHub,noreply@github.com,2018-12-08 09:20:25-08:00
506f30b47ee3f20e2bb8733dfd80e120b7b3feac,"Doc: Update array-api.rst (#4259) (#4282)

Adds autofunction in `array-api.rst` for
 * random.choice
 * linalg.sfqr
 * overlap.trim_internal
 * overlap.trim_overlap",Prabakaran Kumaresshan,k_prabakaran@hotmail.com,2018-12-09 00:25:21+05:18,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-12-08 13:07:21-06:00
e20c6aaccba8328b746e546314224a26932c8f33,Update hpc doc (#4266),Guillaume Eynard-Bontemps,g.eynard.bontemps@gmail.com,2018-12-09 03:17:13+01:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-08 21:17:13-05:00
9c3163758b8691a91dd3c746fe89ddd68470d549,"Docs: Update diagnostics-local.rst (#4271)

This PR updates `diagnostics-local.rst` with some corrections to punctuation, naming conventions and other improvements to clarity of sentences. Furthermore, a refactor of the last list style has been done in order to match the rest of the documentation's style.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-09 02:19:03+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-08 21:19:03-05:00
1f43fe73267c3ba590e021a36be17ab73a0f3c5b,"Docs: Update debugging.rst (#4279)

This PR updates `debugging.rst` with punctuation, naming conventions, and typo corrections, plus a couple of rewording os some sentences has been used to improve clarity.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-09 02:19:42+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-08 21:19:42-05:00
8bd87a42cc59ff2f50633cbfca6805a01843e2fe,"Support Pytest 4.0 by specifying marks explicitly (#4280)

Fixes #4278",Takahiro Kojima,12kojima.takahiro@gmail.com,2018-12-10 00:11:25+09:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-09 10:11:25-05:00
1bd06e5e3fa76f37c286338b99536770e5641ac2,"Docs: Update `scheduling.rst` (#4265)

This PR updates `scheduling.rst` with some punctuation, naming conventions and typo corrections (a couple). Also, a few connecting words were sprinkled here and there to improve clarity of some sentences.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-10 03:26:20+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-09 22:26:20-05:00
9f870d17e6fcae00ab010c86a5b182b2ecf214b8,"High Level Graphs (#4092)

Fixes #4038

This implements a HighLevelGraph that stores the task graphs of our collections in layers, generally one layer per high level operation. Today this doesn't add any new features except for easier inspectability and visualization, but it opens the door for new and exciting features in the future, notably high-level expression optimization.",Matthew Rocklin,mrocklin@gmail.com,2018-12-10 18:33:40-05:00,GitHub,noreply@github.com,2018-12-10 18:33:40-05:00
bb50d4122e0af14b145d478b5b713a63e8de7ab1,Add allow_unknown_chunksizes to hstack and vstack (#4287),Paul Vecchio,paul.vecchio@zefr.com,2018-12-11 14:07:59-08:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-11 17:07:59-05:00
3ce1a7bdcac7ffe6d0f572c361dd2b6e11c16ce8,"Fixes for SerializableLock (#4294)

locked() should be a method (this version was both broken and untested).

acquire() now supports keyword arguments, e.g., lock.acquire(blocking=True).",Stephan Hoyer,shoyer@gmail.com,2018-12-12 12:38:05-08:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-12 15:38:05-05:00
7f1c4eb999565941ef85ad9dcfb1336f894186b4,"Docs: Update spec.rst [skip ci] (#4295)

This PR updates `spec.rst` with minor corrections to punctuation and naming convention",M. Farrajota,farrajota@users.noreply.github.com,2018-12-12 22:54:14+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-12-12 16:54:14-06:00
e42e11db768152ed9c0e36bea570e29d3c39b697,"Docs: Update graphs.rst (#4293)

This PR updates `graphs.rst` with a couple punctuation improvements and a few naming convention corrections (simple changes)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-14 13:44:20+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-14 08:44:20-05:00
193e61403ccb3e1a13451a338f42018fe6cc9250,"Docs: Update custom-graph.rst [skip ci] (#4296)

This PR updates `custom-graph.rst` with some punctuation and naming corrections/improvements, and a few sentences were slightly changed to improve clarity",M. Farrajota,farrajota@users.noreply.github.com,2018-12-14 13:44:44+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-14 08:44:44-05:00
6a507fdd96fdd938f7a577d75fca547e59f55a4c,"Docs: Update optimize.rst (#4302)

This PR updates `optimize.rst` with some punctuation and naming convention corrections (nothing major).",M. Farrajota,farrajota@users.noreply.github.com,2018-12-15 20:47:08+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2018-12-15 14:47:08-06:00
b5e09b48b63570abde20bf053d33e42c3637a2f0,Fix tensordot for 27+ dimensions (#4304),Johnnie Gray,jcmgray@users.noreply.github.com,2018-12-15 22:06:18+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-15 17:06:18-05:00
b8bd7f1289b45a64443d243e2405cad3ed03a2d3,"boto3 appears to be out of sync with moto; pin boto3 to earlier version (#4276)

* boto3 appears to be out of sync with moto; pin boto3 to earlier version

Also revealed multi-file write bug, now fixed

* moto as conda

* try pin botocore

* try to prevent boto plugins search

* Try BOTO_CONFIG=/dev/null

https://github.com/boto/boto/issues/3717#issuecomment-445054921

* Set AWS_SECRET_ACCESS_KEY and AWS_ACCESS_KEY_ID env vars

* Newer moto from pip

* Mock HTTP requests for bytes tests

* Adds a fixture with simulated taxi data
* Changes the s3 scope to session

* Use moto context managers",Martin Durant,martindurant@users.noreply.github.com,2018-12-16 15:10:57+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-12-16 09:10:57-06:00
d00b1f933d16a0a73caec7a8d06de6e2ad67ac03,"Adjust check for bad chunks in map_blocks (#4308)

* Adjust check for bad chunks in map_blocks

* Finish comment",Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-12-17 15:51:30-06:00,Jim Crist,jcrist@users.noreply.github.com,2018-12-17 15:51:30-06:00
c767672b886bbf6547f9dc3245c937f5668c589b,"Fixed block_info with axes. (#4301)

Closes https://github.com/dask/dask/issues/4298",Tom Augspurger,TomAugspurger@users.noreply.github.com,2018-12-17 15:51:48-06:00,Jim Crist,jcrist@users.noreply.github.com,2018-12-17 15:51:48-06:00
625b8e6bd43a7a634b3c582fad750749725dc05c,"Docs: Update custom-collections.rst [skip ci] (#4306)

* Docs: Update custom-collections.rst [skip ci]

This PR updates `custom-collections.rst` with several punctuation and naming convention corrections, plus a few improvements to a few sentences to improve clarity and relocated a `note` text block.

* Refactor sentence [skip ci]",M. Farrajota,farrajota@users.noreply.github.com,2018-12-17 23:38:55+00:00,Jim Crist,jcrist@users.noreply.github.com,2018-12-17 17:38:55-06:00
3a62f7f2258ef8ef2c791c95ee2957cace3b5f12,"Docs: Update cheatsheet.rst (#4318)

This PR updates `cheatsheet.rst` with a couple of naming convention corrections.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-20 14:22:09+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-20 09:22:09-05:00
a1ee406d1bc12ceaf09a762c6fc7976b5dc2baea,"Docs: Update develop.rst (#4314)

This PR updates `develop.rst` with some punctuation improvements and naming convention corrections (minor stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-20 14:24:02+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-20 09:24:02-05:00
11ea6d608bee6b4b8c41ffb619be6dd3c04cdd13,"Doc: Replace from_avro with read_avro in documents (#4313)

This replaces from_avro with read_avro in bag-api.rst and bag-creation.rst.

Fixes #4283",Prabakaran Kumaresshan,k_prabakaran@hotmail.com,2018-12-20 19:43:04+05:18,Matthew Rocklin,mrocklin@gmail.com,2018-12-20 09:25:04-05:00
4aee6e2646f4d147ae4be05719b8191aca24192d,"Docs: Update high-level-graphs.rst (#4309)

This PR updates `high-level-graphs.rst` with some punctuation and naming convention corrections, plus a couple typos",M. Farrajota,farrajota@users.noreply.github.com,2018-12-20 14:26:23+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-20 09:26:23-05:00
4e308dae51eebeca28bf7b54b43e84e8ff6b7220,"Docs: Update configuration.rst (#4317)

This PR updates `configuration.rst` with some punctuation improvements and naming convention corrections. Additionally, a fix to a highlighted string is applied, and also it is slightly reordered in the sentence to improve its reading flow (at least for me it looks slightly better formatted this way).",M. Farrajota,farrajota@users.noreply.github.com,2018-12-20 14:37:18+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-20 09:37:18-05:00
0954816db6c9642bbfa59374cf1caaef73bc5286,"Docs: Update bytes.rst (#4326)

This PR updates `bytes.rst` with some punctuation improvements and fixes a couple of formatting issues involving highlighted text within italic text.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-23 16:24:11+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-23 08:24:11-08:00
9fa816b727ce22c6c4e150559fe4efdccaae7b1f,"Docs: Update caching.rst [skip ci] (#4325)

This PR updates `caching.rst` with punctuation improvements and naming convention corrections (small stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-23 16:24:36+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-23 08:24:36-08:00
677d62a35bae0fb964472b604bc52ef91b46ea22,"Treat None as missing in config when updating (#4324)

Sometimes users provide None/null in configuration to indicate that they
don't have a value.

Previously this would break when we went to merge configurations.

Now we accept merging a dict into None, replacing the None value rather than
erring.",Matthew Rocklin,mrocklin@gmail.com,2018-12-23 08:24:53-08:00,GitHub,noreply@github.com,2018-12-23 08:24:53-08:00
6c67788a96c775ec653595fb1ee6f3d28186b394,"Docs: Update spark.rst [skip ci] (#4322)

This PR updates `spark.rst` with some punctuation improvements and naming convention corrections (simple stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-23 16:25:22+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-23 08:25:22-08:00
7f88c54e96b7bb276d6d44eefc23a5b7fff0568e,"Add dask.dataframe.read_fwf (#4316)

Fixes #4305",slnguyen,slnguyen2@gmail.com,2018-12-23 13:38:22-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-23 10:38:22-08:00
d63ad2a4a74ff88e6f7b670e9fb5e4bb4c0d667b,"Use atop fusion in dask dataframe (#4229)

This brings over optimizations from dask array for high level operator fusion, 
resulting in lowered overhead.",Matthew Rocklin,mrocklin@gmail.com,2018-12-27 13:14:43-08:00,GitHub,noreply@github.com,2018-12-27 13:14:43-08:00
e03001dd225078078dd64ac76f0dc240834e0166,"Use parallel_types() in from_pandas (#4331)

This is now down rather than checking the Pandas types explicitly.
This helps with inheritance from downstream libraries.",Matthew Rocklin,mrocklin@gmail.com,2018-12-27 13:17:22-08:00,GitHub,noreply@github.com,2018-12-27 13:17:22-08:00
f291f474ecb455e236dcbf010c5dad61d102ee6a,"Change DataFrame._repr_data to method (#4330)

This makes it simpler to inherit for downstream classes",Matthew Rocklin,mrocklin@gmail.com,2018-12-28 21:34:24-08:00,GitHub,noreply@github.com,2018-12-28 21:34:24-08:00
6345ef94b5812b63fe47554536c3e66368f8be41,Install pyarrow fastparquet for Appveyor (#4338),Gbor Liptk,gliptak@gmail.com,2018-12-29 21:44:14-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-29 18:44:14-08:00
8a97ebde4fe0c23a9f1226524567f18740485662,Update Appveyor to Python 3.6 (#4337),Gbor Liptk,gliptak@gmail.com,2018-12-29 21:44:53-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-29 18:44:53-08:00
156b405fc87d5bc663c7bc7d92e9894d8da8b776,Use parse_bytes more liberally in dask.dataframe/bytes/bag (#4339),Matthew Rocklin,mrocklin@gmail.com,2018-12-31 08:57:05-08:00,GitHub,noreply@github.com,2018-12-31 08:57:05-08:00
ce7257067cd14df3c60668fbfe46b7ac17288813,Add a better error message when cloudpickle is missing (#4342),Mark Harfouche,mark.harfouche@gmail.com,2018-12-31 11:58:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-31 08:58:25-08:00
ce926ced38908f2883bc21498095d94279f4a77c,"Docs: Update remote-data-services.rst [skip ci] (#4332)

This PR updates `remote-data-services.rst` with several changes:

- punctuation and naming convention corrections
- some words have been sprinkled here and there to improve the readability of some sentences 
- fixes the formatting of a list in the **Google Cloud Storage** section
- and adds a *warning* text block in the **Azure Datalake**  section to highlight that the feature is experimental.",M. Farrajota,farrajota@users.noreply.github.com,2018-12-31 16:59:28+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-31 08:59:28-08:00
9523c323242b92b1bf89fc7b8d1ac016ff446eca,"Docs: Update user-interfaces.rst (#4333)

This PR updates `user-interfaces.rst` with some list text formatting and naming conventions corrections (small stuff)",M. Farrajota,farrajota@users.noreply.github.com,2018-12-31 17:00:08+00:00,Matthew Rocklin,mrocklin@gmail.com,2018-12-31 09:00:08-08:00
7af6fea6d3b2dde6bfaee727da57d57985db773e,Use safe_wraps for matmul (#4346),Mark Harfouche,mark.harfouche@gmail.com,2019-01-01 19:13:18-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-01 16:13:18-08:00
2ca205b263796e70c84c1398488da9bed41e080b,"Remove reference to ""get"" scheduler functions in docs [skip ci] (#4350)",Matthew Rocklin,mrocklin@gmail.com,2019-01-03 09:06:42-08:00,GitHub,noreply@github.com,2019-01-03 09:06:42-08:00
2db6e2831b41945a759defb80a6d2d3a9c8bf133,"Support pool= keyword argument in threaded/multiprocessing get functions (#4351)

* Support pool= keyword argument in threaded/multiprocessing get functions

* py27 compat",Matthew Rocklin,mrocklin@gmail.com,2019-01-06 12:56:07-08:00,Jim Crist,jcrist@users.noreply.github.com,2019-01-06 14:56:07-06:00
a6c8db82606c17134765bab900ceac46313da9eb,"config.update(): Allow updates from arbitrary Mappings, not only dicts. (#4356)",Stuart Berg,bergs@janelia.hhmi.org,2019-01-07 23:56:11-05:00,jakirkham,jakirkham@gmail.com,2019-01-07 23:56:11-05:00
44afaa5531f36a31c3a2dd6f527f62170e250052,"Move dask/array/top.py code to dask/blockwise.py (#4348)

* Move dask/array/top.py code to dask/blockwise.py

Now that dask.dataframe is also using this code we choose to rename it
away from top (tensor operation) to a more generic term, blockwise.

We also move it down to root level.

For now we keep the term dask.array.atop, though we may choose to modify
this in a future commit.

* rename dask.array.atop to dask.array.blockwise

* test old atop behavior",Matthew Rocklin,mrocklin@gmail.com,2019-01-09 12:33:59-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-09 14:33:59-06:00
7a61697665f435ceec9a504f210d34bdee4837c3,"Remove explicit pandas checks and provide cudf lazy registration (#4359)

* Add is_dataframe/series/index_like functions to dd.utils

The `check_meta` function shouldn't test only for known types, but should
accept things that it doesn't know about as long as they look like Pandas
objects.

* Add lazy registration for cudf

This is similar to how we handle cupy or pydata/sparse today",Matthew Rocklin,mrocklin@gmail.com,2019-01-09 21:55:07-08:00,GitHub,noreply@github.com,2019-01-09 21:55:07-08:00
056561db56ed285b7607cb075cb7fbfc2aca3800,"Use chunks=""auto"" in array creation routines (#4354)

This uses the chunks=""auto"" option in array creation routines like
ones, zeros, random, arange, and so on.

```python
>>> import dask.array as da

>>> x = da.ones((10000, 10000))
>>> x.chunks
((2500, 2500, 2500, 2500), (2500, 2500, 2500, 2500))
```",Matthew Rocklin,mrocklin@gmail.com,2019-01-09 22:15:14-08:00,GitHub,noreply@github.com,2019-01-09 22:15:14-08:00
72915b313e44a908931869b549b4fd3d8ac3cd88,"Fix np.matmul in dask.array.Array.__array_ufunc__ (#4363)

Fixes #4353",Stephan Hoyer,shoyer@gmail.com,2019-01-10 16:28:19-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-10 16:28:19-08:00
ed936c27226415a3f7cedad6477452ff791d4005,Fix typo in docstring (#4376),Daniel Saxton,daniel.saxton@gmail.com,2019-01-13 22:31:54-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-13 20:31:54-08:00
3e33c8773ad612e7a8079dac8de3613114065b2d,"COMPAT: Re-enable multifield copy->view change (#4357)

Numpy attempted to release a feature in 1.14.0,
https://github.com/numpy/numpy/pull/6053 which was then reverted in
1.14.1 with https://github.com/numpy/numpy/pull/10411 And then was
finally released in 1.16 by https://github.com/numpy/numpy/pull/12447

This also makes a minor enhancement to determines which numpy function
should be used at import time instead of run time.

The function name was also then updated from
_make_sliced_dtype_np_ge_14 to _make_sliced_dtype_np_ge_16 as thats
the primary version the feature was released in",Diane Trout,diane@caltech.edu,2019-01-14 11:21:19-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-14 10:21:19-06:00
5793d9742ebc7e87677a0e2c631649e2c293088d,"Replace isinstance(..., pandas) with is_dataframe_like (#4375)

This helps to provide support to non-Pandas objects that are still
Pandas-like enough to work with some Dask DataFrame's algorithms.",Matthew Rocklin,mrocklin@gmail.com,2019-01-14 08:21:57-08:00,GitHub,noreply@github.com,2019-01-14 08:21:57-08:00
d8756e2a6c8b4db944dbd9f6545762ec9377c09b,"Calling np.dtype on a delayed object works (#4387)

* Calling np.dtype on a delayed object works

Calling `np.dtype(dask.delayed(...))` used to result in a segfault, as
numpy recursively tries to get `dtype` from the object. This is likely a
bug in numpy. For now, we can do a dumb for if `x.dtype().dtype()` is
called (which shouldn't ever show up in real code).

See https://github.com/dask/dask/pull/4374#issuecomment-454381465.

* Add test that dtype attribute still works if computed",Jim Crist,jcrist@users.noreply.github.com,2019-01-15 10:30:34-06:00,GitHub,noreply@github.com,2019-01-15 10:30:34-06:00
0dbe40de09942c004d7b3bbe5a93b23897877cc4,ENH: Support 3rd-party ExtensionArrays (#4379),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-15 13:01:39-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-15 11:01:39-08:00
4e9ceba2a98588e762ab16af33f1bc3722da72f8,"Added documentation for dask.dataframe.merge (#4382)

* Added documentation for dask.dataframe.merge",Jendrik Jrdening,jendrikjoe@users.noreply.github.com,2019-01-16 16:32:29+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-16 09:32:29-06:00
cbc13115e2975d41a16f3b10d1fef8fb06d39f5b,Pandas 0.24.0 compat (#4374),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-17 08:59:54-06:00,GitHub,noreply@github.com,2019-01-17 08:59:54-06:00
ddfe9af471c37729654d29fae1c2e8248bf1cecc,"Add has_parallel_type (#4395)

This is a bit nicer than `isinstance(obj, parallel_types())` because it
works also with lazily registered types.",Matthew Rocklin,mrocklin@gmail.com,2019-01-17 07:44:27-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-17 09:44:27-06:00
7fd03753049c8d660aa1cbf46cc3ba5bcac72e86,"CI: Update Appveyor (#4381)

* CI: Appveyor CI updates

* Unpins NumPy and pandas
* updates mrocklin/sparse -> pydata/sparse
* use no-deps and explicitly list the deps we need
* pyarrow, fastparquet from cf
* added numba to env
* xfail mixed sparse
* numba, snappy
* remove failing conda-forge
* filepath bug",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-17 12:44:40-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-17 10:44:40-08:00
ed0ad39069c21dd54cd6795b86e7bb1d57b7872f,"Ignore non-readable config files (#4388)

In some setups configuration directories/files may exist but may not be
readable by a user. This used to cause an error on startup, now we
ignore these errors (mirroring the behavior other tools like git).",Jim Crist,jcrist@users.noreply.github.com,2019-01-17 12:45:21-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-17 10:45:21-08:00
6af6a727698d9994492aab0ff275dbf3c3fa6d34,"Rework normalize_array for numpy data (#4312)

This now implements the following try-except path:

1. fastpath string-based
2. fastpath byte-based
3. cPickle
4. uuid4

It therefore handles tries to be as fast as possible but can handle
invalid unicode data and unpickable data as well.",Marco Neumann,marco@crepererum.net,2019-01-18 20:40:05+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-18 12:40:05-08:00
d7c918a10c239b48d15712d68afc5cd8b11e8499,bump version to 1.1.0,Matthew Rocklin,mrocklin@gmail.com,2019-01-18 14:13:22-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-18 14:13:22-08:00
27231f7f7f73ae2425ca8784412f0b3765d384b6,Add support for cupy.einsum (#4402),Johnnie Gray,jcmgray@users.noreply.github.com,2019-01-21 19:52:07+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-21 11:52:07-08:00
7989ebd4fbca8b598274983b0aa02950597602cd,"Use SVG for pipeline graphic (#4406)

Generated from a new diagram file. Sorts the keys left-to-right. Some
minor adjustments to font and line width made as well.",jakirkham,jakirkham@gmail.com,2019-01-23 05:30:04+11:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-22 10:30:04-08:00
346cb761dbcea4711658acaa25856ee2255a509c,"Lazily register more cudf functions and move to backends file (#4396)

* Add has_parallel_type

This is a bit nicer than `isinstance(obj, parallel_types())` because it
works also with lazily registered types.

* Add more cudf lazy registrations

* Add explicit backends.py files in dask.array/dataframe

This collects lazily registered functions for cupy, sparse, scipy, and
cudf.",Matthew Rocklin,mrocklin@gmail.com,2019-01-22 17:41:25-08:00,GitHub,noreply@github.com,2019-01-22 17:41:25-08:00
94f5a6b65a8dc958956c500d9afbc192708f0c91,"Fix ORC tests for pyarrow 0.12.0 (#4413)

Explicitly set `date_as_object=False` for all versions of pyarrow where
this keyword is present. The default value was changed in pyarrow 0.12.0
to True.",Jim Crist,jcrist@users.noreply.github.com,2019-01-23 10:36:29-06:00,GitHub,noreply@github.com,2019-01-23 10:36:29-06:00
9241a2ae16c0eb54073b16bc3ae01bf40f43c90c,rearrange_by_column: ensure that shuffle arg defaults to 'disk' if it's None in dask.config (#4414),George Sakkis,george.sakkis@gmail.com,2019-01-23 19:43:58+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-23 09:43:58-08:00
81bebb682674472c9726f66e05ac351674450fd5,Implement filters for _read_pyarrow (#4415),George Sakkis,george.sakkis@gmail.com,2019-01-25 18:38:57+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-25 08:38:57-08:00
760932fdca342d9e8d863723dead1b2b955e44de,Add doctest-modules to py.test documentation (#4427),severo,danielsouzasevero@gmail.com,2019-01-26 20:34:21-02:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-26 14:34:21-08:00
16dc34c962c33063af9fe18f9e00eebe2baf89da,Avoid checking against types in is_dataframe_like (#4418),Matthew Rocklin,mrocklin@gmail.com,2019-01-27 17:57:46-08:00,GitHub,noreply@github.com,2019-01-27 17:57:46-08:00
b1fef053f24d08ff243bb0f9846405b8b4b555d3,"Fix DelayedAttr return value (#4440)

Previously we were missing a return statement",Matthew Rocklin,mrocklin@gmail.com,2019-01-29 18:29:13-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-01-29 20:29:13-06:00
d740707cd8eda476daa79b6224d5167b3ddfa452,Provide byte size in chunks keyword (#4434),Adam Beberg,beberg@mithral.com,2019-01-30 10:07:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-30 10:07:10-08:00
9db0758bb3c9347f0dc42f726b31a63e6845d998,Work around psutil 5.5.0 not allowing pickling Process objects,Dimplexion,janne.vuorela@helsinki.fi,2019-01-31 00:40:11+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-30 14:40:11-08:00
08edfbc45a8049765ce0ee4a81ccf73f3fa51077,Raise more informative error for histogram bins and range (#4430),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-01-30 20:54:28-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-30 18:54:28-08:00
bf61302f97f145ad15b96c083ce2c6b509aad87b,"Pass username as 'user' when using pyarrow (#4438)

fixes #4437",Roma Sokolov,sokolov.r.v@gmail.com,2019-01-31 18:03:22+01:00,Martin Durant,martindurant@users.noreply.github.com,2019-01-31 12:03:22-05:00
c4a670ebae902923be11921124a844a57b00504c,bump version to 1.1.1,Matthew Rocklin,mrocklin@gmail.com,2019-01-31 10:52:00-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-01-31 10:52:00-08:00
b1dd6ee2079916732182ecb2ce72a3db55692a6b,"Fix relative path parsing on windows when using fastparquet (#4445)

* Fix fastparque relative path parsing on Windows

* Fix path parsing when using fastparquet reader on Windows",Janne Vuorela,janne.vuorela@helsinki.fi,2019-01-31 23:56:03+02:00,Martin Durant,martindurant@users.noreply.github.com,2019-01-31 16:56:03-05:00
8e5ddbd5a2f024c31c94873059b613ab232f354d,Fix bug in pyarrow and hdfs (#4453),Micha Jastrzbski,inc0@github.com,2019-02-02 06:50:34-08:00,Martin Durant,martindurant@users.noreply.github.com,2019-02-02 09:50:34-05:00
010f5f3757b6cfc03785ca25d572e4412ed1e575,"One more fix (#4455)

* Fix bug in pyarrow and hdfs

* further fixes to pyarrow",Micha Jastrzbski,inc0@github.com,2019-02-04 07:10:51-08:00,Martin Durant,martindurant@users.noreply.github.com,2019-02-04 10:10:51-05:00
2ff8428de1ddfee427bc0418194f4dc77f8c288c,"Don't inline output keys in dask.bag (#4464)

Fixes a bug in `dask.bag` optimization where output keys that were also
""singleton lists"" were mistakenly inlined.",Jim Crist,jcrist@users.noreply.github.com,2019-02-06 15:24:38-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-02-06 15:24:38-06:00
ac3fcbdc024a261fad190a0d88e20320103d5e85,"df getitem with integer slices is not implemented (#4466)

Raise a `NotImplementedError` when calling DataFrame.__getitem__ *if*
the row indexer is an integer slice *and* the index is not a float
index. Float indexes interpret integers slices as `loc` based, whereas
all other indexers interpret them as `iloc` based (which is not
implemented).",Jim Crist,jcrist@users.noreply.github.com,2019-02-08 14:48:23-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-02-08 14:48:23-06:00
29bc263cc1f9568bea295d5e3f64a41a86e992d8,"Replace cudf-specific code with dask-cudf import (#4470)

This allows us to delegate control of the cudf backend system to dask-cudf.
This allows that project to move quickly without needing changes upstream.
It also removes cuda specific code from Dask, even if optional.",Matthew Rocklin,mrocklin@gmail.com,2019-02-08 14:17:56-08:00,GitHub,noreply@github.com,2019-02-08 14:17:56-08:00
2376da2aaaa0d40f3680e18b439000c17043b629,local: extend started_cbs AFTER state is initialized (#4460),Marco Neumann,marco@crepererum.net,2019-02-09 00:05:57+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-08 16:05:57-08:00
5cd3843a71f716731527758fab7a47b5294b66ad,"Update docs to use `from_zarr` (#4472)

* Update Zarr loading command in array creation     [ci skip]

Previously this said `read_zarr`. However the command to load data is
`from_zarr`. This updates the documentation about storing and loading
data with Zarr accordingly.

* Use `from_zarr` in changelog entry about adding it  [ci skip]",jakirkham,jakirkham@gmail.com,2019-02-11 12:02:08-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-11 09:02:08-08:00
a40faf9cc595a802b5f9e549128746203e7db89a,Fix bug in HTTPFile._fetch_range with headers (#4479) (#4480),Ross Petchler,ross.petchler@gmail.com,2019-02-13 08:42:21-05:00,Martin Durant,martindurant@users.noreply.github.com,2019-02-13 08:42:21-05:00
2ed8b6379be92f79044e81ff6e3459ee40a29e5a,"DOC: add section of `Using Other S3-Compatible Services` for remote-data-services (#4405)

* DOC: add section of `Using Other S3-Compatible Services` for remote-data-services

* DOC: make the doc of `Using Other S3-Compatible Services` for remote-data-services more clear",Aploium,ap@z.codes,2019-02-14 22:50:12+08:00,Martin Durant,martindurant@users.noreply.github.com,2019-02-14 09:50:12-05:00
af231de2ca7b2ca3a7a97da5f74e9368ba05e636,"Avoid groupby.agg(callable) in groupby-var (#4482)

This has two benefits

1.  It's much faster the following benchmark shows a 5x improvement
2.  It doesn't require the pandas-like container to implement
    groupby.agg(callable), which helps cudf

Benchmark
---------

I get five-ish seconds for this on master
And less than one second on this branch

```
from time import time
import dask
df = dask.datasets.timeseries(dtypes={'id': int, 'data': float}).persist()

start = time()
for i in range(3):
    df.groupby('id').data.std().compute()
stop = time()

print(stop - start)`
```",Matthew Rocklin,mrocklin@gmail.com,2019-02-14 07:03:11-08:00,GitHub,noreply@github.com,2019-02-14 07:03:11-08:00
a05039ba16ca10f76d0379a7d913c9bd6d6a4781,"Fix header level of section in changelog (#4483)

A section called ""Delayed"" under 1.1.1 was at the same header level as
versions.",Bruce Merry,bmerry@gmail.com,2019-02-14 19:52:02+02:00,jakirkham,jakirkham@gmail.com,2019-02-14 12:52:02-05:00
4f7b50306daf2de12a7063ed054fc8b90a4eeaf8,consider uint types as numerical in check_meta (#4485),Marco Neumann,marco@crepererum.net,2019-02-14 18:36:11+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-14 10:36:11-08:00
3d9e2ffaa6b4b1345dc2bbe29412f07aaa73e08b,fix another unicode/mixed-type edge case in normalize_array (#4489),Marco Neumann,marco@crepererum.net,2019-02-17 02:49:50+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-16 18:49:50-08:00
95c675037a6c15d8fe288fb7c9fee6bd04368805,"dask.bag.from_sequence : ensure that it always includes at least a single partition even if that partition is empty (#4475)

* dask.bag.from_sequence : ensure that it always includes at least a single partition

* Fix linting issues",Anderson Banihirwe,axbanihirwe@ualr.edu,2019-02-16 21:04:11-07:00,Martin Durant,martindurant@users.noreply.github.com,2019-02-16 23:04:11-05:00
b293ed87a45380da5a282c7c447da3f9ffd1b773,Fix some typos in groupby comments (#4494),Daniel Saxton,dsaxton@protonmail.com,2019-02-17 10:59:02-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-17 08:59:02-08:00
9e61bbb5e1b2f1650f4fcad6fa58f470d013ba42,"Repeat optimize_blockwise for diamond fusion (#4492)

Fixes https://github.com/dask/dask/issues/4373",Matthew Rocklin,mrocklin@gmail.com,2019-02-18 15:05:55-08:00,GitHub,noreply@github.com,2019-02-18 15:05:55-08:00
b34b4253043752ba60ba1f2efbb7f8299905a28b,"implement out_type for bag.fold (#4502)

Fixes https://github.com/dask/dask/issues/4433",Matthew Rocklin,mrocklin@gmail.com,2019-02-19 05:42:16-08:00,Jim Crist,jcrist@users.noreply.github.com,2019-02-19 07:42:16-06:00
faefaa837e7e63b35fd073270172f2440e7ae924,"np.diagonal implementation (#4431)

* da.diagonal

* no need for asarray

* Direct asarray and use of np.diagonal.",Danilo Horta,danilo.horta@pm.me,2019-02-19 14:09:18+00:00,Jim Crist,jcrist@users.noreply.github.com,2019-02-19 08:09:18-06:00
221eb099ea8690ef7da334aa97b9a4e30e679f61,"Add error message around set_index(inplace=True) (#4501)

* Add error message around set_index(inplace=True)

Fixes https://github.com/dask/dask/issues/4484

* Add inplace to set_index docstring",Matthew Rocklin,mrocklin@gmail.com,2019-02-19 08:13:37-08:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-02-19 10:13:37-06:00
6c3ed4606c1be21cd2ecd670328fe494f3838c67,Add quotes to pip install [skip-ci] (#4508),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-02-19 12:28:25-06:00,Jim Crist,jcrist@users.noreply.github.com,2019-02-19 12:28:25-06:00
79cb05173664ddcd16d3a321e56ecf5abcc5aa6f,"Call asanyarray in unify_chunks (#4506)

Previously we called `asarray`, which would accidentally convert arrays
of other types to numpy arrays.",Jim Crist,jcrist@users.noreply.github.com,2019-02-19 12:38:56-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-19 10:38:56-08:00
6d274155f9c86e2c770138e9fd7939c5cc24bc7e,"meta_nonempty works with categorical index (#4505)

Previously this only just happened to work for our tests, since the
dummy data matched the test data. We improve the test case, and fix the
broken code.",Jim Crist,jcrist@users.noreply.github.com,2019-02-19 12:39:34-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-19 10:39:34-08:00
f6b61fc8a3eac7fab9321f07fdaefa006e306367,"Add module name to expected meta error message (#4499)

* Add module name to expected meta error message

* handle builtins and None in typename",Matthew Rocklin,mrocklin@gmail.com,2019-02-19 10:39:54-08:00,Jim Crist,jcrist@users.noreply.github.com,2019-02-19 12:39:54-06:00
d6880be68fafccb7d7aaa414d57f3a26766540fc,"Remove map from bag keynames (#4500)

* Remove map from bag keynames

This isn't very informative

Fixes https://github.com/dask/dask/issues/4450

* fix tests in base",Matthew Rocklin,mrocklin@gmail.com,2019-02-19 10:41:09-08:00,Jim Crist,jcrist@users.noreply.github.com,2019-02-19 12:41:09-06:00
8df8e9c4d5000ac419b4c67757f20e649df30665,"groupby-nunique works on empty chunk (#4504)

* groupby-nunique works on empty chunk

Previously this would error out, as groupby-apply fails to preserve
metadata on empty chunks.

Also adds a test for the other groupby reductions on empty data.

* Skip for older pandas",Jim Crist,jcrist@users.noreply.github.com,2019-02-19 13:07:25-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-02-19 13:07:25-06:00
5744197e8c013e4863a7ec0e795b630d726330c7,"Propogate index metadata if not specified (#4509)

Several `dask.dataframe` functions take a `meta` kwarg. If not provided,
these functions try to infer the metadata based on the computation. If
provided, this inference is skipped. `meta` can be either a pandas
object, or a spec (tuple, list of tuples, or dict).

In the case of a spec, the index metadata isn't provided. Previously we
would default to the default pandas index, now we just copy over the
index metadata from the first pandas object passed to these functions.
In the case of `map_partitions`, `map_overlap`, `aca`, etc... this is
usually what the user wants.",Jim Crist,jcrist@users.noreply.github.com,2019-02-19 13:57:22-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-19 11:57:22-08:00
1a69ee2db614d373e61ced7a6b4cbf13667b4ce8,"Avoid itertools.repeat in map_partitions (#4507)

Fixes https://github.com/dask/dask/issues/4446",Matthew Rocklin,mrocklin@gmail.com,2019-02-21 10:23:07-08:00,GitHub,noreply@github.com,2019-02-21 10:23:07-08:00
b1430f03b9e0ebe015cfbed48ac9091fe2f81935,"Modify moment chunk functions to return dicts (#4519)

This is a follow-up on https://github.com/dask/dask/pull/4513.",Peter Andreas Entschev,peter@entschev.com,2019-02-25 16:13:42+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-25 07:13:42-08:00
fbe4066b4b5ba78b30391637d70456d354dc9196,bump version to 1.1.2,Matthew Rocklin,mrocklin@gmail.com,2019-02-25 07:53:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-25 07:53:43-08:00
119950b0a0fee5cfd87d0b216853884e9350694d,"Modify mean chunk functions to return dicts rather than arrays (#4513)

These functions return two array chunks each:

1.  The sum of the array
2.  The counts of the array

We need to return these as a single intermediate value.

Previously we did this by constructing an empty numpy array and then
assigning into it.  This doesn't work as well with numpy-like arrays
like cupy and sparse.

Now we return a dict containing two arrays.  This is nice in a few ways,
but does mean that we need to replicate the `concatenate=`
functionality within our chunk aggregation and combine functions, which
can be tricky.  This commit fails to do it correctly, but may be a good
start.

After this we would like to implement the same fix for other functions,
notably the `moment_*` functions in this same reductions.py file.

Fixes https://github.com/dask/dask/issues/4481",Matthew Rocklin,mrocklin@gmail.com,2019-02-25 12:16:49-08:00,GitHub,noreply@github.com,2019-02-25 12:16:49-08:00
e0006dc2404b70ae3c8745f94a1a2c2a84673afc,Add missing method to documentation index (#4528),Bart Broere,broerebart@hotmail.com,2019-02-26 16:45:29+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-26 07:45:29-08:00
7b4b540a03ca5d3fdce9d6f1b702c0402c4d0769,"Make merge dispatchable on pandas/other dataframe types (#4522)

Fixes https://github.com/dask/dask/issues/4521",Matthew Rocklin,mrocklin@gmail.com,2019-02-26 12:14:38-08:00,GitHub,noreply@github.com,2019-02-26 12:14:38-08:00
6ecbb0cae94fd3c12e799b5c9721dd373117f2c7,"read_sql_table - datetime index fix and  index type checking (#4474)

* switched /npartitions and total_seconds()

* added check for type before creating divisions

* removed comments

* added test for character index type error

* added blank line at end of file",Joe Corbett,Joseph.corbett@gmail.com,2019-02-27 10:36:42+13:00,Martin Durant,martindurant@users.noreply.github.com,2019-02-26 16:36:42-05:00
213f360473619d3637b6426e0d9e99e7439ac823,Use generalized form of index checking (is_index_like) (#4531),Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-02-27 18:07:07-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-02-27 15:07:07-08:00
8936e1a2af11c4f232e8204b6067bdb06230b3c0,"Add tests for groupby reductions with object dtypes (#4535)

Fixes #4534",Matthew Rocklin,mrocklin@gmail.com,2019-02-28 07:56:38-08:00,GitHub,noreply@github.com,2019-02-28 07:56:38-08:00
de6d6c2825ae794b07c6a61961fab37db302d0ee,"Fixes #4467 : Updates time_series for pandas deprecation (#4530)

* Fixes #4467 : Updates time_series for pandas deprecation

Changes pd.DatetimeIndex to pd.date_range",HSR05,32228353+HSR05@users.noreply.github.com,2019-03-01 10:26:31-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-03-01 12:26:31-06:00
6374ad5596995c427d7f15bdda60b475449be96a,"Change sparse installation in CI for NumPy/Python2 compatibility (#4537)

The master version no longer supports Python 2, so this is causing tests
to fail",Matthew Rocklin,mrocklin@gmail.com,2019-03-01 11:50:29-08:00,GitHub,noreply@github.com,2019-03-01 11:50:29-08:00
4d189566a53009fd6d2a9db1241c9e3977fc839d,bump version to 1.1.3,Matthew Rocklin,mrocklin@gmail.com,2019-03-01 13:33:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-01 13:33:35-08:00
f3c2d5d507b153ace6146699198fafed17250340,"DOC: DataFrame to Array conversion and unknown chunks (#4516)

* DOC: DataFrame chunks when converting to array

* DOC: add note about immediate computation

* MAINT: move doc note to array creation

* Update docs/source/array-chunks.rst

Co-Authored-By: stsievert <stsievert@users.noreply.github.com>

* Update docs/source/array-creation.rst

Co-Authored-By: stsievert <stsievert@users.noreply.github.com>

* Update docs/source/array-creation.rst

Co-Authored-By: stsievert <stsievert@users.noreply.github.com>",Scott Sievert,stsievert@users.noreply.github.com,2019-03-02 01:25:31+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-01 19:25:31-06:00
2732793e686dd8e81c967ec54e9fea82b5308226,Fix up groupby-standard deviation again on object dtype keys (#4541),Matthew Rocklin,mrocklin@gmail.com,2019-03-04 15:53:59-06:00,GitHub,noreply@github.com,2019-03-04 15:53:59-06:00
6c0d96acd53e2ea16c448f674fef7ec62d2b0bd9,"Fix local scheduler callback to deal with custom caching (#4542)

This PR implements

https://github.com/dask/dask/pull/4460#issuecomment-469374479",Yu Feng,rainwoodman@gmail.com,2019-03-05 13:14:20-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-05 15:14:20-06:00
7bf6172ad058199795ce7b84dadf5d115e4f9012,"Use mask selection in compress (#4548)

* Trim Dask Array that extends past condition

If the `condition` is shorter than the Dask Array, treat it as if it is
filled with `False` values at the end. In other words, trim the Dask
Array down to the length of the `condition`. This works just as well
when the `condition` is a Dask Array as when it is a NumPy array.

* Use masked selection to implement compress

As masked selection is supported by Dask Arrays, NumPy arrays, and other
array types, go ahead and change the `compress` code to use masked
selection in all cases. Should make it easier for other array types to
benefit from this code. Simplifies our code and removes a branch as
well.

* Coerce `compress` arguments to Dask Arrays

* Drop unneeded check with `condition` in `compress`

* Swap `condition` and `axis` checks in `compress`

* Drop `condition` length check

If the length of `condition` is shorter, the array will be shortened
with or without this check. Otherwise if the length of `condition` is
the same, then this will be a no-op (and we already test for this). In
the rare event `condition` is longer than our array, this will do
nothing, but we will generate an error later.

* Simplify slicing with `condition`

Uses the same comprehension trick for truncating the Dask Array above
when slicing with the mask.",jakirkham,jakirkham@gmail.com,2019-03-06 08:57:24-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-06 07:57:24-06:00
bb6b5a9ae80e5bb285725fe4dba9bbaf600c42de,"Use `asarray` in `extract` (#4549)

Force both array inputs to Dask Arrays. This avoids potentially
converting a different array type to a NumPy array by accident.",jakirkham,jakirkham@gmail.com,2019-03-06 08:57:50-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-06 07:57:50-06:00
d3602e5d0f912004175bc0247a73492448542d30,"TST/CI: Updates for pandas 0.24.1 (#4551)

Closes #4550",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-03-06 08:09:05-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-06 08:09:05-06:00
4dc5940ad1b1ce998a34d367ec48714c411ca960,"Use correct dtype when test concatenation. (#4539)

When all dtypes are the same, dask returns the same dtype. When they are
not all the same, then it defers to np.promote_dtypes. This function
always returns native byteorder, so fix the test.

Fixes #3811.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2019-03-06 16:34:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-06 15:34:48-06:00
75088caa192b79e4f4a59a430dd22c3c8061ed51,"Use parse_bytes in read_bytes(sample=...) (#4554)

* Use parse_bytes in read_bytes(sample=...)

* update test",Matthew Rocklin,mrocklin@gmail.com,2019-03-07 07:26:38-06:00,Martin Durant,martindurant@users.noreply.github.com,2019-03-07 08:26:38-05:00
832972da3b766f02c9225a7c386a1aa0f123307c,"Add ability to control number of unique elements in timeseries (#4557)

This is useful when testing join algorithms, sometimes we want different
cardinalities for integer columns.

To generalize this we now allow passing keyword arguments directly to
individual column creation functions using a convention similar to that
used by scikit-learn parameters.",Matthew Rocklin,mrocklin@gmail.com,2019-03-07 09:27:43-06:00,GitHub,noreply@github.com,2019-03-07 09:27:43-06:00
8d4e165b2f0fb8809631d1f4f054aa9c37c1c0d1,"Add support in read_csv for parameter skiprows for other iterables (#4560)

- The dask.dataframe.read_csv function now mimics more the behavior of
the pandas read_csv function
- The pandas read_csv function allows the
skiprows parameter to be of type range or set
- Also case when not assigning skiprows is now explicit

Test it out for yourself:

```python
import dask.dataframe as dd
import pandas as pd
df = pd.read_csv(""file.csv"", skiprows=range(18)) # this works anyway
df = dd.read_csv(""file.csv"", skiprows=range(18)) # this works only after fix
```",JulianWgs,31596773+JulianWgs@users.noreply.github.com,2019-03-07 18:30:48+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-07 11:30:48-06:00
2a4ca260c4e59eef29df34b3ac90b53ea102e6ff,Add docs for random array creation (#4566),Matthew Rocklin,mrocklin@gmail.com,2019-03-08 08:54:31-08:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-08 10:54:31-06:00
6fef1a3e49d5f17265c132a67b537f6397d71e94,Fix CuPy tests or properly marks as xfail (#4564),Peter Andreas Entschev,peter@entschev.com,2019-03-08 20:42:41+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-08 11:42:41-08:00
d6db6d66ed10099146ad659715e6c7074e8b02bd,fix typo in docstring (#4572),Shyam Saladi,smsaladi@gmail.com,2019-03-09 04:35:29-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-03-09 06:35:29-06:00
31b7fdbdb417e4cb3facf90a0b98057c23eee241,bump version to 1.1.4,Matthew Rocklin,mrocklin@gmail.com,2019-03-09 08:44:43-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-09 08:44:43-08:00
02361835383851d605de6f1e4e472338ab50f69a,Add documentation for custom groupby aggregations (#4571),Matthew Rocklin,mrocklin@gmail.com,2019-03-11 09:59:11-07:00,GitHub,noreply@github.com,2019-03-11 09:59:11-07:00
ebcc44e9e93f41d15fac952853f8d3b67c1936e8,"Docs dataframe joins (#4569)

* [skip ci] Add docs for random array creation (#4566)

* [skip ci] Move categoricals outside of design doc

* respond to feedback

* [skip ci] Apply suggestions from code review

Co-Authored-By: mrocklin <mrocklin@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2019-03-11 19:53:12-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-11 21:53:12-05:00
1b3381358575a22f0224a627f943d0432b8f4f15,"Support setting the index (#4565)

-  When we manipulate the index, change the divisions accordingly.  So for example `df.index * 10` has its divisions also multiplied by 10
-  Allow assignment of the index

The first change is more complex, and has some negative effects for situations like the following:

    df.groupby(df.index.dt.day)

Because now the grouper and the dataframe do not have matching divisions and so we'll either try to align them or raise an error (which is what happens today).  It's not clear what correct behavior is here.  This PR relaxes the check for aligned divisions to only ask that they have the same number of partitions, not that their division values are equivalent.",Matthew Rocklin,mrocklin@gmail.com,2019-03-12 10:11:29-07:00,GitHub,noreply@github.com,2019-03-12 10:11:29-07:00
4bcd0fb6cc0add749d6f37b0bd86ef7dea1dab9d,"Use recursive glob in LocalFileSystem (#4186)

* Use recursive glob in LocalFileSystem

* Add recursive glob test",Brett Naul,brettnaul@gmail.com,2019-03-12 11:23:42-07:00,Martin Durant,martindurant@users.noreply.github.com,2019-03-12 14:23:42-04:00
e5948244baacba775790ab1845ca059a37c1a7e1,"DataFrame.itertuples accepts index, name kwargs (#4593)

* DataFrame.itertuples accepts index, name kwargs

* Match pandas itertuples signature

* Assert tuple types match",Dan O'Donovan,dan.odonovan@gmail.com,2019-03-14 15:03:12+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-03-14 10:03:12-05:00
87f3a482918076f885fe419329dfb5552d24cbaa,"Add support for __array_function__ protocol (#4567)

Add __array_function__ support to Array class",Peter Andreas Entschev,peter@entschev.com,2019-03-15 01:07:02+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-14 17:07:02-07:00
caa2da0c4412ab8ebf467437e58a7bd447332b70,"Avoid YAML deprecation (#4603)

* Avoid YAML deprecation

Fixes #4597

https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation

* use safe_load",Matthew Rocklin,mrocklin@gmail.com,2019-03-16 16:15:40-07:00,jakirkham,jakirkham@gmail.com,2019-03-16 16:15:40-07:00
b711904f0c8b5d94637adcd0cb89f8f215c87063,"Fix CI and add set -e (#4605)

* Remove export

* Disable immediate fail at end of script",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-17 11:23:02-05:00,GitHub,noreply@github.com,2019-03-17 11:23:02-05:00
27b0f8f332379f59927bddc71cdcb3859694ea94,Support non-Pandas series in dd.Series.unique (#4599),Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-03-17 12:44:41-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-17 09:44:41-07:00
7af8e3023fb44046257e80693be4670875d5e218,"Support builtin sequence types in dask.visualize (#4602)

* Support builtin sequence types in dask.visualize

For motivation, see
https://stackoverflow.com/questions/55096308/dask-visualise-multiple-output-nodes-in-a-dask-graph/55198749#55198749

* add in pytest.importorskip('graphviz')",Matthew Rocklin,mrocklin@gmail.com,2019-03-17 09:53:17-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-17 11:53:17-05:00
789c7aad0d75523c7b943079a21c47eb8d95e0bb,Replace use of explicit type check with ._is_partition_type predicate (#4533),Matthew Rocklin,mrocklin@gmail.com,2019-03-17 11:10:35-07:00,GitHub,noreply@github.com,2019-03-17 11:10:35-07:00
aea27d1f8200ba4997007a329fabc0453a75e8d5,"Remove additional pandas warnings in tests (#4576)

* Remove additional pandas warnings in tests

* support older pandas versions

* flake8",Matthew Rocklin,mrocklin@gmail.com,2019-03-17 15:11:29-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-17 17:11:29-05:00
3a461039fda35873d1f3abd0302457420b95fad0,"Check object for name/dtype attributes rather than type (#4606)

This is to help cudf, which handles things like Series.name as an
attribute rather than as a computed property.  This seems reasonable
generally.",Matthew Rocklin,mrocklin@gmail.com,2019-03-18 12:23:56-07:00,GitHub,noreply@github.com,2019-03-18 12:23:56-07:00
24bbcdbbc10931e8accad749a57658e6bb593c40,Fix comparison against pd.Series (#4613),amerkel2,andreas.merkel@blue-yonder.com,2019-03-20 16:43:59+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-20 08:43:59-07:00
185926331163df7d7984120cb7e93c4713c1c1e3,"unpack/repack orderedDict (#4623)

* orderedDict

* switch list to tuple

* flake8 fix",Justin Poehnelt,justin.poehnelt@gmail.com,2019-03-21 12:30:13-06:00,Jim Crist,jcrist@users.noreply.github.com,2019-03-21 13:30:13-05:00
243339a714036c957d558736730a9b5f7f0a040d,"Specify fork-based contributions  (#4619)

* Specify fork based contributions [skip ci]

* Update introductory label to good first issue [skip ci]",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-21 13:32:24-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-03-21 13:32:24-05:00
eef368ffe40026f49930b061a1fe6fc59a9ee575,Fixing warning from setting categorical codes to floats (#4624),Julia Signell,jsignell@gmail.com,2019-03-22 12:00:02-04:00,Martin Durant,martindurant@users.noreply.github.com,2019-03-22 12:00:02-04:00
cb58d97f9452f67a922ba332b7a9471289ba94ee,Add randint to API docs [skip ci] (#4628),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-25 08:05:45-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-25 09:05:45-04:00
ec3e016cbc1bf2269ff70b103a69a3a30cdc1088,"Add zarr to CI environment (#4604)

* Add zarr to CI environment

* Remove NUMPY_EXPERIMENTAL_ARRAY_FUNCTION export

* Set check_graph=False",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-26 16:32:50-05:00,jakirkham,jakirkham@gmail.com,2019-03-26 17:32:50-04:00
77af7c89e426b257cd7d143c6fd2ae4b85b20d0e,"Fix renaming on index to_frame method (#4498)

* add new method for to_frame function on type dask.dataframe.core.Index

* cannot handle index argument from to_frame pandas function

* add tests for index to_frame

* verify pandas version

* change the way pandas version is verified and handled

* create specific tests for renaming index

* raise error if pandas version lower than 0.21

* do not test for pandas lower than 0.21

* use the same prototype as pandas but raising error if index is False",henriqueribeiro,henriqueribeiro@users.noreply.github.com,2019-03-27 02:27:04+00:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-26 21:27:04-05:00
a611e60e91d56ce67b2186755b0094a21a668616,Fix divisions when joining two single-partition dataframes (#4636),Justin Waugh,bluecoconut@gmail.com,2019-03-26 23:12:38-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-26 22:12:38-07:00
96c3381019f97fb53d73cc0331073b3c9962399e,Warn if partitions overlap in compute_divisions (#4600),Brian Chu,bc@brianchu.com,2019-03-26 22:16:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-26 22:16:02-07:00
45a1b5a1a1412f82ca160bae9fcbfb2fea8849ae,"Give informative meta= warning (#4637)

* Give informative meta= warning

* Update dask/dataframe/core.py

Co-Authored-By: mrocklin <mrocklin@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2019-03-27 17:59:40-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-27 19:59:40-05:00
44948eca09b046cc06169dbdfc3cf4a5750a2598,correct to_parquet example in docs (#4641),aaronfowles,aaronfowles@gmail.com,2019-03-28 13:34:13+00:00,Martin Durant,martindurant@users.noreply.github.com,2019-03-28 09:34:13-04:00
2391040326009c8959a1f9504812a17ec65681b8,"Add informative error message to Series.__getitem__ (#4638)

https://stackoverflow.com/questions/55247264/notimplementederror-is-thrown-when-i-use-isin-with-dask-data-frames",Matthew Rocklin,mrocklin@gmail.com,2019-03-28 11:21:56-07:00,GitHub,noreply@github.com,2019-03-28 11:21:56-07:00
c7e35aab8a07c7c011a0d96de6182083ea9144e1,"Enable codecov (#4631)

* Add default .coverage.yml, but comments off and range 90...100",Peter Andreas Entschev,peter@entschev.com,2019-03-29 17:38:15+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-29 09:38:15-07:00
ec81d47783b674af2204d3590a3495c4481f92d6,"Update and secure several references (#4649)

Here we work our way through all insecure http references in the
repository, update the ones where the old references would lead to
404s or have otherwise been moved, and change the references to use
https where possible. In each case, we've manually checked that the
updated references work as expected.",Sren Fuglede Jrgensen,s@fuglede.dk,2019-03-29 18:02:00+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-29 10:02:00-07:00
7782cc449b65fc3b40fddef31b781aff4164f602,"Ensure that we use the dtype keyword in normalize_chunks (#4646)

Fixes https://github.com/dask/dask/issues/4644",Matthew Rocklin,mrocklin@gmail.com,2019-03-29 11:28:10-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-03-29 13:28:10-05:00
c7d6024ca181de69bc9f172087c1bffc42f4dcc8,clearer exception message when using index or index_col in read_csv (#4651),lvaro Abella Bascarn,alvaroabascar@gmail.com,2019-03-29 19:41:05+01:00,Martin Durant,martindurant@users.noreply.github.com,2019-03-29 14:41:05-04:00
7e566271a3623f1250cad5608c1cb867beb31761,bump version to 1.1.5,Matthew Rocklin,mrocklin@gmail.com,2019-03-29 14:15:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-29 14:15:23-07:00
e8e2d76abb7bc3f4299fb359b9e34abb441a1843,"correct quantile to handle unsorted quantiles (#4650)

* correct quantile to handle unsorted quantiles

Currently dask.dataframe.core.quantile(df, q) can silently give incorrect results when the list of quantiles, q, is not sorted. For instance quantile(dask.array.arange(100), [0.75, 0.50, 0.25]) gives incorrect results. This patch uses numpy's mergesort to ensure that the quantiles are sorted. Note that with the patch behavior still differs from that in pandas.DataFrame.quantile() where quantiles are calculated correctly while preserving order. While this patch does not duplicate the behavior of pandas because it does not preserve the order of the quantiles, it does at least avoids the silent errors.

* added tests for unsorted arg to quantile

* moved sorting of quantiles before index is created

* avoid modifying argument to quantile()

* leave q arg to quantiles alone if scalar

* eliminated trailing whitespace

* testing quantile added length 1 list and scalar case",gregrf,35344645+gregrf@users.noreply.github.com,2019-03-29 17:34:00-04:00,Martin Durant,martindurant@users.noreply.github.com,2019-03-29 17:34:00-04:00
a008ab5ba13f3df9dcb870c9eb411ad6397610a7,"Add min_count parameter to groupby sum method (#4648)

* add min_count parameter to sum method on groupby
* add prod method also",henriqueribeiro,henriqueribeiro@users.noreply.github.com,2019-03-30 21:21:37+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-03-30 14:21:36-07:00
ffbf9538462636a5babd0aab41332c972cd5f9d7,"Fix limit value in auto_chunks (#4645)

Fixes https://github.com/dask/dask/issues/4627",Matthew Rocklin,mrocklin@gmail.com,2019-03-31 20:00:57-07:00,GitHub,noreply@github.com,2019-03-31 20:00:57-07:00
88f7bddc7a94aaedbcd829c26befc816bcb964c2,Use is_dataframe/index_like in dd.utils (#4657),Matthew Rocklin,mrocklin@gmail.com,2019-04-01 08:31:13-07:00,GitHub,noreply@github.com,2019-04-01 08:31:13-07:00
926ef7098f8148e0312a0dfd1d8c911f3df814ee,"Allow None to say ""no chunking"" in normalize_chunks (#4656)",Matthew Rocklin,mrocklin@gmail.com,2019-04-01 08:44:06-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-01 10:44:06-05:00
a3cba093ea041a999258e518ab5d5f5c93f611b1,Add delayed extra dependencies to install docs [skip ci] (#4660),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-01 15:22:38-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-01 13:22:38-07:00
3205dbda9acf1dad789fd708e9064f222dc5309f,"Fix timezone metadata inference on parquet load (#4655)

* Fix timezone metadata inference on parquet load

* lint

* back compat

* compat correctly

* Skip tz test for older fastparquet

Allows this to be merged before next release of fp

* got it wrong...

* exclude coverage

in http - not related to this PR, but picked up by coveralls",Martin Durant,martindurant@users.noreply.github.com,2019-04-02 20:32:23-04:00,GitHub,noreply@github.com,2019-04-02 20:32:23-04:00
0780ca545a05935f9105bd0fd70dbb04b55986fd,"Mark some parquet tests xfail (#4667)

* Mark some parquet tests xfail

* Mark one more parquet test xfail

* Use u8 for test_image, as expected by imageio",Peter Andreas Entschev,peter@entschev.com,2019-04-04 15:21:10+02:00,Martin Durant,martindurant@users.noreply.github.com,2019-04-04 08:21:10-05:00
5dc48d28d9c96c014789c8313a2f27f1560819a1,"Allow sample to be False when reading CSV from a remote URL. (#4634)

* Allow sample to be False when reading CSV from a remote URL in order to just read the whole file.

* Re-raise HTTP error if they are unlikely to be HEAD method-not-supported errors.

* Add some simple tests.

* Don't check length of sample if it is a boolean.

* Add no-cover markers for untested lines.",Ian Rose,ian.r.rose@gmail.com,2019-04-05 08:45:09-07:00,Martin Durant,martindurant@users.noreply.github.com,2019-04-05 10:45:09-05:00
0f97f40aa1e403a542a43e00869850728968ef04,"Fixes parquet breakages with arrow 0.13.0 (#4668)

* Fixes some of the breakages

* skip test where exception went away and add note

TODO points out where the problem is

* make things pass

* lint

* backcompat

* over-eager merge

* for coverage",Martin Durant,martindurant@users.noreply.github.com,2019-04-06 14:14:36-05:00,GitHub,noreply@github.com,2019-04-06 14:14:36-05:00
8b87353868de86fcb7328bcb71ec703089f78b51,"Always start with empty http buffer, not None (#4673)",Martin Durant,martindurant@users.noreply.github.com,2019-04-08 09:11:10-04:00,GitHub,noreply@github.com,2019-04-08 09:11:10-04:00
631c5a4810565d08af674f0b8b537efaa0645295,"Adjusts codecov's target/threshold, disable patch (#4671)",Peter Andreas Entschev,peter@entschev.com,2019-04-08 15:47:30+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-08 08:47:30-05:00
8e757ef6632110143432754db281b646f65e3f1e,Add test for NEP-18. (#4675),Hameer Abbasi,einstein.edison@gmail.com,2019-04-08 19:59:49+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-08 12:59:49-05:00
e0429d12317e7208a8665fea87c62d0f60f2d445,"Clean up and document rearrange_column_by_tasks (#4674)

This is in anticipation of future work on this function",Matthew Rocklin,mrocklin@gmail.com,2019-04-09 13:30:06-05:00,GitHub,noreply@github.com,2019-04-09 13:30:06-05:00
9d87de554eda301a091385a80070bf68b6922dbb,"fix ordering of quantiles in describe. (#4647)

* fix ordering of quantiles in describe.

Previously dataframe.describe was using the built-in set to sort quantiles which sorts by hash rather than by value. Now the built-in sorted is used instead.

* added test for describe with unsorted q parameter

* Update test_dataframe.py

* test describe percentiles arg for ndarray or list

* made code that handles quantile input in dataframe.describe more
explicit and fixed mistake in related test.",gregrf,35344645+gregrf@users.noreply.github.com,2019-04-09 15:25:51-04:00,Martin Durant,martindurant@users.noreply.github.com,2019-04-09 15:25:51-04:00
4c9d28a57aa0b9c18a431b7285231d9568964c45,Updated diagnostic bokeh test for compatibility with bokeh>=1.1.0 (#4680),Philipp Rudiger,prudiger@anaconda.com,2019-04-09 20:54:29+01:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-09 14:54:29-05:00
91ce8c87ffc992b5b96e1ef2f1971ebefe6d4d73,Propagate index dtype and name when create dask dataframe from array (#4686),henriqueribeiro,henriqueribeiro@users.noreply.github.com,2019-04-11 02:44:10+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-10 20:44:10-05:00
c9285c589e1ca7dce11a5994805cd76e5b02c74b,"Fixed mean() and moment() on sparse arrays (#4525)

* Fixed mean() and moment() on sparse arrays

For proper creation of sparse auxiliary arrays, a dispatcher for ones_like has
been added. However, sparse arrays created from ones_like cause sparse
reductions to fail, as it would result in a dense array. To fix that, the arrays
have first to be converted to dense before, which ends up requiring a new
dispatcher for that purpose, and for already dense arrays must be bypassed, that
is here implemented as numpy.ndarray.view() to simply return a shallow copy of
the array.

This commit fixes https://github.com/dask/dask/issues/4523 and adds the tests
suggested in that issue.

* Reductions' numel() won't create ones() for unmasked arrays

* Add tests for new numel() implementation

* Fix numel() test, previously failing in Python 2.7.

* Remove ones_like_lookup() for sparse matrices

* remove todense_lookup

* Call correct sum() function in moment_chunk()

* Remove xfail from mean() sparse test

* Add sparse std() test back

* Test sparse moment()

* Test sparse var()

* Build also against sparse upstream

* Fix condition for CI upstream sparse installation

* Attempt to fix upstream sparse installation once more

* Enable __array_function__ in Python 3.7 build

* Remove leftover export from run_tests.sh

* Workaround for mkl.fft failures in test_array_function.py

* Minor reductions readability/code consistency changes

* Increase coverage of numel()

* Remove unnecessary for loop in numel() test

* Reenable development build, uses upstream libraries

* Revert ""Reenable development build, uses upstream libraries""

This reverts commit 1705689db9737415ffdbed738f7d2995d7352040.",Peter Andreas Entschev,peter@entschev.com,2019-04-12 22:26:13+02:00,jakirkham,jakirkham@gmail.com,2019-04-12 16:26:13-04:00
a2ac8945d58109fc1f8ba1377aa2747d37a1be11,bump version to 1.2.0,Matthew Rocklin,mrocklin@gmail.com,2019-04-12 16:27:53-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-12 16:27:53-05:00
a254215cacad36d8e868ec493ec8190031320097,Update from_pandas docstring to match signature [skip ci] (#4698),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-13 20:08:34-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-13 20:08:34-05:00
918854db9bef2b0914b2e12630c00a4f1487bc7b,"Remove assertion in HighLevelGraph constructor (#4699)

* Remove assertion in HighLevelGraph constructor

This was not necessary and causes significant slowdowns in
HighLevelGraph construction.

See https://github.com/dask/distributed/issues/2611

* remove more assertions",Matthew Rocklin,mrocklin@gmail.com,2019-04-15 07:35:28-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-15 07:35:28-05:00
625118fad17c40b5757d2d88f08cc42e0d990302,Add 'threshold' parameter to pd.DataFrame.dropna (#4625),Nathan Matare,nathan.matare@gmail.com,2019-04-15 09:41:15-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-15 08:41:15-05:00
ec0ea09e3f9de0376475f645889bf3049f1cb6dd,"RFC: Add TileDB backend (#4679)

* Add TileDB storage format support

adds dask.array.to_tiledb and .from_tiledb functions to allow loading
  data to/from TileDB format/storage manager.

* Update doc signatures for review

[skip ci]",Isaiah Norton,ihnorton@users.noreply.github.com,2019-04-15 15:42:40-04:00,Martin Durant,martindurant@users.noreply.github.com,2019-04-15 15:42:40-04:00
2e0a315f00737764a4369681504dcb473b9b4b55,"Reenable development build, uses upstream libraries (#4696)

* Reenable development build, uses upstream libraries

* Change development build trigger and failure conditions

* Check test-upstream build

* Fix .travis.yml

* Build test-upstream",Peter Andreas Entschev,peter@entschev.com,2019-04-15 22:13:15+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-15 15:13:15-05:00
9063212a3a55c729b568d0148c65b7874ac3efa4,"Raise TypeError if dask array is given as shape for da.ones, zeros, empty or full (#4707)",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2019-04-17 22:17:18+10:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-17 07:17:18-05:00
0cb1b57150a7ae515f9cd201f6fd78406b60ca13,"Add chunks='auto' to from_array (#4704)

This uses the ""auto"" chunking in da.from_array

It also uses a ``.chunks`` attribute on the dataset if present,
making the HDF5 and Zarr cases somewhat natural by default.",Matthew Rocklin,mrocklin@gmail.com,2019-04-17 11:15:45-05:00,GitHub,noreply@github.com,2019-04-17 11:15:45-05:00
aa852bd51ffa3178d54259b8e14029299f8d63e2,"Remove file ""test"" (#4710)",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-17 14:29:37-05:00,GitHub,noreply@github.com,2019-04-17 14:29:37-05:00
a9fbcb2eb706cea0ab9bdccc97d089a9456af5ad,"Add name kwarg to from_zarr (#4663)

* Add name kwarg to from_zarr (#1)

* Add name kwarg to from_zarr

* added default from_zarr naming convention per jrbourbeau

* flake8 fix

* Added test for from_zarr name hashing

* added name test

* update from_zarr docstring

* grammer curl

Co-Authored-By: mpeaton <mpeaton@users.noreply.github.com>

* python-snappy",Michael Eaton,mpeaton@users.noreply.github.com,2019-04-17 22:21:38-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-17 21:21:38-05:00
967e30c3a4b17400b91b83e0fc28dd1da50c06b9,Minor typo fix in a Queue/fire_and_forget example (#4709),Thomas Zilio,zilio.thomas@gmail.com,2019-04-18 05:12:02+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-17 22:12:02-05:00
6971f9846d175f10e49f5dc99cae8bd5b143c3d3,"Add Dataframe.replace (#4714)

* Add Dataframe.replace

Fixes #4573

* Add derived_from and API docs",Matthew Rocklin,mrocklin@gmail.com,2019-04-18 13:06:06-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-18 13:06:06-05:00
a7bf545580c5cd4180373b5a2774276c2ccbb573,Add sizeof support for cupy.ndarray (#4715),Peter Andreas Entschev,peter@entschev.com,2019-04-18 20:52:09+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-18 13:52:09-05:00
a2ebeac170eea8915b1fbd2a1706fe910f7789ab,Add dask.array.trace (#4717),Danilo Horta,danilo.horta@pm.me,2019-04-19 22:38:11+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-19 16:38:11-05:00
f43153bf39d2db446275c733e7bb513d3e228b66,"Bump to numpy >= 1.13, pandas >= 0.21.0 (#4720)

* Bump to numpy >= 1.13, pandas >= 0.21.0

Increases the minimum versions of these dependencies, and removes
backwards compat fixes for the previous versions.

* Skip operator method docstrings

These are just copied over from pandas and are meaningless from a
dask-testing perspective.

* Update appveyor script

For some reason pandas 0.20.3 is being installed currently, even thought
it should be installing the latest version.

* Fixup",Jim Crist,jcrist@users.noreply.github.com,2019-04-22 12:07:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-22 10:07:25-07:00
87954ec9d30fcf468bde9dece2d453a5c8dc8d1a,"A few dataframe metadata fixes (#4695)

* A few dataframe metadata fixes

- Use `_meta_nonempty` in assign
- Use `_meta_nonempty` in groupby aggregations
- Error nicely when trying to infer metadata from a `dask.delayed`
object (which we can't do since it could be any dtype).
- Fix `dd.utils.assert_eq` to properly compare index dtypes

* More fixups

* Drop parquet pyarrow 0.13.0 support

Due to incompatibilities and bugs in pyarrow 0.13.0 we drop support for
it in our parquet implementation and tests.

* py27 fixup

* Spelling [skip ci]",Jim Crist,jcrist@users.noreply.github.com,2019-04-22 14:03:14-05:00,GitHub,noreply@github.com,2019-04-22 14:03:14-05:00
13ed28d020638dd92002d1206a0f4876f70bc43c,"Remove hard pandas dependency for melt by using methodcaller (#4719)

* remove hard pandas dependency for melt by using methodcaller

* move import to the top of the file

* whitespace line",Nick Becker,nickb500@gmail.com,2019-04-22 15:04:00-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-22 14:04:00-05:00
915b73abbd8c827015e59d2af186729c65dcebdc,Uncomment dask_sphinx_theme (#4728),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-04-23 12:56:35-05:00,GitHub,noreply@github.com,2019-04-23 12:56:35-05:00
21f8de898fca9edddb81de388012652ab89da80c,"Support for map_blocks with no array arguments (#4713)

* Support for map_blocks with no array arguments

This comprises multiple pieces:
- Make `unify_chunks` work correctly when given only constants
- If there are no arguments, consider the output to be zero-dimensional
  prior to application of `new_axis`.
- Allow blockwise to take a list of chunk sizes in `new_axes` instead of
  just a length.
- Add an entry to `block_info` to describe the output.

* map_blocks: infer new_axis from chunks

If chunks is specified and new_axis is not, new_axis defaults to
inserting axes on the left to make the output dimension match the length
of chunks. This is mainly expected to be used for zero-input map_blocks.

This made one of the existing tests fail because it was expecting a
ValueError in a case that is now legal. Changed the test to test the
case where `chunks` has too few dimensions instead of too many, and also
fixed a bug in `map_blocks` where `chunks=()` was being treated as if
`chunks` wasn't supplied.

* Add 'chunk-shape' and 'dtype' to map_blocks output block_info

* Update block_info tests for output info

This includes fixing a bug from #4301 where `old_k` has an off-by-one
error (and the unit test didn't actually run any of the assertions,
which is how it slipped through).",Bruce Merry,bmerry@gmail.com,2019-04-24 16:31:47+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-24 07:31:47-07:00
e5207e0cab5b409f24297ef88328473ba4fff583,"Create dataframe best practices doc (#4703)

This moves over the dataframe-performance doc, and updates it slightly.",Matthew Rocklin,mrocklin@gmail.com,2019-04-24 13:03:26-07:00,GitHub,noreply@github.com,2019-04-24 13:03:26-07:00
78feda79e25abc1dcab15512bb316c58c5a06df8,"dask.array.bincount() - make 'minlength' keyword argument optional (#4684)

* da.bincount() automatic calculation of 'minlength' kwarg

* Test for da.bincount unspecified minlength kwarg

* _bincount_sum() helper function for bincount

* Make sure dtype is propagated through computation

* (nan,) shape if minlength not specified, must compute to find len()

* Remove unused import from dask/array/routines.py

* Not necessary to specify dtype of bincount input array

* Bump numpy version to 1.13.0 for travis python 3.5 builds

* Bump pandas to 0.20.2 for python 3.5 travis build

* Update dask/array/routines.py

Replace unnecessary variable bincount_list

Co-Authored-By: GenevieveBuckley <30920819+GenevieveBuckley@users.noreply.github.com>

* Update dask/array/routines.py

Remove bincount_list variable

Co-Authored-By: GenevieveBuckley <30920819+GenevieveBuckley@users.noreply.github.com>

* Move name definition next to tokenize for dask.array.bincount

* Update dask/array/routines.py

Co-Authored-By: GenevieveBuckley <30920819+GenevieveBuckley@users.noreply.github.com>

* Return to using dictionary comprehensions

* Raise ValueError instead of using assert statements in bincount function

* check names and add back token",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2019-04-25 06:04:09+10:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-24 13:04:09-07:00
20d523a0bace8acac612ec06ea06fa6fb45453db,"Fix perf issue in dd.Series.isin (#4727)

Previously this was slow for large lists/large npartitions for two
reasons:

- The `values` object was part of every task in the graph, increasing
the serialization cost between workers, and traversal cost when
evaluating on a worker.
- The `values` object is usually a builtin python collection (usually a
list), which coupled with the above would significantly slow down our
optimization passes as a large list was traversed once for every
partition.

We now wrap `values` in `delayed`, avoiding both of these problems.

Also expanded test coverage for `isin`, explicitly forbidding a few odd
arguments we don't support.",Jim Crist,jcrist@users.noreply.github.com,2019-04-24 15:28:16-05:00,GitHub,noreply@github.com,2019-04-24 15:28:16-05:00
9f216230a30d8f079558b26b285d90024a7d7828,"Allow naive concatenation of sorted dataframes (#4725)

Previously we would raise a somewhat confusing error when a user tried
to concatenate dataframes that were sorted, pointing them towards
`interleave_partitions=True`.  Now we allow this behavior without
complaint, producing an unsorted dataframe.

This stops guiding users towards correct behavior, but also reduces the
confusion for novice users.

Fixes https://github.com/dask/dask/issues/4693",Matthew Rocklin,mrocklin@gmail.com,2019-04-25 06:03:02-07:00,GitHub,noreply@github.com,2019-04-25 06:03:02-07:00
446103e380e96deaebe6800588287c8029f96c2a,"Delay long list arguments (#4735)

* Delay long list arguments

This turns long lists into separate tasks to avoid repeated
serialization and traversal times.

Fixes #4734

* use normalize_arg in map_partitions",Matthew Rocklin,mrocklin@gmail.com,2019-04-26 07:41:04-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-26 09:41:04-05:00
a67550745fea122e710e398a34fd7651452c885e,"Fix map_blocks with block_info and broadcasting (#4737)

Closes #4712.",Bruce Merry,bmerry@ska.ac.za,2019-04-26 16:57:04+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-26 09:57:03-05:00
5dff98fdba48ebf45e398cf111cb9e44954d4857,"Add warning about derived docstrings early in the docstring (#4716)

* Add warning about derived docstrings early in the docstring

Previously this was at the end of the docstring,
which many users fail to read.

* flake and py27

* Intent properly, mark bad arguments

* support older version of pandas in test",Matthew Rocklin,mrocklin@gmail.com,2019-04-26 07:58:46-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-26 09:58:46-05:00
87a46eb2f8adc0cc9b078ce795edb06387ff1081,"Refactor array.percentile and dataframe.quantile to use t-digest (#4677)

* Use t-digest for arrays when possible

* implement using t-digest for DataFrame quantiles when possible

* Change dataframe/io/from_bcolz to use the old percentile implementation

* Change tests to use the old DataFrame.quantile() and Array.percentile() versions to allow them to pass

* Add crick as a dependency

* Remove crick from being a mandatory requirement

* Change ""use_tdigest"" parameter to a more general ""method""

* Update tests to work with the new ""method"" parameter to quantile and percentile functions

* Fix flake8 warnings.

* Add warning when attempting to use t-digest function without crick being installed

* Add crick as an optional dependency to appveyor and travis

* Add tests for array.percentile() when using 'tdigest' method

* Add some tests for DataFrame.quantile with method 'tdigest'

* Fix styling error.

* Add tests for DataFrame.quantile when method='tdigest'

* Add tests for DataFrame.describe() when using method='tdigest'

* Change array.percentile to use list parameter for crick.quantile().

* Change to use pytest.mark.parametrize when needed

* Fix doc strings in dataframe/core.

* Refactor quantile tests in test_dataframe to use pytest.mark.parametrize

* Fixups

- Make tests not require crick to run
- Fix docstring formatting
- A few other nits",Janne Vuorela,jannevv@gmail.com,2019-04-26 19:59:37+03:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-26 11:59:37-05:00
43cf4a8087d651b710e80ece4ecbf208bc090ed9,"Fixup series-groupby-apply (#4738)

Previously ``ddf[column].groupby(...).apply()`` would fail. We now
implement and test for grouping on index (no shuffle) and on column(s)
(needs shuffle).",Jim Crist,jcrist@users.noreply.github.com,2019-04-26 14:15:07-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-26 12:15:07-07:00
8ce1ab7cbfbef0e2dff2cb24a3b3b5a76592433e,"Change cum-aggregation last-nonnull-value algorithm (#4736)

Previously we would use groupby.last in order to get the last non-null value of a partition.  This was suboptimal in two ways:

-  Less advanced dataframe libraries, like cudf, might not implement groupby-last, and so couldn't use this algorithm
-  It was somewhat expensive
-  It failed if there were empty partitions

Our new approach tries two paths:

-  First, use a normal Python for loop and `.iloc` on the last ten rows of a column.  This is faster than the groupby.last call and only uses iloc, which is somewhat more likely to be around.
-  If that didn't work (there are lots of nulls) then use `s[s.notna()][-1]`, which does a full scan, but is doesn't iterate with Python",Nick Becker,nickb500@gmail.com,2019-04-27 10:15:58-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-27 07:15:58-07:00
64b8765d95a303eda4a1a14123265d9e3b677619,"Don't add disclaimer to ill-formed docstrings (#4746)

Previously this added a disclaimer to the end of docstrings that didn't
have a blank line.  Unfortunately we didn't handle indentation well,
which caused docstrings both to look odd, and to crash sphinx in a
non-informative way.  For now lets just punt on adding the disclaimer to
these docstrings.",Matthew Rocklin,mrocklin@gmail.com,2019-04-28 10:09:46-07:00,GitHub,noreply@github.com,2019-04-28 10:09:46-07:00
8d13240841fcefb6c2410f94c4d7dbd7f7ea9a66,bump version to 1.2.1,Matthew Rocklin,mrocklin@gmail.com,2019-04-29 09:09:47-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-29 09:09:47-05:00
84e44ea4a71e3176c9b47aadc447e50b96e56389,"Implement Series.str.split(expand=True) (#4744)

See https://stackoverflow.com/questions/55789244/str-split-with-expand-in-dask-dataframe/55881730#55881730",Matthew Rocklin,mrocklin@gmail.com,2019-04-29 14:42:43-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-29 16:42:43-05:00
cd1acd64afd9ad48c3068ef46f2c11e8299d2e3e,"Remove config key normalization (#4742)

* Remove config key normalization

Previously we'd normalize all key names in dask.config to hyphenated
names, replacing all underscores with hyphens. This causes problems with
keys that should be taken as literal values (e.g. environment variables
in an env key).

We now keep the user-facing functions (e.g. ``get``, ``set``, etc...)
agnostic to hyphen/underscores, but leave new keys unchanged. This has
the nice property that once a key is in the config it can be looked up
or changed by any provided name, but new keys (which may potentially be
data instead of config names) are unchanged.

* Type [skip ci]",Jim Crist,jcrist@users.noreply.github.com,2019-04-30 10:14:03-05:00,GitHub,noreply@github.com,2019-04-30 10:14:03-05:00
d8a4f3be9a6ec685261ed043a45ecc019055ec0d,"HTTPFile.seek with whence=1 (#4751)

* HTTPFile.seek with whence=1

* add seek test

* flake",Martin Durant,martindurant@users.noreply.github.com,2019-04-30 11:18:14-04:00,GitHub,noreply@github.com,2019-04-30 11:18:14-04:00
a6171b0f4f9ef8ebb7962ac3a98551ee9c77fd75,"Document alignment in map_partitions [skip ci] (#4757)

Documents that dataframe-like objects passed to ``map_partitions`` are
first aligned before mapping the passed function.",Jim Crist,jcrist@users.noreply.github.com,2019-04-30 13:53:18-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-30 11:53:18-07:00
ceca91c1dd52001d150c6d307defff3ad681b48a,"Update optimization docs now that cull is not automatic (#4752)

Fixes https://github.com/dask/dask/issues/4585",Matthew Rocklin,mrocklin@gmail.com,2019-04-30 12:14:05-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-04-30 14:14:05-05:00
e309d6fedf354ac4a524e48675e0c5098f8d470f,"Remove normed keyword in da.histogram (#4755)

* Stop testing normed keyword argument to da.histogram

* Remove normed argument to histogram

We raise an informative error message pointing the user to the correct
density= keyword

* add test for error message",Matthew Rocklin,mrocklin@gmail.com,2019-04-30 12:30:54-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-30 14:30:54-05:00
5f69afe5cc331d7f8e32ffbe95411c2f76b19f52,"Normalize Xarray datasets to Dask arrays (#4756)

Fixes #4532",Matthew Rocklin,mrocklin@gmail.com,2019-04-30 12:32:19-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-30 14:32:19-05:00
566f7abdad14853ca117fddf67aeb1397472f17f,"Use ""row major"" rather than ""C order"" in docstring (#4452)",asmith26,asmith26@users.noreply.github.com,2019-04-30 20:44:25+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-04-30 12:44:25-07:00
099e1f2322aef96278bdb4caa627f1df1e7aa865,"Add dtype= parameter to da.random.randint (#4753)

* Add dtype= parameter to da.random.randint

Fixes https://github.com/dask/dask/issues/4579

Also checked to see if there were any other cases of dtype being
supported with

```
import numpy

for func in dir(np.random):
    if 'dtype=' in (getattr(np.random, func).__doc__ or ''):
        print(func)
```

* assert dtype",Matthew Rocklin,mrocklin@gmail.com,2019-04-30 14:13:57-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-30 16:13:57-05:00
26c6de1b7c08b0744fbc22ab68f323254ce9f691,"Add test fro dtype casting (#4760)

Fixes #4398",Martin Durant,martindurant@users.noreply.github.com,2019-04-30 17:25:16-04:00,GitHub,noreply@github.com,2019-04-30 17:25:16-04:00
871067f9479df9ef33ee12c13c8acf2ff3084b71,"Enabling glob with HTTP file-system (#3926)

* Example of enabling glob with HTTP file-system

This derives from fsspec's abstract file-system, to show reusability of
glob and walk code.

* ls should return sorted, unique list

* more backporting

* revert options

* remove stray print

* remove import for flake

* Skip filesize on older requests",Martin Durant,martindurant@users.noreply.github.com,2019-04-30 17:25:34-04:00,GitHub,noreply@github.com,2019-04-30 17:25:34-04:00
274c4f66d93ef088a759d201c1f3c218acd071cc,Add array best practices doc (#4705),Matthew Rocklin,mrocklin@gmail.com,2019-04-30 14:42:54-07:00,GitHub,noreply@github.com,2019-04-30 14:42:54-07:00
fc95fe0672b6aededb9d01cfd0fa42c5a4cc3c2f,"Clarify regions kwarg to array.store (#4759) [skip ci]

Fixes #4393",Martin Durant,martindurant@users.noreply.github.com,2019-04-30 17:52:39-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-30 16:52:39-05:00
f96f14b9d9c8bc5d7a7d326386c332988746730c,"added meta for read_json and test (#4588)

* added meta for read_json and test

* fixups",Abhinav Ralhan,abhinav.ralhan1@gmail.com,2019-05-01 08:45:42+05:18,Jim Crist,jcrist@users.noreply.github.com,2019-04-30 22:27:42-05:00
78c412f75a65adfca892ee43d42c7ac46b3eafda,"Add key argument to Bag.distinct (#4423)

* Comply with flake8

* Add docs to Bag.distinct

* Add toolz.compose to Bag.distinct

* Attempt to fix doctests

* Attempt to fix doctests

* Use assert_eq in bag tests

* Removed toolz drom merge_distinct and Bag.distinct

* Removed unused import

* Update dask/bag/core.py

Co-Authored-By: daniel-severo <danielsouzasevero@gmail.com>

* Update dask/bag/core.py

Co-Authored-By: daniel-severo <danielsouzasevero@gmail.com>

* fixups",Daniel Severo,danielsouzasevero@gmail.com,2019-05-01 00:34:35-03:00,Jim Crist,jcrist@users.noreply.github.com,2019-04-30 22:34:35-05:00
c6aa46e076e611b6e5522ddea2e070eb5239995b,Specify bash code-block in array best practices (#4764),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-01 09:51:16-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-01 07:51:16-07:00
0199be447baee6fa4584881efa59dc9bb36d98eb,Explain intermediate storage for dask arrays (#4025),jakirkham,jakirkham@gmail.com,2019-05-01 13:53:55-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-01 10:53:55-07:00
cd988ab61b44b14763995426215d5f5858c29a04,"Remove explicit pandas check in cumulative aggregations (#4765)

Instead we use is_series_like and is_dataframe_like",Nick Becker,nickb500@gmail.com,2019-05-01 17:11:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-01 14:11:00-07:00
44bdc7cecfea91e89a40cbd3f50d573e849088f3,Update images in delayed doc to remove labels (#4768),Martin Durant,martindurant@users.noreply.github.com,2019-05-02 09:52:06-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-02 06:52:06-07:00
5ad6d304f0dcc88c12ffd4baf8e90a0e20f2afa7,"Point users to Dask-Yarn from spark documentation (#4770)

This page is our most highly trafficked page.
Lets direct traffic to the Dask-Yarn and JupyterHub-on-Hadoop pages from here.",Matthew Rocklin,mrocklin@gmail.com,2019-05-03 12:44:13-07:00,GitHub,noreply@github.com,2019-05-03 12:44:13-07:00
8fdc88f9c7a6074871079f0bdf27b57b75c6e886,"Add document describing phases of computation [skip ci] (#4766)

This is intended to help expert users more effectively profile their
code.",Matthew Rocklin,mrocklin@gmail.com,2019-05-04 06:29:39-07:00,GitHub,noreply@github.com,2019-05-04 06:29:39-07:00
c0fa51e72b651306a029be133d1b723c12ed9fc6,Add core dask config file (#4774),Matthew Rocklin,mrocklin@gmail.com,2019-05-06 12:54:55-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-05-06 12:54:55-05:00
bd603f187709cb0b273f73e7460a008dfd70f95d,Add core dask config file to MANIFEST.in (#4780),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-06 21:58:11-05:00,GitHub,noreply@github.com,2019-05-06 21:58:11-05:00
cae23c2f9ba53e1150a6c3ea318b32b4012a86ae,"Describe doc (#4762)

* Add disclaimer to dataframe.describe() [skip ci]

Fixes #4401

* Simplest revamt of dataframe doc generation

* add tests

* extra docstring after disclaimer

* add a little to the relavant docstring [skip ci]

* py2fixes

* Do not add lines to empty docstring

(this is only relavant to -OO optimized bytecode, which strips docstrings)

* skip on py2",Martin Durant,martindurant@users.noreply.github.com,2019-05-07 10:55:53-04:00,GitHub,noreply@github.com,2019-05-07 10:55:53-04:00
ff0877d885527e2683263973c55801e4de7b215e,"Add support for group_keys kwarg in DataFrame.groupby() (#4771)

* Add group keys

* Change to kwargs, add comment

* Remove not supported test

* Add test

* Python 2 compat",Brian Chu,bc@brianchu.com,2019-05-07 09:00:54-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-05-07 11:00:53-05:00
8f84c759e5c75e4c4089b75a95e67a9a2943b334,"Tweaks to develop.rst from trying to run tests (#4772)

* Mention dependencies needed to get tests to run; tweak ""supported Python versions"" line

* Skip relevant tests from test_dot if IPython not installed

* Ignore doctest in dask/dask/dataframe/io/io.py, which needs bcolz

* Ignore more doctests; revert develop.rst edit",Christian Hudon,chrish@pianocktail.org,2019-05-07 14:10:12-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-05-07 13:10:12-05:00
70cb0879a29000071f243ae7b2a6c26c498994b8,"Remove explicit references to Pandas in dask.dataframe.groupby (#4778)

* Remove explicit references to Pandas in dask.dataframe.groupby

* Add comment explaining behavior [skip ci]",Matthew Rocklin,mrocklin@gmail.com,2019-05-07 20:34:40-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-05-07 20:34:40-05:00
fb407f57188a8ff719ee6f0b051cabb8a84faf2c,bump version to 1.2.2,James Bourbeau,jrbourbeau@gmail.com,2019-05-08 13:38:09-05:00,James Bourbeau,jrbourbeau@gmail.com,2019-05-08 13:38:09-05:00
0fefa2d99cac45282f8bd12f3477323d6b66fcb2,"Ensure concat output has coherent dtypes (#4692)

This calls astype on the input dataframes if necessary.",Guillaume Lemaitre,g.lemaitre58@gmail.com,2019-05-09 01:28:51+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-08 18:28:51-05:00
d375772b9749883ea060bfcfebcdda6a4bd6dcfe,Move distributed's parse and format functions to dask.utils (#4793),Matthew Rocklin,mrocklin@gmail.com,2019-05-13 09:39:36-05:00,GitHub,noreply@github.com,2019-05-13 09:39:36-05:00
25adf164ee1948388c2495a3000dd730fe0d0690,Add cli API docs (#4788),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-13 11:52:17-05:00,GitHub,noreply@github.com,2019-05-13 11:52:17-05:00
a8c0713e7acbd4a2e95a77cdc9753f7db978b913,Add document for how Dask works with GPUs (#4792),Matthew Rocklin,mrocklin@gmail.com,2019-05-13 14:04:52-05:00,GitHub,noreply@github.com,2019-05-13 14:04:52-05:00
cea4fd2db925deea117d3de82a4cea9789b619b3,Add master best practices document (#4745),Matthew Rocklin,mrocklin@gmail.com,2019-05-14 12:10:10-05:00,GitHub,noreply@github.com,2019-05-14 12:10:10-05:00
cdd47c6be09a2c006ccd8a29bfd22213a0faf785,"ufunc: avoid __array_wrap__ in favor of __array_function__ (#4708)

* ufunc: rely avoid __array_wrap__ in favor of __array_function__

Note: NEP-18 has to be active

* Test wrap_elemwise() with NEP-18 changes

* Move sparse tests that require NEP-18 to test_array_function

* Reenable __array_function__ test on PRs

* Fixes dataframe and isneginf/isposinf ufuncs

* Use da.equal ufunc for isneginf/ispoinf
* Keep on using __array_wrap__ for dataframe

* Fix ufunc import error

* Use dask.dataframe.utils.is_dataframe_like in dask.array.ufunc

* Move is_dataframe_like and related functions to daks/utils.py",Peter Andreas Entschev,peter@entschev.com,2019-05-14 19:52:46+02:00,jakirkham,jakirkham@gmail.com,2019-05-14 13:52:46-04:00
fdc2322a336a5d57ba8be599651b9a71ed55e542,Change groupby-ness tests in `_maybe_slice` (#4786),Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-05-14 14:19:55-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-14 13:19:55-05:00
8ca553dcf701a3f5580939e9da8eba487a24edb3,Cleanup CI warnings (#4798),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-15 09:03:06-05:00,GitHub,noreply@github.com,2019-05-15 09:03:06-05:00
2b63a48db71e79d6dfc66046e51bf474bbdba6e2,"Update groupby-apply doc with warning (#4800)

* Update groupby-apply doc with warning

Note the difference to pandas's groupby-apply when the applied
function is an aggregation. We steer users towards dd.Aggregation
when the function reduces.

Closes https://github.com/dask/dask/issues/4372

* fixup",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-15 13:20:33-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-15 13:20:33-05:00
d53b5608781da50fffff11179f9f6e466e6315d9,"Add support for rolling operations with larger window that partition size in DataFrames with Time-based index (#4248) (#4796)

* Added support for time rolling ops. with larger window than partitions

 - Swapped error checking for window larger than partitions with
 correct path for handling that situation
 - Added logic to calculate number of partitions needed for each rolling
 operation (for past rolling windows)
 - Updated graph calculation to ensure each task depends on the correct
 partitions
 - Added alternative row selection method to extract necessary rows for
 task given several partitions instead of just one
- Removed error checking test for larger window than partition.
- Added two new tests checking select rolling operations with windows larger than the partition size (one test for equally-sized partitions and one test for variable-sized partitions)",Jorge Pessoa,beertree.on@gmail.com,2019-05-15 22:56:07+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-15 16:56:07-05:00
edec11047c999a40c387c657c6811ab00c655a89,catch IOError in ensure_file (#4806),Justin Poehnelt,justin.poehnelt@gmail.com,2019-05-16 10:10:38-06:00,Martin Durant,martindurant@users.noreply.github.com,2019-05-16 12:10:38-04:00
d8c351e2610138db984288c6922c1e0e89c8e1ca,"Call head before compute in dd.from_delayed (#4802)

* Call head before compute in dd.from_delayed

In from_delayed we need to move a bit of data from a task to the client
process.  Now we make sure only to move a small bit of data instead of
the full chunk.

* add in an else

* remove dask from dask.delayed",Matthew Rocklin,mrocklin@gmail.com,2019-05-16 14:46:16-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-16 14:46:16-05:00
a4fd776d5f66e162f6115871af2cd9412de05533,"Scalars for extension dtypes. (#4459)

* wip

* Scalars

* Fixup

* skip

* compat

* remove compat

* fixups",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-16 16:12:59-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-16 16:12:59-05:00
2b1bf665736ab448fd6fc0ab8f1e9cbeaf0a4150,"Adding support of non-numeric data to describe() (#4401) (#4791)

* Adding support of non-numeric data to describe() (#4401)",Ksenia Bobrova,bobrovaksenia@gmail.com,2019-05-17 15:40:11+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-17 08:40:11-05:00
c53f91d3096d6c3e335f5be139877c5ec9755402,Update URL for joblib to new website hosting their doc (#4816),Christian Hudon,chrish@pianocktail.org,2019-05-17 10:46:31-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-17 09:46:31-05:00
081a911148d472bb1a82a88a19f18e5c19d5f137,"Add SVG image and table in Array._repr_html_ (#4794)

This provides more information about Dask arrays as an HTML repr

It includes a table of information (bytes, shape, dtype, ...)
and a visual representation of the chunks as a grid",Matthew Rocklin,mrocklin@gmail.com,2019-05-17 11:19:07-05:00,GitHub,noreply@github.com,2019-05-17 11:19:07-05:00
63a85ca1606b1e827d309d670b67ff128ab33308,"Fix for #4775 (#4807)

* Fix for #4775

* Fix for #4775

* Added space

* Added new check",Lijo Jose,33356321+lijose@users.noreply.github.com,2019-05-18 18:43:38+05:18,Martin Durant,martindurant@users.noreply.github.com,2019-05-18 09:25:38-04:00
f9eaf4c620f1d233fa7f9b617837cac23cb813f9,"Provide full type name in check_meta (#4819)

* Provide full type name in check_meta

Otherwise users get the less-than-helpful error message when they put
dask dataframes in dask dataframes

Expected DataFrame but got DataFrame

* use typename in more places

* use typename in more places

* flake8

* cleanup test",Matthew Rocklin,mrocklin@gmail.com,2019-05-18 11:00:48-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-18 11:00:48-05:00
56d7981244b50e0db90069a05f87012173f97bf0,"Add ""Avoid Large Partitions"" section to best practices (#4808)",Matthew Rocklin,mrocklin@gmail.com,2019-05-18 13:04:21-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-18 13:04:21-05:00
bf0376e8fc371acfaba7b57200525bedc2611f33,Fix typos (#4823),Hugo,hugovk@users.noreply.github.com,2019-05-20 16:54:43+03:00,Martin Durant,martindurant@users.noreply.github.com,2019-05-20 09:54:43-04:00
01fe81fe8ee020acdd6296a72b33e81dfd4ed4b6,"Allow `utils.derive_from` to accept functions, apply across array (#4804)

* Allow `utils.derive_from` to accept functions

To be applied to numpy top-level functions, as seen throughout the dask.array
package. One test case so far: da.routines.array .

* Apply to most functions in routines

* add several more

* Apply to ma

* remove unused imports

* fix outdent",Martin Durant,martindurant@users.noreply.github.com,2019-05-21 16:24:53-04:00,GitHub,noreply@github.com,2019-05-21 16:24:53-04:00
32b5a83c068288b2253310e43163a176a7f87095,Add document for custom startup [skip ci] (#4833),Matthew Rocklin,mrocklin@gmail.com,2019-05-22 10:58:14-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-22 10:58:14-05:00
e3024d9d22cc088e2e1347471134868bd8857930,"Make map_blocks work with drop_axis + block_info (#4831)

The amount of code is actually reduced, because I deleted some code that
should never be used: it was trying to cater for arrays in kwargs, but
the API says the kwargs must not be arrays.

Instead of trying to track axes that appear and disappear, the axis
labels that are already computed (for passing to blockwise) are
leveraged to simplify the indexing logic. The current block location is
represented as a dictionary from axis label to block index, and then the
location for the current input array is looked up through that
dictionary. This may have a minor performance impact because there is
now an extra per-chunk dictionary being thrown around.

Closes #4584.",Bruce Merry,bmerry@ska.ac.za,2019-05-22 21:36:27+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-22 14:36:27-05:00
bfb0e83103ac9e4e15421d18bee507135d8d6bc7,Add read_function keyword to read_json (#4810),(Rick) Richard J Zamora,rzamora217@gmail.com,2019-05-22 15:16:19-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-22 15:16:19-05:00
6c2148485b82a972ed630a0ff7a2e269e580d3bb,"Use the .values attribute in to_dask_array (#4835)

This lets us dispatch to the underlying object and trust how it wants to
convert to array-like objects.  This in particular helps when the result
is not a Numpy array.",Matthew Rocklin,mrocklin@gmail.com,2019-05-22 22:18:27-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-22 22:18:27-05:00
1beabd5b6bd18f7eb80c13ab4667cd873b55090d,Catch async def SyntaxError (#4836),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-23 08:22:44-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-23 08:22:44-05:00
fc1d4695782f2932dd19821be78060d51c316636,"Doc fixups (#2528)

* DOC: Fixed block referred to in ghost

* More typos

* Added another foldby example

* Replace '>>>' with '...' in docstring",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-23 13:11:18-05:00,GitHub,noreply@github.com,2019-05-23 13:11:18-05:00
41e5026b482bfb4c39535f8f301a1832f8a2630f,"Add quansight to paid support doc section (#4838)

* Add quansight to paid support doc section [skip ci]

* Change support to list",Martin Durant,martindurant@users.noreply.github.com,2019-05-23 16:05:20-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-23 15:05:20-05:00
2f308e72a46de818055819108429e8f7ce7ba03b,Fix CI warnings in dask.array tests (#4805),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-24 09:08:05-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-05-24 09:08:05-05:00
125e0d7872ffb5374f5b2ccb20cdb79ca4834682,"Allow da.eye to support arbitrary chunking sizes with chunks='auto'  (#4834)

* allow da.eye to support arbitrary chunking sizes

* Formatting only

* use chunks instead of chunk

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>

* Revert to origin imports structure

* Update docstring

* Update docstring",Anderson Banihirwe,axbanihirwe@ualr.edu,2019-05-25 06:40:22-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-25 07:40:22-05:00
bb181a77f68e8a549c460edc36a60edb8907e65c,"Drop outdated `numpy_compat` functions (#4850)

* Drop outdated `numpy_compat` functions

These functions (`nancumsum` and `nancumprod`) have been removed as part
of bumping the NumPy requirement to 1.13.0. So drop these fallback
imports as these functions don't exist any more.

* Update dask/array/tests/test_array_core.py

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>

* Drop unneeded `nancumsum` and `nancumprod` imports

These appear to be no longer used in this file (maybe they were
previously?), but flake8 didn't catch them before. Go ahead and drop the
imports to clean things up a bit.

* Alias `nancumprod` and `nancumsum` in `chunk`

This is needed for code in `dask.array.reductions` and is how other
functions from NumPy operating on chunks are being handled currently.
Should also fix the CI errors introduced by dropping imports of these
functions from `numpy`.",jakirkham,jakirkham@gmail.com,2019-05-28 16:01:09-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-28 15:01:09-05:00
122163dede2a94021e35ea038d9caa3fbae0f3f7,"Put do/don't into boxes for delayed best practice docs (#3821)

* Put do/don't into boxes for delayed best practice docs

* better spacing [skip-ci]

* Use comments and code to improve alignment

* fix one box",Martin Durant,martindurant@users.noreply.github.com,2019-05-28 16:34:37-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-28 15:34:37-05:00
7969e9df8be9993f45d7f51d0ddd2bddff076d30,"Turn off autoplay on gpu video (#4856)

It looks like autoplay was on on this video, causing a bit of a surprise",Matthew Rocklin,mrocklin@gmail.com,2019-05-29 11:32:19-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-29 11:32:19-05:00
a6abe3ca75179a7264a15de043335e6dbed684ea,"Alias .partitions to .blocks attribute of dask arrays (#4853)

* Alias .partitions to .blocks attribute of dask arrays

* Test dask array .partitions, copied and renamed from .blocks test case",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2019-05-30 13:42:34+10:00,jakirkham,jakirkham@gmail.com,2019-05-29 23:42:34-04:00
9733ab568c732181ec7a786b28944bab4acfd8db,"Added accessor registration for Series, DataFrame, and Index (#4829)

* Added accessors

* lint

* skip py2

* fixups",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-05-31 11:26:28-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-05-31 11:26:28-05:00
612331d88bbb57c0e8ac03e4d42db1f1018b2b36,Docs: Fix typo (#4868),Pawe Kordek,pawel.kordek@gmail.com,2019-06-03 16:58:38+01:00,jakirkham,jakirkham@gmail.com,2019-06-03 11:58:38-04:00
165f71e70983874a9f63eda544199d526041f69f,"Avoid use of pandas.compat (#4881)

Closes https://github.com/dask/dask/issues/4880",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-04 13:09:58-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-04 11:09:58-07:00
90a162a36e19ca730b0f533fa9aa893e34b24384,Add documentation about meta column order (#4887),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-05 13:36:31-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-05 11:36:31-07:00
24ee370e32812ca1cf9df6164f64f817fc658f9e,Add documentation note in DataFrame.shift (#4886),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-05 15:55:29-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-05 13:55:29-07:00
3a55adfe4b4173b526a58694fd0f35cae2723d77,Bump minimum partd to 0.3.10 (#4890),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-06 17:16:54-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-06 15:16:54-07:00
32f0fac078783be3dc648a10af51433c915fe73c,"Add Dask Array._meta attribute (#4543)

This adds a `._meta` attribute to Dask Array that records a small
example of the chunk type.  This should help to maintain metadata
about types, such as is useful for sparse and GPU arrays.

Fixes #2977",Peter Andreas Entschev,peter@entschev.com,2019-06-07 02:07:15+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-06 17:07:15-07:00
958ceb3b186b0857fb328933b80b625e82ec624c,Fix typo in DataFrame API documentation,Matthew Rocklin,mrocklin@gmail.com,2019-06-06 19:01:44-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-06 19:01:44-07:00
6e771a7fafa6725438fb0acb5a27f4251aaaee1b,"Add documentation for dataframe reshape methods (#4896)

Fixes #4825",tpanza,panza@ischool.berkeley.edu,2019-06-07 07:52:56-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-07 07:52:56-07:00
7ccd6da582b5a1776ed85a616fb6f9f843b38a19,Add chunk type to html repr in Dask array (#4895),Matthew Rocklin,mrocklin@gmail.com,2019-06-07 07:54:02-07:00,GitHub,noreply@github.com,2019-06-07 07:54:02-07:00
30363187bfab64629e8eff3495854554b5742d69,Add divmod implementation to arrays and dataframes (#4884),henriqueribeiro,henriqueribeiro@users.noreply.github.com,2019-06-07 19:25:59+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-07 11:25:59-07:00
c8a69d0159c9452bded2cc856af916a420e46127,"Canonicalize key names in config.rename (#4903)

Fixes #4902",Ian Bolliger,bolliger32@gmail.com,2019-06-07 17:05:26-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-07 17:05:26-07:00
320c2e3b5fcc30987b25fc05740903f65538fc62,Also ignore AttributeErrors which may occur if snappy (not python-snappy) is installed (#4908),Mark Bell,MarkCBell@users.noreply.github.com,2019-06-10 04:05:55+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-09 20:05:55-07:00
c85eece135364630aac16008d4d8ae416486eff9,"Parallel variance computation for dataframes (#4865)

* Parallel variance computation for dataframes

* Using _meta_nonempty instead of _meta

* Fixing array dtype conversion

* Replacing _get_numeric_data with select_types

* Adding support of timedelta64

* Compute numerics separately + respecting skipna for timedelta columns",Ksenia Bobrova,bobrovaksenia@gmail.com,2019-06-10 06:07:00+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-09 23:07:00-05:00
4d3a48ee6d5e2b63fef1b0e6740b6478261cdaea,"Fix _meta slicing of flexible types (#4912)

Fixes #4911",Peter Andreas Entschev,peter@entschev.com,2019-06-10 23:41:57+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-10 23:41:57+02:00
30fb0f2dbcb291bd68771ad80c452e47ac16a057,"Add __await__ method to Dask collections (#4901)

* Add __await__ method to collection mixin

Fixes https://github.com/dask/dask/issues/4900

* Support local scheduler as well

* Ignore flake8 in Python 3 tests

* Remove automatic persist from await call",Matthew Rocklin,mrocklin@gmail.com,2019-06-11 16:10:07+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-11 09:10:07-05:00
0554dfbc541fc12c07b0d7611c67c71f5c6b47f4,"Remove requirement to modify changelog (#4915)

In practice the release manager copy-pastes the git commit titles",Matthew Rocklin,mrocklin@gmail.com,2019-06-11 17:09:05+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-11 10:09:05-05:00
ce2f86609e6d7f0f141193984f87a386af46729d,"Promote types in `concatenate` using `_meta` (#4925)

* Promote types in `concatenate` using `_meta`

There was some left over type promotion code for the arrays to
concatenate using their `dtype`s. However this should now use the
`_meta` information instead since that is available.

* Ensure `concatenate` is working on Dask Arrays",jakirkham,jakirkham@gmail.com,2019-06-12 14:09:35-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-12 13:09:35-05:00
abc86d365bb0a0b1eb06fb200c4af1c2b432abee,"Raise ValueError if concatenate is given no arrays (#4927)

* Raise `ValueError` if `concatenate` gets no arrays

NumPy will raise if no arrays are provided to concatenate as it is
unclear what to do. This adds a similar exception for Dask Arrays. Also
this short circuits handling unusual cases later. Plus raises a clearer
exception than one might see if this weren't raised.

* Test `concatenate` raises when no arrays are given",jakirkham,jakirkham@gmail.com,2019-06-12 14:20:59-04:00,GitHub,noreply@github.com,2019-06-12 14:20:59-04:00
7a9cfaf35f944866098b35bb6ce4e27145929256,"keep index name with to_datetime (#4905)

* keep index name with to_datetime

* allow users to pass meta

* Update dask/dataframe/core.py

put meta as explicit kwarg

Co-Authored-By: Matthew Rocklin <mrocklin@gmail.com>

* Update dask/dataframe/core.py

remove meta kwargs.pop

Co-Authored-By: Matthew Rocklin <mrocklin@gmail.com>

* remove test for index

* allow index",Ian Bolliger,bolliger32@gmail.com,2019-06-12 11:44:26-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-12 13:44:25-05:00
6e8c1b76feb12337574f40032dbd3818626b8e28,"Drop Python 2.7 (#4919)

* Drop Python 2.7

Drops Python 2.7 from our `setup.py`, and from our test matrix. We don't
drop any of the compatability fixes (yet), but won't be adding new ones.

* fixup",Jim Crist,jcrist@users.noreply.github.com,2019-06-12 15:55:11-05:00,GitHub,noreply@github.com,2019-06-12 15:55:11-05:00
985cdf2a323658280354e253e57435124a50f6c3,Groupby Covariance/Correlation (#4889),Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-06-13 10:38:15-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-13 09:38:15-05:00
c4006915375ae23f260fb5f040a6886ec8e73bb9,Docs: Drop support for Python 2.7 (#4932),Hugo,hugovk@users.noreply.github.com,2019-06-13 17:38:37+03:00,jakirkham,jakirkham@gmail.com,2019-06-13 10:38:37-04:00
f9cd802066fa641fe9bf57bc22fcb40593e34fe8,"Merge dtype warning (#4917)

* add test covering the merge column dtype mismatch warning

* for various merge types: checks that the resulting dataframe
  has either no nans or that a UserWarning has been thrown

* Add warning for mismatches between column data types

* fixes issue #4574
* Warning is thrown if the on-columns of left and right have
  different dtypes

* flake8 fixes

* fixes

* use asciitable for warning string",mcsoini,33124051+mcsoini@users.noreply.github.com,2019-06-13 18:03:55+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-13 11:03:55-05:00
46aef5870482e32b946e142aaf5bd81c53b1d0f1,"Overload HLG values method (#4918)

* Overload HLG values method

* Return lists for keys, values, and items

* Add tests for keys and items",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-13 11:04:47-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-13 11:04:47-05:00
66531baff7c343417c2ee8e78b9791225d723ca6,"Drop size 0 arrays in concatenate (#4167)

* Test `da.concatenate` with size 0 array

Make sure that `da.concatenate` does not include empty arrays in the
result as they don't contribute any data.

* Drop size 0 arrays from `da.concatenate`

If any of the arrays passed to `da.concatenate` has a size of 0, then it
won't contribute anything to the array created by concatenation. As such
make sure to drop any size 0 arrays from the sequence of arrays to
concatenate before proceeding.

* Handle dtype and all 0 size case

* Cast inputs with asarray

* Coerce all arrays to concatenate to the same type

* Drop obsoleted type handling code

* Comment on why arrays are being dropped

* Use `np.promote_types` for parity w/old behavior

* Handle endianness during type promotion

* Construct empty array of right type

Avoids the need to cast later and the addition of another node to the
graph.

* Promote types in `concatenate` using `_meta`

There was some left over type promotion code for the arrays to
concatenate using their `dtype`s. However this should now use the
`_meta` information instead since that is available.

* Ensure `concatenate` is working on Dask Arrays

* Raise `ValueError` if `concatenate` gets no arrays

NumPy will raise if no arrays are provided to concatenate as it is
unclear what to do. This adds a similar exception for Dask Arrays. Also
this short circuits handling unusual cases later. Plus raises a clearer
exception than one might see if this weren't raised.

* Test `concatenate` raises when no arrays are given

* Determine the concatenated array's shape

Needed to handle the case where all arrays have trivial shapes.

* Handle special sequence cases together

* Update dask/array/core.py

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>

* Drop outdated comment

* Assume valid `_meta` in `concatenate`

Simplifies the `_meta` handling logic in `concatenate` to assume that
`_meta` is valid. As all arguments have been coerced to Dask Arrays,
this is a reasonable assumption to make.",jakirkham,jakirkham@gmail.com,2019-06-13 12:13:55-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-13 11:13:55-05:00
1f821f4d606c6ec05fc483d12fe13b2cea6bb492,"Cache chunk boundaries for integer slicing (#4923)

This is an alternative to #4909, to implement #4867.

Instead of caching in the class as in #4909, use functools.lru_cache.
This unfortunately has a fixed cache size rather than a cache entry
stored with each array, but simplifies the code as it is not necessary
to pass the cached value from the Array class down through the call tree
to the point of use.

A quick benchmark shows that the result for indexing a single value from
a large array is similar to that from #4909, i.e., around 10x faster for
constructing the graph.

This only applies the cache in `_slice_1d`, so should be considered a
proof-of-concept.

* Move cached_cumsum to dask/array/slicing.py

It can't go in dask/utils.py because the top level is not supposed to
depend on numpy.

* cached_cumsum: index cache by both id and hash

The underlying _cumsum is first called with _HashIdWrapper, which will
hit (very cheaply) if we've seen this tuple object before. If not, it
will call itself again without the wrapper, which will hit (but at a
higher cost for tuple.__hash__) if we've seen the same value before but
in a different tuple object.

* Apply cached_cumsum in more places",Bruce Merry,bmerry@ska.ac.za,2019-06-14 12:49:59+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-14 12:49:59+02:00
419d27ed543ba1f58a6cf76cdff54516a6dcab1c,Minor meta construction cleanup in concatenate (#4937),Peter Andreas Entschev,peter@entschev.com,2019-06-14 15:18:42+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-14 15:18:42+02:00
773f775034f37ce2c5097c51bf05b0a0370f6612,"4809 fix extra cr (#4935)

* added test that fails to demonstrate the issue in 4809

* modfied open_files/OpenFile to accept a newline parameter, similar to io.TextIOWrapper or the builtin open on py3. Pass newline='' to open_files when preparing to write csv files.

Fixed #4809

* modified newline documentation to follow convention

* added blank line to make test_csv.py flake8-compliant",btw08,45699730+btw08@users.noreply.github.com,2019-06-14 14:34:34+00:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-14 09:34:34-05:00
d8ff4c4d155d51cf275776c1ec8ef27c16d43f17,"Add a diagnostics extra (includes bokeh) (#4924)

* Add a diagnostics extra (includes bokeh)

* Bump bokeh minimum to 0.13.0

* Add to `test_imports`",jakirkham,jakirkham@gmail.com,2019-06-14 10:35:00-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-14 09:35:00-05:00
c437e63e6356d950ea2d36dd8e9719368c8addd9,"Fix meta_from_array to support Xarray test suite (#4938)

Fixes https://github.com/pydata/xarray/issues/3009",Matthew Rocklin,mrocklin@gmail.com,2019-06-16 10:42:16+02:00,GitHub,noreply@github.com,2019-06-16 10:42:16+02:00
76f55fdeedaf79877e7274323e2fb193008fda5b,"Remove numpy warning in moment calculation (#4921)

Previously we would divide by 0 in meta calculations for dask array
moments, which would raise a Numpy RuntimeWarning to users.

Now we avoid that situation, though we may also want to investigate a
more thorough solution.",Matthew Rocklin,mrocklin@gmail.com,2019-06-17 09:28:07+02:00,GitHub,noreply@github.com,2019-06-17 09:28:07+02:00
abe9e28cb2028a97d0d6e597348106fa7f049fb4,Defer order/casting einsum parameters to NumPy implementation (#4914),Peter Andreas Entschev,peter@entschev.com,2019-06-17 15:19:24+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-17 15:19:24+02:00
4f97be686a5a8df84f33644e885bcb43d49850e6,Expand *_like_safe usage (#4946),Peter Andreas Entschev,peter@entschev.com,2019-06-17 15:21:15+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-17 15:21:15+02:00
f7d73f8f448c761b5e7e818835f8aa00057de812,"Further relax Array meta checks for Xarray (#4944)

Our checks in slicing were causing issues for Xarray, which has some
unslicable array types.  Additionally, this centralizes a bit of logic
from blockwise into meta_from_array

* simplify slicing meta code with meta_from_array",Matthew Rocklin,mrocklin@gmail.com,2019-06-17 15:22:35+02:00,GitHub,noreply@github.com,2019-06-17 15:22:35+02:00
255cc5b1aa19a915bd921c3d0e1f4c99b6521360,"Map Dask Series to Dask Series (#4872)

* index-test needed fix

* single-parititon-error

* added code to make it work

* add tests

* delete some comments

* remove seed set

* updated tests

* remove sort_index and add tests",Justin Waugh,justin@unsupervised.com,2019-06-17 08:18:26-06:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-17 09:18:25-05:00
ee1b6268f7165162eec998d909ee74e75922aa45,Preserve NumPy condition in da.asarray to preserve output shape (#4945),Alistair Miles,alimanfoo@googlemail.com,2019-06-17 18:43:53+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-17 19:43:53+02:00
bfc0e6ba06eca5f2d83e5f6abf6dc785c8400299,"Fix correlation of series with same names (#4934)

* Fix correlation of series with same names

see https://github.com/dask/dask/issues/4906",Philipp S. Sommer,Chilipp@users.noreply.github.com,2019-06-17 23:29:47+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-17 16:29:47-05:00
463a3be946927d244cfb97b28508ea0c23f48809,Remove unneeded commented out line [ci skip] (#4956),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-17 22:03:32-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-17 22:03:32-05:00
2f831fd7e9a6223cb939d485e29c173d518c3fc0,"Remove pandas pinning in Dataframe accessors (#4955)

* Remove pandas pinning in Dataframe accessors

Fixes https://github.com/rapidsai/dask-cudf/issues/133

* handle index types",Matthew Rocklin,mrocklin@gmail.com,2019-06-18 15:12:57+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-18 08:12:57-05:00
05a2a52a5b023cf0c7049046cab118ca057caa17,"Raise on warnings in tests (#4916)

1.  updates setup.cfg to raise on unhandled warnings from the following libraries
    -   dask
    -   pandas
    -   numpy
    -   distributed
2.  Updates the test suite to pass",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-18 12:20:55-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-18 19:20:55+02:00
84ff7375a45261a4746a8f43d42fa9b30cbd6194,"WIP: Update test_to_records to test with `lengths` argument, added co (#4515)",asmith26,asmith26@users.noreply.github.com,2019-06-18 19:30:11+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-18 13:30:11-05:00
2d0ddc6d978fdf995ac71dda20ae6f0fb543cc8f,Avoid deprecated message parameter in pytest.raises (#4962),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-18 16:13:47-05:00,GitHub,noreply@github.com,2019-06-18 16:13:47-05:00
4836937d47182bd5157d53aacaa93b0a348cc0b1,"quiet dependency installs (#4960)

* quiet dependency install

* Remove redundant quiet flag on Appveyor",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-18 18:15:35-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-18 18:15:35-05:00
14ca5b522ef0b573aa38fc6ce84706974810ab7e,"memmapped numpy arrays on different part of same file bug (#4931)

* fix bug where memmapped numpy arrays on different parts of same file had different hashes

* added test for memmaps on different parts of same file

* changed test to use temp files",Henry Pinkard,henry.pinkard@gmail.com,2019-06-18 17:19:34-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-06-18 19:19:34-05:00
c4ee834c1f7a71c3c85e80d1aea04a071db51ba4,"test ci (#4963)

* test ci

* lint",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-18 22:11:31-05:00,GitHub,noreply@github.com,2019-06-18 22:11:31-05:00
299675638d1316fd58c9192fc94bf8fafa8f9b50,fix typo (#4968),mbarkhau,mbarkhau@gmail.com,2019-06-19 16:58:46+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-19 09:58:46-05:00
2b62a8e119c14c5e19331134a07ccd58ec11345f,Add bag.read_avro to bag API docs [skip ci] (#4969),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-19 10:14:12-05:00,Martin Durant,martindurant@users.noreply.github.com,2019-06-19 11:14:12-04:00
d9b429e9d4a239724155eef313d4a7218a8054af,Add documentation entry for dask.array.ma.average (#4970),Bouwe Andela,bouweandela@users.noreply.github.com,2019-06-20 00:20:19+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-19 17:20:19-05:00
b6b624dd0a260bed401157ebda45315632e2b3c3,Allow dataframes to be indexed by dask arrays (#4882),Endre Mark Borza,endremborza@gmail.com,2019-06-20 13:30:14+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-20 13:30:14+02:00
e32fbe35704976600233191ea03dd73a3dec5a88,Support meta= keyword in da.from_delayed (#4972),Matthew Rocklin,mrocklin@gmail.com,2019-06-20 16:15:06+02:00,GitHub,noreply@github.com,2019-06-20 16:15:06+02:00
f07fea434fc00133d00bec4e0c8e46e501943e6a,Dispatch concatenate where possible within dask array (#4669),Hameer Abbasi,hameerabbasi@yahoo.com,2019-06-20 19:29:49+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-20 19:29:49+02:00
5406d774c42e81d14c259455093b786d16510f3c,"Asymmetrical Array Overlap (#4863)

* Assymtric overlap_internal

* Less class, more tuples

* Amost functioning overlap with borders

* assymtric overlap appears to be working now

* minor fixes per suggestiongs from esteemed contributers

* flake8

* Update NotImplementedError

* Cleanup tests

* Minor style updates

* Update map_overlap docstring

* Consolidate boundary NotImplementedError logic

* Some minor style fixes (from black)",Michael Eaton,mpeaton@users.noreply.github.com,2019-06-20 13:59:34-06:00,jakirkham,jakirkham@gmail.com,2019-06-20 15:59:34-04:00
bf7e446c9dffb8dafba2ffcb88db0f29e2e0ca47,Error if there are no arrays to stack (#4975),jakirkham,jakirkham@gmail.com,2019-06-20 20:14:10-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-20 19:14:10-05:00
547886fd515494500cf519a17442cb6f8b94253f,Add to_datetime function to dataframe API docs,Matthew Rocklin,mrocklin@gmail.com,2019-06-21 12:42:24+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-21 12:42:24+02:00
367ab9f6cf03718d767aa76b8fbf7c526c75df95,merge_asof and prefix_reduction (#4877),Cody Johnson,ctj@andrew.cmu.edu,2019-06-21 23:14:59+09:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-21 09:14:59-05:00
f43dbe59862dfb64130382f39854ea720f7209d1,"Use meta in stack (#4976)

* Ensure stack is working with Dask Arrays

* Rewrite `stack` to use `meta`

* Handle meta creation upfront in da.stack

* Simplify introspection in da.stack using meta

* Drop da.stack exceptions now covered by meta

* Test `da.stack` with `sparse.COO` arrays",jakirkham,jakirkham@gmail.com,2019-06-21 11:45:08-04:00,GitHub,noreply@github.com,2019-06-21 11:45:08-04:00
a6654bc5cff7d5603855a7d9f56f7cab63530708,Concatenate meta along axis (#4977),jakirkham,jakirkham@gmail.com,2019-06-21 14:07:56-04:00,GitHub,noreply@github.com,2019-06-21 14:07:56-04:00
c938d09f22c97a59d6cc685d3a23811f6c4372ea,Move CLI API docs to relavant pages (#4980),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-22 03:37:39-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-22 10:37:39+02:00
c4b677086a20a73977ba5731b0798db0032cbba5,"Add an optional partition_size parameter to repartition (#4416)

* Add an optional partition_size parameter to {dataframe,series}.repartition

* Update repartition by size to rebalance imbalanced partitions by memory usage

* Optimization: avoid split_evenly/get_item for single split

* docstring updates to repartition subfunctions

* reduce testing time of repartition tests

* clean up repartition error handling

* Add an optional partition_size parameter to {dataframe,series}.repartition

* Update repartition by size to rebalance imbalanced partitions by memory usage

* Optimization: avoid split_evenly/get_item for single split

* docstring updates to repartition subfunctions

* reduce testing time of repartition tests

* clean up repartition error handling

* doc

* Update test so it passes for pandas<0.23 too",George Sakkis,george.sakkis@gmail.com,2019-06-22 16:30:34+03:00,Martin Durant,martindurant@users.noreply.github.com,2019-06-22 09:30:34-04:00
b1f9b53f72015fa8d7997b6f53d60badfebdfdec,Support automatic chunking in da.indices (#4981),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-22 10:23:43-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-22 17:23:43+02:00
243cb1036f6d917494dfabfca0f4f0ad71d986fa,"Move blockwise_meta to more general compute_meta function (#4954)

* Move blockwise_meta to more general compute_meta function
* improve handling around meta.astype

1.  We now allow non-array meta.  This ends up being common in temporary
    arrays for gufuncs and reductions
2.  Users can now specify explicit meta= in blockwise
3.  We no longer expect metas to support the astype method

* properly support gufuncs
* Use numpy sum function rather than method
* Test that metadata of an h5py dataset is a numpy array
* Add meta= keyword to from_array
* Support meta as type input",Matthew Rocklin,mrocklin@gmail.com,2019-06-23 08:54:07+02:00,GitHub,noreply@github.com,2019-06-23 08:54:07+02:00
905a82d9f7ffeb26d1d8c539bc38e80619ba189c,"Adjust concatenate size 0 array case for meta (#4979)

* Adjust concatenate size 0 array case for meta

Instead of hand rolling our own Dask Array creation call, dispatch to
the existing ones in `wrap`. Also leverage meta to create an array of
the expected type instead of using a NumPy array using `empty_like`
(when `empty_like` supports this).

* Test meta friendly concatenate",jakirkham,jakirkham@gmail.com,2019-06-24 08:35:46-04:00,GitHub,noreply@github.com,2019-06-24 08:35:46-04:00
f2724ec6ab1ce8edf7dcf22ed50c0cbe3f83ed57,Package license file in wheels (#4988),jakirkham,jakirkham@gmail.com,2019-06-24 11:18:46-04:00,GitHub,noreply@github.com,2019-06-24 11:18:46-04:00
1701064f4c4d566ba0ae65d00486ef12a5e77898,"Accept pathlib.Path as pattern in read_hdf (#3335)

* Accept pathlib.Path as pattern in read_hdf

* add PR number

* Minor updates

* Support fspath protocol

* Adds importorskip for pytables

* Moves path-like string extraction to utility function

* Updates test_stringify_path for windows",Jrg Dietrich,astro@joergdietrich.com,2019-06-24 18:30:52+02:00,Martin Durant,martindurant@users.noreply.github.com,2019-06-24 12:30:52-04:00
7a587caa74f10cffaa23da8faadf47120cbc0f41,Fixes pandas_datareader dependencies installation (#4989),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-24 11:49:33-05:00,jakirkham,jakirkham@gmail.com,2019-06-24 12:49:33-04:00
2711e3048985d0772056bc42d39c856baeb86add,"Test `da.block` with 0-size arrays (#4991)

As `da.concatenate` now drops out 0-size arrays from the final result,
this behavior should extend to `da.block`, which just combines many
nested calls to `da.concatenate`. This adds some tests to ensure that
`da.block` keeps this behavior going forward.",jakirkham,jakirkham@gmail.com,2019-06-24 13:36:20-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-24 12:36:19-05:00
06e210528227b698eea9bbb6203c861f7d03f89a,"Ensure trivial padding returns the original array (#4990)

* Test trivial padding returns the original array

The `da.pad` function handles padding of the ends by using
`da.concatenate` to join the edges with the original array. Thus if the
arrays to pad were trivial in size, they would be joined as well.
However this results in some unnecessary changes to the graph.

The `da.concatenate` function has since been rewritten to drop arrays of
trivial length from the result. Thus `da.pad` benefits from this
behavior and will also exclude arrays of trivial length. Though this was
not tested previously. So here we include a test to ensure `da.pad`
doesn't change the array when trivial padding occurs.

* Ensure `da.pad` stat modes keep original array

* Test trivial paddings with stats",jakirkham,jakirkham@gmail.com,2019-06-24 16:28:39-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-24 15:28:39-05:00
ff7223db4def5283479af9cfca99eabd48ccc3fb,Add CI infrastructure and documentation to apply black,James Bourbeau,jrbourbeau@gmail.com,2019-06-23 21:22:47-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-25 10:36:57+02:00
7e4beffb339c69278091d4e305c2ae18ddf8c74f,Apply black formatting,James Bourbeau,jrbourbeau@gmail.com,2019-06-24 15:34:39-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-25 10:36:57+02:00
22b32a53a9d3293859b47d8bd3352f78b47bc8b0,bump version to 2.0,Matthew Rocklin,mrocklin@gmail.com,2019-06-24 15:03:29+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-25 19:09:26+02:00
03c76cd6f925dd018cffae8db1751071dedc792b,Adds path-like support to to_hdf (#5003),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-25 21:19:03-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-25 21:19:03-05:00
99815cf776583fe74d760004349cd84b1f529e88,Add melt as a method of Dask DataFrame (#4984),Dustin Tindall,dustin.tindall@gmail.com,2019-06-26 02:31:18-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-26 09:31:18+02:00
6e5043ac7670e4d1de772dbe2aeea7359821b5f6,"Don't use type when getting accessor in dataframes (#4992)

In Pandas this is an object on the type, however in other systems (notably
cudf) this is a property, which is hard to introspect.

It looks like we only use this to detect if a method exists rather than for
actual computation, so this should be low-impact",Matthew Rocklin,mrocklin@gmail.com,2019-06-26 09:33:08+02:00,GitHub,noreply@github.com,2019-06-26 09:33:08+02:00
139d97cdcccc2b5cfb58f75eae51fb186a6c3625,"Update community meeting information (#5006)

Closes #4892",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-27 05:27:58-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-27 12:27:58+02:00
d1028cbc752c9cf63b19ec4bb30cd4001cfc7761,CLN: Removed checks used for debugging merge_asof (#5011),Cody Johnson,ctj@andrew.cmu.edu,2019-06-27 22:13:12+09:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-27 08:13:12-05:00
e0f9456eeeabcf8a80e526afee28f2705950a2ec,Fixes typo in optimization docs (#5015),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-06-27 13:31:27-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-06-27 19:31:27+01:00
a2f73344cdf93cbbbcc65dc79d8713c9589e462e,Fix undefined `meta` for `str.split(expand=False)` (#5022),Brett Naul,brettnaul@gmail.com,2019-06-28 13:50:57-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-28 15:50:57-05:00
a57b02992be979abfaa347339540f1b20cc6ff28,"Drop size 0 arrays in stack (#4978)

* Ensure stack is working with Dask Arrays

* Rewrite `stack` to use `meta`

* Handle meta creation upfront in da.stack

* Simplify introspection in da.stack using meta

* Drop da.stack exceptions now covered by meta

* Move stack's array shape validation earlier

* Drop size 0 arrays from `da.stack`

If any of the arrays passed to `da.stack` has a size of 0, then it won't
contribute anything to the array created by concatenation. As such make
sure to drop any size 0 arrays from the sequence of arrays to
concatenate before proceeding.

* Handle the case where all arrays are size 0

* Test stacking 0-size arrays

* Require NumPy 1.17+ for np.stack 0-size array test

As we need to leverage `np.empty_like` to get the right array type, skip
this test if we are not using at least NumPy 1.17 to ensure we can
override the array's shape.

* Test `da.stack` on 0-size NumPy arrays

Make sure we have a test of `da.stack` on 0-size arrays that doesn't
require development versions of dependencies.

* Run `black` on our changes

* Create `_numpy_117` variable

Should simplify version checks for code needing NumPy 1.17.

* Use `_numpy_117` variable in sparse test

* Update dask/array/tests/test_sparse.py

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>",jakirkham,jakirkham@gmail.com,2019-06-28 17:57:36-04:00,GitHub,noreply@github.com,2019-06-28 17:57:36-04:00
7d27733bd2329e73c6d58e764553c11c9e2996e5,"BUG: Handles timestamp and preserve_index changes in pyarrow (#5018)

* resolving test failures for new pyarrow changes",Richard (Rick) Zamora,rzamora217@gmail.com,2019-06-29 13:25:16-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-29 13:25:16-05:00
0e970f51735841b01865da0ed3473881743e016d,"BUG: Handle non-divisible sizes in repartition (#5013)

The previous tests didn't catch it because the number of splits based on the tested repartition size happened to divide exactly the memory usages.",George Sakkis,george.sakkis@gmail.com,2019-06-29 21:26:51+03:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-29 13:26:51-05:00
7f26af698767d3536e4862a401548373924943e9,"TST: pytest 5.0 compat (#5027)

Changes to Exception str",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-06-30 06:50:53-05:00,GitHub,noreply@github.com,2019-06-30 06:50:53-05:00
49d21f23d0a46382f3f968a76c527a45f5bafb6d,"Fix reduction with empty tuple axis (#5025)

Supercedes  #4993
Fixes #4996 
Fixes #4997",Peter Andreas Entschev,peter@entschev.com,2019-07-01 11:51:28+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-01 10:51:28+01:00
88339c28b3357f4d31615e82eaf28f5e2a86e191,"CI: s3fs, moto compatibility (#5033)",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-01 10:55:39-05:00,GitHub,noreply@github.com,2019-07-01 10:55:39-05:00
af688952ec7e0edd99b3a9849eb0aafaabea8dc5,"Add user survey link to docs (#5026)

* Adds user survey link to docs",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-01 13:28:15-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-01 13:28:15-05:00
0d6d69dd98d219d34776a4fe59816aa281c1410e,"API: Added dtype and shape kwargs to apply_along_axis (#3742)

By supplying these arguments, the user can prevent the attempted estimation of the output dtype and shape, which is currently done in a way that works for a relatively small set of functions.",Davis Bennett,davis.v.bennett@gmail.com,2019-07-01 16:25:04-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-01 15:25:04-05:00
5ad732dcec47bae2821898eb64787538df37d6e2,Fix from_sequence typo in delayed best practices (#5045),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-02 02:05:15-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-02 08:05:15+01:00
b26771d90f49f3b08821bf89e4a38b338914a487,"Fix cumulative functions on tables with more than 1 partition (#5034)

Fixes #5024",tshatrov,timofei.shatrov@gmail.com,2019-07-02 10:08:06+03:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-02 08:08:06+01:00
41acaa6db7371004e6e08933c8ae554cedfcab94,"TST: check dtypes unchanged when using DataFrame.assign

* Add test to check dtypes unchanged when using assign (https://github.com/dask/dask/issues/3907)",asmith26,asmith26@users.noreply.github.com,2019-07-02 14:27:42+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-02 08:27:42-05:00
140a27b57dfe0c3a5a694e04c3c0cd07412d56eb,"CI: Environment creation overhaul (#5038)

Clean up environment creation",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-02 09:46:08-05:00,GitHub,noreply@github.com,2019-07-02 09:46:08-05:00
4815850923e1e6eaa7466d8279053ba877971f45,Changes vizualize to visualize (#5061),David Brochart,david.brochart@gmail.com,2019-07-03 17:14:46+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-03 10:14:46-05:00
188930f24ce317ffba643ab669a22136226cb98e,Point to latest K8s setup article in JupyterHub docs (#5065),Sean McKenna,seanmck@users.noreply.github.com,2019-07-03 16:14:38-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-03 18:14:38-05:00
ddcfd80c11a2b4b9be022947ae980dc42556a90d,"Remove hard dependency on pandas in get_dummies (#5057)

This enables support with pandas-like libraries, like cudf.",GALI PREM SAGAR,sagarprem75@gmail.com,2019-07-04 15:17:54-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-04 21:17:54+01:00
2f55cf432ab4334e7ed6b03e62dc169e4208b33e,"Change __array_function__ implementation for backwards compatibility (#5043)

* Add regression tests for #5031 (__array_function__ min/amin alias)
* Deal with numpy aliases and functions and numpy functions not in dask

See #5031 for discussion. Note that decorating all functions is not yet
complete; this is enough to show tests in `test_numpy_compat.py` passing.

* Clean up `@implements` decorator, addresses review comment on gh-5043

* Better handling of args, kwargs for __array_function__.

Addresses review comment on gh-5043. This is a lot less code, and it
handles the case of, e.g., a dask array of cupy arrays correctly
(this didn't work before so not needed for backwards compat, but it's
 nice to make it work).

* Add @implements to all functions in reductions.py and routines.py

* Add @implements to support __array_function__ for fft functions

* Add @implements to support __array_function__ to linalg functions

* Add @implements to dask/array/core functions

* Change __array_function__ test from check for TypeError to check for warning

* Fix some issues with array_ufunc tests. isreal/iscomplex/real/imag aren't ufuncs

* Add argmin/argmax/nanargmin/nanargmax to __array_function__ dict

Can't do in chunk.py, that would result in a circular dependency.

* Add __array_function__ handling for functions in creation.py

* Use @implements decorator as a function to clean up some __array_function__ registration

* Make warning message in __array_function__ more explicit, change to FutureWarning

* Fix last test failure - FutureWarning only happens if NEP18 is enabled

* Update __array_function__ to only use dict mapping for aliases and name mismatches

* Change warning message for __array_function__ to use map_blocks.",Ralf Gommers,ralf.gommers@gmail.com,2019-07-04 23:45:02-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-05 07:45:02+01:00
36db9e9a6de8ab5173375a54097a4341f6a440bf,"Add recompute= keyword to svd_compressed for lower-memory use (#5041)

The svd_compressed algorithm needs to use the input array a few times
Often, this array is too large to fit into memory, and so it is better
to recompute it.  This PR adds a keyword, ``compute=``, which
optionally triggers this behavior.  It is turned off by default.

We also fix up the docstring a bit and one of the keys in the high level
graph.

This also introduces a dask.distributed agnostic wait function to wait
on persisted data if we're using the distributed scheduler, but to do
nothing otherwise.

With this change we're able to compute arbitrarily large svd
computations in low memory.",Matthew Rocklin,mrocklin@gmail.com,2019-07-05 09:14:32+01:00,GitHub,noreply@github.com,2019-07-05 09:14:32+01:00
ce253bad0c222f054a53c56356504dc443704071,"Ensure scalar arrays are not rendered to SVG (#5058)

* Add test for scalar array SVG rendering

* Ensure empty chunks not drawn

* Move test to html repr

* Add error test for scalars and comment test

* Clarify and test for evg-rendering exceptions

* Test for scalar as well

* Fix typo",Willi Rath,willirath@users.noreply.github.com,2019-07-05 10:15:00+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-05 09:15:00+01:00
bc82231f07c6c48b131a19003eacbd29e28b7912,Fix compute_meta recursion in blockwise (#5048),Peter Andreas Entschev,peter@entschev.com,2019-07-05 17:08:31+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-05 16:08:31+01:00
ea59c670c5d2b96bd63a51ac795d79faf6449741,Fixes upstream dev CI build installation (#5072),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-05 23:46:37-05:00,GitHub,noreply@github.com,2019-07-05 23:46:37-05:00
381457a945031510184f4ef61affb3dc6b8d6139,Removes index keyword from pandas to_parquet call (#5075),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-08 08:33:02-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-08 08:33:02-05:00
ed33fbe6ec47e361d1f6f45b84acfe0a98e511ca,bump version to 2.1.0,James Bourbeau,jrbourbeau@gmail.com,2019-07-08 10:32:53-05:00,James Bourbeau,jrbourbeau@gmail.com,2019-07-08 10:32:53-05:00
e0d14f7a9a39b01c6615f394970d6ed268e7f2d2,Fix pd.MultiIndex size estimate (#5066),Brett Naul,brettnaul@gmail.com,2019-07-08 20:06:34-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-08 22:06:34-05:00
9de17fc850dfba4b1f27743a6edcc2463c463e2c,"Use da.from_array(..., asarray=False) if input follows NEP-18 (#5074)

* Use da.from_array(..., asarray=False) if the input implements __array_function__

Previously we called `np.asarray` on each chunk in `da.from_array`.
This can be troublesome if we have arrays like `cupy` or `sparse` that
are capable of performing computations on their own.

Now we look for an `__array_function__` method on the input as a signal
that it can handle numpy-like functions.  If it has this method then we
don't call `np.asarray`

* List True/False/None options explicitly

* clean up test_unregistered_func",Matthew Rocklin,mrocklin@gmail.com,2019-07-08 22:16:32-05:00,GitHub,noreply@github.com,2019-07-08 22:16:32-05:00
3eb2dc89c9a70dcb828e86d043e23b751ab0d0fd,Adds NumFOCUS badge to the README (#5086),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-10 17:12:01-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-10 17:12:01-05:00
c792364d1528c9c688a66c4d116e5f3b49776bb8,"Update developer docs [ci skip] (#5093)

Unfortunately `psutil` doesn't package wheels, and is a requirement for
`distributed` (which is pulled in automatically by `distributed`). We
add it to the develop instructions, and remove `mock` which is no longer
needed for python 3.",Jim Crist,jcrist@users.noreply.github.com,2019-07-13 10:40:53-05:00,GitHub,noreply@github.com,2019-07-13 10:40:53-05:00
395a72cc9206b91a83a36ec77c2698c608d5c878,"Fixing issue #2982 (#5099)

* fix doc issue 2982

* fix doc issue 2982

* Update dask/dataframe/core.py

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>

* Update dask/dataframe/core.py

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>",Natalya Rapstine,natalya.rapstine@gmail.com,2019-07-14 09:14:07-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-14 09:14:07-05:00
4b2dbd4469423cf313ec4e9fc6967b606493a3b1,"[REVIEW] Generalizing has_known_categories (#5090)

* make get_dummies compatible with cudf

* picking the package name from the data._meta attribute

* removing length check as it won't be necessary

* generalizing has_known_categories

* change from cat to categories as both Categorical Indices have this attribute in common",GALI PREM SAGAR,sagarprem75@gmail.com,2019-07-16 11:12:43-05:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-07-16 12:12:43-04:00
9aec7794036a45088c8d98a9dc97143536fa4dd4,"Add missing attributes to from_array documentation (#5108)

* Add missing "".ndim"" to from_array documentation

* Add missing "".dtype"" to from_array documentation

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>",Peter Andreas Entschev,peter@entschev.com,2019-07-17 22:36:40+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-17 16:36:40-04:00
77d51a1ae3abfff6645132c7100911a37369d58c,"base dask on fsspec (#5064)

* rip out bytes.utils
* All pass in bytes
* Add fsspec to travis requirements and fix broader
* Fix zarr mappers
* remove old modules
* Disallow read_bytes with compression and blocksize
* Update env and use simpler path tests
* Leaving imports in dask.bytes.core, so as not to break code that uses these outside of dask. Will later mark for deprecation
* skip zipfile write on py35
* apply black",Martin Durant,martindurant@users.noreply.github.com,2019-07-18 19:27:00-04:00,GitHub,noreply@github.com,2019-07-18 19:27:00-04:00
76af7b73c28d553eab8400ab738c4598fb7404a2,COMPAT: various upstream compat (#5056),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-19 10:34:20-05:00,GitHub,noreply@github.com,2019-07-19 10:34:20-05:00
a53d45edd6b30b514e0e4dee475ae72d78d62a62,"Parquet engine-core refactoring (#4995)

* Refactoring parquet api using core-engine approach
* adding check_pyarrow to test_to_parquet_default_writes_nulls
* removing problematic logic from dask/dataframe/core.py - empty dataframe handled in dask/dataframe/io/parquet/core.py now
* trivial change to dask/dataframe/io/parquet/__init__.py
* using read_parquet_part for fuse opt
* fastparquet version correction and addressing a few smaller code-review comments
* moving index-setting step to engine
* simplifying meta-index history etc
* making metadata-file write optional - Beginning kwarg overhaul
* adding required/expected kwargs to read_partitions signature
* removing signature change for _meta_from_dtypes
* small code review tweak and correction of 0.13.01 to 0.13.1 for version check",Richard (Rick) Zamora,rzamora@nvidia.com,2019-07-19 12:11:18-05:00,Martin Durant,martindurant@users.noreply.github.com,2019-07-19 13:11:18-04:00
db04f6601ecda780b2a160b686827a141187f013,"add divide method dasks series and dataframe (#5094)

* add divide method dasks series and dataframe

* Addresses reviewer comments",msbrown47,marvin.sbrown@yahoo.com,2019-07-19 18:00:16-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-19 19:00:16-04:00
41b7797a9331241d91a8b1cf67e334ed7f2021d9,"Not make fsspec hard dependency (#5121)

* Not make fsspec hard dependency
* Nice messgae when fsspec not found
* Make fsspec test happen before it is imported
* remove fsspec req from array",Martin Durant,martindurant@users.noreply.github.com,2019-07-20 11:43:50-04:00,GitHub,noreply@github.com,2019-07-20 11:43:50-04:00
f2d0774bb6e35061b487f952b20ebd2753bd3efa,Make distributed tests optional again. (#5128),Elliott Sales de Andrade,quantum.analyst@gmail.com,2019-07-22 09:17:05-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-22 08:17:05-05:00
d8a52aebdb9bb7440da03d82477bf3d57eef4169,"Fix meta computation for some reduction functions (#5035)

* Make sure computing_meta argument is passed where needed

* Add test for meta computation of dataframes in moment()",Peter Andreas Entschev,peter@entschev.com,2019-07-22 20:23:26+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-22 14:23:26-04:00
d0ee3203ea0c65eeb5effb2efe1c4544b9317e4b,"fix HDFS in dask (#5130)

* fix hdfs stuff

* skip new compressions

* apply black [test-hdfs]

* flake",Martin Durant,martindurant@users.noreply.github.com,2019-07-22 17:18:46-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-22 17:18:46-04:00
578d5b05c09540c43c01ba11dd67d39d4d256a44,"Use pip install . instead of calling setup.py (#5139) [ci skip]

Ultimately this should result in the same, except pip will itself invoke
setup.py install, which allows it to better track what was done.",Matthias Bussonnier,bussonniermatthias@gmail.com,2019-07-23 11:08:49-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-07-23 13:08:49-05:00
a5d3f80b77d2b1ef73bff569821d8e2c2e55cbd6,TST: fix flaky partd test (#5111),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-23 13:13:28-05:00,GitHub,noreply@github.com,2019-07-23 13:13:28-05:00
bedb235c99d112664fcf5236ae660c4dbf157a0b,Close user survey (#5147),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-23 17:15:36-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-23 18:15:36-04:00
70fcd89950d480a05c7a1fc2322286bdb47fc299,"Raise informative error in to_zarr if unknown chunks (#5148)

* Raise error in to_zarr if unknown chunks

* Run black",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-23 22:26:27-04:00,jakirkham,jakirkham@gmail.com,2019-07-23 22:26:27-04:00
2c7ac8808ead66d4c217948f9693d7b4039e66ae,TST: Ignore some more invalid value warnings. (#5140),Elliott Sales de Andrade,quantum.analyst@gmail.com,2019-07-24 12:04:58-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-07-24 11:04:58-05:00
b6fb695fd01c38019218523752f67e1d17df2069,Fix Google Calendar link (#5155),Loc Estve,loic.esteve@ymail.com,2019-07-25 15:51:06+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-25 09:51:06-04:00
0308cb9d8df28100b95d3772699059501e0d3d14,"TST: Remove invalid pad tests (#5122)

From https://github.com/numpy/numpy/issues/14061, the understanding
is that the old behavior was not valid.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-25 11:08:52-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-07-25 11:08:52-05:00
5f335e9c383d54bc8f376a8cb153171e1f905e65,"COMPAT: Adjust is_dataframe_like (#5143)

* COMPAT: Adjust is_dataframe_like

Pandas is adding a DataFrame.value_counts. Adjust accordingly.

* compat",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-25 16:41:55-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-25 17:41:55-04:00
aa5d4ac8eefa4cbcadd0ca112651d53b1403e0a8,"Ignore NumPy warnings in compute_meta (#5103)

* Ignore NumPy warnings in compute_meta

* Fix black errors

* Use np.errstate in compute_meta to handle warnings",Peter Andreas Entschev,peter@entschev.com,2019-07-29 19:03:26+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-07-29 12:03:26-05:00
433739c9f1d34187ba0c013f6e7e1a14291693ca,Generalize rolling windows (#5149),Nick Becker,nickb500@gmail.com,2019-07-29 15:21:46-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-29 14:21:46-05:00
700adf91cb4c9a742547c27706ce8b253ab43599,Adds docker image customization example [skip ci] (#5171),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-29 20:17:55-04:00,GitHub,noreply@github.com,2019-07-29 20:17:55-04:00
d10afa3d8da81212840e396f312d0dcd34d54054,"TST: Supply pool to bag test (#5172)

Avoids a potential race condition between the test assert
and the cleanup of the temporary directory.

Closes https://github.com/dask/dask/issues/5104",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-29 21:54:14-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-07-29 22:54:14-04:00
3986890685cdceb50734fa051f7bf33d9300ab14,"update remote-data-services after fsspec [skip ci] (#5170)

* update remote-data-services after fsspec [skip ci]

* requested updates [skip ci]",Martin Durant,martindurant@users.noreply.github.com,2019-07-30 09:20:10-04:00,GitHub,noreply@github.com,2019-07-30 09:20:10-04:00
5d7aa6f9b7f20c485438c4c15178f6578e155081,"Fixed typo in spark.rst (#5164) [ci skip]

* Fixed typo in spark.rst",Xavier Holt,xhol4115@uni.sydney.edu.au,2019-07-31 01:47:03+10:00,Jim Crist,jcrist@users.noreply.github.com,2019-07-30 10:47:03-05:00
e0a77233fd4c5c3fc0ea8d533145778289c69078,Avoid unnecessary aggregation in pivot_table (#5173),Daniel Saxton,2658661+dsaxton@users.noreply.github.com,2019-07-30 10:55:48-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-07-30 10:55:48-05:00
a470c5d81c1385d34575c4c13a3499b23a22df82,Fix kurtosis calc for single dimension input array (#5177),andrethrill,andrethrill@users.noreply.github.com,2019-07-31 00:00:56+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-07-30 18:00:56-05:00
f12f273a55a65218ba45b1be0e772dd7c4cc2de8,"Update setup/python docs for async/await API (#5163)

Fixes #2895",Matthew Rocklin,mrocklin@gmail.com,2019-07-30 17:49:14-07:00,GitHub,noreply@github.com,2019-07-30 17:49:14-07:00
63f474b9d159dc8711b5077b2ddc7b3e5619324a,Update Local Storage documentation (#5165),Matthew Rocklin,mrocklin@gmail.com,2019-07-30 17:49:44-07:00,GitHub,noreply@github.com,2019-07-30 17:49:44-07:00
51916c4af95bc47601d3656a641772d7f911e8b2,Add column names to apply_and_enforce error message (#5180),Matthew Rocklin,mrocklin@gmail.com,2019-07-30 17:50:07-07:00,GitHub,noreply@github.com,2019-07-30 17:50:07-07:00
6c307a88e2bf2865bb3ccd24dda270b1060205f4,Add schema keyword argument to to_parquet (#5150),Sarah Bird,github@birdsbits.com,2019-07-30 22:04:42-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-30 20:04:42-07:00
319a618a26546cea3af50ecae9d31f321e92b0b4,"Remove recursion error in accessors (#5182)

Changes the implementation of accessors in dask-dataframe to avoid a
recursion error if the accessor was invalid for the given series. This
now relies on pandas to handle all validation, removing some code on our
end.

Also move all accessor tests (excluding categorical) into the
`test_accessor.py` file, keeping things more organized.",Jim Crist,jcrist@users.noreply.github.com,2019-07-31 08:46:29-05:00,GitHub,noreply@github.com,2019-07-31 08:46:29-05:00
5e4eccd4be29c12a2b6a783f41b9997659085f8f,"Allowing fastparquet to handle gather_statistics=False for file lists (#5157)

* addressing fastparquet case where a file list is passed in and gather_statistics=False

* allowing directories without _metadata in fastparquet

* tweaking pyarrow engine to avoid scanning files when gather_statistics=False

* Adding schema keyword argument to pyarrow.write_partition (adding changes from PR#5150)

* change bare except to NotImplementedError",Richard (Rick) Zamora,rzamora@nvidia.com,2019-07-31 13:26:14-05:00,Martin Durant,martindurant@users.noreply.github.com,2019-07-31 14:26:14-04:00
265f5294fdc6e80eba6ea897e3ef59fb5e49f0ab,Support Numpy 1.17 in tests (#5192),Matthew Rocklin,mrocklin@gmail.com,2019-07-31 15:02:35-07:00,GitHub,noreply@github.com,2019-07-31 15:02:35-07:00
02cbc4667e3b06cae0baa2b63d85622145cc0bc2,bump version to 2.2.0,Matthew Rocklin,mrocklin@gmail.com,2019-07-31 16:34:38-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-07-31 16:34:38-07:00
dcfbdc66b2cf169c311993a63a94a177ab1362b1,"Bump NumPy and Pandas to 1.17 and 0.25 in CI test (#5179)

Go ahead and bump the Python 3.7 environment's version constraints for
NumPy and Pandas to the latest released versions. This should help us
see what breaks (if anything) and should allow us to test against them
going forward.",jakirkham,jakirkham@gmail.com,2019-08-01 11:45:52-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-01 08:45:52-07:00
7d517e8268077e63f924f22ac6812cebabdea278,Add fsspec to readthedocs (#5207),Matthew Rocklin,mrocklin@gmail.com,2019-08-01 18:13:34-07:00,GitHub,noreply@github.com,2019-08-01 18:13:34-07:00
4bd4ae3852767a712aa0835120fab7853faff701,"Fix ordering when indexing a dask array with a bool dask array (#5151)

* Fix ordering when chunks are known

* Add note about raising error in future",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-05 08:44:51-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-08-05 07:44:51-05:00
8cf87423764ab3dd859d64a6ee028c7a755b840b,"Add columns argument in drop function (#5223)

* add columns argument to drop function

* add tests

* improve error message and black re-format",henriqueribeiro,henriqueribeiro@users.noreply.github.com,2019-08-05 19:30:38+01:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-05 14:30:38-04:00
973e8eb20fffac737f0f9dee66df874f00dbaa7c,"Ensure parquet tests are skipped if fastparquet and pyarrow not installed (#5217)

* Skip to_parquet tests

* Temporarily remove fastparquet / pyarrow from CI

* Add arrow.py to collect_ignore

* Adds fastparquet and pyarrow back to CI environment",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-05 14:51:38-04:00,GitHub,noreply@github.com,2019-08-05 14:51:38-04:00
35166b3896d9169f0d0fbf71745512b862ae4638,"Add rolling cov (#5154)

* Add cov to rolling object. Fix overlap window calculation.

* Treat inf and nan as equal in .cov() tests

* Fix overlap window calculation (after).

* NaN and inf are not equivalent

* Add time series cov tests

* Use correct parameters for time rolling tests

* Call cov directly

* Ignore deprecation warning for Panel on certain pandas versions

* Ignore Panel working for series tests also

* Check for divide by zero",Ivars Geidns,ifg@ifg.lv,2019-08-06 01:30:25+03:00,Jim Crist,jcrist@users.noreply.github.com,2019-08-05 17:30:25-05:00
e8741ae885e3f9bbde009b21dea03aeaa636cfd9,"Pin NumPy in windows tests (#5228)

Our windows tests are currently failing due to an upstream incompatibility
in sparse between numpy and numba. This pin should be reverted once
this issue is fixed.",Jim Crist,jcrist@users.noreply.github.com,2019-08-06 10:14:16-05:00,GitHub,noreply@github.com,2019-08-06 10:14:16-05:00
d92f4015a1da3da10c04c682ed2acae8469e9576,"LINT: Fixup black string normalization (#5227)

After running black, several places in our codebase were rewritten from
something like

```
raise ValueError(""part one of the message ""
                 ""part two"")
```

to

```
raise ValueError(""part one of the message "" ""part two"")
```

This fixes those cases, removing the unnecessary two-part string.",Jim Crist,jcrist@users.noreply.github.com,2019-08-06 10:21:52-05:00,GitHub,noreply@github.com,2019-08-06 10:21:52-05:00
ee6b1c666c386ebe82ada683de8e958929a85acf,"A few changes to ``config.set`` (#5226)

* A few changes to ``config.set``

The main intent of this PR is to support setting config values through
keyword parameters instead of requiring a dictionary for nested config
values. We follow the same convention as we do for environment
variables, where double-underscores are interpreted as a ``.``, and
indicate an increase in nesting level. Now the following are equivalent:

```python
with dask.config.set({""foo.bar.baz"": 1}):
    ...

with dask.config.set(foo__bar__baz=1):
    ...
```

If a mapping argument and keyword arguments are both provided, the
mapping is applied first, then the keyword arguments (the keywords are
effectively overrides for the mapping).

In the process, I discovered a bug in the rollback code when dealing
with multiple keys interacting with the same nested value. To deal with
this I rewrote the rollback code in a way that was simpler for me to
understand, and hopefully others as well.",Jim Crist,jcrist@users.noreply.github.com,2019-08-06 11:40:27-05:00,GitHub,noreply@github.com,2019-08-06 11:40:27-05:00
db73005befde7ea86065faf4fd82a3ca113dffe7,Generalize `hash_pandas_object` to work for non-pandas backends (#5184),GALI PREM SAGAR,sagarprem75@gmail.com,2019-08-06 22:25:11+05:18,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-06 12:07:11-05:00
4c9bdb608c3cc104e6b11306d532cc28d3de55c4,"ENH: add Series.__iter__, closes #4871 (#5071)",Blane,BlaneG@users.noreply.github.com,2019-08-06 11:15:43-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-06 13:15:43-05:00
b5722b3622fc95b110d545c5948705eed9f094dc,"Update GUFunc documentation (#5232)

* Update GUFunc documentation [skip ci]

We has this labeled as experimental for a long time.  I'd say it's
stable now.

We also call out to Numba as a way to create gufuncs today",Matthew Rocklin,mrocklin@gmail.com,2019-08-06 17:32:06-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-06 19:32:06-05:00
56afae8a6a0fece91b94523309128f3eb539847a,"Updates ""add"" layer in HLG docs example (#5237)",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 12:56:23-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 09:56:23-07:00
0cd502908c46816424dd23fa455c1830a1366308,"Elevate dashboard in distributed diagnostics documentation (#5239)

It is nice to make the dashboard video visible immediately on loading the screen",Martin Durant,martindurant@users.noreply.github.com,2019-08-07 12:58:01-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 09:58:01-07:00
58c7e97e4d9aace46c234966bc637a09d8a1e8a1,Removes redundant TOC information in index.rst (#5235),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 12:58:54-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 09:58:54-07:00
a609b268c17eed224c165103188ca8aaa36cbd0b,"Remove use-cases in favor of stories.dask.org [skip ci] (#5238)

Also black on conf.py",Matthew Rocklin,mrocklin@gmail.com,2019-08-07 10:04:26-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 13:04:26-04:00
d755b98cd13f25acf92cd55e94ef74311dde7cb4,"Moves bag overview to top-level bag page (#5240)

Moves content of bag-overview.rst to bag.rst",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 13:06:54-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 10:06:54-07:00
6f5cd687ef0ca0191f74c08825e57cbf15d411e1,"Adds table of contents to Why Dask? (#5244)

This PR adds a table of contents to the top of the ""Why Dask?"" page which links to the sections throughout the page",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 13:13:54-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 10:13:54-07:00
30ded17d76c16214c3bfd89292d94b118c74af88,"Remove experimental status of custom collections (#5236)

* Removes experimental status from custom collections

* typo",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 13:16:55-04:00,Jim Crist,jcrist@users.noreply.github.com,2019-08-07 12:16:55-05:00
98204c551c367b3964fdeb19377fd463ffef23a6,"Error nicely if no file size inferred (#5231)

* Error nicely if no file size inferred

Error nicely for filesystems that fail to provide file size information.

This can happen with e.g. the http filesystem.",Jim Crist,jcrist@users.noreply.github.com,2019-08-07 12:21:28-05:00,GitHub,noreply@github.com,2019-08-07 12:21:28-05:00
1fa553dee926aba845e491cde21737058f239c38,"Remove custom graphs from the TOC sidebar (#5241)

* Remove custom graphs from the TOC sidebar [skip ci]

Custom graphs aren't that important for our users.
Rather than place several sections about them in the sidebar,
lets put a single entry into the sidebar under the reference section
that can then expand out to the old content

* Unhides graph TOC [skip ci]",Matthew Rocklin,mrocklin@gmail.com,2019-08-07 10:24:30-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 13:24:30-04:00
3ecd6789a075aed8f25192cef6e934045a1fa3e8,Remove item list in phases of computation doc [skip ci] (#5245),Martin Durant,martindurant@users.noreply.github.com,2019-08-07 13:44:02-04:00,GitHub,noreply@github.com,2019-08-07 13:44:02-04:00
8314d968a91ca20f6be0524492a05770d35009d8,Remove excess endlines from install docs (#5243),Matthew Rocklin,mrocklin@gmail.com,2019-08-07 11:14:03-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 14:14:03-04:00
7ce8f0f712b4be6f3edc270ad09e1e9fd0427f21,"Cleanup API page (#5247)

* Simplify language in API doc

* Add TOC",Matthew Rocklin,mrocklin@gmail.com,2019-08-07 11:20:01-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-07 14:20:01-04:00
0ce923fd42fe3d012b24e8dbbde131fc9a49b0f0,Redirect from our local distributed page to distributed.dask.org (#5248),Matthew Rocklin,mrocklin@gmail.com,2019-08-07 11:31:36-07:00,GitHub,noreply@github.com,2019-08-07 11:31:36-07:00
733b860399d4bb11440349c8d8f0cae1bc8e28fb,"Remove ""bytes"" (internal data ingestion) doc page (#5242)",Martin Durant,martindurant@users.noreply.github.com,2019-08-07 14:34:47-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 11:34:47-07:00
78b6b3ef37e2a535775ec570888db13a01c6e5a2,Fix links and API entries for best-practices (#5246),Martin Durant,martindurant@users.noreply.github.com,2019-08-07 14:37:13-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-07 11:37:13-07:00
45cb38d5711c28f906a806c01471f5a68b37e134,add motivation for shuffle docs [skip ci] (#5213),Matthew Rocklin,mrocklin@gmail.com,2019-08-07 16:27:38-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-07 18:27:38-05:00
e8a2adc51e46f8f7fd6668403afc87bcb0805afd,"add workaround for memory leaks in bag generators (fixes #5189) (#5208)

* add test case for gh 5189

* add workaround for memory leaks in bag generators

* Simplify the implementation",Marco Neumann,marco.neumann@blue-yonder.com,2019-08-08 15:16:40+02:00,Jim Crist,jcrist@users.noreply.github.com,2019-08-08 08:16:40-05:00
51ff4e6bd64216ae225ce50f3dc78ed2f3d7e15c,"API: shuffle dask array (#3901)

* API: shuffle dask array

Closes https://github.com/dask/dask/issues/3409",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-08 08:30:30-05:00,GitHub,noreply@github.com,2019-08-08 08:30:30-05:00
6f382404707df2d7ca70d44bd36ecae485de4028,"Make boxes for dask-spark page (#5249)

* Make bozes for dask-spark page

* Include API section in boxes

* Update docs/source/spark.rst

Co-Authored-By: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* Update docs/source/spark.rst

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>

* requested changes",Martin Durant,martindurant@users.noreply.github.com,2019-08-08 14:40:22-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-08 14:40:22-04:00
e02791261431e00d0d245149916a4e3b21d79121,"Fix groupby.std() with integer colum names (#5096)

* fix groupby.std() with integer colum names

Co-Authored-By: James Bourbeau <jrbourbeau@users.noreply.github.com>",Nicolas Hug,contact@nicolas-hug.com,2019-08-12 09:37:51-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-12 08:37:51-05:00
618f5dfeacacb5e3481a484240ae3431bb784d85,"Always increment old chunk index (#5256)

This ensures we recheck correctly for empty chunks.",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-12 10:28:06-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-12 09:28:06-05:00
876f4ef78b2f7d42bbb1a4097163b58ffda3b625,"Add draft of institutional FAQ (#5214)

* Add institutional FAQ docs",Matthew Rocklin,mrocklin@gmail.com,2019-08-12 10:32:17-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-12 09:32:17-05:00
244c2fe473fb336c521f42d13fe7a99918748037,"Add rollaxis and moveaxis (#4822)

* Add rollaxis and moveaxis

Fixes #2559",Tobias de Jong,tadj42@gmail.com,2019-08-12 18:16:18+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-12 11:16:18-05:00
5b50e6a0a45feae6b026e9639188a2ffc6c95719,Add rearrange_by_divisions and set_index support for cudf (#5205),Richard (Rick) Zamora,rzamora217@gmail.com,2019-08-12 14:17:46-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-12 14:17:46-05:00
ab6acc5e224986dec8e21455b812ad61a9e65648,"CI: Fixed HDFS CI failure (#5234)

* TST: Close the mp pool",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-12 15:49:54-05:00,GitHub,noreply@github.com,2019-08-12 15:49:54-05:00
266c314d71cbf7e5e39add533a8acfc309427839,"Improve messaging around sorted parquet columns for index (#5265)

* Improve messaging around sorted parquet columns for index",Martin Durant,martindurant@users.noreply.github.com,2019-08-13 11:11:43-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-13 10:11:43-05:00
f3eadf3287c08df961f2acec43f37b7fa9f3d181,"Parquet metadata-handling improvements (#5218)

* addimg changes suggested by martindurant and skipping stats for columns with None values

* adding partition columns to meta columns

* excluding unspecified columns in read_parquet_part",Richard (Rick) Zamora,rzamora217@gmail.com,2019-08-13 11:32:29-05:00,Martin Durant,martindurant@users.noreply.github.com,2019-08-13 12:32:29-04:00
40fe69847c28ed485a9405199aada9e3ab6453b4,Add meta= keyword to map_blocks and add test with sparse (#5269),Matthew Rocklin,mrocklin@gmail.com,2019-08-14 10:14:16-04:00,GitHub,noreply@github.com,2019-08-14 10:14:16-04:00
281fd90c1ebdda7b3fb6d067e632368376969b6d,"Avoid adjusting gufunc's meta dtype twice (#5274)

* Remove xfail from test_Array_numpy_gufunc_call__array_ufunc__01",Peter Andreas Entschev,peter@entschev.com,2019-08-14 17:50:40+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-14 11:50:40-04:00
c7dc16eb469fad1d099c72a0b2977cdc180726b5,Update institutional FAQ doc (#5277),Matthew Rocklin,mrocklin@gmail.com,2019-08-14 13:10:42-04:00,GitHub,noreply@github.com,2019-08-14 13:10:42-04:00
d855162b4880e875d57bba6fc0851ac339a47da4,Fix DataFrame.query docstring (incorrect numexpr API) (#5271),Doug Davis,ddavis@ddavis.io,2019-08-14 15:43:13-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-14 14:43:13-05:00
46525a3655ab0a5085225e81e1f2096ee59fc330,"Raise exception when 'from_array' is given a dask array (#5280)

* Raise exception when 'from_array' is given a dask array

* Make black happy

* Add test for from_array with dask array

* Fix asarray passing dask array to from_array",David Hoese,david.hoese@ssec.wisc.edu,2019-08-15 10:55:39-05:00,jakirkham,jakirkham@gmail.com,2019-08-15 17:55:39+02:00
2445933b24a3943d87b88ec197197e01109da57a,"test-upstream (#5267)

* test-upstream

* test-upstream

* test-upstream

* test-upstream

* test-upstream

* test-upstream

* test-upstream",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-15 17:00:16-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-15 18:00:16-04:00
1f88b46affcb586bfbf35c5f58fb65f1af11a0e0,"Set strict xfail option (#5220)

* Set xfail_strict=true by default

* Array xfails

* DataFrame xfails

* Core xfail

* Bytes xfail

* Remove xfail for test_meta_from_array

* Add xfail back to flaky test_bag

* Add strict=False for numpy gufunc tests

* Remove xfail from test_Array_numpy_gufunc_call__array_ufunc__01

* Let strict=False for distributed to_hdf",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-16 10:25:50-04:00,GitHub,noreply@github.com,2019-08-16 10:25:50-04:00
54019e9c05134585c9c40e4195206aa78e2ea61a,bump version to 2.3.0,James Bourbeau,jrbourbeau@gmail.com,2019-08-16 16:39:49-05:00,James Bourbeau,jrbourbeau@gmail.com,2019-08-16 16:39:49-05:00
8d2e0dc9475d8fe0cc88bb8f8452fc68b4edcbca,Array.random.choice: handle array-like non-arrays (#5283),Gabe Joseph,gjoseph92@gmail.com,2019-08-18 11:12:51-06:00,jakirkham,jakirkham@gmail.com,2019-08-18 19:12:51+02:00
fbc373741264244102efc25d53893d0d83e669a6,Add chunktype to array text repr (#5289),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-19 08:09:10-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-19 09:09:10-04:00
2acc4c7f3ba16bdd250490243b433791cadab0bd,Update link in reshape docstring (#5297),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-19 18:16:47-05:00,GitHub,noreply@github.com,2019-08-19 18:16:47-05:00
088aac2810e3262e5b87480e0d38ab9a0505abf0,"add correlation calculation and add test (#5296)

* add correlation calculation and add test

* add corr to dataframe api docs",Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-08-20 12:09:50-04:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-20 11:09:50-05:00
abcad98581634703edda6ae8ea8a2f1edbedc6ca,"Add shape implementation (#5293)

* Add shape implementation

Fixes this warning on master

```python
In [1]: import numpy as np; import dask.array as da

In [2]: np.shape(da.arange(12))
/Users/taugspurger/sandbox/dask/dask/array/core.py:1272: FutureWarning: The `numpy.shape` function is not implemented by Dask array. You may want to use the da.map_blocks function or something similar to silence this warning. Your code may stop working in a future release.
  FutureWarning,
Out[2]: (12,)
```

* Add union1d

(cherry picked from commit 1e305451de09e9f01b48d16542fad05e0e007ecf)

* compat

* added skip

* fix skip

* Remove unnecessary implements",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-20 12:26:22-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-20 12:26:22-05:00
558e11c771c890390b040f8c28a016c0d746c717,"Upstream fixups (#5300)

* CI: get_dummies doctest fix

Upstream dev failure: https://travis-ci.org/dask/dask/jobs/574081665

Most likely, the terminal width detection is failing, and pandas
truncated repr is enabled.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-21 10:13:06-05:00,GitHub,noreply@github.com,2019-08-21 10:13:06-05:00
6fd2eb57158dbf260e29311e84f6a389904f0ef2,fixed small typo with parentheses placement (#5311),Eugene Huang,eugeneh101@users.noreply.github.com,2019-08-22 09:29:47-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-22 08:29:47-05:00
9a97f68337be7cb824b5c16e44ac03b8c1e0a12f,Update cuDF links [skip ci] (#5328),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-27 10:44:07-05:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-08-27 11:44:07-04:00
d025df938e897a7e43083175e3f776e29b49c1b5,Add support for DF and Series groupby().idxmin/max() (#5273),Oliver Hofkens,oliver@novemberfive.co,2019-08-28 03:27:26+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-27 18:27:26-07:00
8801aff10a6c92ab8d6013f9853d16f7d88239c8,Fixing schema handling in arrow-parquet (#5307),Richard (Rick) Zamora,rzamora@nvidia.com,2019-08-28 10:53:29-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-28 10:53:29-05:00
2f4c693cb7e9c0ff56eb176a3fdb2850ea74f8c5,"Pass sqlalchemy params to delayed objects (#5332)

* fix: pass sqlalchemy params to delayed objects",Arpit Solanki,solankiarpit1997@gmail.com,2019-08-29 02:46:49+05:18,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-28 16:28:49-05:00
bf66e7cca41e2e8217f413ec111c70ae8434649f,"Fixup da.asarray and da.asanyarray for datetime64 dtype and xarray objects (#5334)

* Fixup da.asarray and da.asanyarray for datetime64 dtype and xarray objects.

`da.asanyarray()` current crashes if passed a datetime64 dtype array, as noted
in https://github.com/pydata/xarray/pull/3220:

    >       elif hasattr(a, ""data"") and type(a).__module__.startswith(""xarray.""):
    E       ValueError: cannot include dtype 'M' in a buffer

Reversing the order of these checks fixes the issue.

I also adjusted `da.asarray()` to coerce xarray objects in the same way as
`da.asanyarray()`.

* Update dask/array/tests/test_xarray.py

Co-Authored-By: Matthew Rocklin <mrocklin@gmail.com>",Stephan Hoyer,shoyer@google.com,2019-08-28 19:29:28-07:00,GitHub,noreply@github.com,2019-08-28 19:29:28-07:00
4ceaf6542afaf0507a86c807769c20c24db5e3c9,Add threads and processes note to the best practices (#5340),Matthew Rocklin,mrocklin@gmail.com,2019-08-29 07:08:13-07:00,GitHub,noreply@github.com,2019-08-29 07:08:13-07:00
31f1c36b19dcdbdf69e688f7da3f4308d0a84017,Update institutional-faq.rst (#5345),DomHudson,dom.hudson@thoughtriver.com,2019-08-29 16:52:54+01:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-08-29 10:52:54-05:00
ca46b0ba2124cbabdb0fd6b0f616a1bb3654c7be,Implement and check compression defaults for parquet (#5335),Sarah Bird,birdsarah@mozilla.com,2019-08-29 13:03:36-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-29 11:03:36-07:00
11625542c1966c80106d7df2bc0cae60c79d5720,"Adding filter kwarg to pyarrow dataset call (#5348)

Fixes #5346",Richard (Rick) Zamora,rzamora@nvidia.com,2019-08-29 16:00:58-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-08-29 16:00:58-05:00
9f971d6384c097cb8f14d26c8faf9c09297a28c2,Add _meta to Array.__dask_postpersist__ (#5353),Benoit Bovy,bbovy@gfz-potsdam.de,2019-08-30 18:01:48+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-30 09:01:48-07:00
8b90013de41b3228352c0c888593f32a917d3b43,Ignore runtime warning in Array compute_meta (#5356),estebanag,esteban.aguilera.dev@gmail.com,2019-08-31 18:16:49+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-31 09:16:49-07:00
696a74a8d4d72c1d16b22c1c41a57f0729a3a513,"Fix tokenizing of subindexes on memmapped numpy arrays (#5351)

Fixes #5350",Henry Pinkard,henry.pinkard@gmail.com,2019-08-31 15:30:35-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-08-31 15:30:35-07:00
973c6e1b2e38c2d9d6e8c75fb9b4ab7a0d07e6a7,Add groupby().transform() (#5327),Oliver Hofkens,oliver@novemberfive.co,2019-09-03 16:03:50+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-03 07:03:50-07:00
6e7e20ea37faf5bba3acd17fd8297ac4f335e921,"feat(dataframe): support output to a single CSV file (#5304)

Support saving a dask data frame to a single CSV file, which works well
with other data processing tools and libraries. Add an additional
keyword argument `single_file` to control the behaviour. With the new
single file behaviour, `DataFrame.to_csv` is able to output compressed
files as well.",Hongjiu Zhang,53948420+hongzmsft@users.noreply.github.com,2019-09-05 04:16:33-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-05 06:16:33-05:00
e405fa0c767a89ec6a413114be831a96cb388443,"set_index on categorical fails with less categories than partitions (#5354)

* Handle set_index on categorical with npartitions >= ncategories

Fixes #5343.",Oliver Hofkens,oliver@novemberfive.co,2019-09-05 16:46:37+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-05 09:46:37-05:00
6e7bb0ac566ee96d7de2497e0024fc46a6d3606b,"Add best practice to load data with Dask (#5369)

* Add best practice to load data with Dask [skip ci]

* Minor edits [skip ci]",Matthew Rocklin,mrocklin@gmail.com,2019-09-06 13:14:24-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-06 15:14:24-05:00
0ba222379e2dab8225a7743c3da32de6a8d44809,API: provides method to compute unknown array chunks sizes (#5312),Scott Sievert,stsievert@users.noreply.github.com,2019-09-07 15:35:12+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-07 10:35:12-05:00
a4b5a1deb0c910fc5b851f856d64f98639010779,Add get_task_stream and profile to the diagnostics page (#5375),Matthew Rocklin,mrocklin@gmail.com,2019-09-08 17:43:35-07:00,GitHub,noreply@github.com,2019-09-08 17:43:35-07:00
96bbf636c50a753b76ba4758d03aebb0a42386db,"Add namespacing to configuration example [skip ci] (#5374)

The example didn't match our actual configuration layout",Matthew Rocklin,mrocklin@gmail.com,2019-09-09 04:19:18-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-09 06:19:18-05:00
501f4a8d733c561373eff2580994abdc95bfe685,"Support numbers and None in parse_bytes/timedelta (#5384)

* Pass integers through parse_bytes

* Pass None through parse_timedelta",Matthew Rocklin,mrocklin@gmail.com,2019-09-10 07:16:20-07:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-10 09:16:20-05:00
548ede5d0d63d1985a7fb0c88ad58bc9ac528951,Adds explicit h5py.File mode (#5390),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-10 16:25:58-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-09-10 16:25:58-05:00
15143b70c28eba6d933d7f6df724fc48a19a33df,"Implement explode for Series and DataFrame (#5381)

* feat: implement explode for series and dataframe",Arpit Solanki,solankiarpit1997@gmail.com,2019-09-12 00:15:19+05:18,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-11 13:57:19-05:00
3304ff867f2a9630ca5609a79bb3f09d13409d2c,"Fixed HDFS upstream test (#5395)

test-hdfs",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-11 15:15:11-05:00,Martin Durant,martindurant@users.noreply.github.com,2019-09-11 16:15:11-04:00
501e93d628b78b77cabd90912211d2e5c7f3ebbb,Preserve index dtype after applying dd.pivot_table (#5379) (#5385),therhaag,51459506+therhaag@users.noreply.github.com,2019-09-11 22:44:47+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-11 15:44:47-05:00
efb1743ea96c31acea2b5ad96b9b17288fbaaaff,Add support for numpy.vectorize in funcname (#5396),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-11 17:17:41-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-11 15:17:41-07:00
9ae60bd162079edd7a09abd8ad1f8e3238fd7354,"DOC: Add methods to API docs (#5387)

* DOC: Add methods to API docs

* fixup",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-12 10:21:44-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-09-12 10:21:44-05:00
94233b89c1e8946bbd37dbf9ca1aaee033ebf7c1,Truncate funcname to avoid long key names (#5383),Matthew Rocklin,mrocklin@gmail.com,2019-09-12 09:46:03-07:00,Jim Crist,jcrist@users.noreply.github.com,2019-09-12 11:46:03-05:00
b0f4aeba24210d5ef800712b6a1e40e1451267eb,Fix funcname when vectorized func has no __name__ (#5399),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-12 13:04:24-05:00,GitHub,noreply@github.com,2019-09-12 13:04:24-05:00
8dc8714580459093c23a251ba055361dd80c34d5,"DOC: minor edits to Array chunk documentation (#5372)

A few minor edits to the dask.array chunk documentation.",Scott Sievert,stsievert@users.noreply.github.com,2019-09-12 21:19:04+00:00,Jim Crist,jcrist@users.noreply.github.com,2019-09-12 16:19:04-05:00
3500740819289e70253f2acbc4149578c0dcf63f,allow pandas to cast type of statistics (#5402),Richard (Rick) Zamora,rzamora217@gmail.com,2019-09-13 09:25:58-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-13 09:25:58-05:00
4b55cc0a8d2090a7232e2043c7fe31abd9c9dc15,"Remove deprecated code (#5401)

* Remove deprecated sharedict module

* Remove dask.array.ghost module

* Remove deprecated set_options function

* Remove deprecated `freq` arg to rolling",Jim Crist,jcrist@users.noreply.github.com,2019-09-13 11:05:34-05:00,GitHub,noreply@github.com,2019-09-13 11:05:34-05:00
32b8903f7a6ab9822f8a3707390ac35af894db5b,Reference correct numpy array name (#5403),Wes Roach,wesr000@gmail.com,2019-09-13 11:38:17-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-13 11:38:17-05:00
63fca4b24da3088575a53a95e95dabc396326a89,Numpy docstring standard has moved (#5405),Wes Roach,wesr000@gmail.com,2019-09-13 11:45:41-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-13 11:45:41-05:00
b42ae67806b58fbddbe2186a696ee560fe3d14b3,bump version to 2.4.0,James Bourbeau,jrbourbeau@gmail.com,2019-09-13 16:16:45-05:00,James Bourbeau,jrbourbeau@gmail.com,2019-09-13 16:16:45-05:00
7b4f90f0a708cbb97ebb498c78f7931d82ec99db,"Remove PY2 checks (#5400)

* Remove unnecessary items in `dask.compatibility`

Removes version checks for anything < python 3.5.

* Cleanup sys.version_info usage

- Remove python version checks that are now unnecessary.
- Centralize all python version checks on a global defined in
`dask.compatibility` to make grepping and removing them later much
easier.

* Remove __future__ imports

* Remove unnecessary encoding header on some files

* Move apply to dask.utils

* Add unicode back to compatibility

distributed would import this in versions before 2.2.0.

* Remove mock check

Mock is part of stdlib now, no need for import check.

* Remove a few ImportError checks

These were checks based on python version, using `ImportError` instead
of explicitly looking at the version.",Jim Crist,jcrist@users.noreply.github.com,2019-09-15 12:08:02-05:00,GitHub,noreply@github.com,2019-09-15 12:08:02-05:00
9bbd2a5b80d8e5c8f9746a26522d16afe9735c98,Updates overview image [skip ci] (#5404),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-15 12:13:17-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-09-15 12:13:17-05:00
6aab98cd4ef684cd79fb9390dc6ee7fbdce5adde,"drop_duplicates support for positional subset parameter (#5410)

`DataFramedrop_duplicates` now accepts positional `subset`
instead of keyword-only.",Wes Roach,wesr000@gmail.com,2019-09-16 10:52:06-05:00,Jim Crist,jcrist@users.noreply.github.com,2019-09-16 10:52:06-05:00
00f55e1fc1422b0e66e37a6dca5bc20ada174248,"Update fsspec version (#5415)

Updates minimum version of fsspec to 0.5.1",Matthew Rocklin,mrocklin@gmail.com,2019-09-19 17:54:03-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-19 17:54:03-05:00
2534be404180584f62ee2ba8bbc6e40969367f1b,Enable merge/set_index for cudf-based dataframes with cupy `values` (#5322),Richard (Rick) Zamora,rzamora217@gmail.com,2019-09-19 18:40:26-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-19 18:40:26-05:00
383004568c8eb8e3c18c74fc859fdd483ecc9cda,Add sentinel no_default to get_dependencies task (#5420),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-20 13:04:26-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-20 13:04:26-05:00
6527596f4db4b47943537d66b71cba747ac37b2d,"Add DataFrame.pop implementation (#5422)

Add DataFrame.pop implementation",Matthew Rocklin,mrocklin@gmail.com,2019-09-20 22:40:45-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-20 22:40:45-05:00
a9950f2ad4e44fc25b893baa5899c5bd453ecd1f,"Add introductory screencasts to array/dataframe/futures (#5424)

* Add introductory screencasts to array/dataframe/futures [skip ci]

* Point to videos owned by the Dask brand account [skip ci]

* Update iframe styling [skip ci]",Matthew Rocklin,mrocklin@gmail.com,2019-09-24 10:22:20-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-24 10:22:20-05:00
66f470e3117d51458fcfa0f49a322a58d691f99a,Fix delimeter parsing documentation (#5428),Mahmut Bulut,vertexclique@gmail.com,2019-09-24 17:27:59+02:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-09-24 10:27:59-05:00
0922a872e34445970c65d2275ed56a920f7d826d,"Add more screencasts for delayed, bag, and setup (#5429)",Matthew Rocklin,mrocklin@gmail.com,2019-09-24 14:18:16-05:00,GitHub,noreply@github.com,2019-09-24 14:18:16-05:00
5d948a4d90a755889b2f42d98ac5ae8a45953b62,"Unxfail pandas-datareader test (#5430)

* Unxfail pandas-datareader test

xref https://github.com/dask/dask/pull/5421",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-09-25 07:35:48-05:00,GitHub,noreply@github.com,2019-09-25 07:35:48-05:00
281753354be1a41d6f48dc410c1b155fe1211247,Test numeric edge case for repartition with npartitions. (#5433),amerkel2,andreas.merkel@blue-yonder.com,2019-09-25 18:20:35+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-25 11:20:35-05:00
6dfc8e9ab8c27cdb18847ed92349aa817640dcd3,"Reduce read_metadata output size in pyarrow/parquet (#5391)

Fixes #5357

We avoid passing around a pq.ParquetDataset ""piece"", and instead pass around the path and partition_keys members of each piece. This dramitically reduces the amount of metadata stored in the task graph.",Richard (Rick) Zamora,rzamora@nvidia.com,2019-09-25 14:20:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-25 14:20:25-05:00
8001ee2e258f3f27d40e78990c5b98d44edc138e,"Fix test_timeseries_nulls_in_schema failures with pyarrow master (#5421)

Fixes  #5418 

Addressing the `test_timeseries_nulls_in_schema` failures reported in #5418 with pyarrow master.

The primary dask bug is a consequence of [arrow#5403](https://github.com/apache/arrow/pull/5403).  According to @jorisvandenbossche: ""What changed in this PR is that min/max in statistics are now None if has_min_max is False, while before this was an empty string (for string types).""

This PR has the following modifications:
- `test_timeseries_nulls_in_schema` has been split into two tests (the new `pyarrow`-specific one being called `test_timeseries_nulls_in_schema_pyarrow`)
- The pyarrow test now uses `index=False` to be explicit about expected behavior
- Both the pyarrow and fastparquet engines have been modified to allow columns to be added to `skip_cols` while parsing the first row group only (column statistics cannot be left out for a subset of row groups; it's all or nothing)
- The `sorted_columns` function avoids comparisons for `None`-typed statistics.",Richard (Rick) Zamora,rzamora@nvidia.com,2019-09-25 18:07:49-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-25 18:07:49-05:00
fde82b91d87c9a5b31fe2448105bd8c0500a6f9f,Add option to not check meta in dd.from_delayed (#5436),Christopher J. Wright,cjwright4242@gmail.com,2019-09-27 09:02:00-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-27 08:02:00-05:00
f6c2449a000a72f05e41d0208d80696bc257d2ab,bump version to 2.5.0,Matthew Rocklin,mrocklin@gmail.com,2019-09-27 10:45:25-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-09-27 10:45:25-05:00
6ae8f8ec40ca584d703d39ff00f631afbc1ce823,Update cloud documentation (#5444),Matthew Rocklin,mrocklin@gmail.com,2019-10-01 11:04:28-05:00,GitHub,noreply@github.com,2019-10-01 11:04:28-05:00
13ddde5d68b4a68e3f16c8b5d4cd4ea3f8da578e,"Make da.unify_chunks public API (#5443)

Fixes #5442

This is useful for Xarray's map_blocks functionality",Matthew Rocklin,mrocklin@gmail.com,2019-10-01 16:36:23-05:00,GitHub,noreply@github.com,2019-10-01 16:36:23-05:00
4898c75908587a1c3686f9c87d7150dd9cf0d379,added latest presentations (#5446),Javad,javad94@users.noreply.github.com,2019-10-02 17:21:02+03:18,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-02 10:03:02-04:00
fd39ddae003fda95d2dddc77982b5df738fbebcc,"Remove boxes in Spark comparison page (#5445)

* Revert ""Make boxes for dask-spark page (#5249)""

This reverts commit 6f382404707df2d7ca70d44bd36ecae485de4028.

* Indent dask/spark with bullet points",Matthew Rocklin,mrocklin@gmail.com,2019-10-03 10:19:17-05:00,GitHub,noreply@github.com,2019-10-03 10:19:17-05:00
eb080754aa7d6bc3673da11ff40545434a085d58,Correct chunk size logic for asymmetric overlaps (#5449),Ben Jeffery,ben.jeffery@gmail.com,2019-10-04 11:25:31+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-04 05:25:31-05:00
e889607394785e43219d078166874f3899a377f6,Fix dask.dataframe.fillna handling of Scalar object (#5463),Zhenqing Li,DigitalPig@users.noreply.github.com,2019-10-04 06:29:21-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-04 05:29:21-05:00
f18bcec0ae9998750774e9aca665e775900796c8,bump version to 2.5.2,Matthew Rocklin,mrocklin@gmail.com,2019-10-04 15:21:48-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-04 15:22:26-05:00
7f5f7fe49298c2353977b99a081be47dc28bc358,Fix typos in docstrings (#5469),garanews,puntogtg@tiscali.it,2019-10-07 13:19:04+02:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-07 06:19:04-05:00
57a749beca194c9e57384081968f3d09048bd663,"BUG: Fix KeyError with Groupby label (#5467)

* Added fix for string label in group_by and added test

* Add black formatting",Ryan Nazareth,ryankarlos@gmail.com,2019-10-07 14:46:30+01:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-07 09:46:30-04:00
8c7f597081727215667731bd2f6958dbd41e48f7,"Fix map(series) for unsorted base series index (#5459)

* Update tests to actually catch the not sorted case and fix.",Justin Waugh,justin@unsupervised.com,2019-10-07 08:46:17-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-07 09:46:17-05:00
a80baa817998755949364c78675d5ef8a962bcfa,"Update ""Why Dask?"" page [skip ci] (#5473)",Matthew Rocklin,mrocklin@gmail.com,2019-10-07 13:28:43-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-07 13:28:43-05:00
542f186999f7f6bc10219272d7f26f8981c94ddf,"Consolidating hash dispatch functions (#5476)

* consolidate hash dispatch functions",Richard (Rick) Zamora,rzamora217@gmail.com,2019-10-08 14:50:26-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-08 14:50:26-05:00
93fed58f5ef06613631254db54cc99e77e7b5453,"Use _constructor_sliced method to determine Series type  (#5480)

Closes #5470

This PR implements the recommendation by TomAugspurger to use the (more-robust) _constructor_sliced method in place of series_type_like_df. Now that cudf has this method defined, there is no reason not to use it in the dask.dataframe shuffle-related code.

This PR also adds a test (test_merge_outer_empty) for the case that broke series_type_like_df (described in #5470 )",Richard (Rick) Zamora,rzamora217@gmail.com,2019-10-09 12:00:54-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-09 12:00:54-05:00
0274a5c6db618e7af8444562149ecc5774ae22a3,"Add getitem optimization for read_parquet (#5453)

Closes #4546

This adds a high level graph Mapping for ReadParquet 
and then modifies that graph if it is followed by a getitem call for columns
during the optimization phase.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-10 13:33:34-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-10 11:33:33-07:00
0f5202d70bb861e4a167ca76c883b1751f476603,Update SSH docs to include SSHCluster (#5482),Matthew Rocklin,mrocklin@gmail.com,2019-10-10 11:44:23-07:00,GitHub,noreply@github.com,2019-10-10 11:44:23-07:00
a36821ad28d4c175982abd95bb2334d8fca0cbdc,"Remove old parquet and bcolz dataframe optimizations (#5484)

Follows on https://github.com/dask/dask/pull/5453",Matthew Rocklin,mrocklin@gmail.com,2019-10-10 14:48:53-07:00,GitHub,noreply@github.com,2019-10-10 14:48:53-07:00
ff05c5b296c60cac39a8d63da92d7a86f3d67fe5,Enable unused groupby tests (#3480),Jrg Dietrich,astro@joergdietrich.com,2019-10-11 15:13:13+02:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-11 08:13:13-05:00
0b003d8f31c752884d456e21a7e8ff7c2b8e866a,"added curated list of resources (#5460)

* added educational-resources

* added educational-resources ti index

* fixed section header",Javad,javad94@users.noreply.github.com,2019-10-11 16:47:39+03:18,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-11 08:29:39-05:00
0ab172af1154cccaf8ae6787cb5d4a433d237539,"Call ensure_dict on graphs before entering toolz.merge (#5486)

Otherwise, we run afoul of a small bug in toolz
https://github.com/pytoolz/toolz/issues/468

This triggers a failure when we have a single non-dict Mapping in our
graph.  This was identified from the cudf test suite.",Matthew Rocklin,mrocklin@gmail.com,2019-10-11 06:30:41-07:00,GitHub,noreply@github.com,2019-10-11 06:30:41-07:00
25f71d2ae50a3d360a86c44feab569ce7a90e5e4,Avoid identity check in warn_dtype_mismatch (#5489),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-14 09:48:52-05:00,GitHub,noreply@github.com,2019-10-14 09:48:52-05:00
0b2b15bd92857036e309f5e1bffbd766178361e9,"Support Python 3.5 in Parquet code (#5491)

* black and install black from source
* update pre-commit version",Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-14 14:44:23-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-10-14 11:44:23-07:00
7c9c6ea122bd9955031c25d1c74c8c7de18b2e26,"Use Zoom meeting instead of appear.in (#5494)

Our meetings now regularly include more than the 12-person cap to
appear.in meetings.  We switch now to the Zoom service, generously
provided by NumFOCUS.",Matthew Rocklin,mrocklin@gmail.com,2019-10-15 09:53:25-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-15 11:53:25-05:00
dc7032413a5c17349bb9625126280b51aafeaa71,bump version to 2.6.0,James Bourbeau,jrbourbeau@gmail.com,2019-10-15 20:40:34-05:00,James Bourbeau,jrbourbeau@gmail.com,2019-10-15 20:40:34-05:00
987df59e567b8dd5d44d66603db73e282b31c962,"Update the use of fixtures in distributed tests (#5497)

Our CI was failing with the 2.6 release.  This fixes a bug there, and
also modernizes how we test to be more in line with the dask.distributed
library.

Also, the pre-commit commit for black was giving me trouble.  I've
downgraded this to the commit that we use in distributed, which seems to
work well.",Matthew Rocklin,mrocklin@gmail.com,2019-10-16 08:58:21-07:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-16 11:58:21-04:00
e6ba8f5de1c56afeaed05c39c2384cd473d7c893,Reusing code for assert_eq util method (#5496),Vijayant,vijayant4129@gmail.com,2019-10-16 12:29:47-07:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-16 15:29:47-04:00
6d878e68248a12f15bb958951111efe8b030d9e8,"Add an example of index_col usage (#3072)

* Update sql.py

* Update sql.py

* merge with master

* merge with master",Bruno Bonfils,asyd@asyd.net,2019-10-16 21:45:32+02:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-16 15:45:32-04:00
e734544ef74aa0b1db1144d3f0a193b8f313d9d1,Changed deprecated bokeh-port to dashboard-address (#5507),darindf,darin@omegasoft.org,2019-10-18 12:15:40-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-18 14:15:40-05:00
b6997712c7858dd2c2198502a3bdabcf8e4d7578,Make capitalization more consistent in FAQ docs (#5512),Matthew Rocklin,mrocklin@gmail.com,2019-10-20 11:44:55-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-20 10:44:55-05:00
8a6a6bd781d71ab64b9a541501a7d9d6e69611c5,Explicitly use iloc for row indexing (#5500),Krishan Bhasin,KrishanBhasin@users.noreply.github.com,2019-10-21 15:40:33+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-21 09:40:33-05:00
94c6b16581828c3fb6c31f1af6d795e7cb02f54c,"Update da.array to always return a dask array (#5510)

* Ensure da.array returns a dask array

* Adds regression test",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-21 10:44:04-05:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-21 11:44:04-04:00
c53f971a9212ea4eba7417f2db55f66072806d60,Avoid updating with identical dicts in ensure_dict (#5501),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-21 14:03:54-05:00,GitHub,noreply@github.com,2019-10-21 14:03:54-05:00
37e96b9e0cce3bdb9d10ede890e48938d2f92d62,"test-upstream (#5516)

* test-upstream

* test-upstream",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-21 14:24:54-05:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-21 15:24:54-04:00
8179f7f379de8a882deeeb8081e1dce051fa7c53,"Add CONTRIBUTING.md (#5513)

* Add CONTRIBUTING.md

Ref dask/community#17

* Update CONTRIBUTING.md",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2019-10-22 13:18:14+01:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-10-22 08:18:14-04:00
92d3d5f063998be83c65354edd81ac2b7924991b,Document optional dependencies (#5456),Prithvi MK,32909711+pmk21@users.noreply.github.com,2019-10-22 17:53:14+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-22 12:53:14-05:00
083a074ac2c500f3de26d7ce3be6cdc0e881c57b,"Dataframe now accepts dask arrays on columns assignemnt (#5224)

* dask dataframe to accept dask arrays

* add tests

* add some verifications before assignment

* add more tests

* check partition compatibility instead of the lenght

* fix tests

* fix size on tests",henriqueribeiro,henriqueribeiro@users.noreply.github.com,2019-10-22 22:37:46+01:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-22 16:37:46-05:00
c0250394a7b86c1c4f1790579361d55fb7df8db8,"skip transpose in array.gufunc when possible (#5523)

* skip transpose when possible

* alternative implementation inside transpose

* remove unnecessary newline",Ryan Abernathey,ryan.abernathey@gmail.com,2019-10-23 10:33:07-04:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-23 09:33:07-05:00
3f72e46ff68ec5008277630f693a3ba93920dea7,Faster reverse_dict (#5479),Ryan Grout,groutr@users.noreply.github.com,2019-10-23 11:48:59-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-23 11:48:59-05:00
31af7f7040643c447a72c87a8f12457094ec15ff,ENH: Implements unique and value_counts for SeriesGroupBy (#5358),Scott Sievert,stsievert@users.noreply.github.com,2019-10-23 20:20:36+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-23 15:20:36-05:00
7aca4518adbca4dd3af05f65309cad155bc08707,Avoid NumPy scalar string representation in tokenize (#5527),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-23 16:07:42-05:00,GitHub,noreply@github.com,2019-10-23 16:07:42-05:00
7dbff393100d5e40093d4b0c7c8cdead93dedbe9,"Adding sizeof definition for pyarrow tables and columns (#5522)

* adding basic (approximate) sizeof for pyarrow table and column objects",Richard (Rick) Zamora,rzamora217@gmail.com,2019-10-24 13:56:52-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-24 13:56:52-05:00
1a9dbf466fd51478a2c88a71d456a2f8ff6ecc8d,"Enable row-group task partitioning in pyarrow-based read_parquet (#5508)

* partition dask dataframe by row-group within read_parquet -- pyarrow engine",Richard (Rick) Zamora,rzamora217@gmail.com,2019-10-24 15:16:20-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-24 15:16:20-05:00
a52f13267b85216c6027e6abcf87adc3bf1acd99,"Removes npartitions='auto' from dd.merge docstring (#5531)

* Removes npartitions='auto' from dd.merge docstring [skip ci]",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-24 16:03:36-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-24 16:03:36-05:00
e3b51ce7e7e5340a55ff37976b23a63e44c9bf06,Apply enforce error message shows non-overlapping columns. (#5530),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-24 20:21:52-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-24 20:21:52-05:00
e18594886de806bd3ff70c2dcba6a21c26b8d90f,Updates test_imports.sh (#5534),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-25 19:00:05-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-25 19:00:05-05:00
63cb7d0232a4b53b9571c6b64b45863ddf92c370,Update helm chart docs to reflect new chart repo (#5539),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2019-10-29 14:59:03+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-10-29 09:59:03-05:00
0871699c0e4b021fca4a3104042d1adf7c5fd5d5,Drop Python 3.5 (#5528),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-10-29 10:08:15-05:00,GitHub,noreply@github.com,2019-10-29 10:08:15-05:00
485506f9cf21614dc5b6d1b4d9953037a5f1edb2,remove unnecessary tiledb shape constraint (#5545),Norman Barker,norman@tiledb.io,2019-11-01 16:50:37-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-01 16:50:37-05:00
09f7b637a54280f395a06963c5af115ce42027f3,Add Resampler to API docs (#5551),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-01 18:50:47-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-01 16:50:47-07:00
1b12b41f75a962ce3891af43eb85de8d66b48e53,Fix typo in read_sql_table (#5554),Eric Dill,ericdill@users.noreply.github.com,2019-11-02 12:23:50-04:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-02 09:23:50-07:00
111ad146e1ced7eb177b6889ca9ffdfc85afba5b,Removes bytes from sparse array HTML repr (#5556),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-03 13:10:03-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-03 11:10:03-08:00
9dbdd80d48793dab64a1353b72d0484b7cfaae63,Support cgroups limits on cpu count in multiprocess and threaded schedulers (#5499),Albert DeFusco,albert.defusco@me.com,2019-11-05 13:36:04-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-05 10:36:04-08:00
ca1a7dbd7e529b54d25d727058680f51ea2d9d98,Update minimum pyarrow version on CI (#5562),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-05 14:11:40-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-05 12:11:40-08:00
16eb97b23cec4b8fdf954e367467b07daac71fce,"Lock and meta nonempty optimizations (#5553)

* 1. `_meta_nonempty` is optimized to create a dataframe
from a numpy array if the dtype is homogeneous and is one of
integer, float or unsigned int.
2. `loc` now gets directly a `meta_nonempty` of the index.

* Fixed and generalized `meta_nonempty_dataframe` optimization for
all dtypes.

* Generalized optimization for `meta_nonempty_dataframe`.

Fixes #5069",Petio Petrov,petioptrv@icloud.com,2019-11-05 16:33:37-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-05 13:33:37-08:00
a44790a0b39b117d37d70212f1793cf3ebc27109,"Remove import of dask_cudf, which is now a part of cudf (#5568)",Mads R. B. Kristensen,madsbk@gmail.com,2019-11-07 16:23:25+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-07 07:23:25-08:00
807f3225cf840f28ce7cf89b88fea63d473889e7,Add adaptive deployments screencast [skip ci] (#5566),Matthew Rocklin,mrocklin@gmail.com,2019-11-07 07:54:35-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-07 10:54:35-05:00
eaa0e80aa4301fe77551c12bc347d72f2cfb3217,Make cloudpickle optional (#5511),crusaderky,crusaderky@gmail.com,2019-11-08 02:08:31+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-07 18:08:31-08:00
98a1e61fcf9230e3a4dcdf8523e435ed83dfb2c0,bump version to 2.7.0,Matthew Rocklin,mrocklin@gmail.com,2019-11-08 13:05:52-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-08 13:05:52-08:00
f38ae206bda8f0b13c113fbe704d7d6dca2821de,Switch Doctests to Py3.7 (#5573),Ryan Nazareth,ryankarlos@gmail.com,2019-11-09 23:27:50+00:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-09 15:27:50-08:00
6bdf96057c75a4452eefa42887d4c431f1224aa9,Implement complete dask.array.tile function (#5574),Bouwe Andela,bouweandela@users.noreply.github.com,2019-11-11 00:24:31+01:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-10 15:24:31-08:00
2dd0425a94ebce9a67ec8247ded472c9ca780a0b,"Use key_split in Bag name (#5571)

Previously we were very conservative about function name length here",Matthew Rocklin,mrocklin@gmail.com,2019-11-11 08:05:14-08:00,GitHub,noreply@github.com,2019-11-11 08:05:14-08:00
5a48f9f6bafb4d6156ee7b401c85bc1d43747cf6,"Relax get_colors test to adapt to new Bokeh release (#5576)

Previously this test assumed that Blues9 was the largest cardinality
colormap set.  This caused a failure with the most recent bokeh
release.  We relax this test.

Move use of legend= to legend_label= in bokeh plots

The old name has been deprecated and is causing warnings",Matthew Rocklin,mrocklin@gmail.com,2019-11-11 09:24:15-08:00,GitHub,noreply@github.com,2019-11-11 09:24:15-08:00
984869b6c523d41d2a387681c532adce387b2c2d,"Add median along an axis with automatic rechunking (#5575)

This rechunks the array along the axes to be medianed and then performs a
blockwise call to `np.median`.

Fixes https://github.com/dask/dask/issues/5062
This was specifically asked for by astronomers.",Matthew Rocklin,mrocklin@gmail.com,2019-11-12 08:47:47-08:00,GitHub,noreply@github.com,2019-11-12 08:47:47-08:00
1f87ae6329c3ae1c6f3f31945f891c33642c64ba,"Add dask.blockwise.fuse_roots optimization (#5451)

This fuses data generation or access graphs into blockwise after
converting everything to low level task graphs",Matthew Rocklin,mrocklin@gmail.com,2019-11-12 08:53:15-08:00,GitHub,noreply@github.com,2019-11-12 08:53:15-08:00
92e57562921adf5a0439b341b90bc6fb7658cf48,Add best practice for dask.compute function (#5583),Matthew Rocklin,mrocklin@gmail.com,2019-11-12 13:25:42-08:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-12 15:25:42-06:00
7b2e0219ec28de4527ee91f4311564d0c2636a75,"Add dropna argument to groupby (#5579)

This PR allows cudf-backed groupby operations to include (or exclude) null values in the index. The changes are directly motivated by cudf#3302.

Since pandas does not yet support the dropna argument (see: pandas#3729 and pandas#21669), the new test_groupby_dropna_pandas test only checks for an unknown-argument TypeError. A more-thorough test_groupby_dropna_cudf test was also added here, but this was mostly to illustrate the value of these changes. The cudf-based test should most-likely be removed before merging, because it will be skipped by CI anyway.

Closes #5565 (Although not a permanent solution -- Cleanup will be necessary once pandas supports the dropna argument).",Richard (Rick) Zamora,rzamora217@gmail.com,2019-11-13 09:31:23-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-13 07:31:22-08:00
4a42071f50d12f30e15afe1348a147cb45ebaa69,"Add sizeof implementation for small dicts (#5578)

This traverses small dictionaries with sizeof.
We avoid doing this for large dictionaries because we want to avoid traversing
JSON-like data.",Matthew Rocklin,mrocklin@gmail.com,2019-11-13 07:31:43-08:00,GitHub,noreply@github.com,2019-11-13 07:31:43-08:00
a37b2dd065e0bb9a11d4184028aac9539b5dd572,"Create FUNDING.yml (#5587)

add NumFOCUS github sponsors button (recurring donations only)

This feature is launching today at GitHub Universe!

I've also included the direct link to donate to Dask as a custom link.

cc @TomAugspurger @mrocklin",Gina,Dr-G@users.noreply.github.com,2019-11-13 12:45:54-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-13 12:45:54-06:00
830e69209e6affd50cc9909931a5a6f03e08e991,"Allow da.asarray to chunk inputs (#5586)

Previously asarray used a single chunk.
This made sense with numpy arrays but didn't make sense when given large
on-disk arrays.  Now we allow chunks to pass through, and use auto
otherwise.",Matthew Rocklin,mrocklin@gmail.com,2019-11-13 11:09:20-08:00,GitHub,noreply@github.com,2019-11-13 11:09:20-08:00
9c72876af571ef90ecad5df7c8bd123b06220305,"Update fsspec, gcsfs, s3fs (#5588)

The most recent versions fix some hard to diagnose issues. Best to
update our minimum versions.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-13 13:11:49-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-13 13:11:49-06:00
7af011b2fe1ca4ca5fc210020508b2396d36117c,"Revert ""Remove import of dask_cudf, which is now a part of cudf (#5568)"" (#5590)

This reverts commit a44790a0b39b117d37d70212f1793cf3ebc27109.",Matthew Rocklin,mrocklin@gmail.com,2019-11-14 05:03:10-08:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-11-14 08:03:10-05:00
fc48b3f27d0db0fcb5a4531c299f611a7a280f49,Add screencast for coordination primitives (#5593),Matthew Rocklin,mrocklin@gmail.com,2019-11-14 08:36:36-08:00,GitHub,noreply@github.com,2019-11-14 08:36:36-08:00
92dd4cec4345f7dbe39bce888ca4fef92b82be65,"Move funding to .github repo (#5589)

We should inherit https://github.com/dask/.github",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-14 10:55:28-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-14 08:55:28-08:00
b25c3f6e1c2d0a0b430c0316f96caed4375b1073,update calendar link (#5569),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-14 10:55:55-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-14 08:55:54-08:00
539d1e27a8ccce01de5f3d49f1748057c27552f2,bump to 2.8.0,Matthew Rocklin,mrocklin@gmail.com,2019-11-14 14:56:39-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-14 14:56:39-08:00
796765250bc2ec54bc53f07f8f9dbf95ce53878f,Enable gpu-backed covariance/correlation in dataframes (#5597),Richard (Rick) Zamora,rzamora217@gmail.com,2019-11-18 09:40:38-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-18 07:40:38-08:00
fb4e91e015caa570ae6b578a12dc494f85b2e7f7,Use auto rechunking in da.rechunk if no value given (#5605),Matthew Rocklin,mrocklin@gmail.com,2019-11-19 18:17:36-07:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-19 19:17:36-06:00
1ec4df1965c66144bcda0601ffa950d85ff415ce,Fixed See Also referencence (#5612),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-20 09:30:13-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-20 08:30:13-07:00
d2908c2bdeead550e7217f6df5eec1c13b883655,Removes html_extra_path [skip ci] (#5614),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-20 10:47:54-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-20 10:47:54-06:00
0805d391718c1efc6f4730b90407fde8e32a2bd8,Add doc for some utils (#5609),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-20 11:50:20-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-20 11:50:20-06:00
6fa9c0bc3f05393b5813752ced685a5c92f767e9,"Fix institutional faq and unknown doc warnings (#5616)

* Remove institutional-faq warnings [skip ci]

* Remove unknown page warnings [skip ci]",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-20 15:27:10-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-20 15:27:10-06:00
54915af28ae803ed94db636be43f1bc8bf04d6a9,Add simple action to activate GH actions [skip ci] (#5619),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-20 20:23:24-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-20 20:23:24-06:00
6ad52f4896b574b40ad99da27c80d022b709840a,"Fixed relative path issue with parquet metadata file (#5608)

* using fns from _analyze_paths to detect metadata",Nuno Gomes Silva,1495173+mgsnuno@users.noreply.github.com,2019-11-21 18:39:00+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-21 11:39:00-06:00
355672572b102dbfb956e06d2a1399f4a38f398d,"Fix for #5419: Categories lost after groupby + agg (#5423)

* Added failing test for #5419

* TST: Added xfail until pandas 1.0.0 is released.

* CLN: Black fix in test_groupby.

* TST: Fix xfail on test_groupby_aggregate_categoricals",Oliver Hofkens,oliver@novemberfive.co,2019-11-21 18:51:06+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-21 11:51:06-06:00
847ccf0a4c3a78965042d4966a20fc740e0e57aa,"Change test_repartition_npartitions to support arch64 architecture (#5620)

Change the test_repartition_npartitions test series input from [10, 20, 30, 40, 50, 60] to [1, 2, 3, 4, 5, 6] in order for it to pass on aarch64 architecture(non-intel), which was failing with previous values due to floating point calculations and precision.",ossdev07,39188636+ossdev07@users.noreply.github.com,2019-11-21 23:20:30+05:18,Matthew Rocklin,mrocklin@gmail.com,2019-11-21 11:02:30-07:00
1d3dc4b11c14f0ff188f2e3a086cf31181450624,"Add chunksize argument to read_parquet (#5607)

Previously, the read_parquet implementation in dask allows the dataset to be partitioned by row-group. However, the optimal task/partition size can be larger than a single row group in many cases. 

This commit adds a chunksize argument to read_parquet, which allows the user to specify the target data size (in bytes) for each task/partition. Consecutive row-groups will be read/aggregated by the same task until the data size reaches chunksize.",Richard (Rick) Zamora,rzamora217@gmail.com,2019-11-22 09:32:37-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-11-22 08:32:37-07:00
10d0c70402b9681a6aa4e3cc5111278ac6dbfe58,"Fix ""file_path_0"" bug in aggregate_row_groups (#5627)",Richard (Rick) Zamora,rzamora217@gmail.com,2019-11-22 22:14:25-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-22 22:14:25-06:00
eee9b78da60c24897e1df984f01dd9f36245fcb1,bump version to 2.8.1,James Bourbeau,jrbourbeau@gmail.com,2019-11-22 22:30:30-06:00,James Bourbeau,jrbourbeau@gmail.com,2019-11-22 22:30:30-06:00
5711480cc681ab3508fdb5891439a35d55000aff,Add documentation build (#5617),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-25 14:30:29-06:00,GitHub,noreply@github.com,2019-11-25 14:30:29-06:00
0ecb05ffb0eda4d85a332c5d3c09bd37228ee4b2,"Compute length of dataframe as length of first column (#5635)

This should reduce work when we're able to pass down column access,
such as is the case with parquet.",Matthew Rocklin,mrocklin@gmail.com,2019-11-25 13:02:41-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-25 15:02:41-06:00
80027c3f3eae345ff630811974c5b0a4e3b13fad,Fix ADL link (#5639),Ray Bell,rayjohnbell0@gmail.com,2019-11-25 19:36:18-05:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-25 18:36:18-06:00
3960c6518318f2417658c2fc47cd5b5ece726f8b,Update doc build instructions [skip travis] [skip appveyor] (#5640),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-11-25 21:19:13-06:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-11-25 22:19:13-05:00
3ba4f6e43ecda75ed4ad19f42f3eba6c78a42d49,Add dataframe resample methods (#5636),Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-11-27 11:31:06-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-11-27 10:31:06-06:00
1cff3c33a691121a404e8c590c364254ff8b07fa,"Generalize concat_unindexed_dataframes to support cudf-backend (#5659)

* add groupby/concat test and move pandas-specific concat to general version

* sort_index to avoid mismatch in test",Richard (Rick) Zamora,rzamora217@gmail.com,2019-12-02 12:01:33-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-02 10:01:33-08:00
67fb5363009c583c175cb577776a4f2f4e811410,"Allow dd.map_partitions to not enforce meta (#5660)

Currently we use apply_and_enforce everywhere, which is making it hard to reason about the graph (for RAPIDS we're trying to add an inplace=True option to drop when safe).

For operations that we define I would like to stop the enforcement, mostly to make the graph cleaner.",Matthew Rocklin,mrocklin@gmail.com,2019-12-02 19:34:32-08:00,GitHub,noreply@github.com,2019-12-02 19:34:32-08:00
eef087c048cccc6ec80ae24f187e715014d69178,Doc fixup [skip travis] [skip appveyor] (#5665),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-03 17:51:35-06:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2019-12-03 17:51:35-06:00
efadf5a60b6f469099b2f63f704b80448f21c872,close sqlalchemy engine after querying DB (#5629),Krishan Bhasin,KrishanBhasin@users.noreply.github.com,2019-12-04 11:36:17+00:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-04 05:36:17-06:00
c3367b47c0d5ce4b68cab7f2f0ad33b03f592693,"Fix bug in _get_md_row_groups (#5673)

Fixes a bug in the `ArrowEngine` where the wrong number
of arguments are returned from `_get_md_row_groups`.",Richard (Rick) Zamora,rzamora217@gmail.com,2019-12-04 17:58:33-06:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2019-12-04 17:58:33-06:00
cec2ae24dc83b50c4eda3a7e75dd99d3ca8da206,Fix da.std to work with NumPy arrays (#5681),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-05 13:16:15-06:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2019-12-05 13:16:15-06:00
f8197cdc82bd75a3b167072807eb3c48e3110ab9,Modify dd.DataFrame.drop to use shallow copy (#5675),Richard (Rick) Zamora,rzamora217@gmail.com,2019-12-05 13:35:38-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-05 11:35:38-08:00
6987162e87016dc034ddd7882b2c76c1bca1cc51,update meeting time (#5682),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-05 13:40:36-06:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2019-12-05 13:40:36-06:00
5b05368a4f1be47900e47a5ba2dea29171cd5420,"Register sizeof functions for Numba and RMM (#5668)

* Register Numba's `DeviceNDArray` in `sizeof`

Make sure we are also able to determine the `sizeof` for Numba's
`DeviceNDArray` objects.

* Handle RMM `DeviceBuffer` objects when present

Only RMM 0.11.0+ have `DeviceBuffer` objects. So make sure to register
this `sizeof` function only when RMM includes `DeviceBuffer`. Otherwise
don't do anything. Previous RMM versions are just returning Numba
`DeviceNDArray`s anyways.

* Run `black` on `dask/sizeof.py`",jakirkham,jakirkham@gmail.com,2019-12-05 16:35:12-05:00,GitHub,noreply@github.com,2019-12-05 16:35:12-05:00
5a96ec7c04877487c7c6ae4f9bb1802566f7e36e,bump version to 2.9.0,James Bourbeau,jrbourbeau@gmail.com,2019-12-06 15:46:38-06:00,James Bourbeau,jrbourbeau@gmail.com,2019-12-06 15:46:38-06:00
a34a331b814719bfbf27f7f519b16aedebabb351,"Fixed independent optimization of parquet-getitem (#5613)

\On master, the parquet-getitem optimization can cause us to form
invalid Dask graphs, as we (somehow I don't fully understand) reuse an
optimized `read_parquet` that doesn't contain all the keys needed for a
secondary `__getitem__`.

This fixes that by changing the `name` used for the `read_parquet`, and
all references to it.

Closes https://github.com/dask/dask/issues/5502",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-06 21:47:55-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-06 19:47:55-08:00
d0daa5bc7e86677b38794d4f9294fcc386f7b067,"Add dask.array.nanmedian (#5684)

Automatically rechunk to one chunk per reduction axes just like dask.array.median",Deepak Cherian,dcherian@users.noreply.github.com,2019-12-06 20:54:23-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-06 19:54:23-08:00
cfb714c84ee9d958f8b577d24e1b229a3bc5c889,"Update numpydoc dependency (#5694)

* Pin to latest numpydoc release",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-09 11:49:16-06:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2019-12-09 11:49:16-06:00
eb52366465f49d986b06f10592ad530c923ffd50,Skip parquet getitem optimization tests if no engine found [test-mindeps] (#5697),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-10 10:24:36-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-10 10:24:36-06:00
a00bdeb604a57962e444eb5c38c4ed28ede54a1a,Auto-detect categorical columns in ArrowEngine-based read_parquet (#5690),Richard (Rick) Zamora,rzamora217@gmail.com,2019-12-10 13:36:55-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-10 13:36:55-06:00
4e6c67f4c2a18ccd61f20740d95d7cb65032ed4d,"Use id to dedupe constants in rewrite_blockwise (#5696)

Previously we compared on value, which was bad since things that aren't
identical can still be equal (e.g. `0 == False`, but `0 is not False`).
We now compare based on id.

A few tests have been added to confirm the new behavior.",Jim Crist-Harif,jcrist@users.noreply.github.com,2019-12-10 14:08:52-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-10 14:08:52-06:00
1c39d48b452d857418c854008932fdac2608e121,"Support Parquet filters in disjunctive normal form, like PyArrow (#5656)",Matteo De Wint,matteodewint@gmail.com,2019-12-11 22:19:04+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-11 15:19:04-06:00
ffd23e87169debc0e79536200d0d1136842776ac,"Fix simple typo: wihout -> without (#5708)

Closes #5707",Tim Gates,tim.gates@iress.com,2019-12-13 08:25:02+11:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-12 15:25:02-06:00
c1f6d61368af6f9c67d39d23406eb267a0308bb9,Add disclaimer to more inherited docstrings (#5709),Julia Signell,jsignell@gmail.com,2019-12-13 10:56:06-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-13 09:56:06-06:00
7a46e7b4a436f5152872e6d7fa4f5291342bdd2f,"Add more docs disclaimers (#5710)

* Use derived_from to insert disclaimer and doc into ufunc functions

* Fix up test to check for disclaimer and do stats wrap properly

* Black",Julia Signell,jsignell@gmail.com,2019-12-16 09:46:59-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-16 08:46:59-06:00
f9dd5bd3cee83f2410ef3e63c8c3d0488db70da2,"add info on performance_report (#5713)

* add info on performance_report",Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-12-16 12:31:24-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-16 11:31:24-06:00
2cabf4f04f67a2ddef45d4fbede688a1d24fd97a,CI: Fix black dependency issue (#5716),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-16 15:41:21-06:00,GitHub,noreply@github.com,2019-12-16 15:41:21-06:00
3a828cfe97072f3da0c9b8c46514da44bc72997b,"Revert ""CI: Fix black dependency issue (#5716)"" (#5717)

This reverts commit 2cabf4f04f67a2ddef45d4fbede688a1d24fd97a.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-16 17:36:22-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-16 17:36:22-06:00
96e8f735e04ae487fc263956a68115044b7a2e2c,"BUG: Fixed DataFrame.__iter__ (#5719)

This should be an iterator over the column names, so we just dispatch
to meta.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-17 10:55:30-06:00,GitHub,noreply@github.com,2019-12-17 10:55:30-06:00
95ab6ee80a51f85dae61d8761a88f3c42c9b2638,Add support for Python 3.8 (#5603),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-17 10:57:08-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-17 10:57:08-06:00
7dcf08f2b15dae5543b67f76a8b7bebb28c57230,Resolve several documentation build warnings (#5685),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-17 16:10:14-06:00,GitHub,noreply@github.com,2019-12-17 16:10:14-06:00
c7ac3a70235c5b1ace455ad0130bfe56204f2be2,"Add missing "" in performance report example (#5724)",James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-17 22:26:48-06:00,GitHub,noreply@github.com,2019-12-17 22:26:48-06:00
3d273eb99f341b70f8f23d506b92d698fafc1683,"Ensure dataframe groupby-variance is greater than zero (#5728)

Due to rounding errors and numerical instability of our groupby-variance
algorithm we can get small negative values.

Fixes https://github.com/dask/dask/issues/5725",Matthew Rocklin,mrocklin@gmail.com,2019-12-19 09:58:17-06:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2019-12-19 10:58:17-05:00
c2566eaf106a3f49bdc0773de6bd9139a3f63c6a,DOC: Link to examples.dask.org in several places (#5733),Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-19 10:47:37-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-19 10:47:37-06:00
aec290247642ec4567c8141ec3b60854649da38f,xfail test_temporary_directory on Python 3.8 (#5734),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-19 12:50:38-06:00,GitHub,noreply@github.com,2019-12-19 12:50:38-06:00
56943ed99618153b8a973a963b980054c5874a7d,Support Array.view with dtype=None (#5736),Anderson Banihirwe,axbanihirwe@ualr.edu,2019-12-20 12:57:16-07:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-20 13:57:16-06:00
c474e483c655bc97efb0859d98bec182474810c6,Raise error when converting a dask dataframe scalar to a boolean (#5743),James Bourbeau,jrbourbeau@users.noreply.github.com,2019-12-22 20:26:50-06:00,GitHub,noreply@github.com,2019-12-22 20:26:50-06:00
2e1987ba3d872b3dbd2d9f5029a916dc95211aeb,Update helm config doc (#5750),Ray Bell,rayjohnbell0@gmail.com,2019-12-27 11:39:30-05:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-27 08:39:30-08:00
71ea5d974c7cf60e683a7198588cf6b4cb80f00d,bump version to 2.9.1,Matthew Rocklin,mrocklin@gmail.com,2019-12-27 10:52:10-08:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-27 10:52:10-08:00
c69d10f97cadd06f147817f0084bddeadb8195e6,"Fixed partitioning in set index for ordered Categorical (#5715)

]Closes https://github.com/dask/dask/issues/5671",Tom Augspurger,TomAugspurger@users.noreply.github.com,2019-12-28 11:06:31-06:00,Matthew Rocklin,mrocklin@gmail.com,2019-12-28 09:06:31-08:00
03a75ca4a7a6afd3bf7ee9ace1ce78c287545bad,"set_index accepts single-item unnested list. (#5760)

set_index accepts single-item unnested list.
set_index raises on nested list.",Wes Roach,wesr000@gmail.com,2020-01-04 10:15:20-06:00,Matthew Rocklin,mrocklin@gmail.com,2020-01-04 08:15:20-08:00
60d9ae5d2c1e2a1a62b7a065381f215a7ac490a1,"Add docs section on task expectations to graph page (#5764)

Fixes  dask/distributed#3350

Adds a section in the documentation that discusses how Futures are handled when tasks operate on them `in-place`",Devin Petersohn,devin-petersohn@users.noreply.github.com,2020-01-05 16:39:35-08:00,Matthew Rocklin,mrocklin@gmail.com,2020-01-05 16:39:35-08:00
27f5bed5f7f8c03a5ef506a408cff2db8e9ca26b,Fix typo in Task Expectations docs (#5767),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-06 10:56:41-06:00,Matthew Rocklin,mrocklin@gmail.com,2020-01-06 08:56:41-08:00
1d86a12a1a7957c1bc4b183ce4e4be229b798ccc,"Support empty partitions when performing cumulative aggregation (#5730)

Fixes https://github.com/dask/dask/issues/5726

Previously we assumed that all partitions were non-empty and that we
could combine the two values from the previous and next partition.

Now we are robust to a null result coming from a cumulative aggregation
of an empty partition.",Matthew Rocklin,mrocklin@gmail.com,2020-01-07 09:56:23-08:00,GitHub,noreply@github.com,2020-01-07 09:56:23-08:00
895eddcb4cfe6ba120b9d156b8faa671fb3571c9,docs: small typos (#5771),Maarten Breddels,maartenbreddels@gmail.com,2020-01-08 15:08:13+01:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-01-08 09:08:13-05:00
8530bdd0f54d7576f05c9162bb3a835864edf016,"Update bag repartition docstring (#5772)

repartition can be used both for reducing and increasing the number of partitions. The docstring only mentioned reducing the number of partitions",Timost,Timost@users.noreply.github.com,2020-01-08 15:45:13+01:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-01-08 09:45:13-05:00
0ecef985bb7c75e02b0bc50aa1564f004103b0d1,"Fix groupby/mean error with with categorical index (#5776)

* check for categorical type before call to union_categoricals

* add test_groupby_split_out_multiindex",Richard (Rick) Zamora,rzamora217@gmail.com,2020-01-08 15:29:27-06:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-01-08 16:29:27-05:00
3b31ab57d60c0729ffc224786ac69456ea8e6435,"Compat for pandas 1.0 (#5779)

* Compat for pandas 1.0",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-10 15:17:03-06:00,GitHub,noreply@github.com,2020-01-10 15:17:03-06:00
d3c3ed9b2c0895e6e76a6bf0c47b59a1cc657076,"Fix bug in pyarrow-based read_parquet on partitioned datasets (#5777)

* avoid pq graph opt for partition columns",Richard (Rick) Zamora,rzamora217@gmail.com,2020-01-13 10:16:08-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-13 10:16:08-06:00
0b9a62b250578b77017070fed20815e3a9224679,"Pandas 1.0 compat (#5782)

* Use pytest warns
* Fixed duplicate index: xref https://github.com/pandas-dev/pandas/issues/30965",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-13 10:17:18-06:00,GitHub,noreply@github.com,2020-01-13 10:17:18-06:00
2ea9a1afbd9ccc9b00de591308249bca2880d5ac,"TST: Remove buggy assertions (#5783)

It's unclear what the expected behavior of Series.append(DataFrame)
is. Removing these assertions for now.

xref https://github.com/pandas-dev/pandas/issues/30975",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-13 12:56:37-06:00,GitHub,noreply@github.com,2020-01-13 12:56:37-06:00
5db6dad7947f186a9764cdf409b8f50bf7c38f22,"Pandas 1.0.0RC0 compat (#5784)

test-upstream",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-14 06:17:45-06:00,GitHub,noreply@github.com,2020-01-14 06:17:45-06:00
c63dc149210d45cbf90bb3f9d5a56106339ac24c,"Redo `dask.order.order`.  Fix #5584.  Use structural info, not key names (#5646)

* Redo `dask.order.order`.  Fix #5584.  Use structural info, not key names.

This is a substantial rewrite of `dask.order.order`, but the goals remain the
same and many previous lessons were taken into consideration.  The new version
relies less on the key name by using more metrics and using a different
strategy for walking up and down the DAG.

Performance appears to be about the same (sometimes a litle faster, sometimes
a little slower, and never a lot slower).

I still need to wrap up some cosmetics (doc strings, code comments, etc).

@TomAugspurger also suggested I add some benchmarks to dask-benchmarks.

* run black

* Clean up: update docstrings, code comments, and some performance tweaks

* Remove commented out line in test

* Add test that regressed on master.

Avoid sorting or taking the min when there are many, many edges.
This respects the use case here: https://github.com/dask/dask/pull/3298

Minor performance improvements.

* Fix failing test and add regression test.

Re-add `total_dependencies` in `dependencies_key`.

* Don't leave any dangling single nodes in `order`.  Also, some performance tweaks.

* Run black (correct version?)

* Fix typo in doctest

* Fix typo in doctest

* Improve docstring of `graph_metrics`; also, detect and raise if cycle exists

* oops.  test cycle detection in `order` with non-string keys

* Pre-compute `initial_stack_key` in `order` (for performance)",Erik Welch,erik.n.welch@gmail.com,2020-01-14 11:15:38-06:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2020-01-14 11:15:38-06:00
021d6f7ab6315dfe26adcd14aa9bd71837d5ab1e,"DOC: note additional use case for normalize_token.register (#5766)

* DOC: note additional use case for normalize_token.register

If any of your classes parents are already in registered with the
dispatcher that registration will be hit before the object
implementation (which is what calls `__dask_tokenize__`).  Thus to
over-ride the tokenize function of any class which is already
registered, you must also register the sub-class.

[ci skip]",Thomas A Caswell,tcaswell@gmail.com,2020-01-14 12:19:46-05:00,Jim Crist-Harif,jcrist@users.noreply.github.com,2020-01-14 11:19:46-06:00
bf64564332338d476e5250f1a8153fb0221b53c3,Update order to handle empty dsk (#5789),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-14 14:23:02-06:00,GitHub,noreply@github.com,2020-01-14 14:23:02-06:00
2ee98716b96ff7f66ea1dcfd7a43f374cc92ed94,Fix repr for empty dataframes (#5781),Shiva Raisinghani,51683050+exemplary-citizen@users.noreply.github.com,2020-01-14 12:23:44-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-14 14:23:44-06:00
7fe6991c0864bdbaba966fced0e79fa6a0b3f5ce,Unify chunks in broadcast_arrays (#5765),Matthew Rocklin,mrocklin@gmail.com,2020-01-14 19:18:07-08:00,GitHub,noreply@github.com,2020-01-14 19:18:07-08:00
3893c68e34ce62a55471cc2b58fe996dff552790,Add transparent compression for on-disk shuffle with partd (#5786),Christian Wesp,github@cwesp.de,2020-01-16 14:45:00+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-16 07:45:00-06:00
13043bd2639c054c6361b2d219b9571edee17236,"TST: xfail CSV encoding tests (#5791)

test-upstream",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-16 09:18:23-06:00,GitHub,noreply@github.com,2020-01-16 09:18:23-06:00
e3f80df7fff7627082688b7cccff1e9131001446,bump version to 2.9.2,James Bourbeau,jrbourbeau@gmail.com,2020-01-16 17:48:59-06:00,James Bourbeau,jrbourbeau@gmail.com,2020-01-16 17:48:59-06:00
2d07747d8cb2e9ad587e84e0624dcc1cb637d41c,Update develop.rst to reflect updated tests (#5796),Chris Roat,1053153+chrisroat@users.noreply.github.com,2020-01-16 17:44:44-08:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-16 19:44:44-06:00
370dbd2209f7710c51644262db5bfa49dc072ced,Fix exception when `groupby.std()` with `by` column containing large values (#5737),H. Thomson Comer,thomcom@gmail.com,2020-01-16 20:21:20-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-16 20:21:20-06:00
61354989318d33fe5796abab7450eee44997c93b,"Use latest release of black (#5798)

* Use latest release of black

* Run black",James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-17 09:18:42-06:00,Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-01-17 10:18:42-05:00
cb7092d71f293509edab8182ef63e7761f03bbe3,"Loosen criteria for gather_statistics=True default in parquet ArrowEngine (#5799)

* loosen criteria for gather_statistics None-to-True switch",Richard (Rick) Zamora,rzamora217@gmail.com,2020-01-17 14:52:21-06:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-17 14:52:20-06:00
a27f111b7bd327ad74bc2aff088e30de91ecf7df,"Delay creating metadata in to_zarr (#5797)

* Delay creating metadata in `to_zarr(compute=False)`",Chris Roat,1053153+chrisroat@users.noreply.github.com,2020-01-20 13:25:09-08:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-20 15:25:09-06:00
917ad7181b2b1394eadabb4f391a322770e63a2f,"Fixed bug that broke resampling when the new index have a non-existin (#5807)

* Fixed bug that broke resampling when the new index have a non-existing date.",dfonnegra,41648443+dfonnegra@users.noreply.github.com,2020-01-21 09:00:01-05:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-21 08:00:01-06:00
861be345d4231be2c3e8d10cb3563bb0df2aff45,Fix check on dataclass instances in unpack_collections (#5812),Matteo De Wint,matteo@novemberfive.co,2020-01-21 17:23:30+01:00,Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-21 10:23:30-06:00
04d8658ce813bc8838aeccee7dfd847abd9475ea,Fix tokenize for pandas extension arrays (#5813),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-21 14:56:26-06:00,GitHub,noreply@github.com,2020-01-21 14:56:26-06:00
e49cf4d8260520981d381258e03f944503fcf48e,unxfail passing dataframe tests (#5816),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-21 20:20:05-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-21 20:20:05-06:00
f4d90c9faa01dc4117c68530f0a9f1b6645ae873,DOC: fix why images (#5825),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-23 17:05:04-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-23 17:05:04-06:00
5a57ed0a8818587da15a4a8a6deaf4f5ab759e55,Support pandas nullable string and boolean (#5815),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-24 09:20:17-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-24 09:20:17-06:00
82c0c752c80b1c3b994ba04693633664a0402fc1,Compatibility for new info repr (#5792),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-24 12:18:28-06:00,James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-24 12:18:28-06:00
ed3895a1b61bfc930aff98cb2aabc685d18c1b66,"DOC: Update changelog for 2.10.0 (#5835)

[ci skip]",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-28 12:29:23-06:00,GitHub,noreply@github.com,2020-01-28 12:29:23-06:00
d124f65e64ce75d7e89c59ba487f4fe186d3be5a,"Fix typo in distributed diagnostics documentation (#5841)

Fix typo in distributed diagnostics documentation, ""queriesd"" should be
""queried"".",Gerrit Holl,gerrit.holl@gmail.com,2020-01-30 16:12:59+01:00,GitHub,noreply@github.com,2020-01-30 10:12:58-05:00
4867694eed91df4dd3bf3392a1c139045876a9b6,Fix Pandas 1.0 version comparison (#5851),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-01-30 10:25:18-06:00,GitHub,noreply@github.com,2020-01-30 10:25:18-06:00
4ddcc9374533e7765f341f86edfedf5c8d82df8c,bump version to 2.10.1,James Bourbeau,jrbourbeau@gmail.com,2020-01-30 10:43:47-06:00,James Bourbeau,jrbourbeau@gmail.com,2020-01-30 10:43:47-06:00
e2ae31c5b516d7fb979681b9342e00b9c16a5480,"Add note pointing to code of conduct and diversity statement (#5844)

* Add note pointing to code of conduct and diversity statement

* Single line in note [skip travis] [skip appveyor]

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Matthew Rocklin,mrocklin@gmail.com,2020-01-30 11:38:27-08:00,GitHub,noreply@github.com,2020-01-30 11:38:27-08:00
2df58ea7d64679ccc5085cf3235fd15bb018b7e9,Remove dask.dataframe import in tokenization code (#5855),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-01-30 17:55:18-06:00,GitHub,noreply@github.com,2020-01-30 17:55:18-06:00
b3d2c2c50f24a9522c10528d9ee3f529492b3cef,"Close ThreadPool at exit (#5852)

Closes https://github.com/dask/dask/issues/5806",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-02-03 12:01:15-06:00,GitHub,noreply@github.com,2020-02-03 10:01:15-08:00
f0b8bd47733dc8f80a345490966d35d3a5368485,"Fix typo in cloud.rst (#5860)

remove extra letter from hyperlink display text",Andrew Thomas,andrew.mcnichols@gmail.com,2020-02-03 14:29:52-05:00,GitHub,noreply@github.com,2020-02-03 13:29:52-06:00
ee6a769d5776f8aef379ef23e34400882db11f1a,Call pip as a module to avoid warnings (#5857) (#5861),Cyril Shcherbin,cyril.shcherbin@gmail.com,2020-02-04 21:25:18+01:00,GitHub,noreply@github.com,2020-02-04 14:25:18-06:00
03aca07be7f69964d290138fd86ce71c8797afe7,Fixes ValueError in delayed execution of bagged numpy array (#5828),Surya Avala,suryaavala.dev@gmail.com,2020-02-05 07:35:25+11:00,GitHub,noreply@github.com,2020-02-04 14:35:25-06:00
2986f75ab01b5e00f4015b84565a1b207b3db3b9,"Use parquet read speed-ups from `fastparquet.api.paths_to_cats`. (#5821)

* Import optimized `fastparquet.api.paths_to_cats`.

Before this change, code was duplicated from fastparquet.
After this change, an optimized function is imported from fastparquet following
https://github.com/dask/fastparquet/pull/471

Since fastparquet versions range is not explicit in dask,
the import is for now made optional, reverting to existing implementation if
using older fastparquet.",Igor Gotlibovych,igor.gotlibovych@gmail.com,2020-02-05 16:13:16+00:00,GitHub,noreply@github.com,2020-02-05 10:13:16-06:00
7afeaf3f97c9bbec13fbcc41c3742cfe4d0a65b4,Add df.empty property (#5711),rockwellw,rockwellw@users.noreply.github.com,2020-02-05 11:30:07-08:00,GitHub,noreply@github.com,2020-02-05 13:30:07-06:00
eac7df06542b9b1a892df2d15bb25c03ff5fb384,Fix typo (#5866),Yetunde Dada,43755008+yetudada@users.noreply.github.com,2020-02-05 19:30:26+00:00,GitHub,noreply@github.com,2020-02-05 13:30:26-06:00
c8cda684fda06480d32e8e62c78080e089b4f04f,Expose sort= argument for groupby (#5801),Richard (Rick) Zamora,rzamora217@gmail.com,2020-02-05 13:48:16-06:00,GitHub,noreply@github.com,2020-02-05 13:48:16-06:00
ae250019b1025eb69082b433871228365c1e982a,"Add include_path option for dask.bag.read_text (#5836)

* Add include_path option for dask.bag.read_text",Yifan Gu,gyf304@users.noreply.github.com,2020-02-06 07:29:01-05:00,GitHub,noreply@github.com,2020-02-06 06:29:01-06:00
1f2e41175cce12fcb050ae1d212692062c52f953,Add support for reductions on empty dataframes (#5804),Shiva Raisinghani,51683050+exemplary-citizen@users.noreply.github.com,2020-02-06 05:19:19-08:00,GitHub,noreply@github.com,2020-02-06 07:19:19-06:00
913a04bec29f450ac5784313baafaa2915061d31,"More derived from (#5871)

* Use derived_from to include docs with disclaimer

* Get rid of docs_wrap function and use derived_from instead",Julia Signell,jsignell@gmail.com,2020-02-06 21:32:34-05:00,GitHub,noreply@github.com,2020-02-06 20:32:34-06:00
ec16e5ff53c4ff660267061323727ddfbb05f588,DOC: map_blocks see also (#5874),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-02-07 09:12:29-06:00,GitHub,noreply@github.com,2020-02-07 09:12:29-06:00
308777c2a3ccc511e8383104140987deb2d527a3,Removing duplicated DO block at the end (#5878),K.-Michael Aye,michaelaye@users.noreply.github.com,2020-02-08 21:18:40-07:00,GitHub,noreply@github.com,2020-02-08 22:18:40-06:00
cc952ac401937df54063122d8a05bbacdd024786,Move prometheus docs from distributed.dask.org (#5876),Matthew Rocklin,mrocklin@gmail.com,2020-02-10 07:48:54-08:00,GitHub,noreply@github.com,2020-02-10 09:48:54-06:00
2627a7d7fed05d2154758f3675040f6e90f46b40,Fix exception chaining in dataframe/__init__.py (#5882),Ram Rachum,ram@rachum.com,2020-02-10 23:07:16+02:00,GitHub,noreply@github.com,2020-02-10 15:07:16-06:00
d3798151747297a88604e2f853f830f579f7e602,"Move over dashboard connection docs (#5877)

We're removing the old docs in distributed.dask.org",Matthew Rocklin,mrocklin@gmail.com,2020-02-11 08:27:38-08:00,GitHub,noreply@github.com,2020-02-11 10:27:38-06:00
5f61f7f79b861be5ffdbf59950889166628a8fa6,"Avoid unnecessary __getitem__ in block() when chunks have correct dimensionality, which improves performance significantly in that case. (#5884)",Thomas Robitaille,thomas.robitaille@gmail.com,2020-02-12 15:51:31+00:00,GitHub,noreply@github.com,2020-02-12 07:51:31-08:00
613416a487da9d95d6abcb06a35de243c8e8008b,"Replace flake8 pre-commit-hook with upstream (#5892)

See https://github.com/pre-commit/pre-commit-hooks#deprecated--replaced-hooks",Julia Signell,jsignell@gmail.com,2020-02-13 15:50:24-05:00,GitHub,noreply@github.com,2020-02-13 14:50:24-06:00
783c7ee20fd3fecf0963e3ddc03fbf1703539090,"Optimize slices_from_chunks (#5891)

Instead of taking Cartesian products of the starts and sizes, then
assembling the slices for every element of the n-d grid, first compute
the slices along each dimension and then take a Cartesian product.

Also make use of `cached_cumsum`, although that is somewhat incidental.

Before:
```
%timeit slices_from_chunks(((2,) * 1000, (3,) * 1000, (4,) * 10))
10.1 s  102 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
```

After:
```
%timeit slices_from_chunks(((2,) * 1000, (3,) * 1000, (4,) * 10))
629 ms  11.8 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
```

That's a 16x performance improvement. More practically, this knocked 20%
off the time for some of our code to construct a (large) graph.",Bruce Merry,bmerry@ska.ac.za,2020-02-14 02:01:38+02:00,GitHub,noreply@github.com,2020-02-13 16:01:38-08:00
2fee6bbbc49ef62e563322e7e0de7346d8333875,"Update array internal design docs for HighLevelGraph era (#5889)

- Use `.__dask_graph__()` instead of `.dask` (discussion in #5850
  indicated that the former is preferred).
- Update inspection of an existing array to reflect that
`__dask_graph__` returns a HighLevelGraph
- Use HighLevelGraph to construct arrays in examples. This isn't
  strictly needed (the array constructor will do the conversion
  automatically), but it helps to encourage users to think in terms of
  HLGs.
- Fixed a missing apostrophe.",Bruce Merry,bmerry@ska.ac.za,2020-02-14 02:03:12+02:00,GitHub,noreply@github.com,2020-02-13 16:03:12-08:00
86d1011a8890f00acda73e5ccb091769f74df3b8,"Avoid using rewrite_blockwise for a singleton (#5890)

* Avoid using rewrite_blockwise for a singleton

rewrite_blockwise does a lot of work, which is unnecessary in the case
where only one Blockwise is passed to it. Skipping that work halves the
time for da.optimize in this simple example:

```python3
import timeit

import dask.array as da
import numpy as np

a = da.from_array(np.ones((1, 1)), chunks=1)
b = da.from_array(np.zeros((1, 1)), chunks=1)
c = a + b
dsk = c.__dask_graph__()
keys = c.__dask_keys__()
print(timeit.timeit('da.optimize(dsk, keys)', number=5000, globals=globals()))
```

* Move rewrite_blockwise fast path into the function

Instead of handling the len(inputs) == 1 case in `_optimize_blockwise`
before calling `rewrite_blockwise`, handle it inside
`rewrite_blockwise`. That way other uses (of which there are currently
none) will benefit from the fast path too.",Bruce Merry,bmerry@ska.ac.za,2020-02-14 17:15:55+02:00,GitHub,noreply@github.com,2020-02-14 09:15:55-06:00
5db2881f82f7a6bf448d8f91d5cb04d8a233910e,"Improve layer name synthesis for non-HLGs (#5888)

When a dependent collection passed to HighLevelGraph.from_collections
has a __dask_graph__ that is not a HighLevelGraph, the layer synthesised
for it was being named with `id()`. This caused problems, because there
are places in the code that assume that the layer name matches the key
names inside the layer (see #5850), and dask.array.utils._check_dsk
asserts that layer names are all tuples or strings, not integers.

Address withby naming the layer `collection.__dask_layers__()[0]`,
falling back to the old behaviour if `__dask_layers__` doesn't exist or
returns an empty tuple.  I'm not sure what the ideal behaviour is if
`__dask_layers__()` returns more than one element. The built-in
collections (array, dataframe, bag and delayed) all return a singleton;
xarray's Dataset can return multiple values, but it also returns a
HighLevelGraph from `__dask_graph__` so the issue doesn't arise.

Closes #5850.

If a collection does not have a HighLevelGraph and we're using
`__dask_layers__` to pick a name to use to convert to a HighLevelGraph,
raise an error if there is not exactly one name in `__dask_layers__`,
rather than just taking the first one.",Bruce Merry,bmerry@ska.ac.za,2020-02-14 21:46:07+02:00,GitHub,noreply@github.com,2020-02-14 11:46:07-08:00
ed51f88c50587a99372b5fcbc01f569bdf36c6a5,"Remove lambda from dataframe aggregation (#5901)

This removes a dynamically generated function from within the count method.",Matthew Rocklin,mrocklin@gmail.com,2020-02-14 13:18:09-08:00,GitHub,noreply@github.com,2020-02-14 15:18:09-06:00
236943d32d95df759d1ba56183b46ef464a6d8f7,"Push chunk override from map_blocks into blockwise (#5895)

Instead of calling dask.array.blockwise and then fiddling with the
chunks under the hood, pass the new chunking scheme into blockwise.
The verification that the number of blocks didn't change is now made
inside blockwise, so it will be a bit more robust.

To make that verification work I also improved the code inside blockwise
that estimates the chunks up front (in the adjust_chunks=False case, as
used by map_blocks). Previously it made the arbitrary choice of taking
the input with the most indices. When there is broadcasting, that can
get the wrong *number* of blocks (which is what lead to bugs to
like #4299). It now, per dimension, takes the chunk scheme with the most
blocks. Note that this might alter the behaviour in cases where the
chunking schemes are inconsistent and no explicit chunking scheme is
provided, but I believe the behaviour was undefined to start with.

A benefit of this change is that it's now possible to detect cases where
the user-provided chunks have more than one element and there should
only be more than one element (previously the check was skipped because
broadcasting wasn't correctly handled, as a workaround for #4299).",Bruce Merry,bmerry@ska.ac.za,2020-02-16 18:41:00+02:00,GitHub,noreply@github.com,2020-02-16 08:41:00-08:00
c99614c2bb0fc29c928e65b9ffb7f281b05a7d05,Support dtype and other kwargs in coarsen (#5903),Matthew Rocklin,mrocklin@gmail.com,2020-02-16 09:01:10-08:00,GitHub,noreply@github.com,2020-02-16 09:01:10-08:00
dfcc09c6eb48d59e391e593408c12181f6550f31,"Register a normalizer for literal (#5898)

Closes #5897.",Bruce Merry,bmerry@ska.ac.za,2020-02-16 19:01:41+02:00,GitHub,noreply@github.com,2020-02-16 09:01:41-08:00
5a7f4524217d0d3ee9e44b6b6513264de7f16171,Require pandas>=0.23 (#5883),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-02-16 11:04:41-06:00,GitHub,noreply@github.com,2020-02-16 09:04:41-08:00
e83150ba85e2a439c8d128c5a787a647a92433aa,"`quote` should quote dicts too (#5905)

Closes #5904",Bruce Merry,bmerry@ska.ac.za,2020-02-17 17:36:40+02:00,GitHub,noreply@github.com,2020-02-17 07:36:40-08:00
a045685288c53be280084bb1ed00ad868ad27058,"Skip rechunk steps that do not alter chunking (#5909)

Closes #5908.",Bruce Merry,bmerry@ska.ac.za,2020-02-17 17:43:38+02:00,GitHub,noreply@github.com,2020-02-17 07:43:38-08:00
d676b2d8a2e776cb711e4da4c95a936c52e338da,"Improve accuracy of estimate_graph_size for rechunk (#5907)

There are two improvements:
1. Special-case dimensions where the old and new chunking are the same
   (there is no expansion). When rechunking on only 1 axis in an
   n-dimensional array, this reduces the estimate by 2^(n-1).
2. Subtract 1 from per-dimension estimate, because the intersection of A
   chunks and B chunks cannot give more than A+B-1. In many cases this
   will be only a minor difference, but it can bring some cases just
   under the threshold. For example, 1D rechunking should now always
   be single-pass with threshold=1, whereas previously it would always
   be multi-pass.",Bruce Merry,bmerry@ska.ac.za,2020-02-17 17:49:42+02:00,GitHub,noreply@github.com,2020-02-17 07:49:42-08:00
632f68c04154915da84c0e0befba1391a583f596,"Cache result of Array.shape (#5916)

One of the performance problems identified in #5913 was because
Array.shape gets called many times, and each time it is computed by
summing the chunk sizes. By using `cached_cumsum`, the calculation
should be fast after the first time. While a cumsum is overkill for
computing shape, it's likely that the cached result will be used again
at some point.

An alternative would be just to store the shape in the object (e.g.
computed during the destructor). That would need all the bits of
internal code that modify `_chunks` directly to be modified to update
the shape as well.

Also change `cached_cumsum` to return a tuple instead of a numpy array,
and also use `toolz.accumulate` rather than `np.cumsum`. I originally
needed this because `shape` was getting the wrong type (tuple of numpy
scalars instead of Python scalars), but it also makes the example in
https://github.com/dask/dask/issues/5913#issuecomment-587360588 about
10% faster. While it's a little slower to compute the first time, the
result of `cached_cumsum` is typically used for iteration or indexing in
Python land, rather than with vectorised numpy operations, and those are
a lot faster on a tuple. Similarly the bisect module is much faster than
np.searchsorted because the latter is dominated by C API overhead.

The one downside of using a tuple instead of a numpy array is that
slicing it is O(n) instead of O(1). That means that the
initial_zero=False answer is now a separate cache entry instead of the
initial_zero=True answer with the first element sliced off. There are
also a few bits of code that don't need the final element and slice it
with `[:-1]` which will now be making a copy. But I think it's still an
improvement overall.",Bruce Merry,bmerry@ska.ac.za,2020-02-18 18:23:16+02:00,GitHub,noreply@github.com,2020-02-18 08:23:16-08:00
9748ca2898d592a959df45f8f0abe7fb13db0f2f,Deprecate doc_wraps (#5912),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-02-18 14:15:07-06:00,GitHub,noreply@github.com,2020-02-18 14:15:07-06:00
15f6fa4ead6fd2597704b8fa4a89b7a23f22ded4,rename test_inner to test_outer (#5922),Shiva Raisinghani,51683050+exemplary-citizen@users.noreply.github.com,2020-02-18 19:00:52-08:00,GitHub,noreply@github.com,2020-02-18 22:00:52-05:00
889c40074a754387c7f78dbdce20f9f2328c5c42,"CI: Pin msgpack (#5923)

xref https://github.com/dask/distributed/issues/3491",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-02-19 09:55:03-06:00,GitHub,noreply@github.com,2020-02-19 09:55:03-06:00
6a3bbb96a98271880831a9dedcd40bffb5e79121,bump version to 2.11.0,James Bourbeau,jrbourbeau@gmail.com,2020-02-19 11:18:00-06:00,James Bourbeau,jrbourbeau@gmail.com,2020-02-19 11:18:00-06:00
474e27441251358cbf015152b35fca7ed3a128cb,Use shallow copy for assign operations when possible (#5740),Richard (Rick) Zamora,rzamora217@gmail.com,2020-02-19 11:27:28-06:00,GitHub,noreply@github.com,2020-02-19 11:27:28-06:00
c819af0b8350e95142dd6f4c01aeb65989264e02,"Update optimization doc for python 3 (#5926)

* Get rid of future import in docs

* Use f-string to increase legibility of example",Julia Signell,jsignell@gmail.com,2020-02-19 13:11:26-05:00,GitHub,noreply@github.com,2020-02-19 12:11:26-06:00
3f68b43057724365e485b3cd6e68cacbcd9f5811,"Add new error message content when columns are in a different order (#5927)

* Add statement for when column order doesn't match

* Test that appropriate errors are raised when checking columns",Julia Signell,jsignell@gmail.com,2020-02-19 16:34:50-05:00,GitHub,noreply@github.com,2020-02-19 16:34:50-05:00
54deb7fa4cdbbf3e124be6834224272be27ace65,Add remaining optional depedencies to Travis 3.8 CI build environment (#5920),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-02-19 19:28:56-06:00,GitHub,noreply@github.com,2020-02-19 19:28:56-06:00
b9d677049cceb69c6b096414f647db354d48695a,TST: Ensure dot results are placed in unique files. (#5937),Elliott Sales de Andrade,quantum.analyst@gmail.com,2020-02-21 18:11:41-05:00,GitHub,noreply@github.com,2020-02-21 18:11:41-05:00
72c7d906212f14df5d515be33c9cc5f0d86b3fec,add collect list example (#5938),Ray Bell,rayjohnbell0@gmail.com,2020-02-24 00:52:58-05:00,GitHub,noreply@github.com,2020-02-24 00:52:58-05:00
c99a44027ecbf606fb2f671d2dbdf72594c0c171,"Unpin msgpack in CI (#5930)

* Unpin msgpack in CI

* Unpin distributed

* Unpin distributed in Python 3.8",James Bourbeau,jrbourbeau@users.noreply.github.com,2020-02-24 07:33:10-06:00,GitHub,noreply@github.com,2020-02-24 08:33:10-05:00
33ad832dfc80aee72250fe45d3dfc53ebd987f33,Register deterministic tokenization for range objects (#5947),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-02-26 07:26:59-05:00,GitHub,noreply@github.com,2020-02-26 07:26:59-05:00
0c5d01125fe05c9783889aeb498156998cb4701d,ENH Adds empty mode to array.pad (#5931),Thomas J Fan,thomasjpfan@gmail.com,2020-02-27 08:41:38-05:00,GitHub,noreply@github.com,2020-02-27 08:41:38-05:00
78dcde28e1a0f7b75f2143b1d0d0388cdd78cb83,Implement dask.dataframe.to_numeric (#5929),Julia Signell,jsignell@gmail.com,2020-02-27 11:43:34-05:00,GitHub,noreply@github.com,2020-02-27 11:43:33-05:00
4ae913b13df7c5018e24eea6ee76392a6ef59f3e,Add original class or module as a kwarg on _bind_* methods (#5946),Julia Signell,jsignell@gmail.com,2020-02-27 23:26:55-05:00,GitHub,noreply@github.com,2020-02-27 20:26:55-08:00
560c8bec163162bd5c4388ad6a31243050703eed,xfail test_describe when using Pandas 0.24.2 (#5948),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-02-28 14:08:27-05:00,GitHub,noreply@github.com,2020-02-28 14:08:27-05:00
fcc500c2ecda5eb5e473cd169738b2cee7f9171a,"Pin `numpydoc` to `0.8.0` (fix double autoescape) (#5961)

This is a temporary fix for the doubly escaped `*`s that are present in
the current dask docs (and `pandas`, and `scipy`...).
This issue started with `numpydoc=0.9.0` when `numpydoc` started
escaping `*args` and `**kwargs`.  sphinx autosummary _also_ escapes
`*args` and `**kwargs`, so in conjunction, they end up double-escaped:

```
Client.run(self, function, \*args, \*\*kwargs)
```

There are a couple of different ways to fix this TheRightWay but this
will make the docs prettier for now.",Gil Forsyth,gforsyth@users.noreply.github.com,2020-02-28 15:38:47-05:00,GitHub,noreply@github.com,2020-02-28 15:38:47-05:00
7f5fc07f09c4626739c17fa9c46cdd78cc97224d,[docs] fixed typos in documentation (#5962),James Lamb,jaylamb20@gmail.com,2020-03-01 09:50:14-06:00,GitHub,noreply@github.com,2020-03-01 09:50:14-06:00
80f1366ec4e9a0d0b9eaf771d07623e2adaf80ec,Update title of DataFrame extension docs (#5954),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-03-02 13:20:56-06:00,GitHub,noreply@github.com,2020-03-02 14:20:56-05:00
2bc2dd9f2cc25486e3b3118ef095fe87d3681163,"DOC: update develop doc with conda option (#5939)

* update develop doc with conda option

* python -m pip

* add git clone info

* rebase",Ray Bell,rayjohnbell0@gmail.com,2020-03-02 17:08:34-05:00,GitHub,noreply@github.com,2020-03-02 17:08:34-05:00
2b7945ed783bc1be7bb67ab78b4ca246adfa9804,"[docs] Grammar and formatting updates to docstrings (#5963)

* [docs] Grammar and formatting updates to docstrings

* reverted changes to spacing after periods",James Lamb,jaylamb20@gmail.com,2020-03-02 16:53:52-06:00,GitHub,noreply@github.com,2020-03-02 17:53:52-05:00
cca15ae9b57c6bd01f0e345c20b0ef5d2cb081bc,"Fix axes ordering in `da.tensordot` (#5975)

Fixes #5472

Axes were in the reverse order when calculated in `tensordot` leading to
chunks/shape mismatches when the inputs weren't symmetric and user requested a
tensor double contraction.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-04 15:44:30-06:00,GitHub,noreply@github.com,2020-03-04 15:44:30-06:00
cfa28ae2692110ed86e255e710e6a96b6ee56238,Add DataFrame and Series memory_usage_per_partition methods (#5971),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-04 15:53:23-06:00,GitHub,noreply@github.com,2020-03-04 15:53:23-06:00
17c5b16a2087d9a250b817af49bc8e2cb997ed18,"[READY] Add ignore_index argument to rearrange_by_column code path (#5973)

* introducing ignore_index to set_index code path and dispatch functions

* add ignore_index to group_split_pandas (not actually used yet)

* need to set ignore_index=False by default for group_split_pandas (in case it is used for non-set_index repartitioning)",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-05 07:57:18-06:00,GitHub,noreply@github.com,2020-03-05 07:57:18-06:00
ed6932a7cd7472064f640f2e6d835bfe5830a38c,"Skip parquet getitem optimization for some keys (#5917)

* Skip parquet getitem optimization for some keys

Closes https://github.com/dask/dask/issues/5893",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-05 07:57:47-06:00,GitHub,noreply@github.com,2020-03-05 07:57:47-06:00
02468cb0bec49c9e0fc3b83e55e45e5296b1782b,Close pool leaking subprocess (#5979),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-05 16:25:24-06:00,GitHub,noreply@github.com,2020-03-05 16:25:24-06:00
6eac7b204e7b323c1c70d60d1cd441df2bac6e07,Array slicing: fix typo in slice_with_int_dask_array error message (#5981),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-03-05 17:51:20-06:00,GitHub,noreply@github.com,2020-03-05 17:51:20-06:00
437aef60b8e7dd74653f3950bdbe14b945b8de44,Changed above to below in dask.array.triu docs (#5984),Henrik Andersson,hnra+github@protonmail.com,2020-03-06 14:11:13+01:00,GitHub,noreply@github.com,2020-03-06 07:11:13-06:00
9d39cef4a5d62a30ff41563053ffcca50c952627,"Remove toolz.memoize dependency in dask.utils. (#5978)

* Remove toolz dependency in dask.utils.

Use lru_cache to cache function outputs instead of toolz.memoize.",Ryan Grout,groutr@users.noreply.github.com,2020-03-06 06:11:37-07:00,GitHub,noreply@github.com,2020-03-06 07:11:37-06:00
81da6db765ff9e0e89ba62a895829ebb3ef81896,"Optimize make_blockwise_graph (#5940)

* Optimize make_blockwise_graph

Precompute a number of lookup tables for the mapping between input and
output indices, so that the inner loop has less work to do, and avoids
any pure-Python function calls in the non-reduction case.

This reduces construction time by about 3x in this example, and the
gains increase as the number of dimensions goes up.",Bruce Merry,bmerry@ska.ac.za,2020-03-06 15:59:51+02:00,GitHub,noreply@github.com,2020-03-06 07:59:51-06:00
1190067cd5d6375a6ac2fd5af66512c227f8b670,"Make map_blocks with block_info produce a Blockwise (#5896)

* Make map_blocks with block_info produce a Blockwise

Previously, using map_blocks with block_info or block_id would denature
a Blockwise and do a substitution on every instantiation of the subgraph
callable to inject the block info.

Instead, create a dask array whose elements are the block infos, and
pass this as an extra parameter into `dask.array.blockwise`. This makes
the layer a Blockwise, and hence a candidate for `rewrite_blockwise`.",Bruce Merry,bmerry@ska.ac.za,2020-03-06 16:14:03+02:00,GitHub,noreply@github.com,2020-03-06 08:14:03-06:00
10db6ba124acb24424d98766e936230e72cecce5,"Improve reuse of temporaries with numpy (#5933)

numpy has an optimisation that allows operations to be done in-place if
an operand is a temporary (has no more references) e.g. in the
expression `a + b + c`, `c` will be added in-place to the result of `a +
b`.

Tweak the signle-threaded scheduler to avoid creating unnecessary
references. To make this effective, also modify Blockwise to run
`fuse` on the subgraph before creating SubgraphCallable.",Bruce Merry,bmerry@ska.ac.za,2020-03-06 16:18:58+02:00,GitHub,noreply@github.com,2020-03-06 08:18:58-06:00
bf0407f9cfc80c2c7f4b628ec414c4c898ab3262,bump version to 2.12.0,James Bourbeau,jrbourbeau@gmail.com,2020-03-06 13:59:33-06:00,James Bourbeau,jrbourbeau@gmail.com,2020-03-06 13:59:33-06:00
da4f60d96c86c246d419e924d456477b62cf290e,"Optionally get rid of intermediary boxes in visualize, and add more labels (#5976)

* Add collapse kwarg to get rid of empty boxes in visualize

* If collapse, only show connected nodes. If verbose, label all nodes

* Tests and don't include value in label

* Change collapse to collapse_outputs

Co-authored-by: Tom Augspurger <tom.w.augspurger@gmail.com>",Julia Signell,jsignell@gmail.com,2020-03-06 15:23:03-05:00,GitHub,noreply@github.com,2020-03-06 14:23:03-06:00
fb3203a403ad4706ada753fb471237a49fc27e58,"Added shuffle to DataFrame.random_split (#5980)

* Added capability to shuffle when splitting a dataframe.",petiop,56834885+petiop@users.noreply.github.com,2020-03-06 15:52:10-05:00,GitHub,noreply@github.com,2020-03-06 14:52:10-06:00
2071309dc8e70968aa542f84efbad1fa5d0975c3,Move Windows CI builds to GitHub Actions (#5862),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-03-09 23:10:39-05:00,GitHub,noreply@github.com,2020-03-09 23:10:39-05:00
9eddc924704a41100174e395a30014bd7fbeee08,"Update task graphs in optimize docs (#5928)

* Update task graphs in optimize docs

* Recreate task graphs using collapse_outputs=True and verbose=True

* Rename out to format

* Change scaling of images",Julia Signell,jsignell@gmail.com,2020-03-10 12:09:43-04:00,GitHub,noreply@github.com,2020-03-10 11:09:43-05:00
73a8a6a77f0eafbb7e29a7d8a48fbb8a3e1b1806,"Set `rename_fused_keys` to `None` by default in bag.optimize (#6000)

Co-authored-by: Lucas Rademaker <lr4d@users.noreply.github.com>",Lucas Rademaker,44430780+lr4d@users.noreply.github.com,2020-03-10 19:22:37+01:00,GitHub,noreply@github.com,2020-03-10 13:22:37-05:00
38b9734876d2c18120ca4d0846214cc9b33e1414,Update toolz to 0.8.2 and use tlz (#5997),Ryan Grout,groutr@users.noreply.github.com,2020-03-10 17:34:16-06:00,GitHub,noreply@github.com,2020-03-10 18:34:16-05:00
810dd574d0e4bc3ca27ae60c39f2570612737ac3,"force self.name to str in dask.array (#6002)

Co-authored-by: Chuanzhu Xu <chuanzhu.xu@bossanova.com>",Chuanzhu Xu,chuanzhu.xu@gmail.com,2020-03-12 22:06:36-04:00,GitHub,noreply@github.com,2020-03-12 21:06:36-05:00
278ad0a46a414c1309d0b4a882fe9eb3fd20e41d,Fix CI failures (#6013),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-03-13 13:53:53-05:00,GitHub,noreply@github.com,2020-03-13 13:53:53-05:00
64556a9b69bba3c136b717e08646ab08903280ba,Stricter pandas xfail (#6024),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-18 14:24:18-05:00,GitHub,noreply@github.com,2020-03-18 14:24:18-05:00
3bc0fe4caee1f8205b635c92d59e9012f1420934,"[REVIEW] Register support for cupy sparse hstack/vstack (#5735)

* Register support for cupy sparse hstack/vstack

* Adding test

* Fixing style

* Reformatting cupy array tests to fix linting issue

* Testing multiple partitions

* Update dask/array/tests/test_cupy.py

Co-Authored-By: jakirkham <jakirkham@gmail.com>

* Removing unused line in tests

* Raising exception when vstack and hstack cannot be imported from cupy.sparse

* Re-throw ImportError with more meaningful message

* Better exception message

* Run `black` on `dask/array/backends.py`

* Merge strings on same line

Co-authored-by: jakirkham <jakirkham@gmail.com>",Corey J. Nolet,cjnolet@users.noreply.github.com,2020-03-20 01:11:30-04:00,GitHub,noreply@github.com,2020-03-19 22:11:30-07:00
765cf1cff32af17886e9e2c66592d311a2fdf4cb,"Copy dict in to_graphviz to prevent overwriting (#5996)

* Copy dict in to_graphviz to prevent overwriting",JulianWgs,31596773+JulianWgs@users.noreply.github.com,2020-03-20 14:44:06+01:00,GitHub,noreply@github.com,2020-03-20 08:44:06-05:00
8a618da7a1f246903129245bdfdae67d9f279930,"Support dtype and other keyword arguments in da.random (#6030)

Fixes #6029",Matthew Rocklin,mrocklin@gmail.com,2020-03-20 17:17:55-07:00,GitHub,noreply@github.com,2020-03-20 17:17:55-07:00
d25ab4aa5c47204b6319ef1afc1acfd46c8e017a,"Fix indentation in scheduler-overview docs (#6022)

Fixes #6021",Matthew Rocklin,mrocklin@gmail.com,2020-03-21 09:00:20-07:00,GitHub,noreply@github.com,2020-03-21 11:00:20-05:00
2693dcea1f72b7cf0d39219ed60fe7447ba0e093,Remove unused npartitions variable in dd.from_pandas (#6019),Daniel Saxton,2658661+dsaxton@users.noreply.github.com,2020-03-22 14:05:33-05:00,GitHub,noreply@github.com,2020-03-22 12:05:33-07:00
0f55ebdb6fcd929d768aa8f91050cd095116c4b8,Handle cudf's leftsemi and leftanti joins (#6025),Richard (Rick) Zamora,rzamora217@gmail.com,2020-03-22 14:06:36-05:00,GitHub,noreply@github.com,2020-03-22 12:06:36-07:00
b1b711a4a436caf42129ddf67589fca172fa1db9,Fix dtype handling in dd.concat (see #5968) (#6006),mlondschien,61679398+mlondschien@users.noreply.github.com,2020-03-23 19:12:14+01:00,GitHub,noreply@github.com,2020-03-23 13:12:14-05:00
2fae9e75a8ac03ea0c689d5d11755d98a370906e,Improve path-related exceptions in read_hdf (#6032),psimaj,35408671+psimaj@users.noreply.github.com,2020-03-23 21:47:24+01:00,GitHub,noreply@github.com,2020-03-23 13:47:24-07:00
c743feab0a92d20e248d32e97dcfbe567f4dfbd0,bump version to 2.13.0,James Bourbeau,jrbourbeau@gmail.com,2020-03-25 14:22:36-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-03-25 14:22:36-05:00
db16fd7f3d2f780cd7d33593186834a76e1616ac,"DOC: Add name caveats (#6040)

* DOC: Add name caveats

Closes https://github.com/dask/dask/issues/6036

* skip",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-27 09:54:30-05:00,GitHub,noreply@github.com,2020-03-27 10:54:30-04:00
241027d1e270c2793244d9f16e53903c5ea5bd20,"Fix bugs in _metadata creation and filtering in parquet ArrowEngine (#6023)

* correct _metadata creation bug for partitioned datasets

* fix filter bug for reading partitioned dataset with pyarrow

* custom partitioned writing to set/use file-paths from _metadata

* fix XPASS tests

* typo

* remove _mkdir_if_not_exists

* mkdirs vs mkdir

* avoid recreating df

* move preserve_index logic

* modify warnings and errors

* deleted comment line

* roll back _write_partitioned change to avoid recreating df. Seems the table-df round trip may be necessary

* try to avoid df re-creation again

* allowing filtering on entire files

* code-review suggestions

* add note about ARROW-8244",Richard (Rick) Zamora,rzamora217@gmail.com,2020-03-27 12:41:29-05:00,GitHub,noreply@github.com,2020-03-27 13:41:29-04:00
fa63ce13ee1773d2042654a26a479bce932f292e,Added np.iscomplexobj implementation (#6045),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-30 15:11:27-05:00,GitHub,noreply@github.com,2020-03-30 16:11:27-04:00
3c14766aaad822dcb6c01af03fe9b5627405d092,"Fixed flaky test-rearrange (#5977)

* Fixed flaky test-rearrange

Puts file cleanup in the task graph, rather than relying on Partd.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-03-31 14:34:27-05:00,GitHub,noreply@github.com,2020-03-31 14:34:27-05:00
5d5b43b4373677ff5fb7cf25eb4bdfb514cf3e76,Update test_rearrange_disk_cleanup_with_exception to pass without cloudpickle installed (#6052),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-03-31 19:57:49-05:00,GitHub,noreply@github.com,2020-03-31 19:57:49-05:00
66104f3aac2cb389b0bf8e3df0001e350c3e8857,"Use _meta_nonempty for dtype casting in stack_partitions (#6061)

* Use meta_nonempty.",mlondschien,61679398+mlondschien@users.noreply.github.com,2020-04-03 18:02:11+02:00,GitHub,noreply@github.com,2020-04-03 11:02:11-05:00
824a69cdc258d9cae1b33f5052e0bd78c203d2e1,bump version to 2.14.0,James Bourbeau,jrbourbeau@gmail.com,2020-04-03 15:38:20-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-04-03 15:38:20-05:00
0c485e40c24d286f967f42b4e69a4dfd7e46582a,Bump checkout action to v2 (#6065),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-04-03 16:38:12-05:00,GitHub,noreply@github.com,2020-04-03 16:38:12-05:00
aa84a9291400305dd9eb2267c80a47143edc83d7,"DOCS: Add section about Semaphore in distributed (#6053)

* docs: Add section about Semaphore in distributed

* Add minimal version for distributed in docs build

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Florian Jetter,fjetter@users.noreply.github.com,2020-04-04 05:11:56+02:00,GitHub,noreply@github.com,2020-04-03 22:11:56-05:00
ecff32f580bdaa7107242546e45c20c72ed1cdf7,"added mode (#5958)

* added mode",Adam Lewis,balast@users.noreply.github.com,2020-04-06 14:00:52-05:00,GitHub,noreply@github.com,2020-04-06 14:00:52-05:00
ceec30358545599a6b978224cecb4e01b14dd517,ArrowEngine bug fixes and test coverage (#6047),Richard (Rick) Zamora,rzamora217@gmail.com,2020-04-07 14:39:24-05:00,GitHub,noreply@github.com,2020-04-07 15:39:24-04:00
007a8d7e9bce1f0d5b3677a553caf03ecb64d091,"Add test against #6062 (#6072)

* Add test against #6062

* black again",Martin Durant,martindurant@users.noreply.github.com,2020-04-08 08:43:14-04:00,GitHub,noreply@github.com,2020-04-08 08:43:14-04:00
a7c7446bbfb2b344e07e1a8dbec6db33b69a39a9,"Fix first line of array.random.* docs (#6063)

Original docs erroniously include the signature in the docstring.
This creates an explicit exception for them.",Martin Durant,martindurant@users.noreply.github.com,2020-04-08 15:28:13-04:00,GitHub,noreply@github.com,2020-04-08 12:28:13-07:00
263187bbc263a395dc871e5874ee4fda21abb190,Add support for repeats=0 in da.repeat (#6080),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-04-09 14:38:03-05:00,GitHub,noreply@github.com,2020-04-09 14:38:03-05:00
296eeb280da18e6a9063a9ae89f884d52727dbfc,"set limit to maximum length of fused key (#6057)

Co-authored-by: lr4d <lr4d@users.noreply.github.com>",Lucas Rademaker,44430780+lr4d@users.noreply.github.com,2020-04-14 14:39:13+02:00,GitHub,noreply@github.com,2020-04-14 08:39:13-04:00
c3ae93edbde2dc6b7a3482cda72d4117304175ae,"fix typo: ""double"" should be times, not plus (#6091)",David Chudzicki,dchudz@gmail.com,2020-04-14 08:45:56-04:00,GitHub,noreply@github.com,2020-04-14 08:45:56-04:00
366c7998398bc778c4aa5f4b6bb22c25b584fbc1,Skip pyarrow on windows (#6094),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-04-15 09:00:27-05:00,GitHub,noreply@github.com,2020-04-15 09:00:27-05:00
8217ab08d258319b61fe0ef27f437a406fd13c3c,"Update DataFrame len to handle columns with the same name (#6111)

This PR update DataFrame.__len__ to use integer-location based indexing, rather than selecting by column name, to avoid raising a RecursionError for DataFrames which contain multiple columns with the same name.

Fixes #6110",James Bourbeau,jrbourbeau@users.noreply.github.com,2020-04-17 13:33:15-05:00,GitHub,noreply@github.com,2020-04-17 11:33:15-07:00
0de3c64272dbc2e4a7370797dc3bc63ee49eb01c,Un-numpy like behaviour in dask.array.pad (#6042),Mark Boer,m.h.boer.2@gmail.com,2020-04-17 22:39:47+02:00,GitHub,noreply@github.com,2020-04-17 15:39:47-05:00
de58186ec522aa9dea018b626bfc9f6eab0a1c62,Fixed Small Typo in DataFrame map_partitions() docstring (#6115),Eugene Huang,eugeneh101@users.noreply.github.com,2020-04-20 11:01:37-04:00,GitHub,noreply@github.com,2020-04-20 10:01:37-05:00
03e9bc9993d801f05277b7cf399b06e75a433165,Skip test_partition_on_cats_pyarrow if pyarrow is not installed (#6112),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-04-20 10:19:39-05:00,GitHub,noreply@github.com,2020-04-20 10:19:39-05:00
c38c360dd51fc01d6d15bd2636adf906622e44c0,"Add configuration option to turn off task fusion (#6087)

Also adds infrastructure to deprecate configuration values",Matthew Rocklin,mrocklin@gmail.com,2020-04-20 12:04:11-07:00,GitHub,noreply@github.com,2020-04-20 14:04:11-05:00
71113eacbf83437f59984d053c10e52f6ce97f70,"Extend preload documentation [skip ci] (#6077)

Include notes on configuration, types of inputs, and nannies

Accompanies https://github.com/dask/distributed/pull/3678",Matthew Rocklin,mrocklin@gmail.com,2020-04-20 12:05:25-07:00,GitHub,noreply@github.com,2020-04-20 14:05:25-05:00
98271a52e1c2fd39a857504e8eebdd5c63850db3,"Handle new (dtype) pandas metadata with pyarrow (#6090)

* address 6085",Richard (Rick) Zamora,rzamora217@gmail.com,2020-04-21 13:47:34-05:00,GitHub,noreply@github.com,2020-04-21 13:47:34-05:00
c7a17506cd0c40b758a8910fc7685b9b5e736e6b,"Use group_split_dispatch and ignore_index in apply_concat_apply (#6119)

* modify aca to use group_split_dispatch and ignore_index",Richard (Rick) Zamora,rzamora217@gmail.com,2020-04-22 09:05:07-05:00,GitHub,noreply@github.com,2020-04-22 09:05:07-05:00
633de3f476cf3fd512211ea583604750f43d662b,"Avoid reading _metadata on every worker (#6017)

* avoid reading _metadata every time (unless working with paritioned dataset)

* adding some comments

* avoid calls to _analyze_paths and _determine_pf_parts when specific file path is known

* cleanup some if logic

* minor style change

* start addressing code review -- more to do

* name cleanup",Richard (Rick) Zamora,rzamora217@gmail.com,2020-04-22 09:19:51-05:00,GitHub,noreply@github.com,2020-04-22 10:19:51-04:00
f58b95584dbdd19aad5c409892196f1e29a84534,Generalize categorical calls to support cudf Categorical (#6113),GALI PREM SAGAR,sagarprem75@gmail.com,2020-04-22 14:24:28-05:00,GitHub,noreply@github.com,2020-04-22 14:24:28-05:00
312e586b28dcdebd594771b5ae6f0a79a2edcf2f,Update dask.array.from_array to warn when passed a Dask collection (#6122),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-04-23 12:31:47-05:00,GitHub,noreply@github.com,2020-04-23 12:31:47-05:00
d087b10e2f4bd4db549cd918d5fd70e3849ae536,"Update ""helm install"" for helm 3 usage (#6130)

Helm 3 now requires to set a name or use a flag to automatically create a name",JulianWgs,31596773+JulianWgs@users.noreply.github.com,2020-04-24 13:42:18+02:00,GitHub,noreply@github.com,2020-04-24 06:42:18-05:00
4c7b17040d749fa09da932eba815866ddf725ce7,"Configuration Reference (#6069)

* initial setup of configuration reference

* add missing file

* add automation plugin

* render with jsonschema

* add raw html output directive with custom HTML styling

* add additional keys

* add autodoc work

* add dask schema, test, and update requirements

* fix schema

* clean up/lint extension

* Fixups

- Register the extension module appropriately.
- Lint conf.py and yamltohtml.py

* update config directive

* change default value in docstring for ave_width

* make schema official and switch to master and fix test

* remove trailing comma and rename extension file

* Update dask/dask-schema.yaml

Co-Authored-By: Matthew Rocklin <mrocklin@gmail.com>

* Update dask/dask-schema.yaml

Co-Authored-By: Matthew Rocklin <mrocklin@gmail.com>

* add local TOC

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>
Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>",Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-04-24 09:14:45-04:00,GitHub,noreply@github.com,2020-04-24 09:14:45-04:00
797b0cd530558f5eb7ec26e392a4dca9a3f8f4bd,fix yaml layout for schema (#6132),Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-04-24 09:39:30-04:00,GitHub,noreply@github.com,2020-04-24 09:39:30-04:00
61eadd440736a5c46a0197450a5072646af916a2,bump version to 2.15.0,James Bourbeau,jrbourbeau@gmail.com,2020-04-24 22:58:37-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-04-24 22:58:37-05:00
340103bb56e4979bd42ff669835b3476594d93bb,Update manifest to include dask-schema (#6140),Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-04-27 09:30:28-04:00,GitHub,noreply@github.com,2020-04-27 08:30:28-05:00
ae42c727f1fe75be7a7386f5014e48c4d5734004,"Switch default multiprocessing context to ""spawn"" (#4003)

* Switch default context to ""spawn"".",Itamar Turner-Trauring,itamar@itamarst.org,2020-04-27 11:12:25-05:00,GitHub,noreply@github.com,2020-04-27 11:12:25-05:00
984bb146c7ff59a512cad336c306079840dca0cd,"Add Tom's log config example (#6143)

* Add Tom's log config example

* Make into yaml

* Do suggestions",Martin Durant,martindurant@users.noreply.github.com,2020-04-28 09:54:29-04:00,GitHub,noreply@github.com,2020-04-28 09:54:29-04:00
cfaf60628a274da843c9c9ffe64ee7ff091a1d63,"CI: Skip test for mindeps build (#6144)

* CI: Skip test for mindeps build

https://travis-ci.org/github/dask/dask/jobs/680179867

* test-mindeps",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-04-28 09:22:38-05:00,GitHub,noreply@github.com,2020-04-28 09:22:38-05:00
a8c258264cc276b8072f9a6ff18af80d14477053,"Update test upstream (#6146)

Update nightly wheels URL",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-04-28 09:56:06-05:00,GitHub,noreply@github.com,2020-04-28 09:56:06-05:00
c5ef797065cd0a5c5d555f575767a19c4627dbdc,fix indent (#6147),Martin Durant,martindurant@users.noreply.github.com,2020-04-28 11:01:31-04:00,GitHub,noreply@github.com,2020-04-28 10:01:31-05:00
78cfd7d776bbe4e6aed4c4af466679e74b0b8b0e,Fix internal error in map_partitions with collections (#6103),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-04-28 11:01:16-05:00,GitHub,noreply@github.com,2020-04-28 11:01:16-05:00
84a0bd67e282d15b6ba693f5e1e7e71fee663814,Remove unused imports in scheduling script (#6138),James Lamb,jaylamb20@gmail.com,2020-04-29 15:49:41+01:00,GitHub,noreply@github.com,2020-04-29 09:49:41-05:00
1bdb75e83d02a61b90fd8d160a14c4f3d4bb9d41,Fix issue where `unique` returns an index like result from backends (#6153),GALI PREM SAGAR,sagarprem75@gmail.com,2020-04-29 20:29:05-05:00,GitHub,noreply@github.com,2020-04-29 20:29:05-05:00
8e54df212caae8ff1bbd347b88133046c14fbd2a,Moment: handle all elements being masked (#5339),Gabe Joseph,gabe@descarteslabs.com,2020-04-29 19:52:25-06:00,GitHub,noreply@github.com,2020-04-29 20:52:25-05:00
25005e19cc30e8b2877d4dadbaef378ee912bdc0,Replace dim with shape in unravel_index (#6155),Julia Signell,jsignell@gmail.com,2020-04-30 13:08:14-04:00,GitHub,noreply@github.com,2020-04-30 12:08:14-05:00
666b53affac3ba475bd94c7ff4d29752bfa133de,Add phase of computation to index TOC (#6157),Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-05-01 11:17:13-04:00,GitHub,noreply@github.com,2020-05-01 10:17:13-05:00
2d14075004fbca3ad7e5907f5f58ab8b05cdbdc2,Estimate python collection sizes with random sampling (#6154),Florian Jetter,fjetter@users.noreply.github.com,2020-05-04 19:26:06+02:00,GitHub,noreply@github.com,2020-05-04 10:26:06-07:00
96d0853e50abee8e2002445b525c473d97eb83c7,Add compute kwargs to methods that write data to disk (#6056),Krishan Bhasin,KrishanBhasin@users.noreply.github.com,2020-05-05 00:08:07+01:00,GitHub,noreply@github.com,2020-05-04 18:08:07-05:00
d1c033dab12b40088895c92ea06f2c1175cb6150,Ensure sizeof returns dict and sequences returns an integer (#6179),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-05-04 19:03:40-05:00,GitHub,noreply@github.com,2020-05-04 19:03:40-05:00
edd92d58ac959feffb88304676cdfdf53e85d2fb,"Upstream compat (#6159)

* CI: Bump numba version in upstream dev

sparse master requires numba>=0.49

test-upstream",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-05-05 14:49:03-05:00,GitHub,noreply@github.com,2020-05-05 14:49:03-05:00
6d7ae70e2fc19cfe383da53dce6cab012b8ef499,"[REVIEW] Harden inconsistent-schema handling in pyarrow-based read_parquet (#6160)

* handle inconsistent schemas in read_parquet

* small comment tweak

* use ParquetDataset

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2020-05-06 08:09:02-05:00,GitHub,noreply@github.com,2020-05-06 09:09:02-04:00
9968a49bb4e9ae03d29110bbc5a41a4179636ab8,Fix array general-reduction name (#6176),Nick Evans,nick.evans3976@gmail.com,2020-05-06 18:41:03+01:00,GitHub,noreply@github.com,2020-05-06 13:41:03-04:00
bdb7e906051b686207d8e1005f13962593be9797,"[REVIEW][Perf] Remove Redundant string concatenations in dask code-base (#6137)

* remove redundant string concatenations inside for loops

* rename to _name instead of _token

* fuse for loops in rearrange_by_column_tasks

* fuse for loops

* change call to new_dd_object

* empty commit

* fix dict initializing

* add minor change to avoid tuple duplication

* fuse loops

* fuse loops and remove computations that are not being used

* fuse loops in blockwise.py

* fuse loops in cull

* remove list concatenation and replace with extend

* remove redundancies in loops and perform .extend for list concatenations

* black

* fuse loops and use extend in blockwise

* remove unnecessary list materializations and merge looping logics

* replace dict.update calls with assigning value directly into dict where necessary

* move attr check in non None block

* Update dask/array/core.py

Co-authored-by: Keith Kraus <keith.j.kraus@gmail.com>

* Update dask/array/core.py

Co-authored-by: Keith Kraus <keith.j.kraus@gmail.com>

* Update dask/array/creation.py

Co-authored-by: Keith Kraus <keith.j.kraus@gmail.com>

* add generator for aggdims

* Trigger CI

* trigger ci

Co-authored-by: root <root@dt07.aselab.nvidia.com>
Co-authored-by: Keith Kraus <keith.j.kraus@gmail.com>",GALI PREM SAGAR,sagarprem75@gmail.com,2020-05-08 12:52:28-05:00,GitHub,noreply@github.com,2020-05-08 13:52:28-04:00
d65c44f721013d915c8bff0424775dc47345ec03,bump version to 2.16.0,James Bourbeau,jrbourbeau@gmail.com,2020-05-08 15:51:13-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-05-08 15:51:13-05:00
4aef310e810cf1d748bc1e612f356c654b64b54e,"TEST: Skip test_to_parquet_with_get if no parquet libs available (#6188)

Co-authored-by: Scott Sanderson <ssanderson@quantopian.com>",Scott Sanderson,scoutoss@gmail.com,2020-05-09 12:20:39-04:00,GitHub,noreply@github.com,2020-05-09 11:20:39-05:00
8658b9767e5db062059b15d70fecde7aaf3bad3f,adhering to the passed pat for delimeter join and fix error message (#6194),GALI PREM SAGAR,sagarprem75@gmail.com,2020-05-11 08:06:00-05:00,GitHub,noreply@github.com,2020-05-11 08:06:00-05:00
1f893977abf72432538f70ba12fc52037574931c,"Minor correction to test_parquet (#6190)

Tests pass cleanly on windows without pyarrow installed.",Brian Larsen,B_R_L@hotmail.com,2020-05-11 08:38:06-05:00,GitHub,noreply@github.com,2020-05-11 08:38:06-05:00
b0adaa3d877f069a7c1faa1adeb95e2e966f9b00,"Avoid apply in _compute_sum_of_squares for groupby std agg (#6186)

Improves performance, and compatibility with cudf.",Richard (Rick) Zamora,rzamora217@gmail.com,2020-05-11 08:57:22-05:00,GitHub,noreply@github.com,2020-05-11 08:57:22-05:00
816cfa757e5239c7284040c8f1f9ae7f8a6b38cf,"Update `dask.order.order` to consider ""next"" nodes using both FIFO and LIFO (#5872)

* Update `dask.order.order` to consider ""next"" nodes using both FIFO and LIFO.

Closes #5859.  @JSKenyon

How do we choose the next node in `order` after a node with no dependents?
The answer is from one of dependents of an already completed node.
However, this is difficult to do well while also keeping things fast.
Previously, we chose dependents by considering completed nodes in a FIFO manner.
Now, we consider both LIFO and FIFO and choose the best ones.
This seems to do reasonably well and is fast enough.

* Hmm, let's try something else.  Need to update comments.

When repopulating `outer_stack`, consider and use all dependents of all completed tasks.
Partition them based on a simple metric, then trust FIFO ordering, so no need to sort.
This remains fast.  Fingers crossed!

* Go big!  Make `order` smarter about when it chooses (or changes!) tactical goals.

The old old method used to switch tactical goals frequently.  Current master
does not switch tactical goals at all.  This commit compromises and switches
tactical goals when it is obviously better.

Also, instead of trying to do a LIFO or FIFO or LIFO/FIFO policy for choosing
what to compute after a tactical goal is reached, we now have a policy that
allows continuing from any node (not just the last or first).  In order for
this to behave well for a variety of use cases, we needed to introduce the
concept of ""epochs"" and ""eras"", which define what can be computed later.

Performance-wise, this remains pretty good.  It is often a little slower, but
not significantly so.  We avoided pathological scaling behaviors.

* Oops.  Fix failing test.

* This tiny change makes `order` behave very similarly to the old `order`.

Similar to the old one, this occasionally has some quirks.
I'm hopeful that with a little more tinkering, we may find a ""middle way"" that
combines the best of the old way and the current way (on master and this branch).

* Yet another revision to `order`.

This applies a few of the lessons we have learned recently:
  1. there needs to be a way to change path along dependents if a better path is found.
  2. there needs to be a robust way to decide what to do next after a tactical goal
     (node with no dependents) is reached.
  3. when deciding what to do next, we should ideally take into account how close
     a node is to being completed (i.e., not just consider the final goal).

To do all these, we partition dependents of a node based on a score that indicates how
much future work is associated with the node.  We use this score to determine whether
tactical goals should change.  When all tactical goals are reached (so `inner_stack`
and `inner_stacks` are empty), we continue with the dependents of completed nodes that
had the lowest partition score.  We keep performance respectable by (hopefully)
partitioning nodes into many small groups (recall that it's much better to sort many
small groups than one large group).

* Fix docstring and doctest of `graph_metrics`

* Oups!  Fix off by one mistake.

* Use `defaultdict(list)` for readability (and maybe performance)

A couple benchmarks run faster for me, but most are about the same.
Still, I think using `defaultdict` is more readable here.  Thanks @TomAugspurger!

* Add test for `order` switching to a better dependent.

This increases coverage.

* Keep track of nodes that are in an `inner_stack`.

This fixes the performance regression `order.OrderLinearFull.time_order_linear_full`.
Most other benchmark change less than 3% (some faster, some slower),
but a couple artificial ones are 7%-10% slower.
This is unsurprising, since we do a little bit more work per edge,
which allows us to sometimes do a little less work per edge
(and, as the regressed benchmark shows, sometimes do a lot less work overall!).

No noticeable difference in behavior in graphs I've looked at.

* Add comments.

* Improve `order` by putting more dependents on inner_stacks when it's safe too.

Previously, `order` only added one dependent to `inner_stack` when `inner_stack` is empty.
Now, it adds all the other dependents with the minimum partition key to `inner_stacks`.
Prior to this commit, the new changes did a lot better with this example

https://github.com/dask/dask/issues/5859#issuecomment-608422198

but it didn't quite pass the new test.  In general, this means that non-optimal behavior
can happen when `inner_stacks` gets processed while there are better options available
in `next_nodes`.  Typically, this should only result in a modest delay.  We could do
better if we pushed dependents into, say, a sorted heapq, but this would kill performance.

* Conditionally add many dependents to inner_stacks.

Adding some dependents some of the time to inner_stacks can be beneficial,
but can be deterimental at other times.  Add a heuristic to try to decide.
Added tests that exemplify this.

* oops.  forgot to include the tests

* Don't condense `next_nodes` if it is large.  This isn't a performance bottleneck.

Co-authored-by: Tom Augspurger <tom.w.augspurger@gmail.com>",Erik Welch,erik.n.welch@gmail.com,2020-05-11 09:12:07-05:00,GitHub,noreply@github.com,2020-05-11 09:12:07-05:00
c6d7a595d61dc19ab9289350bbab004750bfa72b,".loc indexing with callable (#6185)

Support passing a callable to `df.loc` indexing.

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Endre Mark Borza,endremborza@gmail.com,2020-05-11 16:25:56+02:00,GitHub,noreply@github.com,2020-05-11 09:25:56-05:00
02bd46cf15461b3a64959c59fed63f0c4b669719,"Support stack with unknown chunksizes (#6195)

Adds `allow_unknown_chunksizes` kwarg to `da.stack`, mirroring the same parameter
in `da.vstack`, `da.concatenate`, etc...",swapna,37897904+swapna-pg@users.noreply.github.com,2020-05-11 21:32:42+05:18,GitHub,noreply@github.com,2020-05-11 11:14:42-05:00
3573b2ddca81aeb41a7def6dd4194020f853ab18,"Doc write to remote (#6124)

* DOC: add write to remote section

* make one line

* move read before write

* reorder

* Fix docs formatting [ci skip]

Co-authored-by: Ray Bell <rayjognbell0@gmail.com>
Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Ray Bell,rayjohnbell0@gmail.com,2020-05-12 13:02:10-04:00,GitHub,noreply@github.com,2020-05-12 12:02:10-05:00
8c566076e570740932819cc2b5cb9dcc40007f52,"FIX: return `tuple` if multiple outputs in `dask.array.apply_gufunc`, add test to check for tuple (#6207)",Kai Mhlbauer,kmuehlbauer@users.noreply.github.com,2020-05-15 16:13:27+02:00,GitHub,noreply@github.com,2020-05-15 09:13:27-05:00
a52e89fc5d3bb9303a0fa914de974bde937dea06,"Move AUTO_BLOCKSIZE out of read_csv signature (#6214)

This was confusing for users, since our docs would render an integer
(computed on the box the docs were built on) that would differ from
their system. We now use the string `""default""` to indicate the default
blocksize.",Jim Crist-Harif,jcrist@users.noreply.github.com,2020-05-15 11:44:19-05:00,GitHub,noreply@github.com,2020-05-15 11:44:19-05:00
8efdf989cf44a03ac265ffde4342ec2348937902,"Disable warning for concat. This fixes #6715 (#6210)

* add parameter for disabling warning when concatenating series/dataframes with unknown divisions & test

* reformat with black

* integrate reviews: change params description, doctests & test module",Tung Dang,thanhtung.nov@gmail.com,2020-05-15 21:05:20+02:00,GitHub,noreply@github.com,2020-05-15 14:05:20-05:00
dff82970dbce9173b4b3cd06ab36a0ec93985c24,"Fix dd.merge_asof with `left_on='col'` & `right_index=True` (#6192)

Fix `dd.merge_asof` with `left_on=""col"", right_index=True`.

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",noreentry,noreentry1@gmail.com,2020-05-15 23:45:44+03:00,GitHub,noreply@github.com,2020-05-15 15:45:44-05:00
b6e79b458ceaeedf9f71b535dae851a51954a54d,"Small improvements to `da.pad` (#6213)

* fix pad bug for mode='mean' and integer inputs

* also fix pad mode='mean' for boolean

* change _round_if_needed

* add default value for mode in da.pad

* improve error message if wrong keyword argument is passed to da.pad. Based on the implementation of numpy. Also change signature of pad helper functions slightly. Also add additional check to udf_pad_test.

* inline _round_if_needed function as proposed by jcrist",Mark Boer,m.h.boer.2@gmail.com,2020-05-16 00:31:55+02:00,GitHub,noreply@github.com,2020-05-15 17:31:55-05:00
1a75a442c67aa3ecf371986f859029abf728c623,"Overhaul fuse() config (#6198)

Move fuse defaults from the code to the config file, general cleanups.",crusaderky,crusaderky@gmail.com,2020-05-16 17:46:19+01:00,GitHub,noreply@github.com,2020-05-16 11:46:19-05:00
3b92efff2e779f59e95e05af9b8f371d56227d02,"Adjust the Parquet engine classes to allow more easily subclassing (#6211)

* Adjust the Parquet engine classes to allow more easily subclassing them
without code duplication.

Add passthough for arrow_to_pandas options.

* Add test to show how the subclassing could be used

* Add constraint for pyarrow version in test

* black",Marius van Niekerk,marius.v.niekerk@gmail.com,2020-05-19 11:48:48-04:00,GitHub,noreply@github.com,2020-05-19 11:48:48-04:00
bd19848bea6de2d65d92e02ca2a47dd124ed5a4a,"Random Choice on Bags (#4799) (#6208)

* Choice method on Bags implemented (#4799)

* fixed doctest

* fixing CI testing dependencies

* fixed bug with numpy on python3.6

* fixing black

* removing numpy from bags, separating bag sampling in bag.random module, added tests

* Update dask/bag/random.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

* fixes after code review, deleted sample function

* fixing comma

* improving tests, fixing replace parameter docstring

Co-authored-by: Julia Signell <jsignell@gmail.com>",Antonio Ercole De Luca,eracle@posteo.eu,2020-05-21 20:40:34+02:00,GitHub,noreply@github.com,2020-05-21 14:40:34-04:00
6c18eae65852df3e768e3e766f29f756fcb003ed,"Ensure other pickle arguments work (#6229)

* Accept other `**kwargs` to `_dumps`

* Test out-of-band pickling works

* Test passing keywords arguments to dumps/loads",jakirkham,jakirkham@gmail.com,2020-05-22 07:34:45-07:00,GitHub,noreply@github.com,2020-05-22 09:34:45-05:00
1d853221d5230d194c672fd0aa7e2b3609c9b157,"Issue # 5721 : Raise warning delayed.visualise() (#6216)

* Added visualise() method to warn users about spelling error

* Update dask/delayed.py

* Changed test case for visualise() in dask.delayed to warn instead of raising error

* fixed formatting issue with black

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Amol Umbarkar,amolumbarkar@gmail.com,2020-05-22 20:00:22+05:18,GitHub,noreply@github.com,2020-05-22 09:42:22-05:00
37591327aa23025d5b01249f9f448e36acb43aa2,"Avoid shuffle when setting a presorted index with overlapping divisions (#6226)

* removed checks used for debugging

* fixed overlap issue with set_index(..., sorted=True)

* debugged issue

* use python in instead of 'contains'

* return divisions not whole dataframe

* fix return type of df not tuple

* flake8

* try vscode's method refactor tool

* missed uses

Co-authored-by: Cody Johnson <ctj@math.cmu.edu>
Co-authored-by: Cody Johnson <ctj@andrew.cmu.edu>
Co-authored-by: KrishanBhasin <KrishanBhasin@users.noreply.github.com>",Krishan Bhasin,8904718+KrishanBhasin@users.noreply.github.com,2020-05-22 21:53:22+01:00,GitHub,noreply@github.com,2020-05-22 15:53:22-05:00
8dc4c1a7967bc7bad96c6c282054d53b829a40ea,Added documentation for distributed.Event class (#6231),Nils Braun,nils-braun@users.noreply.github.com,2020-05-26 16:28:43+02:00,GitHub,noreply@github.com,2020-05-26 10:28:43-04:00
d93bcbfb00157c2708cb6a93df5e3d800dea818c,Fix DataFrame.shape with no columns (#6237),noreentry,noreentry1@gmail.com,2020-05-26 19:51:46+03:00,GitHub,noreply@github.com,2020-05-26 11:51:46-05:00
76040d8108e6b725540136e21e401bbe3fd9bb7f,generalize fix_overlap (#6240),GALI PREM SAGAR,sagarprem75@gmail.com,2020-05-26 12:44:50-05:00,GitHub,noreply@github.com,2020-05-26 13:44:50-04:00
55530921985612342051385cc7329b1013a1218b,"Xfail test_rolling_numba_engine for newer numba and older pandas (#6236)

* Xfail test_rolling_numba_engine for newer numba and older pandas

* Use compat version condition",James Bourbeau,jrbourbeau@users.noreply.github.com,2020-05-26 15:34:40-05:00,GitHub,noreply@github.com,2020-05-26 15:34:40-05:00
7168524828cc6c21cdf41f17702f7b5aad658c90,"Generalize rearrange_by_column_tasks and add DataFrame.shuffle (#6066)

* generalize shuffle to avoid creating _partition column when possible

* full hash-based shuffle integration",Richard (Rick) Zamora,rzamora217@gmail.com,2020-05-26 15:41:00-05:00,GitHub,noreply@github.com,2020-05-26 15:41:00-05:00
5088f03bee83794ea26db5f5c38f800c3e7a7755,Use 0 as fill_value for more agg methods (#6245),Julia Signell,jsignell@gmail.com,2020-05-26 17:32:47-04:00,GitHub,noreply@github.com,2020-05-26 16:32:47-05:00
1ee16ca4d8b26e0a75b68a93ae7e7e10318b61fb,bump version to 2.17.0,James Bourbeau,jrbourbeau@gmail.com,2020-05-26 21:43:19-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-05-26 21:43:19-05:00
9ea3d5f3a76a4c77f2f836db6daa28183b08093c,Generalize `describe` & `quantile` apis (#5137),GALI PREM SAGAR,sagarprem75@gmail.com,2020-05-27 08:27:41-05:00,GitHub,noreply@github.com,2020-05-27 08:27:41-05:00
3996e914b7ef846273eda9ff4c2d4d850ae5018f,Remove issue template (#6249),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-05-27 14:40:54+01:00,GitHub,noreply@github.com,2020-05-27 08:40:54-05:00
77628f2d5248cc61cc366cac3e400b6df5c654c1,"Empty arr rechunk (#6233)

* fixes rechunk infinite loop

* fixes formatting

* removes debugging print statements

* changes to deal with multidimensional empty arrays",Andrew Fulton,andrewfulton9@gmail.com,2020-05-27 09:29:23-06:00,GitHub,noreply@github.com,2020-05-27 10:29:23-05:00
470dc039d69c65c9666e1f375b0f65e1efcdc786,"Fix install commands from ImportError (#6238)

Quotes are required around e.g. `pip install ""dask[array]""` when using
some shells (e.g. zsh). Update install instructions accordingly.",Gaurav Sheni,gvsheni@gmail.com,2020-05-27 13:01:01-04:00,GitHub,noreply@github.com,2020-05-27 12:01:01-05:00
ef1b5b7938d4709d294b4361ab895881d873b72f,"Cope with missing HDF keys (#6204)

* Cope with missing HDF keys

* Add test and note

* Simple get for one hdf key

* readd compat for old pandas (py36)

* black

* Add mixed test and skip old pandas

* lint",Martin Durant,martindurant@users.noreply.github.com,2020-05-27 15:24:47-04:00,GitHub,noreply@github.com,2020-05-27 15:24:47-04:00
27d52b02bdd4c8e933f98698291fed51cf8d8642,[Bug fix] Pass ignore_index to dd_shuffle from DataFrame.shuffle (#6247),Richard (Rick) Zamora,rzamora217@gmail.com,2020-05-27 15:26:35-05:00,GitHub,noreply@github.com,2020-05-27 15:26:35-05:00
ee8a2a2c45d8032a0dfff50ad42e045c1209c543,"Make pyyaml required (#6250)

* Make pyyaml a required dependency

Having two code paths - one that loaded from config, and one that loaded
from the code - made testing and QA trickier, for minor perceivable
benefit. We now standardize on loading from config in all cases, and
make `pyyaml` a required dependency.",Jim Crist-Harif,jcrist@users.noreply.github.com,2020-05-28 09:24:44-05:00,GitHub,noreply@github.com,2020-05-28 09:24:44-05:00
af6cc5f5a35f7147594b0bce3494a4d8b1ef0772,bump version to 2.17.1,James Bourbeau,jrbourbeau@gmail.com,2020-05-28 09:48:05-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-05-28 09:48:05-05:00
464ada87655c07461a70e3fdc1919bc83d7ed22f,"Raise error if resample isn't going to give right answer (#6244)

* Raise error if index isn't contained in new_index

* Add test",Julia Signell,jsignell@gmail.com,2020-05-28 10:51:46-04:00,GitHub,noreply@github.com,2020-05-28 09:51:46-05:00
79c525945e14f7044574fdee24988f0b95d671e1,"Re-add the `complete` extra (#6257)

Mistakenly removed when making pyyaml a required dependency.",Jim Crist-Harif,jcrist@users.noreply.github.com,2020-05-28 12:06:42-05:00,GitHub,noreply@github.com,2020-05-28 12:06:42-05:00
aa58183e46fef0c05efa62bff7ac22ae41fa46f6,bump version to 2.17.2,James Bourbeau,jrbourbeau@gmail.com,2020-05-28 12:14:25-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-05-28 12:14:25-05:00
662f3173e9ff86bbb84f8e575a07b75c71cdbb4e,"Pad resample divisions so that edges are counted (#6255)

* Pad resample divs so that edges are counted

* Add test for padding",Julia Signell,jsignell@gmail.com,2020-05-28 13:34:35-04:00,GitHub,noreply@github.com,2020-05-28 13:34:35-04:00
690f9ae32fa88edc25c4d6c9d172cbb9418c6245,Support for multiple arrays in map_overlap (#6165),Eric Czech,eric.allen.czech@gmail.com,2020-05-29 10:38:15-04:00,GitHub,noreply@github.com,2020-05-29 07:38:15-07:00
c05204a4e794cd72f18bed852f9cf98946c9980e,"DOC: update remote data section (#6258)

* update Azure section

* hyperlink fsspec

* remove whitespace

Co-authored-by: Ray Bell <rayjognbell0@gmail.com>",Ray Bell,rayjohnbell0@gmail.com,2020-05-29 11:07:58-04:00,GitHub,noreply@github.com,2020-05-29 11:07:58-04:00
79836fe4a52c9cf0e1eb32525792ad6bfed1c62b,"add dd.to_sql (#6038)

* add ddf.to_sql

* cr feedback

* add ""chained"" mode to DDF.to_sql (blocks inserted in sequence)

* test notebooks

* add DDF.to_sql to API docs

* black

* test fixups

* rm to_sql's ""method"" keyword, for compat w/ Pandas 0.23.x

* update dd.to_sql docstring/doctests

* clean up dd.to_sql worker_kwargs, uri str

* parameterize to_sql test, support ""method"" kwarg in pandas>=0.24.0

* more detailed expected Exceptions in to_sql test

* disable lint on long line

* fix pandas<0.24.0 ValueError msg

* to_sql test cleanup

* rm example notebooks

* cr feedback

* add to_sql(, parallel=True) tests

* rm print(), fix to_sql test expected Exception msg

* fix pandas<0.24.0 expected test error

* fix test error msg typo

* Simpler chain

* simplify

Co-authored-by: Martin Durant <martin.durant@utoronto.ca>",Ryan Williams,ryan.blake.williams@gmail.com,2020-05-29 14:05:52-04:00,GitHub,noreply@github.com,2020-05-29 14:05:52-04:00
9e994bad3be012c4ecb03678a88934c4e66cdebb,"Random sampling of k elements from a dask bag #4799 (#6239)

* Random sampling of k elements from a dask bag #4799

* Update dask/bag/tests/test_random.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

* renamed tests names, updated docstring index

* testing sphinx

* testing sphinx

* fixing doc building

* fixing again

* fixing docs

Co-authored-by: Julia Signell <jsignell@gmail.com>",Antonio Ercole De Luca,eracle@posteo.eu,2020-06-01 17:11:52+02:00,GitHub,noreply@github.com,2020-06-01 16:11:52+01:00
622c9b453c58d81516485336dbca7a5b3a619513,"Remove `NotImplementedError` in resample with rule  (#6274)

* Remove `NotImplementedError` for `resample` rule that does not evenly divide a day

* Reformatting

* Create index with gap for test

* Create series index with gap for test",Abdulelah Bin Mahfoodh,abduh.bm@gmail.com,2020-06-02 02:41:48+03:00,GitHub,noreply@github.com,2020-06-01 18:41:48-05:00
5100e8d3a2b06c75f2338ee62c3bb03702f12a8a,"full & full_like: error on non-scalar fill_value (#6129)

* * full & full_like: error on non-scalar fill_value

* added tests

* blacken

* fill_value error: print type instead

Co-Authored-By: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* Add name keyword to all wrapped numpy functions

* Print type __name__ instead of <class ... >

* Add order keyword to dask.array.*like functions

* Double backticks for readability in wrap docstring

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>",Huite,huitebootsma@gmail.com,2020-06-02 15:21:16+02:00,GitHub,noreply@github.com,2020-06-02 08:21:16-05:00
1d8e1e920b5139bd434749f5877266293f6432a2,"Array: Fix stack error message (#6268)

* fix da.stack error message

* use first in place of filter, test",Stephanie Gott,13060286+stephaniegott@users.noreply.github.com,2020-06-02 07:29:27-06:00,GitHub,noreply@github.com,2020-06-02 08:29:27-05:00
ab99d961b4e2bdc67d947400aa21be02314feeb6,"Cast slicing index to dask array if same shape as original (#6273)

* If index array is a numpy array of same shape as original, cast to dask array

* Only do this if the array is more than one-D

* Test that 3d array can be sliced with numpy array of bools

* Exclude empty idx tuples

* Add a comment",Julia Signell,jsignell@gmail.com,2020-06-02 11:59:14-04:00,GitHub,noreply@github.com,2020-06-02 10:59:14-05:00
78fed3e9ef71ee6241af89c26aa05600f1ecd9e8,Add derived docstring for SeriesGroupby.nunique (#6284),Julia Signell,jsignell@gmail.com,2020-06-03 11:34:23-04:00,GitHub,noreply@github.com,2020-06-03 11:34:23-04:00
6b28fb1165d0f310c086d8c8d3d668c483f4ae29,"Generalize `from_dask_array` (#6263)

* add support for a meta object to generalize from_dask_array",GALI PREM SAGAR,sagarprem75@gmail.com,2020-06-04 07:59:03-05:00,GitHub,noreply@github.com,2020-06-04 07:59:03-05:00
8eeb0e0194ef0561b4202f42de06c0b7fc0784b9,"Add dropna and sort, ascending to sort_values (#5880)

* Add dropna and sort, ascending as kwargs on sort_values",Julia Signell,jsignell@gmail.com,2020-06-04 09:46:50-04:00,GitHub,noreply@github.com,2020-06-04 08:46:50-05:00
59d81e5e788d6699c9dea5e50867999117bc81db,bump version to 2.18.0,James Bourbeau,jrbourbeau@gmail.com,2020-06-05 19:56:49-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-06-05 19:56:49-05:00
6f5b6ebfb44e38385b12f091357d9635b26bc01c,Add asyncssh intersphinx mappings (#6298),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-06-08 16:55:12+01:00,GitHub,noreply@github.com,2020-06-08 08:55:12-07:00
12140762a0d4d7d935175f2c41230cfd52ade0d4,"Histogram: support lazy values for range/bins (another way) (#6252)

* simpler? implementation of lazy histogram inputs

* remove support for delayed bins as a scalar

breaks when `density` is True, since `diff` doesn't work on an Array with NaN chunks due to the slicing necessary. I opted to not support it at all, since arrays with NaN chunks are likely annoying to work with in general. but we could easily support it by just raising an error if `density and isinstance(bins, Array) and bins.ndim == 0`.

* Revert ""remove support for delayed bins as a scalar""

This reverts commit 58da8fdba4734e523928a02d972a89f75ba32c2e.

* support delayed scalar bins, except for `density`

* simplify nbins

* clearer error message re: scalar bins

* - restrict Dask types to Array and Delayed
- try to check scalariness of Delayed bins

* fixup! simplify nbins

* fixup! clearer error message re: scalar bins",Gabe Joseph,gabe@descarteslabs.com,2020-06-08 12:09:37-06:00,GitHub,noreply@github.com,2020-06-08 13:09:37-05:00
9283484e275404347e82fdc3825e649a7871e766,Don't try to set name on full (#6299),Julia Signell,jsignell@gmail.com,2020-06-08 14:52:01-04:00,GitHub,noreply@github.com,2020-06-08 14:52:01-04:00
ac38635195fd5d0e2d7d4d4759e5bb8645218cc3,"Improve performance of HighLevelGraph construction (#6293)

* Add a from_collection classmethod to simplify single dependency case

* Forgot name in layers

* Create non HLG deps set properly

* Make from_collection a private method

* Forgot to rename in call",Julia Signell,jsignell@gmail.com,2020-06-08 19:25:01-04:00,GitHub,noreply@github.com,2020-06-08 18:25:01-05:00
4f0b276db9d2c9407a0bd7956820c4b383e8cc96,now readthedocs builds unrelased features' docstrings; fixing #6266 (#6295),Antonio Ercole De Luca,eracle@posteo.eu,2020-06-09 16:00:11+02:00,GitHub,noreply@github.com,2020-06-09 10:00:11-04:00
dd682ccc81f85d0e6b4782ab131f685ce3b82c89,Fix exception causes in utils.py (#6302),Ram Rachum,ram@rachum.com,2020-06-09 21:03:15+03:00,GitHub,noreply@github.com,2020-06-09 13:03:15-05:00
e14e156c4f4a17fc2e2231d0fb7ebc1ebed557cf,bump version to 2.18.1,James Bourbeau,jrbourbeau@gmail.com,2020-06-09 19:48:13-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-06-09 19:48:13-05:00
c5d7f0c552538a6fcbacf6e2c8a46642bea88842,remove unused testing function (#6304),James Lamb,jaylamb20@gmail.com,2020-06-10 12:12:47+01:00,GitHub,noreply@github.com,2020-06-10 06:12:47-05:00
d00aacd0c77ecffc2778c418cd93c2ecd0f96e60,Make index.map clear divisions. (#6285),Julia Signell,jsignell@gmail.com,2020-06-10 07:18:27-04:00,GitHub,noreply@github.com,2020-06-10 06:18:27-05:00
d58e601eac564b41ab38b11bf5a10fadbb2be6e3,fix duplicated tests (#6303),James Lamb,jaylamb20@gmail.com,2020-06-10 12:20:03+01:00,GitHub,noreply@github.com,2020-06-10 06:20:03-05:00
4eef8e238932b75b7ec4f44c4245bd07463cc0cd,"Add `shape=None` to *_like() array creation functions (#6064)

* Add `shape=None` to *_like() array creation funcs

* Add helper function for finding shape/chunks

* Skipif NumPy <1.17

* Fix typo

* Update `empty_like`. Thank you @jsignell

* Update signature

* Add ""order"" back (Thank you @jsignell)

* Simplify helper function logic

* Replace empty_like_safe call with an explicity np.empty call

Co-authored-by: Tom Augspurger <tom.w.augspurger@gmail.com>",Anderson Banihirwe,axbanihirwe@ualr.edu,2020-06-10 07:30:47-06:00,GitHub,noreply@github.com,2020-06-10 09:30:47-04:00
149abe507a3988073a9acc9d5b8483f44c747f6b,Fix exception causes all over the codebase (#6308),Ram Rachum,ram@rachum.com,2020-06-10 19:28:27+03:00,GitHub,noreply@github.com,2020-06-10 11:28:27-05:00
c7ee8f74fb47b61725d22c79410c3a514bf17414,Fix for floats < 1 in `parse_bytes` (#6311),Gil Forsyth,gforsyth@users.noreply.github.com,2020-06-10 16:24:26-04:00,GitHub,noreply@github.com,2020-06-10 15:24:26-05:00
d880f61a9fddebec86943d41c4d9d8d18459c521,Fix ValueError when merging an index-only 1-partition dataframe (#6309),Krishan Bhasin,8904718+KrishanBhasin@users.noreply.github.com,2020-06-11 17:51:43+01:00,GitHub,noreply@github.com,2020-06-11 11:51:43-05:00
3c186fbd98c93e2686489077d337e33491988633,"Add high-level CSV Subgraph (#6262)

* First crack at CSVSubgraph

Signed-off-by: Gil Forsyth <gil@forsyth.dev>",Gil Forsyth,gforsyth@users.noreply.github.com,2020-06-11 14:45:27-04:00,GitHub,noreply@github.com,2020-06-11 13:45:27-05:00
e7e3b735d4cfee04d44cf7054b122bec1569dd23,Update bag.rst (#6317),Ben Shaver,benpshaver@gmail.com,2020-06-12 12:24:07-04:00,GitHub,noreply@github.com,2020-06-12 11:24:07-05:00
e6533f32f1ce60139118f9c6f1b9ac406b86edbd,Cast chunk sizes to python int dtype (#6326),Gil Forsyth,gforsyth@users.noreply.github.com,2020-06-16 14:23:18-04:00,GitHub,noreply@github.com,2020-06-16 13:23:18-05:00
9f67c13b7b5558ad1dc2a5cc7579259709042f1c,Add link to 2020 survey (#6328),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-06-16 16:37:53-05:00,GitHub,noreply@github.com,2020-06-16 14:37:53-07:00
416d348f7174a302815758cb87dbf6983226ddc5,"Update expected error msg for protocol difference in fsspec (#6331)

* Update expected error msg for protocol difference in fsspec

Also remove check for error is a set of filenames is passed in as this
is now supported upstream.

* Move check for ordered collections into bytes/core.py

`fsspec` allows for sets to be pasted to `get_fs_token_paths` since
other libraries using `fsspec` may not rely on the paths being in an
ordered collection.  Dask does, so we need to perform that check on our
end.

* Remove `get_fs_token_paths` tests (all present upstream)",Gil Forsyth,gforsyth@users.noreply.github.com,2020-06-18 10:12:42-04:00,GitHub,noreply@github.com,2020-06-18 09:12:42-05:00
c48623bcd6e5fd7699b15c0e611ee38fff167ff6,bump version to 2.19.0,James Bourbeau,jrbourbeau@gmail.com,2020-06-19 13:26:34-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-06-19 13:26:34-05:00
fc99193ef18e469585f3c08df145188245d508c1,Add doc describing  argument. (#6318),asmith26,asmith26@users.noreply.github.com,2020-06-19 19:49:50+01:00,GitHub,noreply@github.com,2020-06-19 13:49:50-05:00
4d7e674189ed2473ea2dcc2ddf3536e519bd1da5,"Fix rechunking of arrays with some zero-length dimensions. (#6335)

While the arrays are _technically_ empty and contain no values,
the rechunking code does update the chunk size metadata.",Matthias Bussonnier,bussonniermatthias@gmail.com,2020-06-19 11:53:14-07:00,GitHub,noreply@github.com,2020-06-19 13:53:14-05:00
5195e5bb0ef7ed381a795670b32c4ef1d6a2c91c,"[REVIEW] Use ignore_index for pandas' group_split_dispatch (#6251)

* ignore_index bugfix",Richard (Rick) Zamora,rzamora217@gmail.com,2020-06-23 12:47:22-05:00,GitHub,noreply@github.com,2020-06-23 12:47:22-05:00
8bf737b58b6a4d7d844cf3b972168a536033d9be,"Use `concatenate_lookup` in `concatenate` (#6339)

* Use `concatenate_lookup` in `concatenate`

As we sometimes need to have custom ways to dispatch `concatenate` over
different array types like SciPy's or CuPy's sparse matrices, make sure
we lookup the appropriate `concatenate` implementation and use that.",jakirkham,jakirkham@gmail.com,2020-06-23 11:14:26-07:00,GitHub,noreply@github.com,2020-06-23 13:14:26-05:00
326a12a940f815d27ecf3afac623927a17c1c83b,"Register sizeof for numpy zero-strided arrays (#6343)

Related to dask/distributed#3180",Matthias Bussonnier,bussonniermatthias@gmail.com,2020-06-24 04:24:32-07:00,GitHub,noreply@github.com,2020-06-24 06:24:32-05:00
7138f470f0e55f2ebdb7638ddc4dfe2e78671403,"Preserve index when writing partitioned parquet datasets with pyarrow (#6282)

* handle auto-index detection for partitioned datasets in pyarrow",Richard (Rick) Zamora,rzamora217@gmail.com,2020-06-24 06:27:06-05:00,GitHub,noreply@github.com,2020-06-24 06:27:06-05:00
ad5006fc70a256ceb389a3e42b6f303c61c1721d,"Handle unnamed pandas RangeIndex in fastparquet engine (#6350)

* handle null-named rangeindex in fastparquet",Richard (Rick) Zamora,rzamora217@gmail.com,2020-06-29 11:39:07-05:00,GitHub,noreply@github.com,2020-06-29 11:39:07-05:00
7aaef9fa8d9d37c7c7e57a1125d7d06ef2a8fefb,"Dispatch `iloc` calls to `getitem` (#6355)

* Dispatch `iloc` calls to `getitem`",Gil Forsyth,gforsyth@users.noreply.github.com,2020-06-30 10:57:29-04:00,GitHub,noreply@github.com,2020-06-30 09:57:29-05:00
1878a451c347253eb9cfb852152a57e88f2ae848,bump version to 2.20.0,James Bourbeau,jrbourbeau@gmail.com,2020-07-02 23:13:21-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-07-02 23:13:21-05:00
bf9d4a44e8356fd376ad50472d2dda4450e912d2,"Parse bytes_per_chunk keyword from string (#6370)

Inspired by https://stackoverflow.com/questions/62700350/storing-dask-dataframes-to-parquet-when-data-doesnt-fit-in-memory",Matthew Rocklin,mrocklin@gmail.com,2020-07-06 08:37:51-07:00,GitHub,noreply@github.com,2020-07-06 10:37:51-05:00
7d09b9e505a2686d425b5fa240526583a250e62a,Fix blockwise concatenate for array with some dimension=1. (#6342),Matthias Bussonnier,bussonniermatthias@gmail.com,2020-07-06 08:39:00-07:00,GitHub,noreply@github.com,2020-07-06 10:39:00-05:00
3903843aba6b248ce4d9c8c6ef696b16ae4a6351,"Include `pickle5` for testing on Python 3.7 (#6379)

* Include `pickle5` for testing on Python 3.7

Make sure we have at least one CI matrix case where `pickle5` is tested.

* Use cloudpickle to load objects it pickled

As `pickle5` support requires using `cloudpickle` to load objects it
pickled, use it instead of regular `pickle`.",jakirkham,jakirkham@gmail.com,2020-07-08 12:51:00-07:00,GitHub,noreply@github.com,2020-07-08 15:51:00-04:00
d8a1b2f01c0a1d14e2e8aaaf35b3a3f95a5f8e09,use pytest.warns to check for UserWarning (#6378),Richard (Rick) Zamora,rzamora217@gmail.com,2020-07-08 21:51:49-05:00,GitHub,noreply@github.com,2020-07-08 19:51:49-07:00
4a11e068f56393174b295a6fcfa6b1c01f26aadf,"[Bug Fix] Call custom optimizations once, with kwargs provided. (#6382)

* Call custom optimizations once, with kwargs provided.

* Actually retain collection-specific optimizations when custom optimizations are specified.",Clark Zinzow,clarkzinzow@gmail.com,2020-07-09 11:02:00-06:00,GitHub,noreply@github.com,2020-07-09 13:02:00-04:00
51d3f1120fc55f21b5ce1ac137201ea01d9cf496,"Update `visualize` docstrings (#6383)

* Fix docstrings to reflect filename can contain extension
* Remove Sphinx link in favor of plain text",Zhengnan,zzhao212@gmail.com,2020-07-10 21:32:20-04:00,GitHub,noreply@github.com,2020-07-10 18:32:20-07:00
ffc8881f84c3ba7a60ca3f10e4c6be1f889937fa,"DOC: add instructions for using conda when installing code for development (#6399)

* DOC: add env to code install

* remove conda hyperlink

* add build after setup env

* symlink latest

* add -latest.yaml

Co-authored-by: Ray Bell <rayjognbell0@gmail.com>",Ray Bell,rayjohnbell0@gmail.com,2020-07-13 10:04:00-04:00,GitHub,noreply@github.com,2020-07-13 09:04:00-05:00
a0dec10aef5cdac8b663ef29d7b228ecc4139a5a,"DOC: Numpydoc formatting. (#6402)

See also delimiter is :, not -, and numpydoc choke on double backticks
as well.",Matthias Bussonnier,bussonniermatthias@gmail.com,2020-07-13 07:28:36-07:00,GitHub,noreply@github.com,2020-07-13 07:28:36-07:00
137d039250eadf757b8941d6e1c5cfb6c1e61679,"Unpin `numpydoc` following 1.1 release (#6407)

Fix for errant backslashes was fixed upstream and released.
https://numpydoc.readthedocs.io/en/latest/release_notes.html#fixed-bugs
https://github.com/numpy/numpydoc/issues/218",Gil Forsyth,gforsyth@users.noreply.github.com,2020-07-13 11:42:23-04:00,GitHub,noreply@github.com,2020-07-13 08:42:23-07:00
1f57364ababb3e79f17f27a36d75b5ef553fe251,groups values in optimization pass should only be graph and keys -- not an optimization + keys (#6409),Benjamin Zaitlen,quasiben@users.noreply.github.com,2020-07-14 09:47:11-04:00,GitHub,noreply@github.com,2020-07-14 09:47:11-04:00
fad8158de33983d1137f80d8d1062d31e45f8ad9,fix bag.take example (#6418),Roberto Panai,robertopanai@sardus.it,2020-07-16 17:41:04-04:00,GitHub,noreply@github.com,2020-07-16 17:41:04-04:00
620be02d35053db7883bb8876a69b255827860e8,"DOC: Numpydoc formatting. (#6421)

The delimiter in ""See Also"" is a `:` not a `-`, which make numpydoc
choke on this.",Matthias Bussonnier,bussonniermatthias@gmail.com,2020-07-17 06:08:25-07:00,GitHub,noreply@github.com,2020-07-17 09:08:25-04:00
7a98af4dcdba36e05036bb3ccc695612e2755cfe,"Correct error message in array.routines.gradient() (#6417)

Arguments were back to front, making the error message confusing.",johnomotani,john.omotani@ukaea.uk,2020-07-17 14:10:41+01:00,GitHub,noreply@github.com,2020-07-17 09:10:41-04:00
b2dc5ddec36d2daa31b668bfec9b27b4724cb198,Correct typo in error message (#6422),Tom McTiernan,tmct@users.noreply.github.com,2020-07-17 19:03:11+01:00,GitHub,noreply@github.com,2020-07-17 14:03:11-04:00
a4c571475b1c643dedf99bc773c2564bf3fcf977,bump version to 2.21.0,James Bourbeau,jrbourbeau@gmail.com,2020-07-17 17:06:31-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-07-17 17:06:31-05:00
dacda1379965784b2d4b58d82ca3a1a094029405,Use updated link in setup.cfg (#6426),Zhengnan,zzhao212@gmail.com,2020-07-18 12:21:44-04:00,GitHub,noreply@github.com,2020-07-18 09:21:44-07:00
56d0d1be849cba4f7ea58ae47bfa76a594dc6c9b,"Duplicate argument definitions in `to_csv` docstring (#6411)

There are two definitions of `compression` arguments in the `to_csv`
docstring and one of them does not match up with the implementation.",Jun Han (Johnson) Ooi,tebesfinwo@users.noreply.github.com,2020-07-20 10:37:55-04:00,GitHub,noreply@github.com,2020-07-20 07:37:55-07:00
1d012df22185ccc5249773d5d18af2778d0a08a8,CI: Install deps of upstream-dev packages (#6431),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-07-20 14:55:24-05:00,GitHub,noreply@github.com,2020-07-20 14:55:24-05:00
55445565c3746f97f2bc50d5628a484576cef90e,Compatibility for NumPy dtype deprecation (#6430),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-07-21 06:08:21-05:00,GitHub,noreply@github.com,2020-07-21 06:08:21-05:00
938a96e2c9777e059bfaae1254626a8a1d6db105,fix typo (#6436),Jack Xiaosong Xu,jackxxu@users.noreply.github.com,2020-07-22 11:41:02-04:00,GitHub,noreply@github.com,2020-07-22 11:41:02-04:00
9cb6f98132d892707dc6c71c6e2581966d31a20b,"When RecursionError is raised, return uuid from tokenize function (#6437)",Julia Signell,jsignell@gmail.com,2020-07-22 11:46:27-04:00,GitHub,noreply@github.com,2020-07-22 11:46:27-04:00
592fc4dc5e292a8974ab61f4755d0b9f96ece131,"Multi value pivot table (#6428)

* multi value pivot table in progress

* code working for multi-value pivot tables

* remove commented out portions

* make existing tests pass; next step is adding new tests

* new tests to ensure multi-value pivot tables work as expected

* run flake8 dask & black dask

* remove comment

* address some PR feedback

* address PR feedback

Co-authored-by: Josh Reback <josh.reback@gradientai.com>",joshreback,joshreback@gmail.com,2020-07-23 09:26:40-04:00,GitHub,noreply@github.com,2020-07-23 09:26:40-04:00
f212b76fefeb93298205d7d224cbc1f7ed387ce9,Compatibility with pandas 1.1.0rc0 (#6429),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-07-23 08:37:56-05:00,GitHub,noreply@github.com,2020-07-23 08:37:56-05:00
024f690b6d269c11a496db088c4ddd8d5de12a49,"HTTP error for new fsspec (#6446)

* Copes with fsspec switching requests -> aiohttp

Fixes #6433

* black

* Add aiohttp to dev envs",Martin Durant,martindurant@users.noreply.github.com,2020-07-23 11:01:38-04:00,GitHub,noreply@github.com,2020-07-23 11:01:38-04:00
d97ddf08a62f740dcf2a264d77fbb9f65234f77e,Add tolist dispatch (#6444),GALI PREM SAGAR,sagarprem75@gmail.com,2020-07-24 10:46:10-05:00,GitHub,noreply@github.com,2020-07-24 10:46:10-05:00
cd2a42b1735dbd0eb66b95b2989047a7f02bbe50,Complete parameter server implementation in docs (#6449),Scott Sievert,stsievert@users.noreply.github.com,2020-07-24 17:02:23-05:00,GitHub,noreply@github.com,2020-07-24 15:02:23-07:00
05c17758aa9d44158538b7d5059524de18843ae3,"Refactor ArrowEngine for better read_parquet performance (#6346)

* handle auto-index detection for partitioned datasets in pyarrow

* skip index-preservation support for older pyarrow versions

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* protect against None

* use new __null_dask_index__ name as default

* support None-index preservation - but using reserved name for this

* minor cleanup

* handle pandas/pyarrow-written df with None index

* skip test for older pyarrow

* remove comment

* address code review

* start refactoring arrow engine

* progress - still need to support filtering, divisions and multiple row-groups per partition

* partial statistics support, still need to convert file_row_group_stats to stats

* adding basic statistics processing

* all tests passing with initial ArrowEngine refactor

* improve single-row-group performance

* clarify defualt behavior for gather_statistics and split_row_groups

* avoid stats when there are no filters or know index columns

* use _metadata when it was included in a list

* remove space

* possible datetime fix

* check explicit column statistics for timestamp

* ensure schema is not None

* cleanup

* cleanup 2

* move _flatten_seq and name cleanup

* use dask.core.flatten

* add test_split_row_groups_int_pyarrow

* basic pyarrow.dataset support

* minimal pyarrow.dataset support

* format check

* format check

* not creating categorical types for partitioned columns (for now)

* avoid pyarrow.compat

* use _metadata when paths is a directory

* account for parquet_dataset fix and use _filters_to_expression

* pass along filters to reader

* a bit of reorg to make it easier to pull out pyarrow-dataset code (and add it back in in a followup PR)

* (temporarily) pulling out pyarrow.dataset api

* bail early on statistics collection when it is for an index that we know isn't sorted

* roll back guid change - will be romoved by a different PR anyway

* adding comments

* improve valueerror message for mising file_path

* avoid df_rgs and df_cols construction in more cases

* test all-null partition

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2020-07-27 14:36:15-05:00,GitHub,noreply@github.com,2020-07-27 15:36:15-04:00
72de42cdde88ba01b4d762147e4105892a6535a2,"Implement `sizeof` for some `bytes`-like objects (#6457)

As it appears we don't actually support `sizeof` for `bytes`-like types
on PyPy, but they are easy to implement and commonly encountered, go
ahead and implement custom `sizeof` for these `bytes`-like types.",jakirkham,jakirkham@gmail.com,2020-07-27 14:52:25-07:00,GitHub,noreply@github.com,2020-07-27 14:52:25-07:00
c6d0757c4e3cc0f882bdbcb279af7a29ad6aef60,"Fixes broken links (#4058) (#6403)

Some additional items addressed:

  * changed permissions to remove executable bit on dask/array/gufunc.py
  * altered sphinx configuration to not link check localhost and github.com (rate limiting) URLs
  * fixed all broken links identified in make linkcheck (except for one spurious 502 from github)
  * modified linkcheck mechanism in make file and associated documentation dependencies",Jim Circadian,JimCircadian@users.noreply.github.com,2020-07-28 16:38:17+01:00,GitHub,noreply@github.com,2020-07-28 11:38:17-04:00
26e722f02738232518b46294c95c6beac93ae113,"BUG: fix parameter server rendering (#6466)

* DOC: complete param server example

* edit paragraphs

* edit spaces

* BUG: fix rendering, add more text",Scott Sievert,stsievert@users.noreply.github.com,2020-07-28 10:40:24-05:00,GitHub,noreply@github.com,2020-07-28 11:40:24-04:00
5e29371ac3f7d15bc232ada4e58c068f88a2dff4,Add single quotes around column names if strings (#6471),Gil Forsyth,gforsyth@users.noreply.github.com,2020-07-30 12:10:14-04:00,GitHub,noreply@github.com,2020-07-30 09:10:14-07:00
2e48623832110dd0f54368e01abd634e99e8ae44,Add utility to docs to convert YAML config to env vars and back (#6472),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-07-30 18:29:25+01:00,GitHub,noreply@github.com,2020-07-30 12:29:25-05:00
6268d5c2b73066493587b71254f424fbaf74ed92,bump version to 2.22.0,James Bourbeau,jrbourbeau@gmail.com,2020-07-31 17:58:25-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-07-31 17:58:25-05:00
ff9ad0ec959e6e86610c45da7af6a0188de7f3fd,"Fix duplicate parquet output in `to_parquet` (#6451)

* Test duplicate parquet

* Fix duplicate parquet

* Style and Cleanup

* Add reference to issue

* Test to_parquet output files

* Merge tests

* Fix windows test

* Remove unused import",michaelnarodovitch,32851645+michaelnarodovitch@users.noreply.github.com,2020-08-03 16:35:59+02:00,GitHub,noreply@github.com,2020-08-03 10:35:59-04:00
cffea36b46ca2f0bfe5abc908a450bbb1a0bde33,"Fix pyarrow mkdirs (#6475)

* Fix pyarrow mkdirs

* Use correct kwarg",Julia Signell,jsignell@gmail.com,2020-08-03 16:30:58-04:00,GitHub,noreply@github.com,2020-08-03 16:30:58-04:00
2411b0a83789539c8744e5eb3fdba1ea164692a5,"Intelligently determine partitions based on type of first arg (#6479)

This allows for inputs like the following:

```
df.repartition(100)
and
df.repartition(""100 MiB"")
```

It's a bit less explicit, but seems harmless.",Matthew Rocklin,mrocklin@gmail.com,2020-08-03 19:26:58-07:00,GitHub,noreply@github.com,2020-08-03 19:26:58-07:00
9131e0dde02416e11f61d856cce09b472797f003,"Docs for SQLing (#6453)

* Start docs for SQLing

* stop

* rst syntax

* meat

* finish off

* correct typos

* currect typos",Martin Durant,martindurant@users.noreply.github.com,2020-08-04 11:34:35-04:00,GitHub,noreply@github.com,2020-08-04 11:34:35-04:00
82fae24c367809e1629011933f23c58afd29f774,"Fixed warning in nonempty_series (#6485)

Fixed warning in nonempty_series

dask/dask/dataframe/utils.py:573: FutureWarning: The pandas.SparseArray class is deprecated and will be removed from pandas in a future version. Use pandas.arrays.SparseArray instead.
  data = pd.SparseArray([entry, entry], dtype=dtype)",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-08-05 09:10:24-05:00,GitHub,noreply@github.com,2020-08-05 09:10:24-05:00
58bab6b2ad352fa15b9db6fba0d50a43925b9e34,fixed a few typos in the SQL docs. (#6489),Mike McCarty,mike.mccarty@gmail.com,2020-08-06 12:25:41-04:00,GitHub,noreply@github.com,2020-08-06 12:25:41-04:00
ff653b9919ecdc80626c9113b02e91a6a04ff61a,Bag repartition partition size (#6371),joshreback,joshreback@gmail.com,2020-08-07 10:45:35-04:00,GitHub,noreply@github.com,2020-08-07 09:45:35-05:00
e5acf325ecc7af9147fe7644a1548380b54d5364,"DOC: add agg nunique example (#6404)

* DOC: add agg nunique example

* fix hyperlink

* make more copy-paste

* add pandas example

* add example and clean up nunique func

* Update dask/dataframe/groupby.py

Co-authored-by: Ray Bell <rayjognbell0@gmail.com>
Co-authored-by: Jim Crist-Harif <jcrist@users.noreply.github.com>",Ray Bell,rayjohnbell0@gmail.com,2020-08-07 10:49:45-04:00,GitHub,noreply@github.com,2020-08-07 10:49:45-04:00
14c53510a5a58f8eb452c148a97f7813234193d1,Add missing meta= for trim in map_overlap (#6494),Peter Andreas Entschev,peter@entschev.com,2020-08-08 04:58:10+02:00,GitHub,noreply@github.com,2020-08-07 19:58:10-07:00
9fb10818d78b06d11f1c0d156639d7d251d67dbe,"Include compression in write_table call (#6499)

* Include compression in write_table call

* Add test for compression with partition_on",Julia Signell,jsignell@gmail.com,2020-08-11 14:31:14-04:00,GitHub,noreply@github.com,2020-08-11 14:31:14-04:00
b5156d660b705c97abafd2ebf639115f37ce39b6,"ENH Adds items to dataframe (#6503)

* ENH Adds items to dataframe

* CLN Uses label

* ENH Support datafarme with non-unique columns

* TST Uses pytest parametrize

* TST Adds test for multiindex",Thomas J. Fan,thomasjpfan@gmail.com,2020-08-11 17:37:52-04:00,GitHub,noreply@github.com,2020-08-11 17:37:52-04:00
0bc1daa970df1dbad93d24ed7eeea1357fc9fba2,Update dependencies correctly in fuse_root optimization (#6508),Mads R. B. Kristensen,madsbk@gmail.com,2020-08-13 15:42:13+02:00,GitHub,noreply@github.com,2020-08-13 06:42:13-07:00
97c6d8d7fc567d03df57bcdf66b34707e3075e44,Scalar.__dask_layers__() to return self._name instead of self.key (#6507),Mads R. B. Kristensen,madsbk@gmail.com,2020-08-13 16:11:17+02:00,GitHub,noreply@github.com,2020-08-13 07:11:17-07:00
3a0550dd6aee1ead9e2b69f5de90546589d9fd25,"fix documentation da.histogram (#6439)

* fix documentation da.histogram

* Update dask/array/routines.py

Co-authored-by: Gil Forsyth <gforsyth@users.noreply.github.com>

* Update dask/array/routines.py

Co-authored-by: Gil Forsyth <gforsyth@users.noreply.github.com>

* Update dask/array/routines.py

Co-authored-by: Gil Forsyth <gforsyth@users.noreply.github.com>

* Update dask/array/routines.py

Co-authored-by: Gil Forsyth <gforsyth@users.noreply.github.com>

* Update dask/array/routines.py

Co-authored-by: Gil Forsyth <gforsyth@users.noreply.github.com>

* Update routines.py

bins are not str

Co-authored-by: Gil Forsyth <gforsyth@users.noreply.github.com>",Roberto Panai,robertopanai@sardus.it,2020-08-13 12:55:18-04:00,GitHub,noreply@github.com,2020-08-13 12:55:18-04:00
e324de5222b526506bebe448e208defa7c6d95f6,"ENH: reduce np.zeros, ones, and full array size with broadcasting (#6491)

* ENH: reduce np.zeros, one, and empty array size with broadcasting

As array are not mutable, we can actually back large uniform array by a
single value.

In [3]: %time %memit N= 50000; da.zeros((N, N), dask_broadcast_trick=True).sum().compute()
peak memory: 65.86 MiB, increment: 1.66 MiB
CPU times: user 1.69 s, sys: 42.7 ms, total: 1.73 s
Wall time: 1.21 s

In [4]: %time %memit N= 50000; da.zeros((N, N), dask_broadcast_trick=False).sum().compute()
peak memory: 364.25 MiB, increment: 298.34 MiB
CPU times: user 8.75 s, sys: 6.13 s, total: 14.9 s
Wall time: 6.55 s

* hack arround tests

* Cleanup implmentation

* Update dask/array/wrap.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

Co-authored-by: Julia Signell <jsignell@gmail.com>",Matthias Bussonnier,bussonniermatthias@gmail.com,2020-08-13 13:39:11-07:00,GitHub,noreply@github.com,2020-08-13 13:39:11-07:00
6e1e86bd13e53af4f8ee2d33a7f1f62450d25064,bump version to 2.23.0,James Bourbeau,jrbourbeau@gmail.com,2020-08-14 09:50:48-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-08-14 09:50:48-05:00
fa26ab92d82e0ebc978d71f4cf2ddb1121c25d6e,"Bump up tolerance for rolling tests (#6502)

* Bump up tolerance for rolling tests

* Apply comments

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* Update test_rolling.py

* Fix spacing

* Only change default tolerance if set_less_precise

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2020-08-14 17:09:41-04:00,GitHub,noreply@github.com,2020-08-14 17:09:41-04:00
300adf03d31c8df4055cfc31ed3862ec17869598,"Implement DatFrame.__len__ (#6515)

Spotted in https://github.com/dask/dask/issues/6513",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-08-14 16:26:32-05:00,GitHub,noreply@github.com,2020-08-14 17:26:32-04:00
1cfefcfef35ead27dde64bb0492077f5af4d4d19,Fix setting random seed in tests. (#6518),Elliott Sales de Andrade,quantum.analyst@gmail.com,2020-08-16 11:19:41-04:00,GitHub,noreply@github.com,2020-08-16 08:19:41-07:00
66c1ae2d7437de33657fff5aa66c4badaf1b7e43,Use unpack_collections in make_blockwise_graph (#6517),Thomas J. Fan,thomasjpfan@gmail.com,2020-08-16 11:24:17-04:00,GitHub,noreply@github.com,2020-08-16 08:24:17-07:00
d3a179b2db65604ac683ee3e9d18e075a3019c4f,"Infer arrow schema in to_parquet  (for ArrowEngine) (#6490)

* infer schema for to_parquet in ArrowEngine

* make sampling more thorough (when necessary)

* handle dict input for schema

* add test coverage for dict input and update docstring

* handle pre-0.15 pyarrow

* missing assignment

* missing assignment

* fix test

* improve docstring

* get schema on worker

* avoid lambda",Richard (Rick) Zamora,rzamora217@gmail.com,2020-08-17 09:47:30-05:00,GitHub,noreply@github.com,2020-08-17 10:47:30-04:00
d809cf9edefd5f33ae758a6c85f297195ab6ec93,Fix parquet test when no pyarrow (#6524),Martin Durant,martindurant@users.noreply.github.com,2020-08-17 13:04:05-04:00,GitHub,noreply@github.com,2020-08-17 13:04:05-04:00
bdf0e2dff61088eb82ecc55b61df724097ab69fb,"Remove problematic `filter` arguments in ArrowEngine (#6527)

* remove filter arg

* handle single file",Richard (Rick) Zamora,rzamora217@gmail.com,2020-08-17 16:42:52-05:00,GitHub,noreply@github.com,2020-08-17 17:42:52-04:00
cd1883e49eb587557c9d6b88113fe77724ab813d,Move key_split() from optimization.py to utils.py (#6529),Mads R. B. Kristensen,madsbk@gmail.com,2020-08-18 23:28:39+02:00,GitHub,noreply@github.com,2020-08-18 14:28:39-07:00
5bb93fd50a4d3ccb2dbeac15d259ca766100e638,"Make tests run on moto server (#6528)

* Make tests run on moto server

* Remove wait

* simpler

* better deps

* braces

* Make only one moto process

(hope this cuts down memory or other problems; this code may be posted to
s3fs tests and imported in the future)

* try github actions fix

* Update GH action tag

https://github.com/goanpeca/setup-miniconda/releases/tag/v1.7.0",Martin Durant,martindurant@users.noreply.github.com,2020-08-20 11:23:43-04:00,GitHub,noreply@github.com,2020-08-20 11:23:43-04:00
42873f27ce11ce35652dda344dae5c47b742bef2,Support meta in apply gufunc (#6521),joshreback,joshreback@gmail.com,2020-08-20 16:27:53-04:00,GitHub,noreply@github.com,2020-08-20 15:27:53-05:00
a2518c91cdaf9ec88df56d67ac253fe228d45c9e,Replace `cupy.sparse` with `cupyx.scipy.sparse` (#6530),jakirkham,jakirkham@gmail.com,2020-08-21 10:28:45-07:00,GitHub,noreply@github.com,2020-08-21 10:28:45-07:00
23196a590ff5e58388e3fdabf181713382d090a4,Avoid schema validation by default in ArrowEngine (#6536),Richard (Rick) Zamora,rzamora217@gmail.com,2020-08-21 14:35:02-05:00,GitHub,noreply@github.com,2020-08-21 14:35:02-05:00
d96fed990279fcd272cc5ada005d07c85b104ce5,bump version to 2.24.0,Matthew Rocklin,mrocklin@gmail.com,2020-08-22 10:51:20-07:00,Matthew Rocklin,mrocklin@gmail.com,2020-08-22 10:51:20-07:00
03468cb666f10aa256b75dfdf988139c4a33b1ef,Stop 2020 survey (#6547),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-08-24 15:58:03-05:00,GitHub,noreply@github.com,2020-08-24 15:58:03-05:00
7d4d9b9755ee855b59b6aec75fd2533b8f8510b6,"DOC: add gs read_parquet example (#6548)

* DOC: add gs read_parquet example

* add ellipses

* fix gs storage options",Ray Bell,rayjohnbell0@gmail.com,2020-08-24 17:47:43-04:00,GitHub,noreply@github.com,2020-08-24 17:47:43-04:00
53447b4fd31b875916bc827baa7e41250c990ef6,"License update (#6554)

GitHub doesn't currently recognize our license as being BSD-3 Clause",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-08-25 16:58:28-05:00,GitHub,noreply@github.com,2020-08-25 16:58:28-05:00
c094380a8975bd329234750ac882de0467083100,DOCS: Update kubernetes-helm.rst (#6523),David Sheldon,david.sheldon@mindfoundry.ai,2020-08-26 03:58:36+01:00,GitHub,noreply@github.com,2020-08-25 21:58:36-05:00
51509339c1cc476f5f96ae78e61daf125037ca20,Remove version from documentation page names (#6558),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-08-26 09:19:27-05:00,GitHub,noreply@github.com,2020-08-26 07:19:27-07:00
64e2a9b3b9992503221a074a547827501927d1fa,Rerun with latest black release (#6568),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-08-28 06:47:29-05:00,GitHub,noreply@github.com,2020-08-28 06:47:29-05:00
627b2bc7bca9e86d938767056bc001f819824335,Compare key hashes in subs() (#6559),Mads R. B. Kristensen,madsbk@gmail.com,2020-08-28 16:23:39+02:00,GitHub,noreply@github.com,2020-08-28 07:23:39-07:00
b8c30a081a6f2ada554d236a7a7d22bd7b2811a6,bump version to 2.25.0,James Bourbeau,jrbourbeau@gmail.com,2020-08-28 17:24:44-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-08-28 17:24:44-05:00
588ba4ef49ba0c64d7603b32749eb26fc0bd2d52,Skip `bokeh` version `2.0.0` (#6572),jakirkham,jakirkham@gmail.com,2020-08-28 21:08:38-07:00,GitHub,noreply@github.com,2020-08-28 23:08:38-05:00
5b799718155a11f510f4a0067f092d1051961ce4,Fixup reshape on unknown dimensions and other testing fixes (#6578),Ryan Williams,ryan@runsascoded.com,2020-08-30 14:11:51-04:00,GitHub,noreply@github.com,2020-08-30 11:11:51-07:00
3b1303f83a463549fac74a0657e7b67395d5ba12,Align coarsen chunks by default (#6580),Deepak Cherian,dcherian@users.noreply.github.com,2020-08-30 23:37:53+00:00,GitHub,noreply@github.com,2020-08-30 16:37:53-07:00
e4637cb514b5c913a6ce21e056dd2213bacfc49a,"Document dask/daskhub helm chart (#6560)

* Update kubernetes docs",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-08-31 09:46:59-05:00,GitHub,noreply@github.com,2020-08-31 09:46:59-05:00
55ec6012385b3ef4db26b5a727b17af816babaf8,Fix wrong path when reading empty csv file (#6573),Abdulelah Bin Mahfoodh,abduh.bm@gmail.com,2020-09-01 14:27:18+03:00,GitHub,noreply@github.com,2020-09-01 06:27:18-05:00
0ca1607aa14cb81520ca9526f871b631fe6706fa,"Add simple chunk type registry and defer as appropriate to upcast types (#6393)

Adds a basic list-based registry of valid chunk types for within
dask.array.Array, with the ability to add otherwise unknown types with
dask.array.register_chunk_type. When a type *not* in this list or
defined/handled by Dask is encountered in dunder operations or NumPy
functions/ufuncs, return NotImplemented.",Jon Thielen,github@jont.cc,2020-09-01 20:03:36-05:00,GitHub,noreply@github.com,2020-09-01 18:03:36-07:00
174968fe8197ce11b1a498ba7c9c66a80574e071,Fix linting issue (#6598),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-09-03 10:57:04-05:00,GitHub,noreply@github.com,2020-09-03 10:57:04-05:00
00843e3f810b0b76a8e71f97f4825ab616d9296b,Add SVD support for short-and-fat arrays (#6591),Eric Czech,eric.allen.czech@gmail.com,2020-09-03 14:29:01-04:00,GitHub,noreply@github.com,2020-09-03 13:29:01-05:00
377965addc6be168ad1c697999ded6f9abdf6cce,Restore ability to pickle dask arrays (#6594),Noah D Brenowitz,nbren12@gmail.com,2020-09-04 06:44:05-07:00,GitHub,noreply@github.com,2020-09-04 08:44:05-05:00
5bf5b70eabf87aa461e44bbcbc249e4cf0a93838,Update supported Python versions (#6609),Julia Signell,jsignell@gmail.com,2020-09-08 11:42:19-04:00,GitHub,noreply@github.com,2020-09-08 11:42:19-04:00
8bcb7fedb0a55996c5f15cd9d3c1e246a50abf3d,"Add validation and fixes for HighLevelGraph dependencies (#6588)

Follows on from https://github.com/dask/dask/pull/6508

* Added core.keys_in_tasks()
* HLG: added more thorough validation check
* lingalg: layer dependencies are now sets
* linalg.lstsq(): fixed dependencies
* linalg.sfqr(): fixed dependencies
* linalg.tsqr(): removed dependency when all slices are known
* linalg.tsqr(): name_q2bs are name_q2cs are not layers
* added help function compute_layer_dependencies()
* elemwise(): fixed dependencies
* Delayed: fixed __dask_layers__() of HLGs
* _loc_list(): empty dependencies on empty index
* reformat: black
* keys_in_tasks(): fixed doc example
* optimize_blockwise(): fixed dependencies
* tril() and triu(): fixed dependencies when empty result
* added a doctest: +SKIP",Mads R. B. Kristensen,madsbk@gmail.com,2020-09-09 00:44:52+02:00,GitHub,noreply@github.com,2020-09-08 15:44:52-07:00
22224bb0f75aee3e04dc42ca006807e4d2fc4138,Eagerly slice numpy arrays in from_array (#6605),Deepak Cherian,dcherian@users.noreply.github.com,2020-09-08 23:37:06+00:00,GitHub,noreply@github.com,2020-09-08 16:37:06-07:00
99ea30d4e5f999cdb689771ab6e68139f2c2e326,"Avoid large chunks from getitem with lists (#6514)

Closes #6270",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-09-09 10:49:46-05:00,GitHub,noreply@github.com,2020-09-09 08:49:46-07:00
18964944002877283a1b893f1a42e63e2f28e1d1,"asanyarray: handle sequences containing dask Arrays (#6595)

* asanyarray: handle sequences containing dask Arrays

`asarray` worked on lists containing dask Arrays, but `asanyarray` didn't.

```python
x = da.asarray([1, 2, 3])
# works
da.asarray([0, x[1], x[2]])
# failed
da.asanyarray([0, x[1], x[2]])
```

Looks like #5280 only changed `asarray`, not `asanyarray`. I made most of the `asarray` tests use both methods, just to guard against such drift in the future.

`test_asarray_chunks` was the only one with inconsistent behavior, because `asanyarray` sets `chunks=a.shape`, but `asarray` does not. Unclear to me if that's intentional---if not, I'm happy to make them consistent in this PR.

* re-blacken",Gabe Joseph,gabe@descarteslabs.com,2020-09-09 13:55:47-06:00,GitHub,noreply@github.com,2020-09-09 12:55:47-07:00
3327b2e158dbadf2057685fdb51b74ce3129416e,"Add svd_flip #6599 (#6613)

Co-authored-by: Eric Czech <eric@related.vc>",Eric Czech,eric.allen.czech@gmail.com,2020-09-10 08:53:00-04:00,GitHub,noreply@github.com,2020-09-10 07:53:00-05:00
22c0184b51b2ab9ed7f3b272a08136519d4231fd,"Improve SVD consistency and small array handling (#6616)

* SVD single chunk bypass and sign coercion",Eric Czech,eric.allen.czech@gmail.com,2020-09-11 07:32:54-04:00,GitHub,noreply@github.com,2020-09-11 06:32:54-05:00
519b62fed6fa577a52b9273e11ccd9ba6d49644b,"Set lower bound on compression level for svd_compressed using rows and cols (#6622)

* Set lower bound on compression level using rows and cols

Co-authored-by: Eric Czech <eric@related.vc>",Eric Czech,eric.allen.czech@gmail.com,2020-09-11 07:38:25-04:00,GitHub,noreply@github.com,2020-09-11 06:38:25-05:00
5b2fcdde6af48f511347d4a024500558e1d62e5a,"Always compute 0 and 1 quantiles during quantile calculations. (#6564)

* Always compute 0 and 1 quantiles during quantile calculations.

This is a super-quick fix to hopefully makes quantiles/percentiles slightly less bad.
We could perhaps take this ""quick fix"" further by adding even more quantiles to compute during computation.
Fixes #6551

* Use ""mode"" keyword in `np.pad` for old numpy versions

Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>
Co-authored-by: Jim Crist-Harif <jcrist@users.noreply.github.com>",Erik Welch,erik.n.welch@gmail.com,2020-09-11 09:47:14-05:00,GitHub,noreply@github.com,2020-09-11 09:47:14-05:00
b2ac0827f29ef4ead1aef701d53e90da1fff049c,"DOC: update DataFrame.set_index docstring (#6549)

The `DataFrame.set_index` docstring was seemingly inherited from
`dask.dataframe.shuffle.set_index` and did not reflect the latest
version of the method signature.",Timost,Timost@users.noreply.github.com,2020-09-11 16:57:43+02:00,GitHub,noreply@github.com,2020-09-11 09:57:43-05:00
3f2b236bc3826d946d215cdd74a37b0bb18a5819,"Mkae array.reduction docstring match for dtype (#6624)

Cased by changed in  #1755

Fixes 6278",Martin Durant,martindurant@users.noreply.github.com,2020-09-11 11:10:43-04:00,GitHub,noreply@github.com,2020-09-11 11:10:43-04:00
1405b38406e0c4137d32b8cc4f3ac17bf2f6e2d0,"Backend-aware dtype inference for single-chunk svd (#6623)

Co-authored-by: Eric Czech <eric@related.vc>",Eric Czech,eric.allen.czech@gmail.com,2020-09-11 11:26:57-04:00,GitHub,noreply@github.com,2020-09-11 10:26:57-05:00
cdfa5587249345fd992f608f1553e4f4561ac03c,"BUG: Handle min_count in Series.sum / prod (#6618)

* BUG: Handle min_count in Series.sum",Daniel Saxton,2658661+dsaxton@users.noreply.github.com,2020-09-11 10:30:46-05:00,GitHub,noreply@github.com,2020-09-11 10:30:46-05:00
56cd4597630feb1b01501c16d52aa862dd257a83,Fixup extraConfig example (#6625),Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-09-11 10:31:01-05:00,GitHub,noreply@github.com,2020-09-11 10:31:01-05:00
eeefebc3fc05978a1d1aaa67c05cf8b40e998151,"Added bytes/row calculation when using meta (#6585)

* Added bytes/row calculation when using meta

* Black formatted",McToel,36071676+McToel@users.noreply.github.com,2020-09-11 17:38:25+02:00,GitHub,noreply@github.com,2020-09-11 11:38:25-04:00
060c2f867e59a4400fd0b28724113a7c4cb50bff,"Doc: Troubleshooting dashboard 404 (#6215)

* Doc: Troubleshooting dashboard 404",Kilian Lieret,kilian.lieret@posteo.de,2020-09-11 17:57:52+02:00,GitHub,noreply@github.com,2020-09-11 10:57:52-05:00
2b1cd866a1002e20dc87254ebd6d26c069576b45,bump version to 2.26.0,James Bourbeau,jrbourbeau@gmail.com,2020-09-11 16:13:41-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-09-11 16:13:41-05:00
a3bcb336dd3753aef4456ede934da91883d13b0b,"Remove u string prefixes (#6633)

The u string prefixes are necessary on python 2 to indicate unicode
strings. On Python 3, all strings are unicode strings and the u prefixes
are not needed anymore.",Poruri Sai Rahul,rahul.poruri@gmail.com,2020-09-14 00:26:50+01:00,GitHub,noreply@github.com,2020-09-13 16:26:50-07:00
3b4ecc3e48676e02fd69564f6382a524d39b7940,Add HelmCluster docs (#6290),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-09-14 13:32:07+01:00,GitHub,noreply@github.com,2020-09-14 07:32:07-05:00
8cc8e524bf337398a5454a651e79340c2f046d4a,"Use empty list as categories (#6626)

* Use empty list as categories

* Use empty slice for categories as suggested

* Add categoricals with all None to test_meta_non_empty",Julia Signell,jsignell@gmail.com,2020-09-14 10:08:56-04:00,GitHub,noreply@github.com,2020-09-14 10:08:56-04:00
a6615bd175bec61ea62e7d5187ea7d6e2da2dee7,"Update super usage to remove Python 2 compatibility (#6630)

On Python 3, super can be called without any arguments where as on
Python 2, super needs to be called with the class object and an
instance.

Given that dask does not support Python 2 anymore, the super usage can
be updated.",Poruri Sai Rahul,rahul.poruri@gmail.com,2020-09-14 15:32:56+01:00,GitHub,noreply@github.com,2020-09-14 07:32:56-07:00
34ff8c7f756ac8ef6521f2b5ca69b2c25596f6a8,Add a number of missing ufuncs to dask.array docs (#6642),Ralf Gommers,ralf.gommers@gmail.com,2020-09-15 01:32:44+01:00,GitHub,noreply@github.com,2020-09-14 17:32:44-07:00
a4be23003858506705a1e36e687044704e634ddc,"Update pre-commit-config to latest black. (#6641)

* Use recommended repo for black

* Re-run black on everything with 20.8b1",Julia Signell,jsignell@gmail.com,2020-09-15 10:44:42-04:00,GitHub,noreply@github.com,2020-09-15 09:44:42-05:00
6505db560e5c59baf04bbe20cfe48b2a25e3504f,Add autofunction to array api docs for more ufuncs (#6644),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-09-15 09:56:42-05:00,GitHub,noreply@github.com,2020-09-15 07:56:42-07:00
1820693c7d439baf1731c23262cb58724331f23e,"Improve error message for to_sql (#6638)

* Improve error message for to_sql

* Black test",Julia Signell,jsignell@gmail.com,2020-09-15 11:34:57-04:00,GitHub,noreply@github.com,2020-09-15 11:34:57-04:00
7b45347c1d734cda83834dbc1628a86c23cf5e36,"Preserve dtype in svd (#6643)

* Preserve dtype in svd",Eric Czech,eric.allen.czech@gmail.com,2020-09-15 16:01:11-04:00,GitHub,noreply@github.com,2020-09-15 15:01:11-05:00
4ab0b179cbd19645749a7dd294df9c2c362c256a,Add pre-commit CI build (#6645),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-09-15 21:51:52-05:00,GitHub,noreply@github.com,2020-09-15 21:51:52-05:00
c006c1973901795518bc348efd9a93e915e448b5,store(): create a single HLG layer (#6601),Mads R. B. Kristensen,madsbk@gmail.com,2020-09-18 16:28:41+02:00,GitHub,noreply@github.com,2020-09-18 07:28:41-07:00
7b40dd8fcb71a73d0349af0ca3e346a3b460d2ef,bump version to 2.27.0,James Bourbeau,jrbourbeau@gmail.com,2020-09-18 21:27:13-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-09-18 21:27:13-05:00
ecce3661bcc1b5b45d64071bfa9332c3aadecfb8,Fix flakey array mean (#6656),Sam Grayson,sam@samgrayson.me,2020-09-21 10:48:17-05:00,GitHub,noreply@github.com,2020-09-21 10:48:17-05:00
09ab101bfd655bc4d64efd4790f017cda0724c8b,Slightly better error message (#6657),Julia Signell,jsignell@gmail.com,2020-09-21 16:32:05-04:00,GitHub,noreply@github.com,2020-09-21 15:32:05-05:00
20277e806c3e184f17245c477a0ce1dbcce5d618,Adding v_based flag for svd_flip (#6658),Eric Czech,eric.allen.czech@gmail.com,2020-09-22 07:20:21-04:00,GitHub,noreply@github.com,2020-09-22 06:20:21-05:00
1499d1ffbfeb7ba9ccf158b695b4572b6af6e19c,add support for collect list aggregation via agg API (#6655),Madhur Tandon,madhur16053@iiitd.ac.in,2020-09-22 16:41:53+05:18,GitHub,noreply@github.com,2020-09-22 06:23:53-05:00
5fa774845476643fd46f6dd0aa26a5441dd1cddd,Infer object in array reductions (#6629),Daniel Saxton,2658661+dsaxton@users.noreply.github.com,2020-09-22 11:25:07-05:00,GitHub,noreply@github.com,2020-09-22 11:25:07-05:00
9eccbe18e047c43e8d02ae96c6925715149264ac,"Stop writing commented out config files by default (#6647)

Fixes #6634",Matthew Rocklin,mrocklin@gmail.com,2020-09-22 18:39:29-07:00,GitHub,noreply@github.com,2020-09-22 18:39:29-07:00
b72593b621b263ea8e20a88bcc46706e24dae352,Adds hash dunder method to SubgraphCallable for caching purposes (#6424),Andrew Fulton,andrewfulton9@gmail.com,2020-09-22 21:34:53-06:00,GitHub,noreply@github.com,2020-09-22 22:34:53-05:00
f0b2ac29d0127aac7d29a1675772816bb8b54424,"Use HighLevelGraph layers everywhere in collections (#6510)

Follows on from https://github.com/dask/dask/pull/6508

* Implemented culling of high level graphs
* Skip layers nobody depend on
* Added class Layer(Mapping)
* Implemented a default Layer.cull()
* Added core.keys_in_tasks()
* Layer.get_external_dependencies() to use keys_in_tasks()
* Blockwise to implement the Layer protocol
* optimize_blockwise(): fixed dependencies
* ParquetSubgraph(): implemented Layer
* Implemented HLG.keyset()
* Layer.cull(): now returns a new Layer and key dependencies",Mads R. B. Kristensen,madsbk@gmail.com,2020-09-23 16:52:47+02:00,GitHub,noreply@github.com,2020-09-23 07:52:47-07:00
ee0d205ce8bec289cefd5989b7af0d5cda67fe8b,"Fix #6631 and #6611 (#6632)

Be more permissive on the check_if_handled_given_other check",Rafal Wojdyla,ravwojdyla@gmail.com,2020-09-24 17:30:52+02:00,GitHub,noreply@github.com,2020-09-24 08:30:52-07:00
782733024e808bebfeae69cce494b1499d83bc2c,"Removed dsk equality check from SubgraphCallable.__eq__ (#6666)

This PR address an issue with SubgraphCallable.__eq__() by removing the self.dsk == other.dsk test.
This test fails in some cases. If dsk contains objects like Numpy arrays or Pandas Dataframes, the test will fail because == is elementwise.",Mads R. B. Kristensen,madsbk@gmail.com,2020-09-25 18:51:50+02:00,GitHub,noreply@github.com,2020-09-25 09:51:50-07:00
588a212cbaaa05e5bd69a46b854131247f62b473,"Partially revert chunk-splitting in indexing. (#6665)

This partially reverts the changes made in
https://github.com/dask/dask/pull/6514. It restores the old behavior
with a warning that large chunks (10x array.chunk-size) are being
produced.

Additionally, it adds a new config option to control the behavior
(`array.slicing.split-large-chunks`). Setting that to `False` silences
the warnings and keeps the ""old"" behavior (one output block per input
block touched, even if this makes a large output). Setting that to
`True` silences the warning and restores the Dask 2.26 behavior of
splitting.

Closes https://github.com/dask/dask/issues/6646",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-09-25 16:25:12-05:00,GitHub,noreply@github.com,2020-09-25 14:25:12-07:00
bb1150e064a5a10369a98a50478157d1edf82c6d,Add meta to to_dask_array (#6651),Kyle Nicholson,7997504+kylejn27@users.noreply.github.com,2020-09-25 20:12:15-04:00,GitHub,noreply@github.com,2020-09-25 17:12:15-07:00
8c35d01ab6ee5a5b99b1899e1c8d175d42d72d3a,bump version to 2.28.0,James Bourbeau,jrbourbeau@gmail.com,2020-09-25 22:39:33-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-09-25 22:39:33-05:00
34ed5340e19b317228c61c3b89153a30821c1a72,"Replace np.searchsorted with bisect in indexing (#6669)

Increases indexing performance, and is consistent with general `bisect` usage in the rest of the file.

By using `bisect` instead of `np.searchsorted`, indexing performance increases 5-fold in one test case with many repeated indices into fairly small axes.",Joachim B Haga,joachim.haga@bluware.com,2020-09-28 18:00:36+02:00,GitHub,noreply@github.com,2020-09-28 09:00:36-07:00
1d4064d0ef5794f7dc61bf3e29b5ae234d04ed4d,[NOISSUE][DOC] Fix a few typos (#6678),Pav A,rootsumsquared@gmail.com,2020-09-28 19:11:09+01:00,GitHub,noreply@github.com,2020-09-28 14:11:09-04:00
5fccf6c155d02245103b1c5107114b23f3322d0e,"Get shape of output from original array - map_overlap (#6682)

* When trim=False get chunks from original array

* Add test",Julia Signell,jsignell@gmail.com,2020-09-29 07:24:59-04:00,GitHub,noreply@github.com,2020-09-29 06:24:59-05:00
f20ededcefc40a5ce74eb1efc962ba353cd42425,"Make sure subprocesses have a consistent hash for bag groupby (#6660)

Fixes #6640

Co-authored-by: Mike Williamson <mvw@kapacity.dk>",Itamar Turner-Trauring,itamar@itamarst.org,2020-09-29 14:22:02-04:00,GitHub,noreply@github.com,2020-09-29 11:22:02-07:00
1a71fd99076bcdd064e1012069276070bebde4e0,"Improve 128-bit floating-point skip in tests. (#6676)

NumPy may not support 128-bit floating point on more than just Windows.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2020-09-30 01:56:58-04:00,GitHub,noreply@github.com,2020-09-29 22:56:58-07:00
283c2bce29f370ee619d651d8ac0cc2ff0f8edb2,"BUG Removes warning from nanstd and nanvar (#6667)

* BUG Removes warning from nanstd and nanstd

* DOC Adjust wording

* MNT Actually use network skipping in test",Thomas J. Fan,thomasjpfan@gmail.com,2020-09-30 11:34:09-04:00,GitHub,noreply@github.com,2020-09-30 11:34:09-04:00
09f7fcfd240474441e7510c73d6035515b3803f1,"_repr_html_: color sides darker instead of drawing all the lines (#6683)

* Color sides darker instead of drawing all the lines

* Add lines and make it trigger when n_lines is a sixth of size (20 for _repr_html_",Julia Signell,jsignell@gmail.com,2020-10-01 09:35:37-04:00,GitHub,noreply@github.com,2020-10-01 09:35:37-04:00
51b76e5d4820c435c4ee179ef31ea9916ec229c8,"fix typo (#6692)

fix typo",garanews,puntogtg@tiscali.it,2020-10-01 15:38:40+02:00,GitHub,noreply@github.com,2020-10-01 09:38:40-04:00
06947129999ee480a6a977b081631723e7233ce9,"Use `pandas.testing` (#6687)

`pandas.util.testing` is deprecated. The preferred way forward is to use
`pandas.testing`. So this updates our usage accordingly.",jakirkham,jakirkham@gmail.com,2020-10-02 08:09:53-07:00,GitHub,noreply@github.com,2020-10-02 08:09:53-07:00
a17ef6ebcfa434f3b6364ec11ca1b940c91a6f57,"Allow setting dataframe items using a bool dataframe (#6608)

* Allow setting dataframe items using a bool dataframe

* Add tests

* Update dask/dataframe/core.py

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* Add test for setitem with numeric column name

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2020-10-02 15:28:02-04:00,GitHub,noreply@github.com,2020-10-02 15:28:02-04:00
e09d8d976725ec844d39ae033f797c41aaa37ba6,"Revert ""Use HighLevelGraph layers everywhere in collections (#6510)"" (#6697)

This reverts commit f0b2ac29d0127aac7d29a1675772816bb8b54424.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-10-02 17:29:44-05:00,GitHub,noreply@github.com,2020-10-02 17:29:44-05:00
8a699223982ce8425f59f048d0163090b4a81193,bump version to 2.29.0,James Bourbeau,jrbourbeau@gmail.com,2020-10-02 18:10:48-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-10-02 18:10:48-05:00
bcca911b25e638989db798e03affe007ab8c4e43,"API: allow rechunk to evenly split into N chunks (#6420)

* API: provide function to evenly chunk array

* Fold n_chunks into rechunk

* TST: speed up tests

* lint

* TST: small positive chunks

* API: only allow tuples

* black

* Update dask/array/rechunk.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

* edit example in _even_chunksize

* Larger tolerance

* n_chunks  balance

* typo

* TST: better test balance

* DOC: remove some extra documentaiton

* typo

* update docstring

We remove the unnecessary // 6 and we explain the default behavior
before we go into the new behavior

* MAINT: simplify implementation

* TST: test to make sure splits into N chunks

* lint

* Add test for raises

* ValueError  UserWarning

* Unused import

* Edit docstring

Co-authored-by: Julia Signell <jsignell@gmail.com>
Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>",Scott Sievert,stsievert@users.noreply.github.com,2020-10-06 15:41:01-05:00,GitHub,noreply@github.com,2020-10-06 16:41:01-04:00
5401c49bae351c1fedf3bab37c9529369e1ea2fd,bump version to 2.30.0,James Bourbeau,jrbourbeau@gmail.com,2020-10-06 17:29:46-05:00,James Bourbeau,jrbourbeau@gmail.com,2020-10-06 17:29:46-05:00
34fd6261bfc58f748c2db068dc74482d391ce130,Update dask-sphinx-theme version (#6700),Gil Forsyth,gforsyth@users.noreply.github.com,2020-10-06 18:38:37-04:00,GitHub,noreply@github.com,2020-10-06 17:38:37-05:00
121324893272e307f3fb07a258c364e956fe09c6,"Allow *_like array creation functions to respect input array type (#6680)

This PR provides support for different array types in the *_like array creation functions. Eg: you can pass a cupy array (or cupy-backed dask array) to da.ones_like and get back a cupy-backed dask array of the appropriate shape filled with ones.",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2020-10-09 03:04:04+11:00,GitHub,noreply@github.com,2020-10-08 09:04:04-07:00
d4447e77746c34692cfb17f613f7ef4e40a24aa2,"Revert ""Revert ""Use HighLevelGraph layers everywhere in collections (#6510)"" (#6697)"" (#6707)

This reverts commit e09d8d976725ec844d39ae033f797c41aaa37ba6.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-10-08 11:59:16-05:00,GitHub,noreply@github.com,2020-10-08 11:59:16-05:00
bd18820642aba7388455381f872bfbc5437dc9a1,"HLG: get_dependencies() of single keys (#6699)

Updates `get_dependencies()` to work on single keys instead of all keys in the `Layer`",Mads R. B. Kristensen,madsbk@gmail.com,2020-10-08 19:03:22+02:00,GitHub,noreply@github.com,2020-10-08 12:03:22-05:00
a2235ae8bea112ddbc5e3ce141cb3fc56c4ee1cc,DOC: add az (#6719),Ray Bell,rayjohnbell0@gmail.com,2020-10-08 23:52:58-04:00,GitHub,noreply@github.com,2020-10-08 22:52:58-05:00
d73fb8b81481df2ca49e0c183a372eb61e1a9ad7,"Change type of Dask array when meta type changes (#5628)

* Change type of Dask array when meta type changes

Previously da.map_blocks would always return a Dask Array,
even when we mapped a function like pandas.Series.

Now we convert the underlying collection type to a dataframe

* Explicitly support series objects in da.reduction

* Update dask/array/core.py

Co-Authored-By: Tom Augspurger <TomAugspurger@users.noreply.github.com>

* use compute_meta

* user assert_eq from dask dataframe in test for arrary->series/dataframe

* meta can be none and if it is we should compute the dtype

* always calculate dtype

* Run `black`

Co-authored-by: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>
Co-authored-by: Benjamin Zaitlen <quasiben@gmail.com>
Co-authored-by: John Kirkham <jakirkham@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2020-10-09 12:06:46-07:00,GitHub,noreply@github.com,2020-10-09 12:06:46-07:00
dcbdbe63be2d9725c31d60b3c813dacb2888df93,Minor fix to #5628 using @pentschev's suggestion (#6724),jakirkham,jakirkham@gmail.com,2020-10-09 14:59:10-07:00,GitHub,noreply@github.com,2020-10-09 14:59:10-07:00
45fd9092049a61c1d43067a0132574b3fe715153,"Added doctest extension for documentation make and testing (#6397)

* Sphinx configuration missing doctest extension for Makefile
* Fixed the majority of doctest failures for warnings originating in the dask library documentation itself.

There are quite a few originating from the dask/distributed integration and the NumPY FFT integration.
I'm going to review and debug these with respect to the version of distributed coming from the requirements.

* Fixing up, or ignoring, remaining doctest errors from imported methods or newer changes",Jim Circadian,JimCircadian@users.noreply.github.com,2020-10-12 19:49:14+01:00,GitHub,noreply@github.com,2020-10-12 11:49:14-07:00
d0ecbeafc03ce1a49fb613441bca6acd2941f9a3,"Fixes for `svd` with `__array_function__` (#6727)

* Fix svd_flip type casting that fails with CuPy arrays

* Fix svd meta for single-chunk case

* Add single-chunk SVD test with CuPy",Peter Andreas Entschev,peter@entschev.com,2020-10-12 22:38:11+02:00,GitHub,noreply@github.com,2020-10-12 15:38:11-05:00
c631d3218aaa8c8cfcd15b0c1840c4a422fd9102,"Update overlap `*_like` function calls and CuPy tests (#6728)

* Update overlap functions to use *_like with meta support

* Update CuPy tests

* Removed no longer used wrap import in overlap",Peter Andreas Entschev,peter@entschev.com,2020-10-13 00:01:47+02:00,GitHub,noreply@github.com,2020-10-12 15:01:47-07:00
6c71a426400d259d28411978e0ce86e5446be256,Map on HighLevelGraph Layers (#6689),Mads R. B. Kristensen,madsbk@gmail.com,2020-10-13 22:11:44+02:00,GitHub,noreply@github.com,2020-10-13 15:11:44-05:00
14f6a76b38b2990fa40ef64fcd8933b6ee56b93f,Ensure HighLevelGraph layers always contain Layer instances (#6716),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-10-13 21:25:58-05:00,GitHub,noreply@github.com,2020-10-13 21:25:58-05:00
fbf0ef1b35a9aba860014518c6d992ff6c98dc04,"Fix docstring `DataFrame.set_index` (#6739)

Small fix for a missing line that was causing weird rendering in the docs",Gil Forsyth,gforsyth@users.noreply.github.com,2020-10-15 12:41:49-04:00,GitHub,noreply@github.com,2020-10-15 11:41:49-05:00
98dfb92c2a7664f137d73e0784e20ac60d143153,"Do balanced rechunking even if chunks are the same. (#6735)

The initial chunking may be unbalanced, and specifying the `balance`
argument indicates a desire always balance.",Chris Roat,1053153+chrisroat@users.noreply.github.com,2020-10-15 10:29:38-07:00,GitHub,noreply@github.com,2020-10-15 13:29:38-04:00
c1382bd75979dce166bc6530c4c37e6cd1bd48a4,Handle literal in meta_from_array (#6731),Peter Andreas Entschev,peter@entschev.com,2020-10-15 21:18:57+02:00,GitHub,noreply@github.com,2020-10-15 14:18:57-05:00
fbe5174693ade649e9e4f881f16e55ec28399cf7,Add ShuffleStage HLG Layer (#6650),Richard (Rick) Zamora,rzamora217@gmail.com,2020-10-16 13:12:44-05:00,GitHub,noreply@github.com,2020-10-16 13:12:44-05:00
25a5db2dbe718a7c5aceaa561da6185b064b8ccc,"Adjust parquet ArrowEngine to allow more easy subclass for writing (#6505)

* Adjust parquet ArrowEngine to allow more easy subclass for the writing part

* add keyword names

* blacken",Joris Van den Bossche,jorisvandenbossche@gmail.com,2020-10-19 16:04:52+02:00,GitHub,noreply@github.com,2020-10-19 10:04:52-04:00
e85942f8e1499488fec4a11efd137014e5f4fa27,Removed Mutable Default Argument (#6747),Mads R. B. Kristensen,madsbk@gmail.com,2020-10-19 18:55:20+02:00,GitHub,noreply@github.com,2020-10-19 11:55:20-05:00
ba576a2e90f38a59d17235115f9fa472af8b77a5,Add attrs property to Series/Dataframe (#6742),Illviljan,14371165+Illviljan@users.noreply.github.com,2020-10-19 23:43:49+02:00,GitHub,noreply@github.com,2020-10-19 16:43:49-05:00
2581be6ad1b514a8ad079bb29212b891f0024d18,Serialization of layers (#6693),Mads R. B. Kristensen,madsbk@gmail.com,2020-10-20 00:04:24+02:00,GitHub,noreply@github.com,2020-10-19 17:04:24-05:00
cb3543b4b1d48827075094cd6d68d818d7b32e34,"CI: Fixed bug causing flaky test failure in pivot (#6752)

When a partition had unobserved categories, the result MultiIndex would
have the right dtype but not the right shape. This caused the `concat`
to later cast to object dtype, causing the test failure.

The fix is to not drop the all-NA columns.

Closes https://github.com/dask/dask/issues/6729",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-10-20 08:31:11-05:00,GitHub,noreply@github.com,2020-10-20 08:31:11-05:00
2b45fdb9bcf4a98e54b8fa2c7c3da1410a73bea3,Add 2D possibility to da.linalg.lstsq - mirroring numpy (#6749),Pascal Bourgault,bourgault.pascal@ouranos.ca,2020-10-20 09:51:42-04:00,GitHub,noreply@github.com,2020-10-20 09:51:42-04:00
0e406d99c17d61e50b730156ad13af0c1953aebf,"Fix meta for min/max reductions (#6736)

* Fix meta for min/max reductions

* Add more CuPy reduction tests

* Fix compute_meta ValueError exception handling",Peter Andreas Entschev,peter@entschev.com,2020-10-21 20:19:12+02:00,GitHub,noreply@github.com,2020-10-21 14:19:12-04:00
f14f48a9d97747dcb0c704f05dc9377d6433e831,Temporarily use pyarrow<2 in CI (#6759),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-10-21 13:46:12-05:00,GitHub,noreply@github.com,2020-10-21 13:46:12-05:00
46ef300d4174983e769702a38a51c6884a8765b5,Config array optimize to skip fusion and return a HLG (#6751),Mads R. B. Kristensen,madsbk@gmail.com,2020-10-21 20:46:48+02:00,GitHub,noreply@github.com,2020-10-21 13:46:48-05:00
81c24bf05ed59394424527900ae60662c3bb8fa1,Efficient serialization of shuffle layers (#6760),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-10-23 16:34:52-05:00,GitHub,noreply@github.com,2020-10-23 16:34:52-05:00
9dae03482a837e415af82f1fe8a47a391719a288,"Clarify differences in boolean indexing between dask and numpy arrays (#6764)

* Hint how to do boolean indexing

dask does boolean indexing differently compared to numpy, add a hint how it's done in the error. 
Make if-condition a little easier to read.

* Undo condition changes

* Move error tot setitem instead.",Illviljan,14371165+Illviljan@users.noreply.github.com,2020-10-26 17:52:21+01:00,GitHub,noreply@github.com,2020-10-26 12:52:21-04:00
a8329c2088d722bd8438eef45d70154251569991,"Begin experimenting with parallel prefix scan for cumsum and cumprod (#6675)

* Begin experimenting with parallel prefix scan for cumsum and cumprod in dask.array

This is a WIP and needs benchmarked.  I think it's interesting, though, and want to share.
It's been a while since I've worked on dask.array, so feedback is most welcome.

This is a work-efficient parallel prefix scan.  It uses a Brent-Kung construction and
is known as the Blelloch algorithm.  We adapt it to work on chunks.

Previously, to do a cumsum across N chunks would require N levels of dependencies.
This PR takes approximately 2 * lg(N) levels of dependencies.  It exposes parallelism.
It is work-efficient and only requires a third more tasks than the previous method.
Scans on floating point values should also be more accurate.

A parallel cumsum works by first taking the sum of each block, then do a binary tree
merge followed by a fan-out (i.e., the Brent-Kung pattern).  We then take the cumsum
of each block and add the sum of the previous blocks.

NumPy calculates cumsum and cumprod very fast, but it calculates sum and prod
significantly faster.  This is why I think this approach will be faster.
Exposing parallelism and an efficient communication pattern is another reason I think
this should be faster (especially when communication costs are significant).

I also think this will be an interesting test for `dask.order` and the scheduler.

Q: Should we allow users to choose which method to use (i.e., prev or new in this PR)?
Does the answer to this depend on benchmarks?

Benchmarks and graph diagrams are forthcoming :)

* Choose cumsum/cumprod with `method=` keyword argument.

Current choices are ""sequential"", ""blelloch"", and ""blelloch-split"".
Default is ""sequential"".  I need to document these.

* black

* Add docstrings for ""blelloch"" method for cumsum/cumprod",Erik Welch,erik.n.welch@gmail.com,2020-10-26 14:39:19-05:00,GitHub,noreply@github.com,2020-10-26 14:39:19-05:00
0ca77043bbbe015dcb69378ece54419332734f40,"Document `meta` kwarg in `map_blocks` and `map_overlap`. (#6763)

* Documenta `meta` kwarg in `map_blocks` and `map_overlap`.

* Small fixes to ``meta`` text

* Document using `dtype` with `meta` in `map_blocks`

* Skip CuPy doctests",Peter Andreas Entschev,peter@entschev.com,2020-10-27 11:59:49+01:00,GitHub,noreply@github.com,2020-10-27 05:59:49-05:00
405fd8cb9cc24f68959af72c2fb6a824a6638abd,"Bugfix for parquet metadata writes of empty dataframe partitions (pyarrow)  (#6741)

* [bugfix/to-parquet-write-empty-metadata] Filter out null entries in pyarrow parquet metadata writes, causes AttributeError/Segfault

* Explicit failure for exception test

* [bugfix/to-parquet-write-empty-metadata] black

* Remove unnecessary imports
UTs homogenous typing for all builds

* Placate 3.9 pre-commit

* Remove unnecessary scheduler specs

Co-authored-by: Callum Noble <C.Noble@mwam.com>",Callum Noble,47872717+callumanoble@users.noreply.github.com,2020-10-27 14:34:03+00:00,GitHub,noreply@github.com,2020-10-27 10:34:03-04:00
9d19952c71daeb96ec6ecef884559827f04183e8,Fix some minor typos and trailing whitespaces in array-slice.rst (#6771),Magnus Nord,magnunor@gmail.com,2020-10-27 17:52:13+01:00,GitHub,noreply@github.com,2020-10-27 11:52:13-05:00
94bdd4e3e9a34cc10308b4f3a6f40a35d507f304,Try to make categoricals work on join (#6205),Julia Signell,jsignell@gmail.com,2020-10-29 14:55:48-04:00,GitHub,noreply@github.com,2020-10-29 13:55:48-05:00
c4038add1a087ba3a82207a557cdcad9753b689d,"Avoid rechunking in reshape with chunksize=1 (#6748)

* Avoid rechunking in reshape with chunksize=1

When the slow-moving (early) axes in `.reshape` are all size 1, then we
can avoid an intermediate rechunk which could cause memory issues.

```
00 01 | 02 03   # a[0, :, :]
----- | -----
04 05 | 06 07
08 09 | 10 11

=============

12 13 | 14 15   # a[1, :, :]
----- | -----
16 17 | 18 19
20 21 | 22 23

-> (3, 4)

00 01 | 02 03
----- | -----
04 05 | 06 07
08 09 | 10 11
----- | -----
12 13 | 14 15
----- | -----
16 17 | 18 19
20 21 | 22 23
```",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-10-30 09:01:37-05:00,GitHub,noreply@github.com,2020-10-30 09:01:37-05:00
f1bdccb30efe89dbadfc66b0cfbc599e358753e6,HLG: get_all_external_keys() (#6774),Mads R. B. Kristensen,madsbk@gmail.com,2020-10-30 15:48:55+01:00,GitHub,noreply@github.com,2020-10-30 09:48:55-05:00
48a4d4a5c5769f6b78881adeb1b3973a950e5f43,"Add doc on managing environments (#6778)

* Add doc on managing environments

* Update docs/source/setup/environment.rst

Co-authored-by: Julia Signell <jsignell@gmail.com>

Co-authored-by: Julia Signell <jsignell@gmail.com>",Martin Durant,martindurant@users.noreply.github.com,2020-11-02 09:22:25-05:00,GitHub,noreply@github.com,2020-11-02 09:22:25-05:00
f937c06a2ee1b92515714365ea945ca7b4d0e945,Add missing methods of the Dataframe API (#6789),Stephannie Jimenez Gacha,steff456@users.noreply.github.com,2020-11-02 20:45:36-05:00,GitHub,noreply@github.com,2020-11-02 19:45:36-06:00
b439233d0c23c9841332c88f74c4279c94232e56,Add high level graph pack/unpack for distributed (#6786),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-03 20:13:48+01:00,GitHub,noreply@github.com,2020-11-03 11:13:48-08:00
5589bfddb5982777d29e424fa438f1667a74a60a,Add optional IO-subgraph to Blockwise Layers (#6715),Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-03 21:45:39-06:00,GitHub,noreply@github.com,2020-11-03 21:45:39-06:00
7326781f2a87403855edbdb35fef1df2141b38eb,"Add ""view code"" links to documentation (#6793)

Many parts of dask's API are sparsely documented. The dataframe API usually only referes to pandas and does not document additional arguments. Adding a ""view code"" link is quite handy to check what the addtitional, undocumented arguments really do.",manuels,manuel.schoelling@gmx.de,2020-11-04 22:48:10+01:00,GitHub,noreply@github.com,2020-11-04 15:48:10-06:00
7968e85e2edab95565ebbab1f936c9c549e29126,"Add Layer Annotations (#6767)

This allows users to annotate high level graph layers with a `dask.annotate` context manager.",Simon Perkins,simon.perkins@gmail.com,2020-11-05 05:01:50+02:00,GitHub,noreply@github.com,2020-11-04 19:01:50-08:00
3bd6bb2190bc83110b9a459d0a7c3524fc775e92,"Rechunk array if smallest chunk size is smaller than depth (#6708)

* Rechunk array if smallest chunk size is smaller than depth

* Hopefully simpler...

* Steal from neighboring chunks when possible

* Fix tests

* Respond to comments",Julia Signell,jsignell@gmail.com,2020-11-05 08:39:38-05:00,GitHub,noreply@github.com,2020-11-05 08:39:38-05:00
96b39a23be801497cfe8559e33f7542ca805d170,"Avro reader (#6780)

* Use fastavro.reader, if iter_avro is not available

* lint",Martin Durant,martindurant@users.noreply.github.com,2020-11-05 11:06:34-05:00,GitHub,noreply@github.com,2020-11-05 11:06:34-05:00
80239dab180ea9b2a444ef03b1998cf9fd589292,Layer annotation docstrings improvements (#6806),Simon Perkins,simon.perkins@gmail.com,2020-11-05 18:51:27+02:00,GitHub,noreply@github.com,2020-11-05 10:51:27-06:00
7beeebbb9e6819e3c3fabe9d5e964cafe53f82fe,"Remove to_delayed operations from to_parquet (#6801)

* remove to_delayed operations from to_parquet

* tweak comments

* expand test_getitem_optimization

* move dict update outside for loop

* use apply instead of new wrappers",Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-09 12:55:22-06:00,GitHub,noreply@github.com,2020-11-09 13:55:22-05:00
554ca8877d36d30732712698f3135e13edd6654a,"Fix #6775 (#6809)

* fix #6775

* add test",David Katz,41651296+DavidKatz-il@users.noreply.github.com,2020-11-10 15:46:22+02:00,GitHub,noreply@github.com,2020-11-10 08:46:22-05:00
e4bdfcf521f3022e8f8300b4ebe7848f7da14a2d,"Change ""institutional"" SQL doc section to point to main SQL doc (#6823)",Martin Durant,martindurant@users.noreply.github.com,2020-11-10 10:47:44-05:00,GitHub,noreply@github.com,2020-11-10 07:47:44-08:00
5c3d7c0bd11b70498b46dca535450227c3f06a80,"Check for all-NaN partitions (#6821)

* Check for all-NaN partitions

Check for all-NaN partitions when calling `set_index` with `sorted=True`, and raise a more specific/helpful error.

* add test for nan partition index",Rockwell Weiner,rockwellw@users.noreply.github.com,2020-11-11 06:15:14-08:00,GitHub,noreply@github.com,2020-11-11 09:15:14-05:00
061613eb8ef983e6bc1d620ed43634d8a4f6e1af,Add blocksize to task name (#6818),Julia Signell,jsignell@gmail.com,2020-11-11 22:51:27-05:00,GitHub,noreply@github.com,2020-11-11 19:51:27-08:00
aeb78158cedd30c640ecb26581b073db53222628,"Respect dtype in svd compression_matrix #2849 (#6802)

This prevents from promoting datatypes of less then 4 bytes precision to promote to 8 bytes as explained in #2849. This also improves the performances drastically as the following QR and SVD will be faster.",RogerMoens,45488927+RogerMoens@users.noreply.github.com,2020-11-12 16:38:01+01:00,GitHub,noreply@github.com,2020-11-12 07:38:01-08:00
1e0a9a1695b77a4964738df3869ad86443040573,Use HighLevelGraph.merge in collections_to_dsk (#6836),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-13 16:20:29+01:00,GitHub,noreply@github.com,2020-11-13 07:20:29-08:00
470bab3d21c1d8c41562b3e6794aa867f7bd01c7,fixed typo (#6834),Devanshu Desai,37163544+devanshuDesai@users.noreply.github.com,2020-11-13 08:26:59-08:00,GitHub,noreply@github.com,2020-11-13 10:26:59-06:00
fe3d402ad8bc7c1a67408d6969fc541a9453d76d,Avoid graph materialization during Blockwise culling (#6815),Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-13 17:54:31-06:00,GitHub,noreply@github.com,2020-11-13 17:54:31-06:00
826205310f2ac1476c1416765a563708aac9f38d,Fix minimum dependencies CI builds [test-mindeps] (#6838),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-11-14 11:17:33-06:00,GitHub,noreply@github.com,2020-11-14 11:17:33-06:00
64bbc6833d390ef329ba1aa92082199ce9f33535,Fix sphinx currentmodule usage (#6839),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-11-14 13:30:46-06:00,GitHub,noreply@github.com,2020-11-14 11:30:46-08:00
c27f33ee3f5b71fc6666ce9beb34004eac100cb1,Migrate to GitHub Actions (#6794),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-11-14 20:52:26+00:00,GitHub,noreply@github.com,2020-11-14 14:52:26-06:00
8d622ad81162245d5e7663522b9721df5b23e9f4,"Fix transpose of u in SVD (#6799)

Fixes  #6757",RogerMoens,45488927+RogerMoens@users.noreply.github.com,2020-11-15 18:54:38+01:00,GitHub,noreply@github.com,2020-11-15 09:54:38-08:00
3e264491e5b5285ad5c1be9c0d01cea8bb432180,Remove nans when setting sorted index (#6829),Rockwell Weiner,rockwellw@users.noreply.github.com,2020-11-16 09:13:26-08:00,GitHub,noreply@github.com,2020-11-16 09:13:26-08:00
ac2f6ee579d94cca75d8bfd336218ea35a22b274,Bump GHA setup-miniconda version (#6847),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-11-17 14:52:32+00:00,GitHub,noreply@github.com,2020-11-17 08:52:32-06:00
784989732346b4a2fc93df7b1c06ae7570561743,"Add doc hit for as_completed().update(futures) (#6817)

* Add doc hit for as_completed().update(futures)

* Correct markdown syntax

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",manuels,manuel.schoelling@gmx.de,2020-11-17 16:45:04+01:00,GitHub,noreply@github.com,2020-11-17 10:45:04-05:00
553ed261a4ac62fcd56c2ca472377a6945fd3668,Use map_partitions instead of delayed in set_index (#6837),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-17 16:55:18+01:00,GitHub,noreply@github.com,2020-11-17 07:55:18-08:00
bf17b72251ade963df679d842c9b691c52a89d8a,__dask_distributed_pack__() now takes a client argument (#6850),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-18 04:29:13+01:00,GitHub,noreply@github.com,2020-11-17 21:29:13-06:00
f9649b45abda9332618938d0c2cb2ea5a3db0d56,"Introduce QR iteration to svd_compressed (#6813)

**compression_level**: 
- Addition of inline parameter docs
- Changed oversamples to n_oversamples to be consequent with other variable names e.g. n_power_iter

**compression_matrix**:
- Properly propagate n_oversamples to compression_level
- Addition of iterator type (QR, power or none) also consequent towards Halko et al. paper in naming
- Addition of the iterations themselves. Note: I tried to implement LU, but had some problems with respect to the dask lu only accepting square matrices, I saw that there is an open topic about it, but I need to find time for it and review it (see #1978)

**svd_compressed**:
- Properly propagate n_oversamples to compression_matrix
- Addition of iterator type

Small test to validate:
```python
import dask.array as da
import dask
import scipy.linalg as sl
import numpy as np

n_sv = 20 # Number of Singular Values
m = 100000
n = 100
datatype = np.float32

# Random Matrix
#a = da.random.random(size=(m, n)).astype(datatype)
# Random Matrix with rank = n_sv
x = da.random.normal(1, 1, size=(m, n_sv))
y = da.random.normal(1, 1, size=(n, n_sv))
n = da.random.normal(0, 3, size=(m,n))
a = (x@y.T).astype(datatype)+n

u, s, vt = sl.svd(a, full_matrices=False) # True SVD: GESDD
u_none, s_none, vt_none = da.linalg.svd_compressed(a, n_sv, iterator='none', n_oversamples=0)
u_power, s_power, vt_power = da.linalg.svd_compressed(a, n_sv, iterator='power', n_power_iter=2, n_oversamples=0)
u_qr, s_qr, vt_qr = da.linalg.svd_compressed(a, n_sv, iterator='QR', n_power_iter=2, n_oversamples=0)
u_none, s_none, vt_none, u_power, s_power, vt_power, u_qr, s_qr, vt_qr = dask.compute(u_none, s_none, vt_none, u_power, s_power, vt_power, u_qr, s_qr, vt_qr)

recon_true = (u[:,:n_sv]*s[:n_sv]).dot(vt[:n_sv,:])
recon_none = (u_none[:,:n_sv]*s_none[:n_sv]).dot(vt_none[:n_sv,:])
recon_power = (u_power[:,:n_sv]*s_power[:n_sv]).dot(vt_power[:n_sv,:])
recon_qr = (u_qr[:,:n_sv]*s_qr[:n_sv]).dot(vt_qr[:n_sv,:])

score = 100*da.linalg.norm(recon_none-recon_true, 'fro')/da.linalg.norm(recon_true, 'fro')
print('None: Reconstruction Error: ', score, '%')
score = 100*da.linalg.norm(recon_power-recon_true, 'fro')/da.linalg.norm(recon_true, 'fro')
print('Power: Reconstruction Error: ', score, '%')
score = 100*da.linalg.norm(recon_qr-recon_true, 'fro')/da.linalg.norm(recon_true, 'fro')
print('QR: Reconstruction Error: ', score, '%')

score = 100*da.linalg.norm(s_none-s[:n_sv], 2)/da.linalg.norm(s[:n_sv], 2)
print('None: Relative 2-norm Difference: ', score, '%')
score = 100*da.linalg.norm(s_power-s[:n_sv], 2)/da.linalg.norm(s[:n_sv], 2)
print('Power: Relative 2-norm Difference: ', score, '%')
score = 100*da.linalg.norm(s_qr-s[:n_sv], 2)/da.linalg.norm(s[:n_sv], 2)
print('QR: Relative 2-norm Difference: ', score, '%')
```

```
None: Reconstruction Error:  14.794453581141495 %
Power: Reconstruction Error:  3.4736752625988836 %
QR: Reconstruction Error:  3.507629909639904 %
None: Relative 2-norm Difference:  5.345536274253427 %
Power: Relative 2-norm Difference:  1.3581256528936505 %
QR: Relative 2-norm Difference:  0.9725788364203429 %
```

Future: 
- Review compute option of svd_compressed for QR iteration instead of only power iteration
- Design appropriate testing for test_linalg
- Add LU iterator

References: #6757
Co-authored-by: Eric Czech <eric.allen.czech@gmail.com>",RogerMoens,45488927+RogerMoens@users.noreply.github.com,2020-11-18 16:35:03+01:00,GitHub,noreply@github.com,2020-11-18 07:35:03-08:00
f5ff26702c659097c459df824b6163b2b3c7daeb,Removed map_tasks() and map_basic_layers() (#6853),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-18 18:04:33+01:00,GitHub,noreply@github.com,2020-11-18 11:04:33-06:00
5543d936a91bad3844adf4045266735b44415dcf,"Add keyword overwrite=True to to_parquet to remove dangling files when overwriting a pyarrow Dataset. (#6825)

* Added docs and keywords to to_parquet fn

* Added test for overwrite to test_parquet

* Linting

* Added error handling for no value path

* Removed path from truth test.  to_parquet already raises exception if path is empty

* Added handling to prevent overwriting current directory

* Handling of path being identical to run location

* Linting

* Update dask/dataframe/io/parquet/core.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/parquet/core.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Updated size of test dataframe

* Linting

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update dask/dataframe/io/parquet/core.py

* Added import of fsspec LocalFileSystem and check against fs when overwrite is True

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>",Greg Hayes,hayesgb@gmail.com,2020-11-18 12:12:43-06:00,GitHub,noreply@github.com,2020-11-18 13:12:43-05:00
3c64a88034beb9b940102bd5d01414c10e15f032,Stringify utilities (#6852),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-19 07:07:28+01:00,GitHub,noreply@github.com,2020-11-19 00:07:28-06:00
439c4ab28cd3ed3de23c13cbbe3e0db8342dd4de,"Improve ordering for workloads with a common terminus (#6779)

The current ordering algorithm struggles with workloads where there's
a single, common root node that's downstream of a tasks with some shared
dependencies.

                s
        /   /       \   \
       /   /         \   \
     s00  s10       s01  s11
      |    |         |    |
     b00  b10       b01  b11
     / \  / \       / \ / \
    a0  a1  a2    a3  a4  a5

Previously, we started at a0, finished s00, and then jumped down to a3
after deciding that we should work on s01 based on a tiebreaker. We'd
instead like to work on s10, thakns to the shared dependency a1.

The ordering algorithm does just fine in the absence of the common root
node `s`. So this PR proposes to just ignore it, at least in the part of
the ordering where we made the wrong choice previously.",Tom Augspurger,TomAugspurger@users.noreply.github.com,2020-11-19 11:29:59-06:00,GitHub,noreply@github.com,2020-11-19 09:29:59-08:00
ff3ea6c74e8736a5823d648defcf9164f083d266,"Add `create_metadata_file` utility for existing parquet datasets (#6851)

* add create_metadata_file

* saving state

* set index name for 3.6 test

* clean up comments, tests, and docstrings

* fix split_every mistake

* make root_dir optional

* disable fail-fast to check CI

* re-enable fail-fast to check CI

* trigger ci",Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-19 11:42:13-06:00,GitHub,noreply@github.com,2020-11-19 12:42:13-05:00
77dc49bbf07ac6d99bc13917bca1225270292e88,"Avoid duplicate parquet schema communication (#6841)

* save state

* remove temporary agg experiment

* use return_schema kwarg

* use head instead of return_schema

* get schema before removing null parts

* improve test coverage

* avoid schema assertion for partitioned case

* just check that reasonable pandas_metadata exists",Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-20 10:09:58-06:00,GitHub,noreply@github.com,2020-11-20 11:09:58-05:00
cde278dc7e529a14158f9306b7ab1809b0484e9b,address columns=[] bug (#6871),Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-20 21:10:24-06:00,GitHub,noreply@github.com,2020-11-20 21:10:24-06:00
de2c7b5bb1cedc04977ddc6f2d562c93c1bc99e6,Serialization of Blockwise (#6848),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-21 05:35:06+01:00,GitHub,noreply@github.com,2020-11-20 22:35:06-06:00
bb6936d127bc2e24874e9fbb00c608d32edf6835,BasicLayer: remove dependency arguments (#6859),Mads R. B. Kristensen,madsbk@gmail.com,2020-11-24 15:50:24+01:00,GitHub,noreply@github.com,2020-11-24 08:50:24-06:00
b3707ffac2563c2fa925bc9247564c1c8929e6dd,possible fix for 6864 set_index issue (#6866),Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-24 08:57:01-06:00,GitHub,noreply@github.com,2020-11-24 09:57:01-05:00
9c7cf0e24f9a98f295271c06779a4f290b60724e,"Add human relative time formatting utility (#6883)

* Add time ago utility

* Update dask/utils.py

Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>

* Improve docstring readability and add type hints

* Add blank line

Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-11-24 17:24:21+00:00,GitHub,noreply@github.com,2020-11-24 17:24:21+00:00
25bdd200fcdf17368008ce475d370dd77af2bb66,Fix documentation about task scheduler (#6879),Zhengnan Zhao,zzhengnan@protonmail.com,2020-11-24 12:28:43-05:00,GitHub,noreply@github.com,2020-11-24 11:28:43-06:00
2bfc965f5721c44cc453bb9f06d057b134964725,"Fix ArrowEngine bug in use of clear_known_categories (#6887)

* fix bug calling clear_known_categories

* handle index in general - not just unnamed

* remove unused NONE_LABEL

* no need to target index explicitly",Richard (Rick) Zamora,rzamora217@gmail.com,2020-11-25 09:27:51-06:00,GitHub,noreply@github.com,2020-11-25 10:27:51-05:00
2ce9cf9190482315e317656e11cd1f7707f91c0c,Update/remove pandas and numpy in mindeps (#6888),Julia Signell,jsignell@gmail.com,2020-11-25 14:11:10-05:00,GitHub,noreply@github.com,2020-11-25 13:11:10-06:00
9472b69c3333c3767fe9a500ea6c310d83cfb4c6,Pin array mindeps up a bit to get the tests to pass [test-mindeps] (#6894),Julia Signell,jsignell@gmail.com,2020-11-25 17:12:43-05:00,GitHub,noreply@github.com,2020-11-25 17:12:43-05:00
fbccc4ef3e1974da2b4a9cb61aa83c1e6d61efba,"Add support for cupyx sparse to dask.array.dot (#6846)

* Add tensordot_lookup.register in register_scipy_sparse

* Use concatenate=True if tensordot has a single reduction axis

* Add tensordot for CuPy sparse

* Use same _tensordot implementation for CuPy and SciPy

* Add a test for dask.array.dot with CuPy sparse",Akira Naruse,naruse.12251624@gmail.com,2020-11-27 05:45:04+09:00,GitHub,noreply@github.com,2020-11-26 15:45:04-05:00
ee4e8b7fca1419cfad76bbbd10e80435561b2c21,Fixes #6898 (#6901),Martin Durant,martindurant@users.noreply.github.com,2020-11-27 15:31:58-05:00,GitHub,noreply@github.com,2020-11-27 15:31:58-05:00
a555c76fff593f1c4437b91a28e7328ef5e50bc6,Add name arg to (#6903),Ruben van de Geer,37443208+rubenvdg@users.noreply.github.com,2020-11-29 21:37:00+01:00,GitHub,noreply@github.com,2020-11-29 14:37:00-06:00
8f9fc1635170cda07a4bb8c4bd93e96da151d938,"Fix dtype in array meta (#6893)

* Fix dtype in array meta

* Don't change core.py at all

* Add test",Julia Signell,jsignell@gmail.com,2020-11-30 11:00:49-05:00,GitHub,noreply@github.com,2020-11-30 11:00:49-05:00
d0ae3aab6c1bbf2969781ec30c3112c71332a91a,"Added dataframe skew method (#6881)

* added first draft and tests

* took out test draft

* changed 0d skew output to scalar

* moved import into methods

* added docs addition for scipy

* added test for return type

* fixed liting

* added more test cases

* added notes to the skew docstring",Jan Borchmann,j.borchmann@gmx.de,2020-11-30 11:44:02-05:00,GitHub,noreply@github.com,2020-11-30 11:44:02-05:00
4390f2aad8a77768bd9b24a47e4bc5292363df30,Temporarily xfail test_from_s3 (#6915),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-11-30 19:47:36-06:00,GitHub,noreply@github.com,2020-11-30 19:47:36-06:00
b8131ea12418e54baa15f7524c48c92db821008c,Add annotations to ShuffleLayers (#6913),Matthew Rocklin,mrocklin@gmail.com,2020-11-30 18:21:45-08:00,GitHub,noreply@github.com,2020-11-30 20:21:45-06:00
c00e01b8ba414d4fa645f74933f83b16387ef4e4,"Only run the cron CI on dask/dask not forks (#6905)

* Only run the cron CI on dask/dask not forks

* Move logic around",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-12-01 14:32:52+00:00,GitHub,noreply@github.com,2020-12-01 09:32:52-05:00
ffbe7d4f0c6bdd1b399f66f52b3d6b4420fc54ef,add more informative error message to da.coarsen when coarsening factors do not divide shape (#6908),Davis Bennett,davis.v.bennett@gmail.com,2020-12-01 10:16:16-05:00,GitHub,noreply@github.com,2020-12-01 10:16:16-05:00
c58b031c6f979d93e67d66e982693dbea9daea71,"Support pyarrow.dataset API for read_parquet (#6534)

* add back basic pyarrow.dataset integration

* save state

* pass more tests

* generate partition_obj when needed

* handle chunksize

* handle timestamp/datetime mismatch

* avoid validate schema test

* remove pdb

* correct file name bug

* use categories for partitioned columns

* handle _metadata in list

* relative file-path handling

* missed changes in last save

* adjust graph-size test

* avoid overflow test

* all tests passing initial integration - cleanup and clear opt-in procedure needed

* enable dictionary-encoded partition columns by default

* remove some silly code

* improve documentation

* address partial code review

* avoid ensure_complete_metadata unless statistics is None

* use paths even when _metadata included. Concat in pyarrow before pandas conversion

* specify filesystem when using dataset api

* simplify full_path creation

* gather partition keys in outer file-fragment loop

* improve comments

* avoid row-group split when there is no filtering

* add early bail and improve comment explaining splitting for filter

* formatting fix

* test row-wise filtering

* nudge allowable graph size for read_parquet, for now

* add int_row_groups arg to read_metadata to disable fragment-based row-group list

* use fragment_row_groups argument instead of int_row_groups (seems a bit clearer)

* refactor new functionality into new ArrowDatasetEngine

* move ArrowEngine to ArrowLegacyEngine (to make it easier to remove in the future)

* cleanup

* remove arrow_legacy.py file

* minor performance improvement for no row-group splitting

* typo

* address problems in test_filters_v0

* avoid fragment splitting in more scenarios and adding a test

* start reorganizing read_partition a bit

* continued reorg in read_partition

* avoid read_row_groups for older pyarrow versions

* addressing code review

* ignore partition columns when checking if statistics are needed

* allow gather_statistics=False for filtering in ArrowDatasetEngine

* adding new _update_metadata_options class

* refactor - move parts/stats construction into _process_metadata

* avoiding split metadata at the expense of some duplicated code

* avoid ensure_complete_metadata unless necessary

* improve non-_metadata performance

* create appropriate fragment sizes in _collect_pyarrow_dataset_frags (unless we will be reading from paths anyway)

* use existing splits for k==1

* save state for degugging

* fix frag_map bug

* add read_from_paths test

* avoid the need for ensure_complete_metadata in _process_metadata

* test both new and legacy pyarrow engines

* switch default to legacy - but test both pyarrow-legacy and pyarrow-dataset

* adjust docstrings

* use read_from_paths=True in most cases (faster in distributed).

* improve docstring

* fix test_filters_v0 mistake

* slightly better categorical handling

* use pyarrow to add cat columns

* replace direct engine comparison with startswith

* check num_rows before querying statistics (for now - arrow bug)

* trigger format

* avoid num_rows check now that arrow#8809 is merged

* update docstrings

* slightly better docstrings (maybe)",Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-01 13:06:59-06:00,GitHub,noreply@github.com,2020-12-01 14:06:59-05:00
1c67b22d8d0876aabac6f2fa25d8e498efca3c1a,Allow pyarrow >2.0.0 (#6772),Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-02 16:00:44-06:00,GitHub,noreply@github.com,2020-12-02 16:00:44-06:00
314dbb852c12cbf13377c7b5cc5dc32f0eac6a0e,"Update opportunistic caching page to remove experimental warning (#6926)

Opportunistic caching is no longer considered experimental as it's
five years old.

Co-authored-by: Timothee Chehab <timothee@symaps.io>",Timost,Timost@users.noreply.github.com,2020-12-03 16:16:29+01:00,GitHub,noreply@github.com,2020-12-03 07:16:29-08:00
ede43a536cc25ad8e2611c59058f415436ae8764,"Transmit Layer Annotations to Scheduler (#6889)

Companion to https://github.com/dask/distributed/pull/4279",Simon Perkins,simon.perkins@gmail.com,2020-12-03 17:53:18+02:00,GitHub,noreply@github.com,2020-12-03 07:53:18-08:00
2a7ab529dc5aa5d52cca7b51d96763d5a859b55e,Introduce BlockwiseIO layer (#6878),Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-03 12:00:20-06:00,GitHub,noreply@github.com,2020-12-03 12:00:20-06:00
9973a24f1a662a026228282d264cd3cb7e732543,Add Zarr to upstream CI build [test-upstream] (#6932),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-12-04 15:09:24-06:00,GitHub,noreply@github.com,2020-12-04 15:09:24-06:00
d9f4ecbdcfc3c5f813f982cb111c857c6b3b5775,Avoid using _file in progressbar if it is None (#6938),Mark Harfouche,mark.harfouche@gmail.com,2020-12-07 10:17:48-05:00,GitHub,noreply@github.com,2020-12-07 10:17:48-05:00
3a08bb32e736d51a758281a3abc0fc0dbec04efc,"Enable parquet metadata collection in parallel (#6921)

* add option to skip write in create_metadata_file

* collect metadata in parallel for pyarrow",Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-07 10:15:59-06:00,GitHub,noreply@github.com,2020-12-07 11:15:59-05:00
11d7070591bcfb0cb0db6a8d637ca6c8c885ad50,"Add ravel_multi_index (#6939)

* Add ravel_multi_index

* add ravel_multi_index in init

* Add tests for ravel_multi_index

* formatting

* formatting

* move testing variables to parametrize

* typo",Illviljan,14371165+Illviljan@users.noreply.github.com,2020-12-09 21:11:44+01:00,GitHub,noreply@github.com,2020-12-09 15:11:44-05:00
efc8b9070c43957fced33f992e00463c43e16322,"Fixing issue #6906 : Return a `Bag` from `sample` (#6941)

* Let dask.bag.random.choices/sample return Bag instead of Item.

* Add unit test.

* Running black and flak8 on the modified files.",Shang Wang,66387198+shangw-nvidia@users.noreply.github.com,2020-12-09 15:13:27-05:00,GitHub,noreply@github.com,2020-12-09 15:13:27-05:00
485957a0dc9466ad1d3ce7d2b8eabb366a91b57b,"Fix syntax error in HLG docs example (#6945) (#6946)

Co-authored-by: mchi <noreply@example.org>",Mark,mchi@users.noreply.github.com,2020-12-09 14:21:38-06:00,GitHub,noreply@github.com,2020-12-09 15:21:38-05:00
bf579abd25a659ed0719f778beb7d1f485cbad60,"Fix for github issue 6849 (#6909)

* fix for github issue 6849

* test for ghiss6849 fix added to test_overlap

* black reformatting, trivial

Co-authored-by: fleishmang <fleishmang@janelia.hhmi.org>",GFleishman,greg.nli10me@gmail.com,2020-12-09 15:23:23-05:00,GitHub,noreply@github.com,2020-12-09 15:23:23-05:00
595d330e2c0d9dbe87b2735b8bca201ed70a9871,"Make sure `include_path_column` works when there are multiple partitions per file (#6911)

* Make include_path_columns work when there is more than one partition per file

* Make sure test fails on master",Julia Signell,jsignell@gmail.com,2020-12-09 15:59:52-05:00,GitHub,noreply@github.com,2020-12-09 15:59:52-05:00
bcc6b6067be6dcca8a3fc713c18d2d316a23542d,"Add observed keyword to groupby (#6854)

* TST: Add failing tests

* Initial fixes for groupby(observed=x)

* Pass observed to _meta_nonempty

* Get rid of pandas workaround

* Skip on older pandas, and skip tests that fail

* Add observed to apply as well

Co-authored-by: Oliver Hofkens <oliver@novemberfive.co>",Julia Signell,jsignell@gmail.com,2020-12-09 16:59:48-05:00,GitHub,noreply@github.com,2020-12-09 16:59:48-05:00
88b17d2e3c524795e842212528696db5a502f52c,"Improve ""pyarrow-dataset"" statistics performance for read_parquet (#6918)

* optimize statistics access with custom function

* remove pa.scalar conversion",Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-09 16:02:52-06:00,GitHub,noreply@github.com,2020-12-09 17:02:52-05:00
4f67a6d8055fc7a75cad45efdb4b7ebebec31c9b,Make order of categoricals unambiguous (#6949),Julia Signell,jsignell@gmail.com,2020-12-09 17:36:58-05:00,GitHub,noreply@github.com,2020-12-09 17:36:58-05:00
2c2e837674895cafdb0612be81250ef2657d947e,"Min supported pandas 0.25.0 numpy 1.15.1 (#6895)

* Pandas 0.23 -> 0.24

* No more PANDAS_GT_0240

* Updating numpy

* More cleanup

* Pin mindeps to the patch [test-mindeps]

* Fix logic around 0.25.0

* Didn't need that filter

* Skip skew tests when no scipy installed

* Make numpy be >=1.15.1

* Lint",Julia Signell,jsignell@gmail.com,2020-12-09 17:42:04-05:00,GitHub,noreply@github.com,2020-12-09 17:42:04-05:00
3b001bb7eef0655bde5e3c639384ab13ae5c0a71,Make observed kwarg optional (#6952),Julia Signell,jsignell@gmail.com,2020-12-10 15:03:51-05:00,GitHub,noreply@github.com,2020-12-10 15:03:51-05:00
c10ec446c33799f28642675925509150f0deccb6,2020.12.0 release (#6953),James Bourbeau,jrbourbeau@users.noreply.github.com,2020-12-10 19:50:50-06:00,GitHub,noreply@github.com,2020-12-10 19:50:50-06:00
2ebb530c9d59435a0408d26be540e77da8c9e6ba,Prevent fuse_roots from clobbering annotations (#6955),Simon Perkins,simon.perkins@gmail.com,2020-12-11 16:50:21+02:00,GitHub,noreply@github.com,2020-12-11 06:50:21-08:00
ef367e423d234856bed8e13e48bdaf18fd0ffdab,update from_pandas docstring (#6957),Richard (Rick) Zamora,rzamora@nvidia.com,2020-12-11 09:39:17-06:00,GitHub,noreply@github.com,2020-12-11 10:39:17-05:00
a988716cfeb3a9b1015d14a334368e70ae382553,"Get config item if variable is None (#6862)

* Get config item if variable is None

* Linting

* Revert ""Linting""

This reverts commit afc5524df5a5b190ed69c2e5c06a966dddc56e2d.

* Revert ""Get config item if variable is None""

This reverts commit 1ba8ba13148a5bd0fe6ae6450aea773a79f451bd.

* Implement as kwarg on get

* Rename kwarg to override_with",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-12-11 15:48:33+00:00,GitHub,noreply@github.com,2020-12-11 15:48:33+00:00
603d06448d9d440914e788ea5d1ac59cb8059263,Remove bad graph logic in BlockwiseIO (#6933),Richard (Rick) Zamora,rzamora@nvidia.com,2020-12-11 14:28:05-06:00,GitHub,noreply@github.com,2020-12-11 14:28:05-06:00
724105a773de82c11726ed2d2ea8a84365242d6a,Avoid deprecated yield_fixture in test_sql.py (#6968),Richard (Rick) Zamora,rzamora@nvidia.com,2020-12-14 10:57:06-06:00,GitHub,noreply@github.com,2020-12-14 10:57:06-06:00
1d669480f78efa290fad612d196ecd18d26e7972,Handle annotation unpacking in BlockwiseIO (#6934),Simon Perkins,simon.perkins@gmail.com,2020-12-14 23:16:43+02:00,GitHub,noreply@github.com,2020-12-14 15:16:43-06:00
781b3eb5626f3cc74c7b4c69187f5cd941513a39,Simplify has_parallel_type() (#6927),Mads R. B. Kristensen,madsbk@gmail.com,2020-12-16 04:26:59+01:00,GitHub,noreply@github.com,2020-12-15 21:26:59-06:00
da7b56d7b3e72d508abd308c475fcf63f76314eb,Initial pass at blockwise array creation routines (#6931),Ian Rose,ian.r.rose@gmail.com,2020-12-17 00:10:21+00:00,GitHub,noreply@github.com,2020-12-16 18:10:21-06:00
d9169b4e237f6d4a1a30cf35754b3308c088944e,"fix #6925 (#6982)

- add rountrip test for df with tz
- fix statistics on col with tz

Co-authored-by: GFJ138 <sebastien.dementen@engie.com>",sdementen,sdementen@users.noreply.github.com,2020-12-17 19:08:31+01:00,GitHub,noreply@github.com,2020-12-17 13:08:31-05:00
2d7a3dfdf71d0bf3e9b512b20823131ed325e57b,"Comparing string versions won't always work (#6979)

Fixed some cupy and sparse tests. cupy were still fine,
but sparse actually skips the test since:

> ""0.11.2"" < ""0.7.0+1""

on strings evaluates to True.",Rafal Wojdyla,ravwojdyla@gmail.com,2020-12-17 19:10:35+01:00,GitHub,noreply@github.com,2020-12-17 13:10:35-05:00
d6943a666264d44c6199bd46dca708fb4b94c70c,"Use __class__ when comparing meta data (#6981)

* Use __class__ when comparing meta data

* Added some doc",Mads R. B. Kristensen,madsbk@gmail.com,2020-12-18 13:06:47+01:00,GitHub,noreply@github.com,2020-12-18 12:06:47+00:00
656eca61c6e179c797f81008ef4258fc71932fb6,"Bugfix in read_parquet for handling un-named indices with index=False (#6969)

* ignore None column when index=False

* cleanup

* back to index comparison",Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-18 07:58:48-06:00,GitHub,noreply@github.com,2020-12-18 08:58:48-05:00
76ea3379ee0a5881ee4fa0b98a5743c38112485b,"Avoid data loss in set_index with sorted=True (#6980)

* add simple fix to avoid loosing data in set_index with sorted

* update comments

* remove debug statement",Richard (Rick) Zamora,rzamora217@gmail.com,2020-12-18 08:48:19-06:00,GitHub,noreply@github.com,2020-12-18 09:48:19-05:00
48ab69b771382a391847ce13b0454de2d7195ed4,"Fix pandas dtype inference for read_parquet (#6985)

* dont assume all fields with metadata field are datetime

* dont pass schema

* move import",Richard (Rick) Zamora,rzamora@nvidia.com,2020-12-18 10:31:45-06:00,GitHub,noreply@github.com,2020-12-18 11:31:45-05:00
30e64df08b70bfc49478649c5db7a45ee7b3e4d6,Bump the minimum time in test_minimum_time (#6988),Martin Durant,martindurant@users.noreply.github.com,2020-12-18 11:32:20-05:00,GitHub,noreply@github.com,2020-12-18 11:32:20-05:00
2e47fa6b589733467c3aa950a8a31a62c52a0d3d,"Upstream config serialization and inheritance (#6987)

* Upstream config serialization and inheritance

* Rename functions as they are no longer just for distributed cli usage

* Update names in tests

* Rename test

* Move logic to collect_env

* Reset state in test

* Update test to use collect_env",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2020-12-18 17:12:07+00:00,GitHub,noreply@github.com,2020-12-18 12:12:07-05:00
8c46b58e2e5946799b6953f0caabcf0edc8d0976,"Set npartitions in set_index (#6978)

* Set npartitions in set_index

* Fix tests and add one for issue",Julia Signell,jsignell@gmail.com,2020-12-18 14:11:05-05:00,GitHub,noreply@github.com,2020-12-18 14:11:05-05:00
9cdf62efe9c4744c01fb8f3c63baa9b13a4f561c,"Revert ""Initial pass at blockwise array creation routines (#6931)"" (#6995)

This reverts commit da7b56d7b3e72d508abd308c475fcf63f76314eb.",James Bourbeau,jrbourbeau@users.noreply.github.com,2020-12-18 18:00:53-06:00,GitHub,noreply@github.com,2020-12-18 18:00:53-06:00
e1301de7b9e1889d3f258efbad15cc2c7f5211f0,"Add inline_array option to from_array (#6773)

This adds an option to `da.from_array` to control how the array object
itself is included in the task graph. By default, there's no change:
there will be a single key whose value is the array object. The tasks
giving each chunk of the array refer to the array by using its key.

With `inline_array=True`, each chunk task in the task graph will have
the array itself included in the values.",Tom Augspurger,1312546+TomAugspurger@users.noreply.github.com,2020-12-19 09:42:43-06:00,GitHub,noreply@github.com,2020-12-19 09:42:43-06:00
91a06e4b0e39e230fee4dd966ff5340edfa92a6b,"DOC: Misc formatting (#6998)

- single backtick arround pure=True is incorrect as single backticks
 are for references.
 - Invalid numpydoc formatting use appropriate one and section name for
 numpydoc to understand the types.",Matthias Bussonnier,bussonniermatthias@gmail.com,2020-12-21 07:29:11-08:00,GitHub,noreply@github.com,2020-12-21 09:29:11-06:00
4a7a2438219c4ee493434042e50f4cdb67b6ec9f,"Temporarly pin sphinx version to 3.3.1 (#7002)

Related #7001",Rafal Wojdyla,ravwojdyla@gmail.com,2020-12-21 18:17:36+01:00,GitHub,noreply@github.com,2020-12-21 11:17:36-06:00
b86fcc5ef4da8558b2c69ae8567a622e360bc304,"Keep normal optimizations when adding custom optimizations (#7016)

Previously we would forget the results of normal optimizations when
custom optimizations were added.  Now we include the new optimizations
in the normal pipeline and apply them on top of the normal results.

This also has the effect of simplifying code slightly.",Matthew Rocklin,mrocklin@gmail.com,2021-01-04 10:37:13-08:00,GitHub,noreply@github.com,2021-01-04 10:37:13-08:00
dcf3c3a1ee5f7bdaa1f45701fca6a7502d3ccb20,"Underline section in numpydoc. (#7013)

This ensure proper parsing of the ""See Also"" section and links in it",Matthias Bussonnier,bussonniermatthias@gmail.com,2021-01-04 10:37:38-08:00,GitHub,noreply@github.com,2021-01-04 10:37:38-08:00
18804f2028b3ee4abd23595f4fd413cb583a02a1,Temporarily pin python-graphviz in CI (#7031),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-01-06 10:19:22-06:00,GitHub,noreply@github.com,2021-01-06 10:19:22-06:00
310072c4ecd09520980934efe65737930bc7c903,"CI: test pyarrow 2.0 and nightly (#7030)

* CI: test pyarrow 2.0 and nightly

* temp disable warning->error

* try to force install pyarrow nightly

* try conda update

* temp pin graphviz

* add skip for pyarrow test with pyarrow==2.0.0 on windows

* also skip pyarrow-dataset engine on windows

* clean-up / undo temp edits",Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-01-06 19:32:05+01:00,GitHub,noreply@github.com,2021-01-06 13:32:05-05:00
5d3df510346ea59a329ce56339c29c2bfae52740,"Add index to meta after .str.split with expand (#7026)

* Add index to meta after .str.split

* Remove old version

* iloc[:0] more expressive than .drop(0)

* beautify",Ruben van de Geer,37443208+rubenvdg@users.noreply.github.com,2021-01-06 19:40:42+01:00,GitHub,noreply@github.com,2021-01-06 13:40:42-05:00
3e1d237e68233e12190b89ff905586a929ada08c,"Pass dropna and observed in agg (#6992)

* Pass dropna and observed in agg

* Add test for the issue

* Raise error if pandas is less than 1.1.0

* Add observed test and fix xfailed test",Julia Signell,jsignell@gmail.com,2021-01-06 17:11:31-05:00,GitHub,noreply@github.com,2021-01-06 17:11:31-05:00
6c9e6fd765aabdeabc81a3a62c6a8efadb9c4799,Accidentally committed print statment (#7038),Julia Signell,jsignell@gmail.com,2021-01-06 17:19:22-05:00,GitHub,noreply@github.com,2021-01-06 17:19:22-05:00
76a4f536237a5e65e03ba471f004226056646b65,Revert python-graphviz pinning (#7037),Julia Signell,jsignell@gmail.com,2021-01-06 17:46:08-05:00,GitHub,noreply@github.com,2021-01-06 16:46:08-06:00
a0131c57ea650ff9434dc7f97f616e45f1daa6d8,"Revert ""Temporarly pin sphinx version to 3.3.1 (#7002)"" (#7014)

This reverts commit 4a7a2438219c4ee493434042e50f4cdb67b6ec9f.",Rafal Wojdyla,ravwojdyla@gmail.com,2021-01-07 20:28:55+01:00,GitHub,noreply@github.com,2021-01-07 14:28:55-05:00
e54976954a4e983493923769c31d89b68e72fd6f,"Use meta value in series non_empty (#6976)

* Use meta value in series non_empty

* Add test based on issue",Julia Signell,jsignell@gmail.com,2021-01-08 10:23:07-05:00,GitHub,noreply@github.com,2021-01-08 10:23:07-05:00
ff6c197fc3db01abc62d3a2e11dd5e2f18322fa7,"Use functools.cached_property in da.shape (#7023)

* Add cached_property to shape

Since shape is dependent on the chunks we have to create a method that also deletes the cached values so a new value can be calculated.

* formatting

* formatting

* Update core.py

* Add cached_property

Add cached_propert for backwards compatibillity. Not needed in python +3.8 though

* use cached_property from utils instead

For backwards compatibillity.

* Update utils.py

* Update utils.py

* Add __dict__ so cached_property can cache

* use the set_chunks method

* Update reductions.py

* Update routines.py

* make self._chunks a property instead

* Update slicing.py

* Update reductions.py

* Update routines.py

* Update core.py

* formatting

* ugly import cached_property

* Use @property for chunks",Illviljan,14371165+Illviljan@users.noreply.github.com,2021-01-08 22:52:56+01:00,GitHub,noreply@github.com,2021-01-08 16:52:56-05:00
51add4e5c07fd0deb1b8cc179c7d66db9f8cc063,Rewrite matmul as blockwise without contraction/concatenate (#7000),Rafal Wojdyla,ravwojdyla@gmail.com,2021-01-09 19:31:08+01:00,GitHub,noreply@github.com,2021-01-09 12:31:08-06:00
4f4d2950271f5c004a33c5f6bae7bde10c9f44fd,Add some cross-references to DataFrame.to_bag() and Series.to_bag() (#7049),Rob Malouf,rmalouf@sdsu.edu,2021-01-11 08:39:58-08:00,GitHub,noreply@github.com,2021-01-11 11:39:58-05:00
b31844d66f4b17872393e06b10eb1399d9a837c1,"Revert BlockwiseIO (#7048)

* revert BlockwiseIO changes

* add missing test

* add back test_blockwise_parquet_annotations",Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-13 08:59:44-06:00,GitHub,noreply@github.com,2021-01-13 14:59:44+00:00
b33466099cf6b9b200b6804d542efbc6bc904f30,"Skip failing s3 test (#7064)

* Skip failing s3 test

* use s3fs 0.4x on py36",Martin Durant,martindurant@users.noreply.github.com,2021-01-13 10:06:21-05:00,GitHub,noreply@github.com,2021-01-13 10:06:21-05:00
c868ccedc2aa89e4a668628747ca1c376ff63637,Revert parameter changes in svd_compressed #7003 (#7004),Eric Czech,eric.allen.czech@gmail.com,2021-01-14 08:49:43-05:00,GitHub,noreply@github.com,2021-01-14 08:49:43-05:00
d05508163086a0d09c65cb7d91a3aaab35e79a2e,"Add compression='infer' default to read_csv (#6960)

* support compression='infer' default

* test all compression options with default 'infer'

* use infer_compression

* address code review",Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-14 07:51:15-06:00,GitHub,noreply@github.com,2021-01-14 08:51:15-05:00
0cc0d2b1cf6846630943c02e6f1c0235ac869b92,"fix linalg.lstsq for complex inputs (#7056)

* fix linalg.lstsq for complex inputs

* changes for black formatter

* optimize lstsq implementation

* lstsq: update sort lambda to full function

Co-authored-by: Jacob Tomlinson <jtomlinson@nvidia.com>",Johnnie Gray,jcmgray@users.noreply.github.com,2021-01-14 06:00:13-08:00,GitHub,noreply@github.com,2021-01-14 09:00:13-05:00
1a52a0ca3b4f0b0431a6baf2600d18e143dedec3,"Add option to control rechunking in reshape (#6753)

* Avoid rechunking in reshape with chunksize=1

When the slow-moving (early) axes in `.reshape` are all size 1, then we
can avoid an intermediate rechunk which could cause memory issues.

```
00 01 | 02 03   # a[0, :, :]
----- | -----
04 05 | 06 07
08 09 | 10 11

=============

12 13 | 14 15   # a[1, :, :]
----- | -----
16 17 | 18 19
20 21 | 22 23

-> (3, 4)

00 01 | 02 03
----- | -----
04 05 | 06 07
08 09 | 10 11
----- | -----
12 13 | 14 15
----- | -----
16 17 | 18 19
20 21 | 22 23
```

xref https://github.com/dask/dask/issues/5544, specifically the examples
given in https://github.com/dask/dask/issues/5544#issuecomment-593723196.

* fix conditioni

* remove breakpoint comment

* API: Added merge_chunks to reshape

Adds a keyword to reshape to control merge / rechunking. See the
documentation for an explanation.

* update images",Tom Augspurger,1312546+TomAugspurger@users.noreply.github.com,2021-01-14 09:24:34-06:00,GitHub,noreply@github.com,2021-01-14 10:24:34-05:00
780ae48b2bf10d8b613a05bddb1f86b213248717,Fix CI (#7069),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-01-15 08:38:46-06:00,GitHub,noreply@github.com,2021-01-15 08:38:46-06:00
14ea01be6ed52ef215e2932607902e6c7fdaf41f,"Remove all blockwiseio code (#7067)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-15 09:48:28-06:00,GitHub,noreply@github.com,2021-01-15 09:48:28-06:00
5267032ef2156096eb188892071a39c3aa069c66,Propagate storage_options in read_csv (#7074),Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-15 10:37:53-06:00,GitHub,noreply@github.com,2021-01-15 10:37:53-06:00
3b495dd882ff39884db0caf6c6ba2b6e0835fd76,Make sure that population is a real list (#7027),Julia Signell,jsignell@gmail.com,2021-01-15 11:42:39-05:00,GitHub,noreply@github.com,2021-01-15 10:42:39-06:00
d9fbc42c92d9c82c328c519cb20df0df04ea82cb,"map_partitions with review comments (#6776)

* map_partitions with review comments

* update doc

* Add example to docstring

Co-authored-by: Julia Signell <jsignell@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Kumar Bharath Prabhu,46497580+kumarprabhu1988@users.noreply.github.com,2021-01-15 11:32:15-08:00,GitHub,noreply@github.com,2021-01-15 14:32:15-05:00
00b537309f2907ee0c120f3888d84ddcf1a607b7,bump version to 2021.01.0,James Bourbeau,jrbourbeau@gmail.com,2021-01-15 15:23:17-06:00,James Bourbeau,jrbourbeau@gmail.com,2021-01-15 15:23:17-06:00
72304a94c98ace592f01df91e3d9e89febda307c,"Make cached properties read-only (#7077)

* Make cached_property readonly

* use cached_property from utils",Illviljan,14371165+Illviljan@users.noreply.github.com,2021-01-18 22:22:36+01:00,GitHub,noreply@github.com,2021-01-18 16:22:36-05:00
ce45d1aea70f06ef4950dbc8c0de9a419a2084e1,Add error messages to assert_eq() (#7083),James Lamb,jaylamb20@gmail.com,2021-01-20 16:31:28-06:00,GitHub,noreply@github.com,2021-01-20 16:31:28-06:00
30c9a3a34240e08cccd7e38b115141661ca198cf,Skip empty partitions when doing groupby.value_counts (#7073),Julia Signell,jsignell@gmail.com,2021-01-20 17:35:54-05:00,GitHub,noreply@github.com,2021-01-20 16:35:54-06:00
f1d8703144ed84b78a71b4c8b70a5ae58fab2ccf,"'mode' argument passed to bokeh.output_file() (#7034) (#7075)

* 'mode' argument passed to bokeh.output_file()

* pass Black code formater",patquem,patrick.quemere@cea.fr,2021-01-21 17:34:04+01:00,GitHub,noreply@github.com,2021-01-21 11:34:04-05:00
cb9fc26f390626d7f92c200c0c66938640758781,"Use assign to avoid SettingWithCopyWarning (#7092)

* Use assign to avoid SettingWithCopyWarning

* Apply suggestions from code review

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

* Add test based on issue

* Trigger CI

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Julia Signell,jsignell@gmail.com,2021-01-21 12:22:54-05:00,GitHub,noreply@github.com,2021-01-21 12:22:54-05:00
4395973f82e11dd4befa387c1b17d8b4e9581acb,"Test pandas 1.1.x / 1.2.0 releases and pandas nightly (#6996)

* Test pandas 1.2.0rc0 [test-upstream]

* temp remove conditional

* Fixup

* disable warning->error to see actual errors

* disable warning->error to see actual errors

* Use .loc when indexing with date strings

* Skip if sparse is too old, rather than xfailing

* Add PANDAS_GT_120 and stop xfailing test_describe

* Add min_periods for rolling.count

* Update dask/dataframe/tests/test_indexing.py

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>

* Skip std on datetimes if pandas > 1.2.0

* Fix check_less_precise

* Xfail parquet categorical

* Update dask/dataframe/tests/test_indexing.py

* test pandas 1.1.x on CI, use pandas nightly instead of 1.2.0rc

* update getitem partial string indexing tests

* update categorical tests

* Change sparse test back to xfail always

* Fix date slicing

* TMP: don't fail fast

* remove unnecessary pin for pandas in dev yaml

* xfail failing ufunc reduction tests

* tz / non-tz timestamp comparison change

* ignore failures/warnings in time rolling

* categorical tests seem to pass on latest 1.1.x

* update xfail for fastparquet preserve_index

* clean-up with correct black version

* filter warnings for describe instead of failing

* remaining fixes + ignore all remaining deprecation warnings

* add filter for RuntimeWarning for np ldexp

* update pyarrow nightly before updating pandas

* fixup install.sh

* add 1.2.* to matrix

* update parquet skips

* dtype issue on windows

* another attempt to fix windows

* Up the precision check tolerance by a factor of 2

* Revert ci-upstream workflow [test-upstream]

* Update .github/workflows/ci.yml

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>

* Empty commit

Co-authored-by: Tom Augspurger <taugspurger@microsoft.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>",Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-01-21 19:27:55+01:00,GitHub,noreply@github.com,2021-01-21 13:27:55-05:00
450e9fd02dd288c1123c70a6a12774200111734a,"Partially fix cumprod (#7089)

* TST: Remove use of deprecated np.object.

* TST: Don't put np.nan into an integer array.

* Don't pass Dask kwargs to NumPy masked array.

* Fix cumprod test and use input npartitions

* Update only numpy in upstream test [test-upstream]

* Comment out upstream runif logic

* Remove sparse update

* Try new import style

* Remove some of fail marks

* Uninstall conda version before installing from pypi

* Change back CI scripts

* Empty commit

* Update continuous_integration/scripts/install.sh

Co-authored-by: Elliott Sales de Andrade <quantum.analyst@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2021-01-22 12:29:51-05:00,GitHub,noreply@github.com,2021-01-22 12:29:51-05:00
e64e0da18708f44ec50915551d68a653e3a3bc3d,bump version to 2021.01.1,James Bourbeau,jrbourbeau@gmail.com,2021-01-22 12:20:36-06:00,James Bourbeau,jrbourbeau@gmail.com,2021-01-22 12:20:36-06:00
0b33708f4627c3f9c7613c9554d1033db147d4b0,Add cytoolz back to CI environment (#7103),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-01-22 18:00:35-06:00,GitHub,noreply@github.com,2021-01-22 18:00:35-06:00
5c96d82a1e401f02815b1e4f86f615229401950e,"Fix parquet getitem optimization (#7106)

* skip getitem optimization when read-parquet is in requested keys (not getitem)

* remove comments",Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-24 20:30:23-06:00,GitHub,noreply@github.com,2021-01-24 20:30:23-06:00
4e2d838869c8a29ebfda5e8070f787c7db5b90c9,"cache several properties (#7104)

add a reset_cache function
get self.chunks directly from self.__chunks because it's 2-3x faster.",Illviljan,14371165+Illviljan@users.noreply.github.com,2021-01-25 21:56:30+01:00,GitHub,noreply@github.com,2021-01-25 15:56:30-05:00
fbbc271d84a333b47a10525201b6743cca0b85e2,"check_meta(): use __class__ when checking dataframe types (#7099)

* check_meta(): use __class__ when checking dataframe types

* Trigger CI

* Added tests

* Update dask/dataframe/tests/test_utils_dataframe.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

Co-authored-by: Julia Signell <jsignell@gmail.com>",Mads R. B. Kristensen,madsbk@gmail.com,2021-01-25 23:11:45+01:00,GitHub,noreply@github.com,2021-01-25 17:11:45-05:00
5694253ba08d1f9a87a4f0a981bade66537fc1bb,Simplify contents of parts list in read_parquet (#7066),Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-26 10:48:01-06:00,GitHub,noreply@github.com,2021-01-26 10:48:01-06:00
9bb586a6b8fac1983b7cea3ab399719f93dbbb29,Merge annotations (#7102),Ian Rose,ian.r.rose@gmail.com,2021-01-27 12:40:52-08:00,GitHub,noreply@github.com,2021-01-27 14:40:52-06:00
39ef4838ac0457307f2ac727f3af53d8f3f7de71,Align FastParquetEngine with pyarrow engines (#7091),Richard (Rick) Zamora,rzamora217@gmail.com,2021-01-29 09:37:16-06:00,GitHub,noreply@github.com,2021-01-29 09:37:16-06:00
34f990a810f2b331d76cea2d59629e4835d7d554,Deprecate HighlevelGraph.dicts in favour of .layers (#7145),Amit Kumar,dtu.amit@gmail.com,2021-01-29 23:02:19+00:00,GitHub,noreply@github.com,2021-01-29 17:02:19-06:00
9176a40de2eb9abf4678acdca77be7610a40510e,"Fix example of using blockwise for an outer product (#7119)

* Fix example of using blockwise for an outer product

Closes #7118.

* Make all doctest examples in da.blockwise runnable

I avoid redefining inputs over and over I introduced `a` and `b` for the
1D vectors and kept `x` and `y` as 2D arrays. Mostly I'm showing the
result of `z.compute()`, but in a few cases I've shown the final
chunking instead where that is relevant to the example.",Bruce Merry,1963944+bmerry@users.noreply.github.com,2021-02-01 16:17:47+02:00,GitHub,noreply@github.com,2021-02-01 09:17:47-05:00
acee24fee9d2934d91d6f0a2b1070f151285fbbd,DOC Fixes link in array design doc (#7152),Thomas J. Fan,thomasjpfan@gmail.com,2021-02-01 16:42:09-05:00,GitHub,noreply@github.com,2021-02-01 16:42:09-05:00
29c22656ff7797877b3c3ca876f5d098ba8f339e,"Allow dask.array.ravel to accept 'array_like' argument (#7138)

* Allow dask.array.ravel to accept 'array_like' argument

* add tests for for ravel with 'array_like' arguments

* Update test_routines.py",D-Stacks,78099568+D-Stacks@users.noreply.github.com,2021-02-01 23:33:48+01:00,GitHub,noreply@github.com,2021-02-01 17:33:48-05:00
2259ff488e4d92f1d6d5f4523ce2a1c642ff8d32,Add dask.array.append (#7146),D-Stacks,78099568+D-Stacks@users.noreply.github.com,2021-02-01 23:46:17+01:00,GitHub,noreply@github.com,2021-02-01 16:46:17-06:00
ca81b8974cfb9a9b4560d764b19e8d96c7dcab3e,Make easier to link issues in PRs (#7130),Ray Bell,rayjohnbell0@gmail.com,2021-02-01 22:21:38-05:00,GitHub,noreply@github.com,2021-02-01 21:21:38-06:00
d096fdeecc3dc0bdf1afa3ba6ce53cedae59dd7d,Generically rebuild a collection with different keys (#7142),crusaderky,crusaderky@gmail.com,2021-02-03 15:57:43+00:00,GitHub,noreply@github.com,2021-02-03 09:57:43-06:00
0bb8766d659ba77805ba75cb43ee0c39ed760f25,Update low-level graph spec to use any hashable for keys (#7163),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-02-03 20:06:44-06:00,GitHub,noreply@github.com,2021-02-03 20:06:44-06:00
5166be6f15d9d04c6d9948db1b67a7f1b09b1a3e,Revise HighLevelGraph Mapping API (#7160),crusaderky,crusaderky@gmail.com,2021-02-04 19:25:39+00:00,GitHub,noreply@github.com,2021-02-04 13:25:39-06:00
2632bbce82d471b7fef426729faec9a4e78ee137,"Fix upstream CI tests (#6896)

* Fix failing sparse tests

* Run the tests in parallel

* Fix new sparse changes

* Don't make the pandas changes in rolling

* Use a new numpy in one of the test envs

* Comment out logic

* Get rid of last sparse-383

* Use numpy 1.20 in environment-3.8

* Fix dtype=np.float

* Revert to same xfail as on master

* Revert changes in upstream ci config

* Just use numpy 1.19 until 7170 is resolved

* Skip failing numpy 1.20 test",Julia Signell,jsignell@gmail.com,2021-02-04 18:10:18-05:00,GitHub,noreply@github.com,2021-02-04 18:10:18-05:00
a99aa3432fa6722f50130ccc19b609db79370440,"Coarsen rechunking error  (#7127)

* add failing tests

* black

* rewrite aligned_coarsen_chunks, add more abstract tests

* black

* aligned_coarsen_chunks first modifies invalid chunks; add test for this behavior

* black

* black

* increase the accuracy of the docstring for _partition",Davis Bennett,davis.v.bennett@gmail.com,2021-02-05 11:52:39-05:00,GitHub,noreply@github.com,2021-02-05 11:52:39-05:00
e32f6a4d799e6a0c9007e7394c1b8b8db9a840eb,"Added support for Float64 in column assignment (#7173)

* Added support for Float64, solving #7156

* Early exit on older pandas versions",Nils Braun,nils-braun@users.noreply.github.com,2021-02-05 19:27:10+01:00,GitHub,noreply@github.com,2021-02-05 13:27:10-05:00
996b50666ad197da2d30da415ce1790e3809aad4,"Add percentile support for NEP-35 (#7162)

* Add array_safe function supporting like= kwarg

* Support for like= in percentile

* Add CuPy tests for percentiles

* Fix array_like_safe for NumPy < 1.20

* Split and xfail non-deterministic tokenize CuPy test

* Limit calling `compute` only for CuPy in `_array_like_safe`

* Use `_numpy_120` constant in CuPy NEP-35 tests

* Add `_is_cupy_type` util function, remove old CuPy references

* Update test skip condition

* Improve `array_safe` docstring

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Peter Andreas Entschev,peter@entschev.com,2021-02-05 19:39:50+01:00,GitHub,noreply@github.com,2021-02-05 10:39:50-08:00
fae2b87802e29468e1e5853223d0022576482db6,bump version to 2021.02.0,James Bourbeau,jrbourbeau@gmail.com,2021-02-05 13:27:59-06:00,James Bourbeau,jrbourbeau@gmail.com,2021-02-05 13:27:59-06:00
2640241fbdf0c5efbcf35d96eb8cc9c3df4de2fd,Don't fail fast in CI (#7188),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-02-08 11:26:09-06:00,GitHub,noreply@github.com,2021-02-08 11:26:09-06:00
f3fb59f11a3a7eaa5eb9cadf8e2935cc3c839907,"Properly convert `HighLevelGraph` in multiprocessing scheduler (#7191)

Previously `dask.multiprocessing.get` would accidentally forward
`HighLevelGraph` objects through the dask optimization routines,
resulting in odd errors in the multiprocessing scheduler. We now
properly convert all dask graphs in the scheduler to dicts before
passing off to the optimization routines. This only affects the
multiprocessing scheduler, as it's the only one that manually calls
optimization routines - the other schedulers pass things off to
`get_async` which handles this conversion already.",Jim Crist-Harif,jcrist@users.noreply.github.com,2021-02-08 18:59:49-06:00,GitHub,noreply@github.com,2021-02-08 18:59:49-06:00
a14e47f84556800411ad180abb5ff4a779275e8f,__dask_layers__() tests and tweaks (#7177),crusaderky,crusaderky@gmail.com,2021-02-09 02:22:17+00:00,GitHub,noreply@github.com,2021-02-08 20:22:17-06:00
dcc1fdebb14816881c9719081fffc3eaeea919b4,Fix regression in Delayed._length (#7194),crusaderky,crusaderky@gmail.com,2021-02-09 23:01:23+00:00,GitHub,noreply@github.com,2021-02-09 17:01:23-06:00
058aef6affe9ccd15a8e9a98193692b8b40685e6,"Clean up Python 2 syntax (#7195)

Implicit subclassing from `object` and `super()` usage",crusaderky,crusaderky@gmail.com,2021-02-10 01:28:20+00:00,GitHub,noreply@github.com,2021-02-09 19:28:20-06:00
3f7aa3f0e254f2e41f8e2d383dc71684b5ea4978,"Extend __setitem__ to more closely match numpy (#7033)

* First implementation of extended __setitem__

* style and typo

* unite test, and fixes to make it pass. Reinstated 'where' for cases when key is Array

* test ValueErrors are raised for disallowed index combintations

* style

* Comments

* Extra tests: assignment of N-d arrays and brodacasting

* Allow assignment to np.ma.masked, and also to read-only arrays (e.g. da.empty)

* ValueError -> NotImplementedError

* numpy style docstring

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* Doc strings; value_shape1 renamed to value_common_shape

* Update message format

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* Update message format

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* test more non-valid assignments

* Style

* Style

* Prevent corruption of chunks shared between objects - allows, e.g. d[:] = d[::-1]

* Fix f-string

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* Prevent hanging when value is self - allows, e.g. d[...] = d and d[...] = d[...]

* Fix for integer-valued indices - allows, e.g. d[:, 0] = d[:, 2]

* Restructure code, catch illegal corner cases, remove premature compute

* Reorganise imports

* setitem assignment docs

* fixed labels, add to toctree

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>",David Hassell,davidhassell@users.noreply.github.com,2021-02-10 18:29:42+00:00,GitHub,noreply@github.com,2021-02-10 13:29:42-05:00
ac2e582198ee19a1de81a3c26d950b766b42de85,Fix handling of filter expressions in parquet pyarrow-dataset engine (#7186),Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-02-10 19:34:51+01:00,GitHub,noreply@github.com,2021-02-10 13:34:51-05:00
02b466d2bf82c9cdd420b492adf765d14db8e8ea,"graph manipulation: clone, bind, checkpoint, wait_on (#7109)",crusaderky,crusaderky@gmail.com,2021-02-12 03:11:13+00:00,GitHub,noreply@github.com,2021-02-11 21:11:13-06:00
1c8b5eafe2be16961472e34fff0c78942f0c6647,Use html_css_files in docs for custom CSS (#7220),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-02-15 12:13:26-06:00,GitHub,noreply@github.com,2021-02-15 13:13:26-05:00
3013afd6118dab4efd0f19c0fd3ae0c32859334c,Pin graphviz to avoid issue with latest conda-forge build (#7232),Julia Signell,jsignell@gmail.com,2021-02-16 14:02:51-05:00,GitHub,noreply@github.com,2021-02-16 14:02:51-05:00
8214861c136199725ae8d35fcab3e3d3e2d63336,map_overlap: Don't rechunk axes without overlap (#7233),Deepak Cherian,dcherian@users.noreply.github.com,2021-02-16 13:10:41-07:00,GitHub,noreply@github.com,2021-02-16 15:10:41-05:00
e24ed690156fc5defc7a581130ec3ddf85bc566e,Don't use numpy 1.20 from conda-forge on Mac (#7211),crusaderky,crusaderky@gmail.com,2021-02-16 22:12:51+00:00,GitHub,noreply@github.com,2021-02-16 16:12:51-06:00
a4d07ed2430487538a40a4683d51026f4a788cc4,Unpin graphviz now that new conda-forge recipe is built (#7235),Julia Signell,jsignell@gmail.com,2021-02-16 19:35:20-05:00,GitHub,noreply@github.com,2021-02-16 18:35:20-06:00
5a373afa462d160add4b3f8df3c7df0be145089a,"Add dask.array.delete (#7125)

Co-authored-by: crusaderky <crusaderky@gmail.com>",Julia Signell,jsignell@gmail.com,2021-02-17 10:10:37-05:00,GitHub,noreply@github.com,2021-02-17 10:10:37-05:00
f8d5f6070ecd8370b6487a23cdde52228723c7fc,Cleanup code quality on set arithmetics (#7196),crusaderky,crusaderky@gmail.com,2021-02-17 15:24:51+00:00,GitHub,noreply@github.com,2021-02-17 09:24:51-06:00
9426a823bc12034031f3c90e74c7be8f4cb94ca6,"Run doctests on CI (#7238)

* Add doctest to ci-additional 'test-doctest'

* Run on PRs

* Fix doctests

* Get rid of is_all_datetime skips

* Only run doctests in special ci job

* Use floats as quantiles",Julia Signell,jsignell@gmail.com,2021-02-17 13:04:53-05:00,GitHub,noreply@github.com,2021-02-17 13:04:53-05:00
e4f4ba7790759e4c1409bdf73bdb6d9b65a19b8a,Avoid running unit tests during doctest CI build (#7240),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-02-18 10:50:56-06:00,GitHub,noreply@github.com,2021-02-18 10:50:56-06:00
5948ec3fd1246b9abdd9fc27eb46a6d868a2ad4e,"Support for NEP-35 (#6738)

* use nep35 in slicing

* add compress test

* Add asanyarray_safe function supporting like= kwarg

* Add CuPy tests for asanyarray_safe

* Use asanyarray_safe in slicing functions

* Add meta support to broadcast_to

* Support like= in pad with constant values

* Add CuPy tests for pad

* Added asarray_safe, move implementation to private function

* Support like= in pad with linear_ramp

* Support for like= in digitize

* Add CuPy test for digitize

* Support for like= in take

* Support for meta= in _vindex

* Add CuPy test for _vindex

* Support for like= in percentile

* Add array_safe

* Add CuPy tests for percentiles

* Fixes for like= in slicing

* Support for like= in view

* Add CuPy tests for view

* Additional like= support in slicing

* Support for like= in getter, load_store_chunk

* Add CuPy tests for getter, store

* Fix raise error in CuPy test for asanyarray

* Undo accidental changes to test_sparse_hstack_vstack_csr

* Support for empty_like in pad

* CuPy tests cleanup

* Replace some array_safe calls with simpler approach

* Fix black formatting

* Preserve original getter behavior for np.matrix

* Remove unused import

* Use empty_like_safe in _vindex_merge

* Use asarray_safe for pad_edge constant mode

* Fix np.as{contiguous,fortran}array usage for NumPy < 1.20

* Fix vindex on older NumPy

* Fix black formatting

* Update CuPy tests skipif condition with `not _numpy_120`

Co-authored-by: Benjamin Zaitlen <quasiben@gmail.com>",Peter Andreas Entschev,peter@entschev.com,2021-02-18 23:34:19+01:00,GitHub,noreply@github.com,2021-02-18 17:34:19-05:00
656028e1b88cf76a77a1eb491e301d710d0fbeac,graph_manipulation without numpy (#7243),crusaderky,crusaderky@gmail.com,2021-02-18 23:57:36+00:00,GitHub,noreply@github.com,2021-02-18 17:57:36-06:00
1c9a9622bed6b2666de9eb77b44f1f8764060b1e,"Fix parquet filtering bug for ""pyarrow-dataset"" with pyarrow-3.0.0 (#7200)

* fix pyarrow-dataset filter bug for pyarrow-3.0

* remove temporary enumeration

* trigger formatting

* trigger formatting",Richard (Rick) Zamora,rzamora217@gmail.com,2021-02-19 09:02:37-06:00,GitHub,noreply@github.com,2021-02-19 10:02:37-05:00
ad01acc14088d03127dfec4f881cce959f3ac4d9,Fix bugs in Blockwise and ShuffleLayer (#7213),Richard (Rick) Zamora,rzamora217@gmail.com,2021-02-19 19:43:20-06:00,GitHub,noreply@github.com,2021-02-19 19:43:20-06:00
1d3157c09096b19cf52458b3bc6b5aa3fc90460f,Minor typo in documentation: array-chunks.rst (#7254),Magnus Nord,magnunor@gmail.com,2021-02-22 16:34:36+01:00,GitHub,noreply@github.com,2021-02-22 09:34:36-06:00
3d0e7bd93d6c6c67208765fd0a81f13088bb53a7,Pin to a particular black rev in pre-commit (#7256),Julia Signell,jsignell@gmail.com,2021-02-22 14:43:13-05:00,GitHub,noreply@github.com,2021-02-22 13:43:13-06:00
a835b485a4b9503598f0b85ee2b49e4aaffa9123,Replace coveralls with codecov.io (#7246),crusaderky,crusaderky@gmail.com,2021-02-22 22:49:15+00:00,GitHub,noreply@github.com,2021-02-22 16:49:15-06:00
91cee5b7944e47959f475eaebc42dc75be14bc21,Fix performance issue in dask.graph_manipulation.wait_on() (#7258),crusaderky,crusaderky@gmail.com,2021-02-23 01:21:47+00:00,GitHub,noreply@github.com,2021-02-22 19:21:47-06:00
53eea72ba7b2d1a160606dcad29a966e54f5a880,"Add map_blocks example to dask array creation docs (#7221)

* Add map_blocks example to dask array creation docs

* Add ``block_id``

* Fix

* Make narrower

* Fix formatting",Julia Signell,jsignell@gmail.com,2021-02-23 10:08:05-05:00,GitHub,noreply@github.com,2021-02-23 10:08:05-05:00
adb58fa7949eb673d49c45a7215e19deaaa34217,"Fix cumsum for empty partitions (#7230)

* Fix cumsum with empty partitions

* Add tests for first parititons empty",Julia Signell,jsignell@gmail.com,2021-02-23 10:40:06-05:00,GitHub,noreply@github.com,2021-02-23 10:40:06-05:00
67d8574a33265008ca69354011b44ea64c203a18,"Improve documentation of `name` in from_array (#7264)

This attempts to explain what the advantages and disadvantages of
`name=False`, and more strongly encourage its use. Motivated by #7208.

I also fixed some typos along the way.

[skipci]",Bruce Merry,1963944+bmerry@users.noreply.github.com,2021-02-24 17:00:47+02:00,GitHub,noreply@github.com,2021-02-24 10:00:47-05:00
bf1c65c4fd198e0b6b28a82b03b60ba4e7954c08,"[WIP] ENH Adds tree reduction to bincount (#7183)

* ENH Adds tree reduction to bincount

* CLN Uses meta from small bincount

* REV Revert change

* ENH Early exit if not a list",Thomas J. Fan,thomasjpfan@gmail.com,2021-02-24 10:15:51-05:00,GitHub,noreply@github.com,2021-02-24 10:15:51-05:00
3362091147382164e7ab2d40dfae89cb3f5c555d,"Example for working with categoricals and parquet (#7085)

* Example for working with categoricals and parquet

* Update docs/source/dataframe-categoricals.rst

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

* Update docs/source/dataframe-categoricals.rst

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>

Co-authored-by: Richard (Rick) Zamora <rzamora217@gmail.com>",McToel,36071676+McToel@users.noreply.github.com,2021-02-24 16:16:45+01:00,GitHub,noreply@github.com,2021-02-24 10:16:45-05:00
895c9541044e16809151f0e3db95c48ea338c6d3,"DOC: add dask-sql and fugue (#7129)

* DOC: add dask-sql and fugue

* DOC: more info on dask-sql

* Update docs/source/dataframe-sql.rst

Co-authored-by: crusaderky <crusaderky@gmail.com>

* update text

Co-authored-by: crusaderky <crusaderky@gmail.com>",Ray Bell,rayjohnbell0@gmail.com,2021-02-24 10:30:45-05:00,GitHub,noreply@github.com,2021-02-24 10:30:45-05:00
d540d73518e48a528bdbb4bff6d4acfadfd6214b,"Improve performance of `merge_percentiles` (#7172)

* Add array_safe function supporting like= kwarg

* Support for like= in percentile

* Add CuPy tests for percentiles

* Fix array_like_safe for NumPy < 1.20

* Improve percentile perf

* Generically rebuild a collection with different keys (#7142)

* Add array_safe function supporting like= kwarg

* Support for like= in percentile

* Add CuPy tests for percentiles

* Fix array_like_safe for NumPy < 1.20

* Improve percentile perf

* Remove note comparing np/merge_sorted

* Update low-level graph spec to use any hashable for keys (#7163)

* Remove unused merge_sorted

Co-authored-by: Peter Andreas Entschev <peter@entschev.com>
Co-authored-by: Ashwin Srinath <shwina@users.noreply.github.com>
Co-authored-by: crusaderky <crusaderky@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Ashwin Srinath,3190405+shwina@users.noreply.github.com,2021-02-25 22:14:14-05:00,GitHub,noreply@github.com,2021-02-25 19:14:14-08:00
3674876d75428a228c6db1b704f1cab73c1934eb,Moving high level graph pack/unpack Dask  (#7179),Mads R. B. Kristensen,madsbk@gmail.com,2021-02-26 17:29:19+01:00,GitHub,noreply@github.com,2021-02-26 10:29:19-06:00
1f3226f681f3d653ee8d54da421a3a6c36be41ed,Use development version of distributed in CI (#7279),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-02-26 12:52:48-06:00,GitHub,noreply@github.com,2021-02-26 12:52:48-06:00
8cf6673a7748b32e6b08b4c44a96ca938445071e,"Remove ""cleanup"" task in dataframe on-disk shuffle. The partd directory (#7260)

is already cleaned up by other means.",Sinclair Target,sinclairtarget@gmail.com,2021-03-01 13:20:14-05:00,GitHub,noreply@github.com,2021-03-01 13:20:14-05:00
ff63ae7e5f5c8ae724d1347cf19732ebe6675d52,"Add numpy functions tri, triu_indices, triu_indices_from, tril_indices, tril_indices_from (#6997)

* Add tri and use tri in tril and triu

* Update creation.py

* Update __init__.py

* move around triu/l to avoid circular deps

* move triu/l here to avoid circular deps

* Update creation.py

* Update test_creation.py

* Update routines.py

* move arg to match numpy

numpy assumes N and M always comes first and second.

* Seems like they support multiple dims now

* formatting

* formatting

* formatting

* use the min_int func

* Add triu/l_indices and from

* move tril/u tests to routines for consistency

* Update test_creation.py

* Update __init__.py

* allow unsymmetric chunks

* better tri test

* black

* blacks doesn't agree

* Update test_creation.py

* follow normalize_chunks

* use same chunks as the input array

* chunks should look the same as shape

* add chunks in indices

* Cleaner test format",Illviljan,14371165+Illviljan@users.noreply.github.com,2021-03-01 22:12:54+01:00,GitHub,noreply@github.com,2021-03-01 16:12:54-05:00
61b578f5a3ad88cbc6a8b9a73ce08c551bd969fa,Add plot width and height support for Bokeh 2.3.0 (#7297),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-01 21:28:26-06:00,GitHub,noreply@github.com,2021-03-01 21:28:26-06:00
8663c6b7813fbdcaaa85d4fdde04ff42b1bb6ed0,dask.graph_manipulation support for xarray.Dataset (#7276),crusaderky,crusaderky@gmail.com,2021-03-02 19:36:08+00:00,GitHub,noreply@github.com,2021-03-02 13:36:08-06:00
42bf9fa5c65ecf9171d9854c6fc980e0182a8f08,Typo in optimize docs (#7306),Julius Busecke,julius@ldeo.columbia.edu,2021-03-02 18:40:14-05:00,GitHub,noreply@github.com,2021-03-02 17:40:14-06:00
293e6c10da7177841e572caca4214dc26d2e6de9,Add split_every to graph_manipulation (#7282),crusaderky,crusaderky@gmail.com,2021-03-03 02:32:29+00:00,GitHub,noreply@github.com,2021-03-02 20:32:29-06:00
f4cfe0eecbb964c8e437505358b16419d31a6116,"Add broadcast-based merge implementation (#7143)

Dask-DataFrame will currently perform a shuffle-based merge for all cases where there are multiple partitions in both collections (and when the join is not on an index with known divisions). The shuffle-based approach makes a lot of sense when both of the collections comprise many partitions, but makes less sense when one of the collections is huge (making the shuffle expensive) and the other is very small (only a few partitions). This PR introduces a bcast_join for this latter scenario.

NOTE: There is still more work to do here, but preliminary tests suggest that the broadcast algorithm is indeed faster than a broadcast merge when a 240-partition DataFrame is joined with a DataFrame comprising 2-4 partitions (with the benefit increasing as the large DataFrame becomes larger)... I will share benchmarks here as the remaining tasks are completed.",Richard (Rick) Zamora,rzamora217@gmail.com,2021-03-03 16:13:07-06:00,GitHub,noreply@github.com,2021-03-03 16:13:07-06:00
3e39e6bf6a2f0092162cce21d937577912e39902,Support for Python 3.9 (#7289),crusaderky,crusaderky@gmail.com,2021-03-03 23:12:03+00:00,GitHub,noreply@github.com,2021-03-03 17:12:03-06:00
b73e7d0e187cf321f50b302e1f790aeb7528f11c,Contributing docs: add note to pull the latest git tags before pip installing Dask (#7308),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-03-04 14:17:32+11:00,GitHub,noreply@github.com,2021-03-03 21:17:32-06:00
5273e73ced76862e4d73f2ac4e7373c59540c3f0,pytest.mark.flaky (#7319),crusaderky,crusaderky@gmail.com,2021-03-04 14:51:04+00:00,GitHub,noreply@github.com,2021-03-04 09:51:04-05:00
7a128890b4c6018b00f41e87d31172646bb2f607,"Check that computed chunks have right size and dtype (#7277)

* Check that computed chunks have right size and dtype

This was inspired by a question in #7234. At present `assert_eq` checks
that the computed array has the right size and dtype, but it's still
possible that the individual chunks have the wrong size (as long as they
add up to the right total size) and maybe the wrong dtype (as long as
they coerce to produce the right dtype - although I haven't actually
checked that this would slip through).

Now `persist` is used to access the individual computed chunks and
checked for shape and dtype.

* Fix test_blockwise_concatenate

It had a `blockwise` function that returned a shape inconsistent with
that inferred from the input block sizes.

* Fix dtype handling for *_like_safe on old numpy

It was being used with non-arrays, so explicitly force things to be
arrays.",Bruce Merry,1963944+bmerry@users.noreply.github.com,2021-03-04 21:11:50+02:00,GitHub,noreply@github.com,2021-03-04 14:11:50-05:00
c66926f784e999262895931941456293e5d9510f,Test `exp` with CuPy arrays (#7322),jakirkham,jakirkham@gmail.com,2021-03-04 12:15:43-08:00,GitHub,noreply@github.com,2021-03-04 14:15:43-06:00
c9277314b4dd98cfbdb12e46b4a70e4151c57aeb,Use nearest interpolation for creating percentiles of integer input (#7305),Kyle Barron,kylebarron2@gmail.com,2021-03-04 14:51:25-07:00,GitHub,noreply@github.com,2021-03-04 16:51:25-05:00
850472dcf887bf1f1fefedf78c75f588ae65d53e,Don't allow setting `.name` for array (#7222),Julia Signell,jsignell@gmail.com,2021-03-04 23:06:49-05:00,GitHub,noreply@github.com,2021-03-04 22:06:49-06:00
fa6203ca80769384e76560d22e90a18e62a9c44c,NEP-35 duck array update (#7321),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-05 10:48:56-06:00,GitHub,noreply@github.com,2021-03-05 10:48:56-06:00
0da9696448b8e22fc595195fd51c2195e4a0f5e7,"Blockwise.clone (#7312)

* Blockwise.clone

* tweak comment

* polish

* Test that layers have not been materialized

* fix test",crusaderky,crusaderky@gmail.com,2021-03-05 16:51:56+00:00,GitHub,noreply@github.com,2021-03-05 10:51:56-06:00
67a001bc9a860fb7db3ee8c72d053ec6fe7ad36c,"Temporarily revert recent Array.__setitem__ updates (#7326)

* Temporarily revert recent Array.__setitem__ updates

* Typo",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-05 14:03:55-06:00,GitHub,noreply@github.com,2021-03-05 12:03:55-08:00
e46a0508d9e7bfcdf7bc11a9c24045093e58c716,"Fix `percentiles_summary` with `dask_cudf` (#7325)

* Move _is_cupy_type to dask/utils.py

* Avoid ""nearest"" in percentiles_summary for CuPy arrays

* Test for dask_cudf in test_set_index_interpolate*

* Fix black formatting

* Fix usage of is_cupy_type

* Add commnet on unsupported nearest interpolation

* Adjust min/max values for the CuPy use case

* Run black

* Move is_cupy_type import to top of file

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Peter Andreas Entschev,peter@entschev.com,2021-03-05 21:54:08+01:00,GitHub,noreply@github.com,2021-03-05 12:54:08-08:00
c2dd18df779e5e32dc46b8aff43ebc0386c0300d,Bump minimum version of distributed (#7328),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-05 17:27:37-06:00,GitHub,noreply@github.com,2021-03-05 17:27:37-06:00
fb544144611b25a6f23d90637038a93f93153f8f,bump version to 2021.03.0,James Bourbeau,jrbourbeau@gmail.com,2021-03-05 17:31:51-06:00,James Bourbeau,jrbourbeau@gmail.com,2021-03-05 17:31:51-06:00
ee273dbbb2fdc5226386b511fdfb2b48c5f24677,Move numpy skip into test (#7247),Julia Signell,jsignell@gmail.com,2021-03-08 10:51:53-05:00,GitHub,noreply@github.com,2021-03-08 09:51:53-06:00
7584d58810e0387551f47c8459f2d8513a75dbbf,add example on using specific chunk sizes in from_array() (#7330),James Lamb,jaylamb20@gmail.com,2021-03-08 10:15:39-06:00,GitHub,noreply@github.com,2021-03-08 11:15:39-05:00
a620c15f3682c762baaa1e220c235e47b37d0e04,"Use pytest.register_assert_rewrite on util modules (#7278)

This makes failures in various assert_eq functions easier to debug,
because pytest will be able to introspect the failure and print the
arguments.",Bruce Merry,1963944+bmerry@users.noreply.github.com,2021-03-08 18:22:49+02:00,GitHub,noreply@github.com,2021-03-08 11:22:49-05:00
b4f2e42c6ac6ec0b3509872baadaa705c5671df1,"Run upstream tests based on commit message (#7329)

* Add upstream tag check

* Small updates [test-upstream]

* Typo [test-upstream]

* This empty commit should not run upstream tests",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-08 12:30:17-06:00,GitHub,noreply@github.com,2021-03-08 13:30:17-05:00
2af0bf195726a0dd1f159af3b6eb2d6b6a9f5b05,"Update repartition argument name in error text (#7336)

Rename partitions_size to partition_size to match argument",Eoin Shanaghy,eoin.shanaghy@gmail.com,2021-03-08 19:22:08+00:00,GitHub,noreply@github.com,2021-03-08 13:22:08-06:00
a3f7601a1f29d57dede2ac62e9e8c54c4230e2d4,Add Xarray to CI software environment (#7338),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-08 14:02:01-06:00,GitHub,noreply@github.com,2021-03-08 14:02:01-06:00
707af9dd8b57e1e4235f4f442b36e370f785e171,Change default branch from master to main (#7198),Julia Signell,jsignell@gmail.com,2021-03-08 15:18:58-05:00,GitHub,noreply@github.com,2021-03-08 14:18:58-06:00
de0e6e8c767ea15a8557ae8d1bf58bd179262352,fix fsspec usage in create_metadata_file (#7295),Richard (Rick) Zamora,rzamora217@gmail.com,2021-03-08 15:59:29-06:00,GitHub,noreply@github.com,2021-03-08 16:59:29-05:00
1767fedd2f0662ba2fd6a9caebf2d3595ca8046c,Drop support for Python 3.6 (#7006),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-09 13:06:25-06:00,GitHub,noreply@github.com,2021-03-09 13:06:25-06:00
479e8cb2d6ba1918185abf08a79a080f868c73cc,"HighLevelGraph length without materializing layers (#7274)

Calculate the `__len__` of a HighLevelGraph from the sum of the legths of its layers, instead of `len(self.to_dict())`. This is much faster and prevents causing all the layers to materialize.

I also changed the `__len__` implementation on `Blockwise`. It was using `_out_numblocks`, which is unused anywhere else in the codebase, and a bit hard to read. As far as I could tell, `_out_numblocks` was equivalent to `{i: self.dims[i] for i in self.output_indices}`. Basically, the length of a Blockwise layer should be equal to the number of output keys",Gabe Joseph,gjoseph92@gmail.com,2021-03-09 14:44:43-07:00,GitHub,noreply@github.com,2021-03-09 15:44:43-06:00
85688d5b9cf07762d18a39d1b18d4a5760e8b866,dask.array.asarray should handle case where xarray class is in top-level namespace (#7335),Tom White,tom.e.white@gmail.com,2021-03-09 23:09:05+00:00,GitHub,noreply@github.com,2021-03-09 17:09:05-06:00
a81a9cdc671776dca0df0b8ebd95a879765084bd,Automatically cancel previous CI builds (#7348),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-10 11:00:18-06:00,GitHub,noreply@github.com,2021-03-10 11:00:18-06:00
808e49f6117b777defbc2ae883f587907c308fb9,"Support int slicing for non-NumPy arrays (#7364)

* Support int slicing for non-NumPy arrays

* Add Cupy tests for int slicing

* Fix black formatting",Peter Andreas Entschev,peter@entschev.com,2021-03-11 01:22:36+01:00,GitHub,noreply@github.com,2021-03-10 19:22:36-05:00
fa831e2e163326605bff2860688cd54915f15778,Add test deps for pip development (#7360),Julia Signell,jsignell@gmail.com,2021-03-11 08:58:36-05:00,GitHub,noreply@github.com,2021-03-11 08:58:36-05:00
5ee329faa2ce0dd31a55f3c812a233ab1842d555,Remove duplicated imports from test_slicing.py (#7365),Hristo,hristog@users.noreply.github.com,2021-03-11 15:48:39+00:00,GitHub,noreply@github.com,2021-03-11 09:48:39-06:00
3763da9d974e6e02a0d283126fe10042a4c6f075,Prepare Blockwise + IO infrastructure (#7281),Richard (Rick) Zamora,rzamora217@gmail.com,2021-03-11 20:54:25-06:00,GitHub,noreply@github.com,2021-03-11 20:54:25-06:00
a62fced2396a54446a1aca66e5a8ab7bd6853b0e,"Require additional dependencies: cloudpickle, partd, fsspec, toolz (#7345)",Julia Signell,jsignell@gmail.com,2021-03-11 22:10:59-05:00,GitHub,noreply@github.com,2021-03-11 21:10:59-06:00
c14804b30c2ffa83a945bc88cdbfd155cb47cbbb,"Update test_hdf.py to not reuse file handlers (#7044)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",rs9w33,robyn.gwee@deltares.nl,2021-03-12 17:17:35+01:00,GitHub,noreply@github.com,2021-03-12 10:17:35-06:00
ec7392661fca2785be493f9495d4314c283a0657,Embed literals in SubgraphCallable when packing Blockwise (#7353),Mads R. B. Kristensen,madsbk@gmail.com,2021-03-12 18:37:36+01:00,GitHub,noreply@github.com,2021-03-12 11:37:36-06:00
07e75b6e1f5c72c3c52050f1de48f2e8f6bfd7f3,"Update read_hdf default mode to ""r"" (#7039)

* Update hdf.py

Changed read_hdf function (line 422) to have default mode as 'r' instead of 'a', similar to pandas. See https://github.com/dask/dask/issues/7022#issuecomment-756178918 for elaboration

* Update docstring

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",rs9w33,robyn.gwee@deltares.nl,2021-03-15 14:40:42+01:00,GitHub,noreply@github.com,2021-03-15 09:40:42-04:00
5a12b5403250c4e5d712e3a76456d0d6da92fe54,"Pass delimiter to fsspec in bag.read_text (#7349)

* Pass delimiter to fsspec in bag.read_text

* Last piece of a file

* Fix empty items

* add include_path test

* fix for windows

* remove unecessary imoprt",Martin Durant,martindurant@users.noreply.github.com,2021-03-15 10:50:01-04:00,GitHub,noreply@github.com,2021-03-15 10:50:01-04:00
3dbf4434cffeb8620ddaa440e400092e689dcf10,DOC hyperlink repartition (#7394),Ray Bell,rayjohnbell0@gmail.com,2021-03-15 11:15:08-04:00,GitHub,noreply@github.com,2021-03-15 10:15:08-05:00
bc9f087d871ae146d2d088e7e612c8b3e41a1ec1,Replace 'container' with 'image' (#7389),James Lamb,jaylamb20@gmail.com,2021-03-15 10:18:18-05:00,GitHub,noreply@github.com,2021-03-15 10:18:18-05:00
475764920b0289859b4260b6504a5dfee785d290,use single thread for pa.Table.from_pandas calls (#7347),Richard (Rick) Zamora,rzamora217@gmail.com,2021-03-15 12:12:43-05:00,GitHub,noreply@github.com,2021-03-15 10:12:43-07:00
5cd75d90fdfa17ac151a47513eebb6bda9781f11,"dead code removal / fixes (#7388)

* dead code removal

* fix unused `engine` param in parquet test",Ryan Williams,ryan@runsascoded.com,2021-03-15 13:22:39-04:00,GitHub,noreply@github.com,2021-03-15 10:22:39-07:00
a1187b13321d69565b9c21359d739c239bd04c65,Comment fixes (#7215),Ryan Williams,ryan@runsascoded.com,2021-03-15 14:23:54-04:00,GitHub,noreply@github.com,2021-03-15 13:23:54-05:00
82fcaab087621c750dc41b453e9681f81f753abe,Pin sqlalchemy<1.4.0 in CI (#7405),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-16 13:10:03-05:00,GitHub,noreply@github.com,2021-03-16 13:10:03-05:00
8da02d04eb80986beac6dd0660262c974c61d356,"ENH: Adds sort_values to dask.DataFrame (#7286)

* ENH: Add sort_values method to dask.dataframe

* ENH: Add sort_values method to dask.dataframe

Co-authored-by: Gerry Manoim <gmanoim@quantopian.com>",gerrymanoim,gerrymanoim@gmail.com,2021-03-17 11:45:58-04:00,GitHub,noreply@github.com,2021-03-17 11:45:58-04:00
8588d930bb48c5f5a9b492bc0573a45d2f7b9077,"Switch documentation builds for PRs to readthedocs (#7397)

* Test readthedocs build

* Remove GHA documentation build

* Add note to development docs",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-17 12:26:19-05:00,GitHub,noreply@github.com,2021-03-17 13:26:19-04:00
76a3f866e18c0cecb314e622f2f2b574b4968116,Fix typo in docs/source/develop.rst (#7414),Hristo,hristog@users.noreply.github.com,2021-03-17 21:50:07+00:00,GitHub,noreply@github.com,2021-03-17 16:50:07-05:00
80afa97f13dae1097703912fe17183596bb51ccd,"Add sliding_window_view (#7234)

- Put overlap on +ve side, so that last chunk is the one that is trimmed.
- Ensure that last chunk is big enough to leave chunks of positive size
  after windowing.
- Remove trim function and just trim the last chunk.
- Remove wrapper that tries to slice the chunks.

Co-authored-by: Sebastian Wallktter <sebastian@wallkoetter.net>
Co-authored-by: Bruce Merry <bmerry@ska.ac.za>",Deepak Cherian,dcherian@users.noreply.github.com,2021-03-18 09:46:38-06:00,GitHub,noreply@github.com,2021-03-18 11:46:38-04:00
bd379963f811a7d44389df2ca4068d575fc4843d,Bincount fix slicing (#7391),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-03-19 04:28:22+11:00,GitHub,noreply@github.com,2021-03-18 12:28:22-05:00
c19a56a243e5754438764e50fc3a49c3a1e3ee18,Avoid unnecessary imports for HLG Layer unpacking and materialization (#7381),Richard (Rick) Zamora,rzamora217@gmail.com,2021-03-18 15:25:04-05:00,GitHub,noreply@github.com,2021-03-18 15:25:04-05:00
0bc155eca6182eb0ee9bd3d671321e90235d17e5,Add support for normalize in value_counts (#7342),Julia Signell,jsignell@gmail.com,2021-03-19 09:16:18-04:00,GitHub,noreply@github.com,2021-03-19 09:16:18-04:00
47f98a11fa63e709dd30e4856c3fae6c2e324776,Make changelog subtitles match the hierarchy (#7419),Julia Signell,jsignell@gmail.com,2021-03-19 12:17:11-04:00,GitHub,noreply@github.com,2021-03-19 11:17:11-05:00
b288de7d448ba8f05a93ea5cee19807740b86249,"Fix HDFS test (#7418)

* Add test that mimics hdfs test

* Fix missing list from 5a12b54

* Add commit message checking for hdfs [test-hdfs]

* Fixing typo [test-hdfs]

* Another fix [test-hdfs]",Julia Signell,jsignell@gmail.com,2021-03-19 14:08:11-04:00,GitHub,noreply@github.com,2021-03-19 14:08:11-04:00
47cd02664cb60055cdb9a04e46f19210e94d98ab,Update some CI workflow names (#7422),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-19 15:02:15-05:00,GitHub,noreply@github.com,2021-03-19 15:02:15-05:00
1eedffd19689c117a531d75a3e72d34640dfaa90,Temporarily skip problematic sparse test (#7421),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-19 15:39:31-05:00,GitHub,noreply@github.com,2021-03-19 15:39:31-05:00
6834d40cd743bd478a3480c80846b84b6839c74b,Avoid quadratic-time performance for HLG culling (#7403),Bruce Merry,1963944+bmerry@users.noreply.github.com,2021-03-19 22:41:10+02:00,GitHub,noreply@github.com,2021-03-19 15:41:10-05:00
a3e631d55ba064798adbedb6b35c51fea1765a75,"added df kurtosis-method and testing (#7273)

* added df kurtosis-method and testing

* adjusted type check",Jan Borchmann,j.borchmann@gmx.de,2021-03-19 17:35:14-04:00,GitHub,noreply@github.com,2021-03-19 17:35:14-04:00
e00f2fa2a8cb4c971dafc1f7b4c45caf53165879,"Add Series.dot method to dataframe module (#7236)

* Add Series.dot method to dataframe module

Ref: #1259

* Add meta kwarg to Series.dot method

* Add validation if other operand is not dask series / dataframe

* Address review comments

* Update comment

* Update tests",Madhu94,galt4000@gmail.com,2021-03-20 03:25:24+05:18,GitHub,noreply@github.com,2021-03-19 18:07:24-04:00
131546921dd1eb9716e45fa43295aee182aa2f57,"Drop duplicate test in `test_describe_empty` (#7431)

It appears this test is run twice. Since it is already covered once,
just drop the second one.",jakirkham,jakirkham@gmail.com,2021-03-22 07:46:16-07:00,GitHub,noreply@github.com,2021-03-22 09:46:16-05:00
c845de789975b405fe17215a7b1d7a9742c92302,Update layer annotation packing method (#7430),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-03-22 09:51:11-05:00,GitHub,noreply@github.com,2021-03-22 09:51:11-05:00
fa230cd0ac6f1a4894f60600b67d8525c2f10e22,"Simplify BlockwiseIODeps importing (#7420)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2021-03-22 17:30:16-05:00,GitHub,noreply@github.com,2021-03-22 17:30:16-05:00
f6e9e81903bd2416125a97cc3856c63bb792bddf,Expand `dask.utils.is_arraylike` docstring (#7445),Doug Davis,ddavis@ddavis.io,2021-03-22 18:32:47-04:00,GitHub,noreply@github.com,2021-03-22 17:32:47-05:00
76bc015d9004e4e6be48beb982af4b9012d03e61,Master -> main in slice_array docstring (#7453),Gabe Joseph,gjoseph92@gmail.com,2021-03-23 11:38:44-06:00,GitHub,noreply@github.com,2021-03-23 12:38:44-05:00
6740aba4d31f55e1db223f8e84ca0a00c9e0c9df,Update docs for required package for endpoint (#7454),Nick Vazquez,nickvazquezz@gmail.com,2021-03-23 10:44:38-07:00,GitHub,noreply@github.com,2021-03-23 12:44:38-05:00
3ea93fca60b3a3f3e4961a56554b138258d90df4,"Add `rot90` (#7440)

* Add

* Test modulus and negative k",Trevor Manz,trevor.j.manz@gmail.com,2021-03-23 14:25:02-04:00,GitHub,noreply@github.com,2021-03-23 11:25:02-07:00
f41325512a4251dbaa7f7c781414d913066a6c34,Update NumPy intersphinx URL (#7460),Gabe Joseph,gjoseph92@gmail.com,2021-03-23 18:47:34-06:00,GitHub,noreply@github.com,2021-03-23 19:47:34-05:00
1d41ca1a3ef3605b7908b040b56f24fe3a10b5e1,Remove global env mutation upon running test_config.py (#7464),Hristo,hristog@users.noreply.github.com,2021-03-25 19:09:37+00:00,GitHub,noreply@github.com,2021-03-25 14:09:37-05:00
fa2f4258cecd34965ec0b8d1c03a8084713d7c67,"Ensure natural sort order in parquet part paths (#7249)

* add parquet divisions assertions

highlight situations where with >10 partitions, statistics are not gathered due to incorrect numeric sort

* ensure natural sort order in parquet part paths

* push numeric-sorting outside _analyze_paths

* fold parquet part-file sorting into _sort_and_analyze_paths helper

* cr feedback: cleaner / more consistent parquet-path sorting",Ryan Williams,ryan@runsascoded.com,2021-03-25 16:57:47-04:00,GitHub,noreply@github.com,2021-03-25 16:57:47-04:00
f7bb556c03b7b1d7be11e7467a56f360dee0c315,"minor sort_values housekeeping (#7462)

* move `ascending` kwarg check into dd.sort_values

* rename dd.sort_values arg to `by` to match pandas

* update sort_values doc

* rm dead code in sort_values

* rm extra lines in test",Ryan Williams,ryan@runsascoded.com,2021-03-25 17:04:17-04:00,GitHub,noreply@github.com,2021-03-25 17:04:17-04:00
2598af25fd2ba3dd11482194928b48efb327f637,Require numpy >=1.16 (#7383),crusaderky,crusaderky@gmail.com,2021-03-25 21:32:58+00:00,GitHub,noreply@github.com,2021-03-25 16:32:58-05:00
c66b457d3f82503ef413567be7ed93cce31eb7e2,Use `concurrent.futures.Executors` in a few tests (#7429),jakirkham,jakirkham@gmail.com,2021-03-25 15:48:16-07:00,GitHub,noreply@github.com,2021-03-25 15:48:16-07:00
cdb89fe317a43393f6c89cd780b54a3260839fd3,"Fix __array_function__ dispatching for tril/triu (#7457)

* Add new arange_safe utility function

* Use arange_safe for dask.array.chunk.arange

* Fix __array_function__ dispatching for tril/triu

* Fix formatting

* Move import asarray_safe to top of routines.py",Peter Andreas Entschev,peter@entschev.com,2021-03-25 23:51:43+01:00,GitHub,noreply@github.com,2021-03-25 15:51:43-07:00
913a192fd3b35696883bdd4c4eeba2418b946b3a,"Fix bug in repartition with freq (#7357)

* Fix bug in repartition with freq

* remove comment",Ruben van de Geer,37443208+rubenvdg@users.noreply.github.com,2021-03-26 16:59:41+01:00,GitHub,noreply@github.com,2021-03-26 11:59:41-04:00
1c50b2bed111e11f03377c428e4398861b3e7e68,"Fix numpy upstream failures `xfail` pandas and fastparquet failures (#7441)

* Fix test_to_numeric_on_dask_array

* Fix test_combine

* test-upstream

* Get rid of https://github.com/dask/dask/issues/7170 skip

* test-upstream

* Skip `_code` issue with fastparquet until upstream issue is resolved

* xfail cats have different dtypes

* xfail dask tests that check freq

* test-upstream

* Get rid of skip for _code

* test-upstream",Julia Signell,jsignell@gmail.com,2021-03-26 13:30:12-04:00,GitHub,noreply@github.com,2021-03-26 13:30:12-04:00
14276bca0f2e44cfb7965c2d18d9be2071fa7110,"Example for memory-mapped Dask array (#7380)

* Example for memory-mapped Dask array

Closes #7355

* Add simple example for threaded scheduler

Discussion with @jakirkham in #7355

* Update docs/source/array-creation.rst

Thx @jakirkham!

Co-authored-by: jakirkham <jakirkham@gmail.com>

Co-authored-by: jakirkham <jakirkham@gmail.com>",Dieter Weber,d.weber@fz-juelich.de,2021-03-26 18:46:24+01:00,GitHub,noreply@github.com,2021-03-26 13:46:24-04:00
c9829b3eeaa309406216948d3d2f47725df4c872,"Add missing meta kwarg to gufunc class (#7423)

* Add missing meta kwarg to gufunc class

* Add `as_gufunc` test with `meta=`",Peter Andreas Entschev,peter@entschev.com,2021-03-26 19:16:24+01:00,GitHub,noreply@github.com,2021-03-26 14:16:24-04:00
564caa6342969406ffbac7eb7db5fa5c2d566d50,"Use `multiprocessing.Pool` in `test_read_text` (#7472)

* Use `multiprocessing.Pool` in `test_read_text`

As this is being used with Dask's local scheduler, we can't make this
change while the local scheduler relies on `apply_async`. So revert for
now.

* test-hdfs",jakirkham,jakirkham@gmail.com,2021-03-26 12:03:22-07:00,GitHub,noreply@github.com,2021-03-26 15:03:22-04:00
8e25b6e55c0b532eeb46ca08ee83b296979f3b18,Add a dispatch for `is_categorical_dtype` to handle non-pandas objects (#7469),brandon-b-miller,53796099+brandon-b-miller@users.noreply.github.com,2021-03-26 14:45:40-05:00,GitHub,noreply@github.com,2021-03-26 14:45:40-05:00
fba94e65e6053163fd1b1ed3c1803ab4f4aa541f,bump version to 2021.03.1,James Bourbeau,jrbourbeau@gmail.com,2021-03-26 15:05:35-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-03-26 15:05:35-05:00
ad0e5d140dfc934d94583f8ce50d6b00a04cea38,"Use `concurrent.futures` in local scheduler (#6322)

* Create `apply_async` for `concurrent.futures`

* Implement a `SynchronousExecutor`

Provides a simple synchronous `Executor` for use with
`concurrent.futures`. Simply executes any function once submitted and
stores the result or exception in a `Future` returned to the user. This
matches closely with our current implementation of synchronous
execution. Also it is simpler to implement than say delaying execution
until the `Future`'s `.result(...)` is queried. Besides as we already
collect and deduplicate all work to do in the local scheduler before
submitting it, there is no material difference between computing
immediately or when the result is requested.

* Use synchronous executor internally

* Use `ThreadPoolExecutor` for multithreading

* Use `ProcessPoolExecutor` for multiprocessing

* Fix exception handling tests

* Use wrapper function to convert `Future` to result

* Handle `Futures` in `queue_get`

* Pass `Future` directly to callback

As any `Exception` (or subclass thereof) that is raised by the callback
will be logged instead of allowed to propagate through, we don't get the
excepted exception handling behavior with `concurrent.futures` when
grabbing the result here. So pass the `Future` instead so that this is
delayed until the `Future`'s result is later retrieved. Should allow the
exception to be handled in the proper context.

* Drop `callback_wrapper`

We can just handle this with the `callback` directly. So drop the
wrapper function. It was mostly for debugging anyways.

* Drop oversubscription logic

Since `concurrent.futures` already has the logic necessary to avoid
oversubscription and our logic for it doesn't really apply, go ahead and
drop the oversubscription logic from the local scheduler and rely on
`concurrent.futures`.

Note it's still possible to configure pools with specific numbers of
workers. This doesn't affect that. Instead we just submit all tasks that
are ready until we are out of ready tasks.

* Use `concurrent.futures`'s `Executor`s in tests

* Use `ProcessPoolExecutor` in `dask.bag` test

* `queue_get` always works with `Future`s

As we only pack `Future`s into the queue, always call `.result()` on the
`Future`.

* Check `.result()` outside `try...except`

As the `.result()` could also `raise Empty` if the task itself raises,
make sure that exception would be propagated as usual since this would
be user created as opposed to being created by us.

* Use `ProcessPoolExecutor`'s `initializer` argument

On Python 3.7+, use the `initializer` argument with
`ProcessPoolExecutor` as this will be less fragile and is preferable in
the long run.

* Handle `Future` in `get_async` for simplicity

* Tweak import order

* Use synchronous scheduler in order test

As this test was using the threaded scheduler previously, it could be
sensitive to the behavior of the scheduler itself, which may result in
some tasks finishing first (even if they were submitted/started in the
correct order). So switch to the synchronous scheduler, which will run
tasks in the order given. This should make this test behave more
consistently.

* Only use `partial` wrapper on Python 3.6

Instead of applying this wrapper on Python 3.7+ and then not using most
of it there, simply restrict use of `partial` to wrap this function to
the Python 3.6 case.

* Use `ProcessPoolExecutor` subclass

Move the Python 3.6 initialize workaround into a `ProcessPoolExecutor`
subclass. This should make it easier to remove `executor_apply_async`
and pass `Executor`s to `get_async` directly.

* Inline `multiprocessing_apply_async`

As we have now move the Python 3.6+ bits into a `ProcessPoolExecutor`
subclass, there is not much need for `multiprocessing_apply_async`. So
go ahead and inline its contents and drop the function.

* Drop duplicate `partial` import

* Use `Executor`s directly in `get_async`

Simplify local scheduler code by allowing `get_async` to take
`Executor`s directly. Eliminate utility functions that were added to
ease into using `Executor`s in the local scheduler since these are no
longer needed. Also should make it easier for users to plugin their own
`Executor` potentially.

* Add docstring to `ProcessPoolExecutor`

* Rename Python 3.6 worker wrapper func for clarity

* Capture exceptions in synchronous case

* Launch tasks in main `while`-loop only

* Fix typo

* Note `concurrent.futures.Executor` used in docs

* Drop unused import

* Drop Python 3.6 workarounds

* Update `expected` to match depth first progression

As order is actually suppose to go depth first instead of breadth first,
switching to the executor model fixes a bug. Based on this just correct
the test.

* Return to using `dask.get` here

* Use `concurrent.futures.Executor`s in docs

* Rewrite shared memory section

* Collect `args` for function call

* Batch task submission with `Executor`

* Put `Future.result()` in the `Queue`

Instead of putting the `Future` in the `Queue`, put `Future.result()` in
the `Queue`. This will come in handy when batch multiple `execute_task`
calls per `Future`.

* Batch multiple tasks with `executor.submit`

Estimates a rough `chunksize` that evenly divides the work between each
batch submission and submits it.

In theory `Executor.map` should be used for this. However that runs into
issues on Windows where problems with the `Queue` not yielding to
interrupts would hang things for the user. Plus `map` is synchronous and
blocks for all work to complete, which we don't want either. By using
`executor.submit` and batching ourselves we are able to avoid both of
these issues.

* Drop outdated comment

* Rework local scheduler to use `Executor.submit`

As we don't need a full `Executor` object and already handle batching
tasks through `submit`, go ahead and update `get_async` to use `submit`
directly. This will also make it easier to adapt to the old style
`multiprocessing.Pool` as well.

* Add/use legacy wrapper for `multiprocessing.Pool`

* Use `with` to close `ProcessPoolExecutor`

* Mention `submit` in docstring

* Consolidate code block and simplify comment

* Parametrize another test

* Add function-level adaptors for `apply_async`

If users have something that looks like an `apply_async` function, but
not a `multiprocessing.Pool` instance, these adaptors should help them
update their code to use `get_async` in a `concurrent.future`s friendly
way.

* Add `queue_put` after `fire_tasks`

This should make it easier for others reading the code as they see this
being added as a callback and can then see what this callback is doing.

* Tweak `num_workers` doc

* Use at most `CPU_COUNT` works in pool tests

* Put batched results as one item in the queue

Instead of putting each result from a batched submission in the queue
separately, just put it as one item in the queue. This avoids multiple
call to `put` and possible deadlocks this may entail. After pulling the
batched results out of the queue, iterate over them in the main thread
until they are all handled.

* Sleep longer in test check # of workers used

* Revert ""Sleep longer in test check # of workers used""

This reverts commit 32b32b1bc48f83595071c6cf0b8a49fd0b3210be.

* Drop 4th to include exactly one task per worker

Batching will result in combining 2 tasks per ever 1 batched task. So we
will only see 2 workers used then. This is done to make better use of
threads and processes as well as cutdown on task submission overhead
(paying it once per batch instead of once per individual task).

To fix this, we just use the same # of tasks as workers. This way
batching will just result in 1 task per batch. Thus there will be 3
batched tasks with 1 per worker.

* Rewrite tasks in terms of `num_workers`

This way we can be sure to get an equal # of tasks as workers used.

* Use `for`-loop to iterate over `""ready""` keys

Instead of `pop`ing each `key` in `""ready""` within a `while`-loop, just
iterate over the `key`s in `""ready""` with a `for`-loop and `clear` the
`list` once that is done. This should avoid resizing the `list` multiple
times and repeated checking of its content.

Note that as we were `pop`ing from the end, we need to have the `list`
`reversed` first to iterate through it in the intended order.

* Skip reversing `ready`

As maintaining and working with `ready` in reverse incurs some overhead
and is no longer strictly necessary, relax this requirement throughout
the local scheduler. Should improve performance and make the code easier
to follow.

* Fix docstring argument order

* Make `chunksize` configurable (default to `1`)

As the appropriate `chunksize` for workloads can vary depending on the
type of workload, make this configurable instead of simply picking a
value. `get_async` will accept this as an argument. Though if
`chunksize` is not provided, `get_async` will check the `dask.config`.
By default set this to `1`, which matches the local schedulers original
behavior and what `map` does in `concurrent.futures`. To evenly divide
work across workers, this can be set to `-1` and will be computed
under-the-hood (the behavior up until now). Any other `int` will be used
to pick a suitable `chunksize`.

* Document parameter that was previously missing

* Provide `chunksize` for the multiprocessing case

Choose a small, but non-`1` value for batching with multiprocessing.
It's helpful to have some batching here. Though `5` is a rough guess
based on some benchmarking (and we may want to change that later).

* Use `chunksize=1` in `test_num_workers_config`

As the `process` case uses a `chunksize=6`, this test will wind up
putting all of the work in 1 job. To fix that, update the test to use a
`chunksize=1` to ensure each task goes to a new worker.

* Update single machine scheduler docs

* Update shared memory docs

* Update scheduling docs

* Use `concurrent.futures` in `test_read_text`

Now that the local scheduler uses `concurrent.futures`, change this test
to use a `concurrent.futures` based `Executor` as well. While the
`multiprocessing.Pool` would still work, this is the recommended way to
go in the future.

* test-hdfs

* test-hdfs",jakirkham,jakirkham@gmail.com,2021-03-26 20:37:26-07:00,GitHub,noreply@github.com,2021-03-26 20:37:26-07:00
d7d041ce883c623911ca0fc962fbdb1cb626d39f,Fix typo in array docs (#7478),James Lamb,jaylamb20@gmail.com,2021-03-29 10:29:35-05:00,GitHub,noreply@github.com,2021-03-29 10:29:35-05:00
cb34b298913d19681d4ec61f77085f3578eb2131,Replace conda with mamba (#7227),crusaderky,crusaderky@gmail.com,2021-03-29 22:52:16+01:00,GitHub,noreply@github.com,2021-03-29 16:52:16-05:00
e82e9fde536c94c4e459c0b99da92dba952d2f6a,"Added License Classifier (#7485)

This adds the `License :: OSI Approved :: BSD License` classifier
to the setup.py.",Tom Augspurger,tom.w.augspurger@gmail.com,2021-03-30 11:37:09-05:00,GitHub,noreply@github.com,2021-03-30 11:37:09-05:00
2613608da99b6a46333c0e2ff2000cf20d41faa5,Use powers-of-two when displaying RAM (#7484),crusaderky,crusaderky@gmail.com,2021-03-30 18:44:28+01:00,GitHub,noreply@github.com,2021-03-30 13:44:28-04:00
6b1843ba20dfb14b379f7143b0bb0b9efef320a8,"Add ignore_order parameter in dd.concat (#7398) (#7473)

* Add ignore_order parameter in dd.concat (#7398)

* Increase test coverage for dd.concat (#7398)",Daniel Mesejo-Len,mesejoleon@gmail.com,2021-03-30 21:16:17+02:00,GitHub,noreply@github.com,2021-03-30 15:16:17-04:00
a31c0fc72e1cc59b8b0254965824abb0718c5f56,Start adding isort (#7370),Julia Signell,jsignell@gmail.com,2021-03-30 22:10:19-04:00,GitHub,noreply@github.com,2021-03-30 21:10:19-05:00
b86fd9f243766c0ddd542386f82e62ad82d5f84a,"Only provide installation instructions when distributed is missing (#7498)

The line ""from dask.distributed import ..."" causes us to import
distributed.
If that doesn't work today, we currently tell people to go and install
distributed with pip/conda.

However, if there is an underlying optional library that is missing
(like uvloop)
then this message hides the actual issue and so leads the user astray.

This commit restricts the use of the informative message to only the
case when distributed is missing, and falls back to normal Python
behavior otherwise.",Matthew Rocklin,mrocklin@gmail.com,2021-04-01 12:01:30-05:00,GitHub,noreply@github.com,2021-04-01 12:01:30-05:00
b4e97324ca571fffa39aa6d98cef6e2f251333f2,"extract ignore_order from kwargs (#7500)

* extract ignore_order from kwargs

* Update dask/dataframe/methods.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

* Apply suggestions from code review

Co-authored-by: jakirkham <jakirkham@gmail.com>

* fix callers

* format

* fix another caller

* Update dask/dataframe/multi.py

* reorder

* fix correct way of constructing tuple with method taking kwargs

Co-authored-by: jakirkham <jakirkham@gmail.com>",GALI PREM SAGAR,sagarprem75@gmail.com,2021-04-01 16:18:56-05:00,GitHub,noreply@github.com,2021-04-01 17:18:56-04:00
f3efd086c1cef286780865d14548abb3c610677f,Add labels automatically when certain files are touched in a PR (#7506),Julia Signell,jsignell@gmail.com,2021-04-01 19:37:43-04:00,GitHub,noreply@github.com,2021-04-01 18:37:43-05:00
0e1e8c4d6eadb89a59405703c5516dc788a0e2ea,"Update docs on number of threads and workers in default LocalCluster (#7497)

Co-authored-by: cameron16 <cboroumand@gmail.com>",cameron16,cb596@cornell.edu,2021-04-01 19:43:43-04:00,GitHub,noreply@github.com,2021-04-01 18:43:43-05:00
608ce0f051cde3cb0ac96d6de48968674cac5e77,"Adding support for multidimensional histograms with dask.array.histogramdd (#7387)

* Add prototype dask.array.histogramdd (dask version of np.histogramdd)

* add a (failing) test; fix some imported calls.

* blacken

* fix variable name

* flake8 test

* fix shape issue

* don't hardcode additional dimensions.

* support weights.

* improve docstring; start to introduce more sophisticated binning

* passing test

* move token to beginning; more bin logic; pass flake8 and black.

* will redesign bin logic.

* expand docstring; more tests; adding non-delayed binning logic.

* another place in the docs.

* docstring improvements.

* docstring improvements; add examples to docstring.

* add density

* variable name

* add test triggering bad chunking ValueError.

* normed/density logic to top; raise NotImplementedError if dask colls

currently dask collections as bins=... or range=... is not implemented.

* black

* More tests; comment some code and add more compat checks.

* fix test

* 2 more tests; docstring

* make table in docstring rst compat.

* docs table

* Conserve `chunksize[0]` when rechunking list-of-vector input sample.

* add test which follows code path that triggers rechunking

* move bins and range dask-collection checks to top of function

* bring histogramdd to dask.array namespace",Doug Davis,ddavis@ddavis.io,2021-04-01 20:14:55-04:00,GitHub,noreply@github.com,2021-04-01 17:14:55-07:00
ed7309166914585202f00208a7b83acd3b7c3dca,bump version to 2021.04.0,James Bourbeau,jrbourbeau@gmail.com,2021-04-02 11:15:14-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-04-02 11:15:14-05:00
5061f9b477f9641364740f81311e47bf971b2451,Add `check_type` to array `assert_eq` (#7491),Julia Signell,jsignell@gmail.com,2021-04-02 14:30:46-04:00,GitHub,noreply@github.com,2021-04-02 13:30:46-05:00
8c80d4fa17321f249df4e055a253f3e49802b7ad,"Escape from map_overlap to map_blocks if depth is zero (#7481)

* Escape from map_overlap to map_blocks if depth is zero

* Align arrays before escape to map_blocks, fix error in checking all depths are zero

* Add test checking map_overlap uses map_blocks if depth=0 to create simpler task graphs

* Update dask/array/tests/test_overlap.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

* Pull out test into its own function

Co-authored-by: Julia Signell <jsignell@gmail.com>",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-04-03 05:31:18+11:00,GitHub,noreply@github.com,2021-04-02 14:31:18-04:00
c5633c21e754df6b2c13195f1e2688e347c48963,"Fix upstream `__array_ufunc__` tests (#7494)

* Fix upstream tests by not passing extra kwargs

* test-upstream

* Revert change in code [test-upstream]",Julia Signell,jsignell@gmail.com,2021-04-02 14:46:45-04:00,GitHub,noreply@github.com,2021-04-02 14:46:45-04:00
8466409471b06a36964a0f984432417fe35c0db5,"Added product (alias of prod) (#7517)

* Aliased product

* Added Tests for the new product method

* Formaated Code

* Cleaned data.txt

* Removed data.txt",Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-04-05 19:57:11+04:00,GitHub,noreply@github.com,2021-04-05 11:57:11-04:00
865515ca94b0da2872413d5d38b8ecf1e6b9fe1c,Getting rid of more docs warnings (#7426),Julia Signell,jsignell@gmail.com,2021-04-05 12:14:53-04:00,GitHub,noreply@github.com,2021-04-05 11:14:53-05:00
bc785e1a88f0e662afa0aba749a83953b0eb66da,Clean some documentation warnings (#7518),Daniel Mesejo-Len,mesejoleon@gmail.com,2021-04-05 19:45:20+02:00,GitHub,noreply@github.com,2021-04-05 12:45:20-05:00
6f774d699a82cf05fa747e72ae218e5ab6d1babc,"Support custom_metadata= argument in to_parquet (#7359)

* add custom_metadata= arg to to_parquet

* add test coverage

* support fastparquet engine and add error for b'pandas' key

* Update dask/dataframe/io/tests/test_parquet.py

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-05 13:45:12-05:00,GitHub,noreply@github.com,2021-04-05 14:45:12-04:00
bac88bd833c8b71c720928a3960409868c17f090,"Fix reshape bug. Add relevant test. Fixes #7171. (#7523)

* Fix reshape bug. Add relevant test.

* Remove dependency on loop variable outside loop.

* Remove comma to placate black.

Co-authored-by: JSKenyon <jonosken@gmail.com>",JSKenyon,jonathan.simon.kenyon@gmail.com,2021-04-06 15:31:52+02:00,GitHub,noreply@github.com,2021-04-06 09:31:52-04:00
b6c28d23690973df6454508c16f8caae6bd82205,Encourage usage of `yaml.safe_load()` in configuration doc (#7529),Hristo Georgiev,hristog@users.noreply.github.com,2021-04-06 18:12:36+01:00,GitHub,noreply@github.com,2021-04-06 12:12:36-05:00
0130bd15cde5f0e244e3e9a0dbfab1a8471699ad,Avoid double msgpack serialization of HLGs (#7525),Mads R. B. Kristensen,madsbk@gmail.com,2021-04-07 00:13:48+02:00,GitHub,noreply@github.com,2021-04-06 17:13:48-05:00
399c843da255de20a9646fad0b681ecebc40fd73,DOC: use .to_parquet on dask.dataframe in doc string (#7528),Ray Bell,rayjohnbell0@gmail.com,2021-04-06 19:28:22-04:00,GitHub,noreply@github.com,2021-04-06 18:28:22-05:00
f4df1c592bfa576a6dcf26fbcfdad0c785d6b8e8,Fix Configuration Reference (#7533),Benjamin Zaitlen,quasiben@users.noreply.github.com,2021-04-07 12:56:51-04:00,GitHub,noreply@github.com,2021-04-07 11:56:51-05:00
3162dbb1789bc64aac08ceedfef58bef0591c8cf,CI: force nightly pyarrow in the upstream build (#7530),Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-04-07 19:18:02+02:00,GitHub,noreply@github.com,2021-04-07 12:18:02-05:00
afc5b90dabf2ab3368d489c2b618b4b09d78f7fe,"histogram, histogramdd improvements (docs; return consistencies) (#7520)

* Expand the docstring of dask.array.histogram such that it's clear
why a Series can sometimes be passed to the function (and when it
can't be passed).

* Improve the docstring of dask.array.histogramdd and adjust the
second return (the bin edges) as well (originally a list of
numpy.ndarrays was returned, but for consistency with
dask.array.histogram we change it to a list of dask.array.Arrays). Add
a test for the second return.",Doug Davis,ddavis@anaconda.com,2021-04-07 14:07:26-04:00,GitHub,noreply@github.com,2021-04-07 14:07:26-04:00
a199302b0c69df82a09c8ab166de882368e6e8c8,"Redesigned __setitem__ implementation (#7393)

* first draft of redesign (tests pass, no runaway threadcount)

* comments, simplifications

* convert dask indices to np.array

* Array.__index__

* Array.__index__

* allow dask array slice args

* comments

* comments

* linting

* 1-d tests

* 1-d tests

* comments, 1-d array

* no more getrefcount, docs, re-organisation

* move code from __setitem__ to setitem_array

* more test coverage, docs

* more test coverage, docs

* docs

* docs

* docs

* docs

* Lazy 1-d boolean index

* Lazy 1-d integer index

* Lazy 1-d boolean index - fix(2)

* Lazy 1-d boolean index - fix(2)

* pre-PR readiness

* black, flake8

* negative indices in dask arrays

* nan size fix WIP

* test pass!

* review changes, comments

* value_indices index, comments

* tidy

* tidy

* tidy

* tidy

* tidy

* improved comments

* improved comments

* repeated integer index test

* corrected behaviour for negative indices in dask arrays

* remove code made redundant by previous commit

* change index dtype for new setitem

* docstring and comment typos

* re-instate __setitem__ backwards compatibility

* remove reduendant code

* remove redundant code

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* remove redundant flatten import

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* add missing return

* Remove commented-out code

* restructured tests

* Update dask/array/slicing.py

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* changed test function name

* updated setitem() docstring examples

* Updated setitem doctring (passes tests)

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>

* use operator.index in __index__

* Remove compute and fix dtype in test

Co-authored-by: Illviljan <14371165+Illviljan@users.noreply.github.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>",David Hassell,davidhassell@users.noreply.github.com,2021-04-07 20:08:20+01:00,GitHub,noreply@github.com,2021-04-07 15:08:20-04:00
e83379d5946a8e64f21c1dcb3695cf1386539307,"Make normalize_token for pandas Series/DataFrame future proof (no direct block access) (#7318)

* Make normalize_token for pandas Series/DataFrame future proof (no direct block access)

* use explicit version check

Co-authored-by: Julia Signell <jsignell@gmail.com>",Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-04-08 16:49:47+02:00,GitHub,noreply@github.com,2021-04-08 10:49:47-04:00
09862ed99a02bf3a617ac53b116f9ecf81eea338,Fix upstream idxmaxmin for uneven split_every (#7538),Julia Signell,jsignell@gmail.com,2021-04-12 09:57:01-04:00,GitHub,noreply@github.com,2021-04-12 09:57:01-04:00
52eff94c64f9bca8a23f77e95eb64afe8223a84c,Add dask.delayed.Delayed to docs so it can be referenced by other sphinx docs (#7559),Doug Davis,ddavis@ddavis.io,2021-04-14 13:38:23-04:00,GitHub,noreply@github.com,2021-04-14 12:38:23-05:00
f706bf444cb216ca1d0e7a20a262dffc07ca0454,add a documentation auto label. (#7560),Doug Davis,ddavis@ddavis.io,2021-04-14 13:59:02-04:00,GitHub,noreply@github.com,2021-04-14 13:59:02-04:00
4569b150db36af0aa9d9a8d318b4239a78e2eaec,"Fix dict-column appending for pyarrow parquet engines (#7527)

* support dict-column append for pyarrow engines

* skip test for old version of pyarrow

* small skip-comment change",Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-14 13:35:46-05:00,GitHub,noreply@github.com,2021-04-14 14:35:46-04:00
7c147c80244eb8635aa44802b1983f178d1b9d1b,Make ValueError in len(index_names) > 1 explicit it's using fastparquet (#7556),Ray Bell,rayjohnbell0@gmail.com,2021-04-14 20:55:35-04:00,GitHub,noreply@github.com,2021-04-14 19:55:35-05:00
52554fa9ed31c86e4f188a02bba05eceabbded53,Simplify transpose axes cleanup (#7561),Julia Signell,jsignell@gmail.com,2021-04-15 15:41:57-04:00,GitHub,noreply@github.com,2021-04-15 14:41:57-05:00
9330d3b878c438b111b9450a2483e65b0ff05e45,DOC: add defaults in parameters in to_parquet (#7564),Ray Bell,rayjohnbell0@gmail.com,2021-04-16 13:21:17-04:00,GitHub,noreply@github.com,2021-04-16 12:21:17-05:00
29e17a05f605a5ad5b8e308540387f489434cde6,Remove hash seeding in parallel CI runs. (#7128),Elliott Sales de Andrade,quantum.analyst@gmail.com,2021-04-16 13:25:29-04:00,GitHub,noreply@github.com,2021-04-16 12:25:29-05:00
6a94d9cbf1f926b854d67e1ff61a3c1484b9252e,"Map e.g. `.repartition(freq=""M"")` to `.repartition(freq=""MS"")` (#7504)

* Map a frequency that pertains to the end of a period (e.g. 2020-31-1 00:00:00) to the start of a period (2020-2-1 00:00:00)

* Fix bug, improve tests

* Pythonize it

* make it work for old pandas

* improve readability",Ruben van de Geer,37443208+rubenvdg@users.noreply.github.com,2021-04-19 18:04:20+02:00,GitHub,noreply@github.com,2021-04-19 12:04:20-04:00
989b487dc88b42c8044b2a262804f7107d4f807b,Avoid pandas `level=` keyword deprecation (#7577),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-04-19 11:26:42-05:00,GitHub,noreply@github.com,2021-04-19 11:26:42-05:00
4243359983d773905c6ff427401779e42b5186c2,Misc fixes for numpydoc (#7569),Matthias Bussonnier,bussonniermatthias@gmail.com,2021-04-19 15:42:52-07:00,GitHub,noreply@github.com,2021-04-19 17:42:52-05:00
ed983bc65ae2344a5a9dbd6a48e846f0814ba15e,"Array: Fix NEP18 dispatching in finalize (#7508)

* Array: Fix NEP18 dispatching in finalize

#4669 was meant to do this, but it wasn't working anymore. Turns out `arr.__array_function__ is not type(arr).__array_function__`, even when `arr` is a plain ndarray. So I believe we've actually being going down the `_concatenate2` path for all array types, even plain ndarrays where we could do the more efficient fill-in-the-blocks method of `concatenate3`.

* skip test for np < 1.17",Gabe Joseph,gjoseph92@gmail.com,2021-04-21 14:56:39-06:00,GitHub,noreply@github.com,2021-04-21 16:56:39-04:00
d6661d9784eca78fcaf7e2c4c72488829e7abe67,Add more packages to Python 3.9 CI build (#7588),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-04-21 21:15:03-05:00,GitHub,noreply@github.com,2021-04-21 21:15:03-05:00
34491c5b5c6252e59583bb55241f7b978cfd04b8,Contributing to docs (development guide) (#7591),Naty Clementi,natyclementi@gmail.com,2021-04-22 11:06:08-04:00,GitHub,noreply@github.com,2021-04-22 10:06:08-05:00
ce1b28fce41329d8a376aff98c5c600c4a4366c7,Using tmp_path and tmpdir to avoid temporary files and directories hanging in the repo (#7592),Naty Clementi,natyclementi@gmail.com,2021-04-22 18:19:08-04:00,GitHub,noreply@github.com,2021-04-22 17:19:08-05:00
4bc3979333a3f3efff7ef38486107e60df7b5b56,map_partitions: use tokenized info as name of the SubgraphCallable (#7524),Mads R. B. Kristensen,madsbk@gmail.com,2021-04-23 18:50:19+02:00,GitHub,noreply@github.com,2021-04-23 11:50:19-05:00
89f778560d18da02bf7cc867cff46b765fef028e,Handle Blockwise HLG pack/unpack for concatenate=True (#7455),Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-23 13:38:31-05:00,GitHub,noreply@github.com,2021-04-23 13:38:31-05:00
f1f37cae96d5e98f8043ea430539a4fffbe62661,bump version to 2021.04.1,James Bourbeau,jrbourbeau@gmail.com,2021-04-23 14:05:19-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-04-23 14:05:19-05:00
c040deec7671f955f54707fc25a8b335a34adac7,support all or no overlap between partition columns and real columns (#7541),Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-26 09:34:54-05:00,GitHub,noreply@github.com,2021-04-26 10:34:54-04:00
d9ed2acb14607ede998980810865075cd4795b1b,Update distributed version in mindep CI build (#7602),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-04-26 10:27:06-05:00,GitHub,noreply@github.com,2021-04-26 10:27:06-05:00
e570318bab0301c00f72ad6a12e7a626e1fed76f,"Delayed: nout when arguments become tasks (#7593)

`nout` was ignored when the arguments either contained dask collections, or had to be quoted.",Gabe Joseph,gjoseph92@gmail.com,2021-04-26 09:49:24-06:00,GitHub,noreply@github.com,2021-04-26 11:49:24-04:00
2666809c913fdb215fa928abfcea0f87a028929f,Add `loky` example (#7590),Naty Clementi,natyclementi@gmail.com,2021-04-26 13:10:19-04:00,GitHub,noreply@github.com,2021-04-26 12:10:19-05:00
26a5c334cf7a013a12c9c9ce3921ff0000c85971,"Remove kwarg validation for bokeh (#7597)

* Remove kwarg validation for bokeh

* Drop label_size if not used

* Add test that ensures loud error is raised with invalide kwargs

* test-upstream",Julia Signell,jsignell@gmail.com,2021-04-26 13:40:22-04:00,GitHub,noreply@github.com,2021-04-26 13:40:22-04:00
da5cb3dc39acee011e69901d232d5d4bcb28bf20,Get rid of ignore_abc decorator (#7604),Julia Signell,jsignell@gmail.com,2021-04-26 13:47:33-04:00,GitHub,noreply@github.com,2021-04-26 13:47:33-04:00
d199770a7e2381dec1771217b923a98f00ba68e3,"Harden DataFrame merge between clumn-selection and index (#7575)

* address dask#7558

* preserve divisions

* ensure ordering in test_merge_outer_empty

* empty merge fix

* preserve divisions in Index -> to_frame

* remove sort and compute",Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-26 12:50:35-05:00,GitHub,noreply@github.com,2021-04-26 13:50:35-04:00
8039cc669abb716320d02a3c4ae8ae3c5f36c296,Remove ignore_abc_warning (#7606),Julia Signell,jsignell@gmail.com,2021-04-26 14:32:12-04:00,GitHub,noreply@github.com,2021-04-26 14:32:12-04:00
e406fafc43f54ea0fc0478e0d853a38211a69a08,"DOC: defaults in read_parquet parameters (#7567)

* DOC: defaults in docstring

* put on same line

Co-authored-by: raybellwaves <rjbell1987@gmail.com>",Ray Bell,rayjohnbell0@gmail.com,2021-04-26 16:01:22-04:00,GitHub,noreply@github.com,2021-04-26 16:01:22-04:00
911dc6641144e1fcff2cc0926214ee81d49d2a28,Remove skip on test freq (#7608),Julia Signell,jsignell@gmail.com,2021-04-26 16:26:55-04:00,GitHub,noreply@github.com,2021-04-26 15:26:55-05:00
bcb2fcabdf9b2ca510162119a806671af5111939,"Add pyarrow sphinx intersphinx_mapping (#7612)

* WIP: add pyarrow sphinx intersphinx_mapping

* drop python from url

Co-authored-by: Ray Bell <ray.bell@dtn.com>",Ray Bell,rayjohnbell0@gmail.com,2021-04-27 20:41:22-04:00,GitHub,noreply@github.com,2021-04-27 19:41:22-05:00
21aaf44d4d25bdba05951b85f3f2d943b823e82d,Adding chunk & type information to dask high level graphs (#7309),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-04-30 01:22:22+10:00,GitHub,noreply@github.com,2021-04-29 10:22:22-05:00
7893616c420b216a1e529eb1b130640f7942480d,"Use Blockwise for DataFrame IO (parquet, csv, and orc) (#7415)",Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-29 11:11:15-05:00,GitHub,noreply@github.com,2021-04-29 11:11:15-05:00
98a65849a6ab2197ac9e24838d1effe701a441dc,fix bugs in broadcast join (#7617),Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-29 13:14:27-05:00,GitHub,noreply@github.com,2021-04-29 14:14:27-04:00
709bd45e4a91a26217dee1bacedc53bf326cf37d,"Move timeseries and daily-stock to Blockwise (#7615)

* Add test illustrating import issue

* move layer materialization for shuffle

* add missing layers.py file and revise org a bit

* move layers.py

* remove xfail

* use import rather than pickle for functions

* fix importlib error and use dict

* roll back test changes from 7374 (let failures be resolved in that PR)

* remove debug print

* move Shuffle layers to layers.py completely

* moving moving BroadcastJoinLayer to layers.py

* tweak CallableLazyImport

* move BlockwiseCreateArray into layers.py

* import test coverage

* incorperate testing idea from 7374

* comment tweaks

* introduce new test_layers.py module

* update comment in test

* Update dask/layers.py

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

* Only use CallableLazyImport when the graph is materialized within __dask_distributed_unpack__

* remove obsolete annotation handling

* Update dask/layers.py

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

* _construct_graph fix

* migrate csv code

* migrate orc changes

* basic parquet migration - still need to handle serialization

* add require_pickle option to DataFrameIOLayer

* update testing

* change 'column culling' language to 'column projection'

* use ConcatAxesWrapper to avoid inline task

* add test coverage

* use serialize instead of pickle

* use simpler SerializedFunction wrapper

* update to rely on distributed#4575

* serialization experiments

* align with current status of distributed-4641

* update/fix comment

* align with latest distributed#4641 state

* re-align with James' suggestion

* Temporarily point to Distributed PR #4641

* point CI back to distributed main branch

* avoid using distributed 2021.03.0 for mindeps test

* start aligning with #7455

* begin requiring io_deps elements to inherit from base class

* more simplification

* fix indices init

* Add .git suffix

* Add explicit pip

* serialization cleanup

* address dep-name issue

* strip out unnecessary import logic

* use output_blocks in pack

* more code review suggestions

* use clearer tmp variable name

* avoid io_deps copy

* dictionary comp for BlockwiseDepDict pack

* start working on csv problem

* handle csv nested-task problem

* further cleanup

* apply fix

* add produces_tasks

* use place-holder required_indices variable

* CreateArrayDeps fix

* remove extra name def

* Change test ordering

* fix dumps_function mistake and account for required_indices being an empty collection

* roll back (breaking) large_graph_objects change

* minor blockwise changes to address code-review

* more cleanup

* use  for column projection in csv

* updating some comments

* improve documentation

* add project_columns to the functions to make things a bit more explicit for now

* move timeseries to Blockwise

* remove commented code

* add daily-stock

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2021-04-30 16:35:07-05:00,GitHub,noreply@github.com,2021-04-30 14:35:07-07:00
a81fed43830c32f836a988a07c10ca8f99279bec,"Support for cupyx.scipy.linalg (#7563)

* add safe function for cupyx/scipy linalg solve_triangular

* lint

* use array_safe instead of np.array

* lint

* add support for cupy cholesky and matmul

* remove zeros_safe and cleanup

* add lu and generalize cupyx linalg scipy funcs

* remove lu and _zeros_safe

* remove breakpoint

* fix all test in test_cupy

* move matmul back to routines",Benjamin Zaitlen,quasiben@users.noreply.github.com,2021-05-03 14:58:39-04:00,GitHub,noreply@github.com,2021-05-03 14:58:39-04:00
c3993fd94818cd678198b5cbcba687f258d831f4,"Fix dask.dataframe in sandboxed environments (#7601)

* test that imports work

* make blocksize inference logic more robust

This logic fails if psutil returns None rather than an integer.
Sometimes psutil will return None rather than an integer. This can
happen in sandboxed builds. For example:
https://github.com/NixOS/nixpkgs/issues/120307

In these cases, we will use the default hardcoded blocksize.

* skip import test if psutil is not installed

* test _infer_block_size directly

* move test into test_csv

* comment on need for test",Noah D. Brenowitz,nbren12@gmail.com,2021-05-03 12:54:48-07:00,GitHub,noreply@github.com,2021-05-03 15:54:48-04:00
cb420202efa6f61774a184e36ff2abe21181268e,"Implement str.concat when others=None (#5555) (#7623)

* Implement str.concat when others=None (#5555)

* address comments in PR",Daniel Mesejo-Len,mesejoleon@gmail.com,2021-05-05 19:38:27+02:00,GitHub,noreply@github.com,2021-05-05 13:38:27-04:00
23c93d72c8fbd194b44614c29dd584ff93fc1eef,"Array: remove extraneous code from RandomState (#7487)

There were a few lines hanging around that weren't doing anything, probably left over from previous refactors.",Gabe Joseph,gjoseph92@gmail.com,2021-05-05 11:39:51-06:00,GitHub,noreply@github.com,2021-05-05 13:39:51-04:00
5bda9c4fed4b9f1bfcd94a187d509bf8d77ce877,Change the active-fusion default to False for Dask-Dataframe (#7620),Richard (Rick) Zamora,rzamora217@gmail.com,2021-05-11 10:38:52-05:00,GitHub,noreply@github.com,2021-05-11 10:38:52-05:00
b3a86469cb339767617c03c05e60db101ceb177a,Avoid `inplace=` in Pandas `set_categories` (#7633),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-05-11 13:30:07-05:00,GitHub,noreply@github.com,2021-05-11 13:30:07-05:00
600d4d22d1e9502ffa1adb88f3f3241c19d66f5e,Merge global annotations when packing (#7565),Mads R. B. Kristensen,madsbk@gmail.com,2021-05-13 23:59:42+02:00,GitHub,noreply@github.com,2021-05-13 16:59:42-05:00
90fccabb15e10daf7e03811401ab3d2be47d8abb,Fix bug in Dataframe column projection (#7645),Richard (Rick) Zamora,rzamora217@gmail.com,2021-05-13 17:23:46-05:00,GitHub,noreply@github.com,2021-05-13 17:23:46-05:00
07d5ad0ab1bc8903554b37453f02cc8024460f2a,"Remove deprecated kind kwarg to comply with pandas 1.3.0 (#7653)

* Remove deprecated kind kwarg to comply with pandas 1.3.0

* test-upstream

* Add unreleased fastparquet [test-upstream]

* Remove fastparquet main",Julia Signell,jsignell@gmail.com,2021-05-14 08:45:24-04:00,GitHub,noreply@github.com,2021-05-14 08:45:24-04:00
39e3d5b09302c69d279485a94cfa7d930916fbfd,bump version to 2021.05.0,James Bourbeau,jrbourbeau@gmail.com,2021-05-14 14:16:36-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-05-14 14:16:36-05:00
0678ee2111c3485eebc00d76c4cb52cab753a1e8,Fix spelling in Series `getitem` error message (#7659),Maisie Marshall,35497336+maisiemarshall@users.noreply.github.com,2021-05-15 16:29:47+01:00,GitHub,noreply@github.com,2021-05-15 10:29:47-05:00
ac1bd05cfd40207d68f6eb8603178d7ac0ded922,[DOC] Fix some `HighLevelGraph` documentation inaccuracies (#7662),Mads R. B. Kristensen,madsbk@gmail.com,2021-05-17 18:07:57+02:00,GitHub,noreply@github.com,2021-05-17 11:07:57-05:00
c2c0cec85a47c5280461bbea08cf96baa7f541c0,"Update tests to support CuPy 9 (#7671)

* Update tests to support CuPy 9

* Skip test_cupy_cholesky if SciPy isn't available",Peter Andreas Entschev,peter@entschev.com,2021-05-19 02:25:46+02:00,GitHub,noreply@github.com,2021-05-18 20:25:46-04:00
f547f081572cef0d2f99868d930d9256d2d9a00f,Doc `ipyparallel` & `mpi4py` `concurrent.futures` (#7665),jakirkham,jakirkham@gmail.com,2021-05-18 19:40:13-07:00,GitHub,noreply@github.com,2021-05-18 21:40:13-05:00
139d3787cafc4aee0972f2e360d99c4212dcdd7a,Fix the docstring of `read_orc` (#7678),keewis,keewis@users.noreply.github.com,2021-05-20 02:17:41+02:00,GitHub,noreply@github.com,2021-05-19 19:17:41-05:00
1e5efd9e37d3ed009b5a36fb835deb3bd219d775,Cleanup `to_zarr` docstring (#7683),David Hoese,david.hoese@ssec.wisc.edu,2021-05-20 14:33:27-05:00,GitHub,noreply@github.com,2021-05-20 14:33:27-05:00
d6bbbb08c92652eae2820e93edc2f3fe502391d3,Bump pre-commit hook versions (#7676),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-05-20 16:52:57-05:00,GitHub,noreply@github.com,2021-05-20 16:52:57-05:00
a8f125df397d9c3a6013f529d542e81957bd97bb,Accept `axis` tuple for `flip` to be consistent with NumPy (#7675),Andrew Champion,andrew.champion@gmail.com,2021-05-21 18:19:15+01:00,GitHub,noreply@github.com,2021-05-21 12:19:15-05:00
0f922e09efeeef84faf5a7a8a9832d8842b5d0ca,Cleanup array API reference links (#7684),David Hoese,david.hoese@ssec.wisc.edu,2021-05-21 15:07:42-05:00,GitHub,noreply@github.com,2021-05-21 15:07:42-05:00
640df6bde07a3eb6b006633f309eccaa50985287,[docs] fix typo in DataFrame.set_index() (#7691),James Lamb,jaylamb20@gmail.com,2021-05-22 15:28:39-05:00,GitHub,noreply@github.com,2021-05-22 16:28:39-04:00
f467b231e1bceef281b5dd601a05442ae799b869,Promote the 2021 Dask User Survey (#7694),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-05-24 20:54:30+10:00,GitHub,noreply@github.com,2021-05-24 05:54:30-05:00
b6ed490f05d815d6fa09c061ec121017cd781a8c,"stack nd array w/unknown chunks (#7562)

* Support nd stack with unknown chunk sizes

* Add allow_unknown_chunksizes to asarray

* Remove kwargs from updated stack call, update docs

Co-authored-by: Julia Signell <jsignell@gmail.com>

* Pass allow_unknown_chunksizes within concatenate

Co-authored-by: Julia Signell <jsignell@gmail.com>",Chris Roat,1053153+chrisroat@users.noreply.github.com,2021-05-24 08:13:25-07:00,GitHub,noreply@github.com,2021-05-24 11:13:25-04:00
89ec8103e8ad38f450d59b7fa1e977630e7bd7f7,Allow a column to be named `divisions` (#7605),Julia Signell,jsignell@gmail.com,2021-05-24 14:22:04-04:00,GitHub,noreply@github.com,2021-05-24 14:22:04-04:00
d18bb448abe0b590cba0c07f7076a8ff16c19d32,"Fix delayed with dataclasses where init=False (#7656)

* Allow dataclasses where fields have init=False

* Add init=False to test

* Add comment",Julia Signell,jsignell@gmail.com,2021-05-24 15:30:01-04:00,GitHub,noreply@github.com,2021-05-24 15:30:01-04:00
123cd5f8071daa833cf336dbbef1b16cfcc00554,Move DataFrame `dispatch.registers` to their own file (#7503),Julia Signell,jsignell@gmail.com,2021-05-24 18:04:39-04:00,GitHub,noreply@github.com,2021-05-24 17:04:39-05:00
4799c9d1dd9d9af7df1358aea11c4f49f15d3809,Consolidate array Dispatch objects (#7505),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-05-24 17:05:23-05:00,GitHub,noreply@github.com,2021-05-24 17:05:23-05:00
1a779a5622cb727baf80102f2edc48d8cdd50898,"Add dispatch for `union_categoricals` (#7699)

* add dispatch for merge_chunk

* format

* make union_categoricals dispatch

* refactor",GALI PREM SAGAR,sagarprem75@gmail.com,2021-05-25 11:39:39-05:00,GitHub,noreply@github.com,2021-05-25 12:39:39-04:00
d2020bf30962c9660fba399392a3e8c9df59dca4,"Fix meta creation incase of `object` (#7586)

* inital changes

* use parent_meta to determine the back-ends

* black

* isort

* sync upstream changes

* add scipy

* add scipy in yml

* Trigger run

* remove scipy mandatory dependency

* format

* Update dask/dataframe/backends.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

* Update dask/dataframe/backends.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

* Update dask/dataframe/utils.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

Co-authored-by: Benjamin Zaitlen <quasiben@gmail.com>
Co-authored-by: jakirkham <jakirkham@gmail.com>",GALI PREM SAGAR,sagarprem75@gmail.com,2021-05-25 12:59:08-05:00,GitHub,noreply@github.com,2021-05-25 13:59:08-04:00
aa302983af037d4a4ef924db4e407b4a7c7aae8d,Remove unused alphabet variable (#7700),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-05-25 13:03:37-05:00,GitHub,noreply@github.com,2021-05-25 14:03:37-04:00
d7aed603773d9d08c16acd3c5db7fbe335293f06,add slack join link in support.rst (#7679),Naty Clementi,natyclementi@gmail.com,2021-05-25 14:53:35-04:00,GitHub,noreply@github.com,2021-05-25 14:53:35-04:00
d5f5b912e4d1b5d4477e5c797ef1e9ebd066c8c9,"Fix read_sql_table returning wrong result for single column loads (#7572)

* Fix read_sql_table returning wrong result for single column loads

* Fix dask.dataframe.io.sql._read_sql_chunk index-only loads for pandas < 1.0.0

Co-authored-by: Christian Thiel <c-git@mail.tech-prism.de>",c-thiel,Christian.Thiel@outlook.com,2021-05-25 23:06:58+02:00,GitHub,noreply@github.com,2021-05-25 17:06:58-04:00
73eca406af4eb9727a0e6b2362c2d3e1f404b7ea,Fix format string in error message. (#7706),Jiaming Yuan,jm.yuan@outlook.com,2021-05-26 21:41:17+08:00,GitHub,noreply@github.com,2021-05-26 09:41:17-04:00
0b2053f958a2c222184c78218a87d93f6a82b5d9,"Implement da.searchsorted (#7696)

* Implement da.searchsorted

* Support numpy 1.16: np.expand_dims doesn't take axis tuple

* Address review feedback from @douglasdavis

* Simplify expand_dims replacement for multiple new dimensions to avoid loop (suggested by @jakirkham).

* Update dask/array/routines.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

* Update dask/array/routines.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

* Update dask/array/routines.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

Co-authored-by: jakirkham <jakirkham@gmail.com>",Tom White,tom.e.white@gmail.com,2021-05-26 17:57:13+01:00,GitHub,noreply@github.com,2021-05-26 09:57:13-07:00
57e8d56761fc1fb2ef78d4282798a70cb82c79b7,update make-meta import in docs (#7713),Benjamin Zaitlen,quasiben@users.noreply.github.com,2021-05-26 17:09:22-04:00,GitHub,noreply@github.com,2021-05-26 17:09:22-04:00
94dae165dfa30f1fdf76eef28e24414ff246d0f4,Fix `optimize_dataframe_getitem` bug (#7698),Richard (Rick) Zamora,rzamora217@gmail.com,2021-05-26 19:04:04-05:00,GitHub,noreply@github.com,2021-05-26 19:04:04-05:00
636b0d664e78febc54434131d6f7f906a6e74f6a,Pandas compat (#7712),Julia Signell,jsignell@gmail.com,2021-05-27 13:08:14-04:00,GitHub,noreply@github.com,2021-05-27 12:08:14-05:00
7ec6bf95ac6a407be316f468dae24b0801911ede,bump version to 2021.05.1,James Bourbeau,jrbourbeau@gmail.com,2021-05-28 15:36:52-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-05-28 15:36:52-05:00
062ef68aeab7cbf1b15a3c88ede41fb1e28b357a,Add autofunction for unify_chunks in API docs (#7730),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-05-30 06:16:29-05:00,GitHub,noreply@github.com,2021-05-30 07:16:29-04:00
1a6a85258bccb14fe37bb54c211beeeffd46cd55,"Automatically show graph visualization in jupyter notebooks (#7716)

I noticed that `result.dask.visualize()`  / `result.__dask_graph__().visualize()` in a jupyter notebook, it writes the graph visualization to file, but *doesn't* automatically show you the graph in the notebook cell output.

In contrast, when you call `result.visualize()` on a dask computation in a jupyter notebook, you are automatically shown the visualization of the low level task graph in the notebook cell output. This is convenient, and I'd like both visualize functions to have this behaviour.

This PR changes it so we do automatically see the high level graphs visualized in the jupyter notebook.",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-01 22:41:36+10:00,GitHub,noreply@github.com,2021-06-01 07:41:36-05:00
b4b0142d0f6ae89af87f6a1e04f55de0d5029a7c,Easier link for subscribing to the Google calendar (#7733),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-02 07:53:10+10:00,GitHub,noreply@github.com,2021-06-01 16:53:10-05:00
fb7e7c003f1feaee73808c78191953dd76dc1dd7,"Documentation: highlight the client.dashboard_link (#7747)

* Update dask diagnostics docs to add client.dashboard_link

* Keep info for dask dashboard port on older versions of distributed",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-03 00:05:03+10:00,GitHub,noreply@github.com,2021-06-02 10:05:03-04:00
382573130777f55320686df7f0419a74326789a6,"Warn if using pandas datetimelike string in `dataframe.__getitem__` (#7749)

* Warn when using __getitem__ with timelike string

* test-upstream

* Use loc for pandas",Julia Signell,jsignell@gmail.com,2021-06-02 15:33:04-04:00,GitHub,noreply@github.com,2021-06-02 15:33:04-04:00
e811d219095e0774cba03dae848b41bafe803dd6,"`sizeof` sets in Python v3.9 (#7739)

* sizeof: support sets in Python v3.9

* Using itertools.islice() instead of random.sample",Mads R. B. Kristensen,madsbk@gmail.com,2021-06-02 21:52:50+02:00,GitHub,noreply@github.com,2021-06-02 14:52:50-05:00
1919f0f785a0900a0bf8e6cca3c36adb41835bc9,Show failing tests summary in CI (#7735),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-03 05:53:51+10:00,GitHub,noreply@github.com,2021-06-02 14:53:51-05:00
6f8ba09d0250045b6cdb99ca121b6a8eddac5142,"Added raise to apply_gufunc (#7744)

Co-authored-by: Mohar <moharb@hhmi.org>",Boaz Mohar,boazmohar@gmail.com,2021-06-02 16:12:13-04:00,GitHub,noreply@github.com,2021-06-02 16:12:13-04:00
11e6afecb3e6f9c4b6c333873e1e634bbca8b0e9,Blockwise: handle constant key inputs (#7734),Mads R. B. Kristensen,madsbk@gmail.com,2021-06-03 00:30:08+02:00,GitHub,noreply@github.com,2021-06-02 17:30:08-05:00
ad613d805c0b5b49d747beaef146c672ceaac300,"[Review]Repartition before shuffle if the requested partitions are less than input partitions  (#7715)

* Repartition before shuffle

* switched scheduler to default for pytests",Vibhu Jawa,vibhujawa@gmail.com,2021-06-02 17:52:53-07:00,GitHub,noreply@github.com,2021-06-02 20:52:53-04:00
d9df00058f3b52b6c6d26ed836fbed9a7e3b4232,Rename `make_meta_util` to `make_meta` (#7743),GALI PREM SAGAR,sagarprem75@gmail.com,2021-06-03 07:56:40-05:00,GitHub,noreply@github.com,2021-06-03 07:56:40-05:00
dc9746f572701bb4a3b1eb4283fa84829af03ada,"Rewrite `da.fromfunction` with `da.blockwise` (#7704)

This simplifies the implementation of `da.fromfunction` by rewriting it
in terms of `da.blockwise`. As a result `da.fromfunction` can take
advantage of HLG by default. This also makes it more natural to feed
into other HLG operations.",jakirkham,jakirkham@gmail.com,2021-06-03 10:41:29-07:00,GitHub,noreply@github.com,2021-06-03 12:41:29-05:00
f93bc86c016d983d792fae65f6f2edeb007e20bd,"Array: correct number of outputs in `apply_gufunc` (#7669)

* Array: correct number of outputs in `apply_gufunc`

* Stricter #6736

`args_meta[0]` could be wrong when there are multiple arguments. Even this I don't really like, since it's making a lot of assumptions about what `func` might be that may not be true in generality for any user-defined function.

* keep std",Gabe Joseph,gjoseph92@gmail.com,2021-06-03 11:56:15-06:00,GitHub,noreply@github.com,2021-06-03 13:56:15-04:00
498d639c9558820d88b07aa9bad43dc107c72b0a,"Do not return delayed object from to_zarr (#7738)

The change to wrap zarr.create in dask.delayed was originally made by me in #5797.  I did this when I was still new to dask, and when it made sense (to me) to defer any file operations, including the initial metadata creation, until run time.

After having worked with the dask ecosystem for a while, I see that this is not the typical paradign for I/O.  A call to to_zarr should immediately create the zarr metadata, so as not to surprise others.",Chris Roat,1053153+chrisroat@users.noreply.github.com,2021-06-04 04:07:51+08:00,GitHub,noreply@github.com,2021-06-03 16:07:51-04:00
c6b1426159ce7401bc4512c048ebe95ca33b94a7,"Renamed inner loop variables to avoid duplication (#7741)

Based on analysis from lgtm.com. No new tests are needed as this did not introduce a bug, the variables were not used after the inner loops.

Co-authored-by: Mohar <moharb@hhmi.org>",Boaz Mohar,boazmohar@gmail.com,2021-06-03 16:33:29-04:00,GitHub,noreply@github.com,2021-06-03 16:33:29-04:00
bd648132ae39f252ec6165be85cbf8bbfa33e086,Ensure correct column order in csv `project_columns` (#7761),Richard (Rick) Zamora,rzamora217@gmail.com,2021-06-04 12:38:22-05:00,GitHub,noreply@github.com,2021-06-04 12:38:22-05:00
97f3642300b48ebd767b17e553361824a70b7be7,Remove abstract tokens from graph keys in `rewrite_blockwise` (#7721),Richard (Rick) Zamora,rzamora217@gmail.com,2021-06-04 13:42:04-05:00,GitHub,noreply@github.com,2021-06-04 13:42:04-05:00
6632607c9a65fda46cb2b32763ae55501825bd87,bump version to 2021.06.0,James Bourbeau,jrbourbeau@gmail.com,2021-06-04 14:46:00-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-06-04 14:46:00-05:00
9ca79cda3d4be9b2b083d2f47e43200f9a02954e,"Fix HDFS tests (#7752)

* Different mechanism for instantiating HDFS [test-hdfs]

* Import properly

* test-hdfs

* Fix import again [test-hdfs]

* make it work

* skip early if no pyarrow

* Run: test-hdfs

* more protection

* missing colon

* test-hdfs

* lint: test-hdfs

Co-authored-by: Martin Durant <martin.durant@utoronto.ca>",Julia Signell,jsignell@gmail.com,2021-06-07 10:25:55-04:00,GitHub,noreply@github.com,2021-06-07 10:25:55-04:00
e6df62058431b6b652f2d6f5759e74e7bb809116,"Add dispatch label to automatic PR labeler (#7701)

* Add dispatch to automatic labeler

* Temporarily edit a dispatch file

* Try glob strings

* Try again

* One more time

* Explicit files

* Remove temporary changes",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-07 09:27:21-05:00,GitHub,noreply@github.com,2021-06-07 10:27:21-04:00
0d3af875827ce95a08373fcbda73305c18bc7af1,Add meta support for DatetimeTZDtype (#7627),gerrymanoim,gerry.manoim@twosigma.com,2021-06-07 11:55:26-04:00,GitHub,noreply@github.com,2021-06-07 11:55:26-04:00
83c0b2bcd51df8867e8376e99d941a4cce7be3ce,"Evaluate graph lazily if meta is provided in from_delayed (#7769)

* Evaluate graph lazily if meta is provided in from_delayed

* Update dask/dataframe/tests/test_dataframe.py

Co-authored-by: Julia Signell <jsignell@gmail.com>

Co-authored-by: Julia Signell <jsignell@gmail.com>",Florian Jetter,fjetter@users.noreply.github.com,2021-06-07 19:56:17+02:00,GitHub,noreply@github.com,2021-06-07 13:56:17-04:00
3b5223cbb09377589b34bca44a9cb2eedf46fe95,Pin `fsspec` to `2021.5.0` in CI (#7771),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-07 22:30:30-05:00,GitHub,noreply@github.com,2021-06-07 22:30:30-05:00
1f1e1bf1e719b182999274e0729f82c9a61db3dc,"Generate unique names for SubgraphCallable (#7637)

If no name is supplied by the caller, use `tokenize` to generate a name
rather than just calling it ""subgraph_callable"". This ensures that
(anonymous) graphs with the same outkey and inkeys (which for Blockwise
really only captured the arity since placeholder inkeys are used) but
different graphs (due to subgraph fusion) do not compare equal.

Closes #7632.

* Switch SubgraphCallable.__eq__ to use UUID

This means instances that are otherwise identical but were not
explicitly named will compare unequal, which is a tradeoff to allow
construction to be faster.

The unit tests for SubgraphCallable need a tweak to use the old method,
so that instances created by the code under test can compare equal to
the reference values.


- Fix a typo
- Use frozenset in SubgraphCallable.__hash__ (ensures that reordering
  inkeys preserves the hash).",Bruce Merry,1963944+bmerry@users.noreply.github.com,2021-06-08 15:18:20+02:00,GitHub,noreply@github.com,2021-06-08 08:18:20-05:00
738f53fa0bbe9210491b64cfdc3dc1208891d83f,"Fixing calling `.visualize()` with `filename=None` (#7740)

* Fixed #7685 (adding an extra if statement)
* Modularised the no_filename test and edited the If statement
* Added Comments and Condensed the If statement
* Added a simple test for visualize when filename=None",Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-06-08 18:11:00+04:00,GitHub,noreply@github.com,2021-06-08 10:11:00-04:00
1a582a110735132dd27ae7ca3a1bdd2b968ab701,"Fix for paths ending with ""/"" in parquet overwrite (#7773)

* Fix for paths ending with ""/"" in parquet overwrite

* remove fsspec pin",Martin Durant,martindurant@users.noreply.github.com,2021-06-08 14:14:36-04:00,GitHub,noreply@github.com,2021-06-08 14:14:36-04:00
35c926c9c4a1df3668b77945351d977261810012,Non-dask-arrays and broadcasting in `ravel_multi_index` (#7594),Gabe Joseph,gjoseph92@gmail.com,2021-06-08 20:32:10-06:00,GitHub,noreply@github.com,2021-06-08 21:32:10-05:00
eed298b2335401d2cb8e85ebb44888eb59937cf8,Make Layer get_output_keys officially an abstract method (#7775),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-10 06:43:32+10:00,GitHub,noreply@github.com,2021-06-09 16:43:32-04:00
b2bc454ad5d25e229eeab2bd460b7d6215c26f83,"Move read_hdf to Blockwise (#7625)

* move key changes from 7284 into fresh branch

* add distributed test for hdf

* avoid deep copy for project_columns

* move null divisions definition into build_parts

* add _ prefix to private functions",Richard (Rick) Zamora,rzamora217@gmail.com,2021-06-10 08:25:39-05:00,GitHub,noreply@github.com,2021-06-10 09:25:39-04:00
308d2f7575fca34991dac4c3078bf4c6b5a7a26e,"Add add_(prefix|suffix) to dataframe and series (June 2021) (#7745)

* Add add_prefix|suffix to Dask

* Add more rows to df

* Don't call compute

* add logics to update divisions when add_(prefix|suffix) Series

Co-authored-by: Zain Patel <zain.patel@quantumblack.com>",tsuga,2888173+tsuga@users.noreply.github.com,2021-06-11 01:09:33+09:00,GitHub,noreply@github.com,2021-06-10 12:09:33-04:00
7fe24a362f0de191bd86a59d49683e71be7b3dfd,"Only rechunk for median if needed (#7782)

* Only rechunk for median if needed

* Apply suggestions from code review

Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>

* Use builtins.any

* Fix import

Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>",Julia Signell,jsignell@gmail.com,2021-06-10 12:45:56-04:00,GitHub,noreply@github.com,2021-06-10 12:45:56-04:00
1d0262c303b00fb053500d775ddb83437c6fcfe0,"Always include kwarg-name in `drop` (#7784)

* Add kwarg name to drop

* test-upstream",Julia Signell,jsignell@gmail.com,2021-06-10 15:33:37-04:00,GitHub,noreply@github.com,2021-06-10 15:33:37-04:00
65999051ca1bdd50a0e2d01490134ee6bebe35f4,A `HighLevelGraph` abstract layer for `map_overlap` (#7595),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-11 08:35:34+10:00,GitHub,noreply@github.com,2021-06-10 17:35:34-05:00
664e37c1ff4566144ad01bfcc1a0337758a6fdda,"Don't include or expect `freq` in divisions (#7785)

* Don't instantiate pd.TimeStamp with freq

* test-upstream",Julia Signell,jsignell@gmail.com,2021-06-11 09:06:10-04:00,GitHub,noreply@github.com,2021-06-11 09:06:10-04:00
1a8b419a376f6f33e9af31cb89f0ceb738a2600a,Layers must implement `get_output_keys` method (#7790),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-12 00:47:24+10:00,GitHub,noreply@github.com,2021-06-11 09:47:24-05:00
868cba2405676442a7f4fe07ad82b038797ecdc4,"Initial da.select() implementation and test (#6067) (#7760)

* Initial da.select() implementation and test (#6067)

* Support multidimensional arrays as suggested by jsignell

Co-authored-by: Julia Signell <jsignell@gmail.com>

* adding test for select with multidimensional arrays

* adding test for np.select in dask array

* Avoiding concatenation in blockwise to reduce memory usage

* Support arrays with more than 2 dimensions

Co-authored-by: Julia Signell <jsignell@gmail.com>

* Removing Error object from TypeError message string.

Co-authored-by: Julia Signell <jsignell@gmail.com>

* Fixed support for np.select over more than 2 dimensions

* Added docstring for da.array._select

* Improved tests for da.select

* Using dask.Arrays in test_select_*

Co-authored-by: Julia Signell <jsignell@gmail.com>",Gabriel Miretti,gmiretti@users.noreply.github.com,2021-06-11 12:15:08-03:00,GitHub,noreply@github.com,2021-06-11 11:15:08-04:00
2fcf911be2cbac70f1fd2efff43331b2416ca90a,Fix docs links (#7794),Julia Signell,jsignell@gmail.com,2021-06-11 12:55:52-04:00,GitHub,noreply@github.com,2021-06-11 12:55:52-04:00
a295eb22f9bda628eee40f5c11673ee04c0fef76,Fix maximum recursion depth exception in array.linspace (#7644) (#7667),Daniel Mesejo-Len,mesejoleon@gmail.com,2021-06-11 19:47:59+02:00,GitHub,noreply@github.com,2021-06-11 13:47:59-04:00
7af542afaeba9eea46cea653c51a02a2c3376962,"Allow `DataFrame.join()` to take a list of DataFrames to merge with (#7578)

Pairwise approach to merging many (>100) dataframes with each other dataframes together.

The major advantage for this specific use case was that once any given pair of dataframes finished being prepared/computing, their merges could start ahead of time; any dataframes that were slow to materialise don't have to hold up the entire merging process.",Krishan Bhasin,8904718+KrishanBhasin@users.noreply.github.com,2021-06-11 19:40:11+01:00,GitHub,noreply@github.com,2021-06-11 14:40:11-04:00
b46d8710ea648dbc822e104b0991f8a29bf5d125,"Remove ImportError catching from dask/__init__.py (#7797)

These `try`/ `except ImportError` blocks shouldn't be needed anymore now that we've included `toolz`, `cloudpickle`, etc. as minimum dependencies for Dask. Additionally, our import check in CI

https://github.com/dask/dask/blob/7af542afaeba9eea46cea653c51a02a2c3376962/continuous_integration/scripts/test_imports.sh#L17

will ensure that we can continue to import `dask.delayed` and `dask.base` without any packages beyond Dask's minimum required dependencies.",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-12 08:29:00-05:00,GitHub,noreply@github.com,2021-06-12 08:29:00-05:00
5bd4983cfd94ffcf8186c9b058f4646976edc01c,"More test coverage uploads (#7799)

Adds test coverage reports to mindeps and upstream CI builds. This gives us a slightly more accurate reported test coverage.",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-14 09:30:27-05:00,GitHub,noreply@github.com,2021-06-14 10:30:27-04:00
8d214d24f4a83d520f3fa02ed9714df673199db1,"Remove check for outdated bokeh. (#7804)

The minimum is now 1.0.0.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2021-06-14 10:51:55-04:00,GitHub,noreply@github.com,2021-06-14 10:51:55-04:00
78cd144ed76e5d8d70c661cff631ec2b708e0318,"Simplify skips in parquet tests. (#7802)

There already exist some Pytest markers, so there's no need to have a
second function that checks the condition again and adds a manual skip,
instead of decorating the functions with the marker.",Elliott Sales de Andrade,quantum.analyst@gmail.com,2021-06-14 11:10:08-04:00,GitHub,noreply@github.com,2021-06-14 11:10:08-04:00
c005d46eb55ba06cf00d14f76027ac6c24455dbc,"Use more context managers from the standard library (#7796)

Replace `utils.ignoring` with `contextlib.suppress`. Deprecate `utils.ignoring`",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-14 10:14:56-05:00,GitHub,noreply@github.com,2021-06-14 11:14:56-04:00
a33229aca20300b83d85c2cd2a5b5dc96a12e181,"Fix upstream freq tests (#7795)

Filter freq deprecation warning on pickle. If pandas-dev/pandas#41949 gets in prior to a release, then we can come back and remove any ignoring here.",Julia Signell,jsignell@gmail.com,2021-06-14 11:42:33-04:00,GitHub,noreply@github.com,2021-06-14 11:42:33-04:00
650bb6a233f4c4bb62997d534da21b2ae4c311ff,Use dispatch `concat` for `merge_asof` (#7806),Julia Signell,jsignell@gmail.com,2021-06-14 13:53:06-04:00,GitHub,noreply@github.com,2021-06-14 12:53:06-05:00
69fad2970c86cd8eb4d28fe9e42fba6fe7eaf5cc,Update default `blockwise` token to avoid DataFrame column name clash (#6546),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-14 16:28:18-05:00,GitHub,noreply@github.com,2021-06-14 16:28:18-05:00
ca94cb9fce5fd487330d0eac97063f2970ee1781,"Implementation of HTML repr for HighLevelGraph layers (#7763)

Here's an implementation of a `_repr_html_()` for the `HighLevelGraph` layer. 
It should give us a nice starting point to discuss what information we do or don't want displayed, and how we want it to look.

Closes https://github.com/dask/dask/issues/7754",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-15 08:53:45+10:00,GitHub,noreply@github.com,2021-06-14 17:53:45-05:00
afb180f59485972481e16decf49db03a7419b7c9,Remove compatibility entries for old distributed (#7801),Elliott Sales de Andrade,quantum.analyst@gmail.com,2021-06-14 23:06:27-04:00,GitHub,noreply@github.com,2021-06-14 22:06:27-05:00
19df781d9d040b71ae9c0f69290dadae045c1d74,"Add dark mode support to HLG HTML repr (#7809)

Builds on #7763 and adds dark mode support.",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2021-06-15 13:57:53+01:00,GitHub,noreply@github.com,2021-06-15 07:57:53-05:00
339fad50ff6300c4d9d87eb9828a7534070c7742,Small tweaks to the HTML repr for `Layer` & `HighLevelGraph` (#7812),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-16 11:30:58+10:00,GitHub,noreply@github.com,2021-06-15 20:30:58-05:00
c502a4a465bba726634e48954e0b106d3c807d2f,Add Coiled to list of paid support organizations (#7811),Kristopher Overholt,kris@koverholt.com,2021-06-16 07:59:42-05:00,GitHub,noreply@github.com,2021-06-16 08:59:42-04:00
8bb7df6c34808a87caeafb71db7ccfae30c3209c,"Enforce dtype conservation in ufuncs that explicitly use dtype= (#7808)

* enforce requested dtypes

* add a test

* revert the handling of out=; improve test

* blacken

* make what the test should be checking more explicit

* remove unncessary initial dtype check

* fix bad kwarg

* Adjust test: simplification suggested by Julia",Doug Davis,ddavis@ddavis.io,2021-06-16 15:09:45-04:00,GitHub,noreply@github.com,2021-06-16 15:09:45-04:00
80f860bce022d015b53b67adc60f376ec1559929,Add initial deprecation utilities (#7810),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-16 17:12:57-05:00,GitHub,noreply@github.com,2021-06-16 17:12:57-05:00
47964008c5ac9c444abb66c8d56762598377f3ce,Replace funding page with 'Supported By' section on dask.org (#7817),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-18 08:29:33-05:00,GitHub,noreply@github.com,2021-06-18 09:29:33-04:00
af7078a2da71af21035ccf819ff10ca01477b3a0,bump version to 2021.06.1,James Bourbeau,jrbourbeau@gmail.com,2021-06-18 11:57:12-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-06-18 11:57:12-05:00
8aea537d925b794a94f828d35211a5da05ad9dce,Remove 'Educational Resources' doc page (#7818),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-18 14:58:24-05:00,GitHub,noreply@github.com,2021-06-18 14:58:24-05:00
a87236041ff223363698f65c5b7c153415a41259,Make check_meta understand pandas dtypes better (#7813),Julia Signell,jsignell@gmail.com,2021-06-21 11:30:34-04:00,GitHub,noreply@github.com,2021-06-21 11:30:34-04:00
486b7892ae4f753d22d007ffbeb126a537efad8b,"layers.py compare parts_out with set(self.parts_out) (#7787)

I noticed that the SimpleShuffleLayer cull method should probably be comparing:

        if parts_out != set(self.parts_out):
i
nstead of the current

        if parts_out != self.parts_out:

The reason for this is that we often find self.parts_out is something like range(0, 30), and python won't recognize if a set and range are equal or not, unless we turn the range into a set too.",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-06-23 00:03:51+10:00,GitHub,noreply@github.com,2021-06-22 10:03:51-04:00
10a1f8653d34752ea647284cb197d08d0b2e76f3,bump version to 2021.06.2,James Bourbeau,jrbourbeau@gmail.com,2021-06-22 11:55:58-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-06-22 11:55:58-05:00
38f8de4e7d4fb81e38cb815f590a568bcfefc3d1,Make `PY_VERSION` private (#7824),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-22 14:24:20-05:00,GitHub,noreply@github.com,2021-06-22 14:24:20-05:00
0f2ba09dd7d9fc16c45767b587f1f0ff664a0d91,"Improvements to histogramdd (for handling inputs that are sequences-of-arrays). (#7634)

This PR improves `dask.array.histogramdd` such that multi-sequence input does not have to be stacked, transposed, and potentially rechunked.

The original implementation of `histogramdd` was focused on columnar/rectangular input, with each column of the input array representing one coordinate of the input to be histogrammed. If the input was a sequence of 1D arrays then we stacked the 1D arrays and transposed that stack to convert to the 2D/rectangular/columnar format we were mainly supporting. This stacking/fusing and transposing is an unnecessary step.

The rectangular input implementation is still there, but now we handle the sequence-of-1D inputs without converting to a 2D array. This optimization is important for supporting `numpy.histogram2d` as `dask.array.histogram2d` (subsequent PR).

Along with supporting sequence-of-1D input, this PR also does some general cleanup.",Doug Davis,ddavis@anaconda.com,2021-06-23 09:23:14-04:00,GitHub,noreply@github.com,2021-06-23 09:23:14-04:00
bb67f70a9142186cccdbe258a66307653f1b8193,Remove warning filter in `test_dataframe_picklable` (#7822),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-23 16:53:13-05:00,GitHub,noreply@github.com,2021-06-23 16:53:13-05:00
453f740ee9e8cf870eca2f698f97457b69ee0353,Fix typo in `config.deserialize` docstring (#7830),Geoffrey Lentner,glentner@purdue.edu,2021-06-24 00:05:08-04:00,GitHub,noreply@github.com,2021-06-23 23:05:08-05:00
741de5640f924c3732b98f127d40ea743b2bc892,"Add ""sample_rows"" to read_csv-like (#7825)

For the case that the sample bytecount ends mid-quoted string.",Martin Durant,martindurant@users.noreply.github.com,2021-06-24 14:10:04-04:00,GitHub,noreply@github.com,2021-06-24 14:10:04-04:00
364d799e177ad93020d60b4504fb5ab34ab1588f,Deterministically tokenize `datetime.date` (#7836),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-06-25 14:56:51-05:00,GitHub,noreply@github.com,2021-06-25 14:56:51-05:00
1797c2bbb7c9dcf597840810ed6986f871de333d,Fix scipy tests (#7841),Julia Signell,jsignell@gmail.com,2021-06-29 08:48:10-04:00,GitHub,noreply@github.com,2021-06-29 08:48:10-04:00
8cc9468437a91217cfa4374475cfd2f43647cdca,"Don't sample dict result of a shuffle group when calculating its size (#7834)

The size calculation for shuffle group results is very sensitive to sampling since there may
be empty splits skewing the result.

See also https://github.com/dask/distributed/issues/4962",Florian Jetter,fjetter@users.noreply.github.com,2021-06-29 15:58:34+02:00,GitHub,noreply@github.com,2021-06-29 08:58:34-05:00
626cc724ffa1d14cd74f48ff4f21ef443d832afa,Allow mixing dask and numpy arrays in @guvectorize (#6863),Julia Signell,jsignell@gmail.com,2021-06-29 11:50:36-04:00,GitHub,noreply@github.com,2021-06-29 11:50:36-04:00
e79a56b12512529a2de74122a59d5f69ecc85c6e,Blockwise: stringify constant key inputs (#7838),Mads R. B. Kristensen,madsbk@gmail.com,2021-06-30 15:01:08+02:00,GitHub,noreply@github.com,2021-06-30 08:01:08-05:00
cae3f8ffcb0891d8b04e1900c34ba4433c55945f,"Set priority annotations in SimpleShuffleLayer (#7846)

Closes #7826",Richard (Rick) Zamora,rzamora217@gmail.com,2021-07-01 08:49:00-05:00,GitHub,noreply@github.com,2021-07-01 06:49:00-07:00
965e35fe5a9423f550991bde08116a4984498e68,Temporarily xfail `test_daily_stock` (#7858),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-02 12:51:17-05:00,GitHub,noreply@github.com,2021-07-02 12:51:17-05:00
26986346320ce1bfa3a7c0eb9f636375233d750b,`da.eye` fix for `chunks=-1` (#7854),Naty Clementi,natyclementi@gmail.com,2021-07-02 16:30:40-04:00,GitHub,noreply@github.com,2021-07-02 15:30:40-05:00
194a081772975d567e272f195d244d9ea4a2cc3c,"Updates due to https://github.com/dask/fastparquet/pull/623 (#7875)

* Updates due to https://github.com/dask/fastparquet/pull/623

NB: fastparquet has been able to do multi-index for a long time,
don't know why dask raised to this.

* make that more precise

* reinstate tests

* remove pyarrow comment",Martin Durant,martindurant@users.noreply.github.com,2021-07-06 13:49:18-04:00,GitHub,noreply@github.com,2021-07-06 13:49:18-04:00
200b56374f2bb0dc51ff91209735cba54223b4cd,"Should check module name only, not the entire directory filepath (#7856)",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-07-07 07:57:17+10:00,GitHub,noreply@github.com,2021-07-06 16:57:17-05:00
d576b873632d84cae2815e2066573a2bea26c935,Support nested dask.distributed imports (#7866),Matthew Rocklin,mrocklin@gmail.com,2021-07-06 16:56:04-07:00,GitHub,noreply@github.com,2021-07-06 18:56:04-05:00
fcbb4ad7939f1e653ba78d90d990a8150bc3630d,Use strict channel priority in CI (#7878),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-07 10:44:24-05:00,GitHub,noreply@github.com,2021-07-07 10:44:24-05:00
8601b540f8e7eac95fa739a5ca28f1d707299ed0,Add retry logic to `test_shuffle_priority` (#7879),Richard (Rick) Zamora,rzamora217@gmail.com,2021-07-07 17:47:45-05:00,GitHub,noreply@github.com,2021-07-07 17:47:45-05:00
156791580ab51660411aee93f4813164e1b1c66a,Avoid ParquetDataset API when appending in ArrowDatasetEngine (#7544),Richard (Rick) Zamora,rzamora217@gmail.com,2021-07-08 15:56:12-05:00,GitHub,noreply@github.com,2021-07-08 15:56:12-05:00
68a61827e80910dfd8571e3eb89d069cd3928a9d,"fastparquet now supports new time types, including ns precision (#7880)",Martin Durant,martindurant@users.noreply.github.com,2021-07-08 17:29:52-04:00,GitHub,noreply@github.com,2021-07-08 16:29:52-05:00
8334cc52eefaf2d09ab8ebb91e8077a125804f5b,Blockwise: handle non-string constant dependencies  (#7849),Mads R. B. Kristensen,madsbk@gmail.com,2021-07-09 03:08:16+04:00,GitHub,noreply@github.com,2021-07-08 18:08:16-05:00
4299f6d026878c324089ca84ef7ea4cfc68aa6a7,Include `fastparquet` in upstream CI build (#7884),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-08 19:17:41-05:00,GitHub,noreply@github.com,2021-07-08 19:17:41-05:00
2a0020daa5ca960d9ae7f898b181d28693367a2f,bump version to 2021.07.0,James Bourbeau,jrbourbeau@gmail.com,2021-07-09 14:41:01-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-07-09 14:41:01-05:00
5660f6e1a0c116786fbad6df82508d89d583a2cc,"Handle infinite loops in merge_asof (#7842)

Fixes infinite loop behavior in https://github.com/dask/dask/issues/7839. 

The core of the issue is that `merge_asof_indexed` could receive dataframes where `divisions` was filled with `nan` or `NaT`. Thus the while loop in `pair_partitions` would never finish executing.",gerrymanoim,gerry.manoim@twosigma.com,2021-07-12 09:29:17-04:00,GitHub,noreply@github.com,2021-07-12 09:29:17-04:00
7e231a17c04345f6f6cd66660db4a0df0f11b2ec,Use packaging for version comparisons (#7820),Elliott Sales de Andrade,quantum.analyst@gmail.com,2021-07-12 16:55:36-04:00,GitHub,noreply@github.com,2021-07-12 15:55:36-05:00
bf4bc7dd8dc96021b171e0941abde7a5f60ce89f,Update access configuration docs (#7837),Naty Clementi,natyclementi@gmail.com,2021-07-13 23:31:42-04:00,GitHub,noreply@github.com,2021-07-13 22:31:42-05:00
714ff4b92df032f50acad205ddbc3b7103eb399f,Un-`xfail` `test_daily_stock` (#7895),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-14 13:48:16-05:00,GitHub,noreply@github.com,2021-07-14 13:48:16-05:00
7f38c0a0e3a50765b87193db078621f5d6f1e39e,"Add `aggregate_files` argument to enable multi-file partitions in read_parquet (#7557)

Adds a new `aggregate_files` parameter to `dask.dataframe.read_parquet`.  This enables `chunksize=` to aggregate both row-groups and/or files into each output partition.  We also add an optional `read_partition_multi` class method to the `Engine`, allowing the backend (i.e. arrow and/or cudf) to perform file/row-group aggregation in a way that is (much) more efficient than concatenating pandas DataFrame objects.

Note that the default behavior of `aggregate_files` is set to`False`.  However, here is the motivation to aggregate files by default for partitioned datasets:

```python
dask.datasets.timeseries(
    start='2000-01-01',
    end='2000-02-28',
    freq='1s',
    partition_freq='1h',
    seed=42,
).to_parquet(
    path,
    engine=""pyarrow"",
    partition_on=""name"",
    write_index=False,
)

# Traditional read of 36k partitions.
# Takes >4.5 minutes on my machine:
dd.read_parquet(path, engine=""pyarrow"").compute()

# Aggregation into 26 partitions.
# Takes <30 seconds on my machine:
dd.read_parquet(path, engine=""pyarrow"", chunksize=""1G"",  aggregate_files=""name"").compute()
```

Co-authored-by: Martin Durant <martindurant@users.noreply.github.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2021-07-15 14:49:17-05:00,GitHub,noreply@github.com,2021-07-15 15:49:17-04:00
9791ce6f6b283321138685c65d7e37b898d9876d,"raise NotImplementedError when using pd.Grouper (#7857)

`pd.Grouper` (to groupby on) is not supported by Dask but previously it could run without throwing errors (and give wrong results as a consequence).",Ruben van de Geer,37443208+rubenvdg@users.noreply.github.com,2021-07-15 23:05:09+02:00,GitHub,noreply@github.com,2021-07-15 17:05:09-04:00
b92c332510c028544701b143b5bf479bdbe3edfe,"Generalize unique aggregate (#7892)

* rename make_meta_util to make_meta

* update docs

* default parent_meta to pd.DataFrame

* Update dask/dataframe/dispatch.py

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

* address reviews

* avoid having dead code

* generalize dask unique aggregate

* fix constuctor call

* Update dask/dataframe/groupby.py

Co-authored-by: jakirkham <jakirkham@gmail.com>

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>
Co-authored-by: jakirkham <jakirkham@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",GALI PREM SAGAR,sagarprem75@gmail.com,2021-07-16 11:46:50-05:00,GitHub,noreply@github.com,2021-07-16 09:46:50-07:00
e1e742e35c1af85e1b9315349512abdcb748c53f,Fix pyarrow-dataset ordering bug (#7902),Richard (Rick) Zamora,rzamora217@gmail.com,2021-07-16 12:38:40-05:00,GitHub,noreply@github.com,2021-07-16 12:38:40-05:00
bfecde1fc556f0b7d56c46349ec4176821a2dc8f,"[DOCS] Use separate files for each DataFrame API function and method (#7890)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Julia Signell,jsignell@gmail.com,2021-07-19 09:32:59-04:00,GitHub,noreply@github.com,2021-07-19 09:32:59-04:00
4858e58c44d4f10510a30ee70d642eaeb4edb8ff,Add `dask.array` import to progress bar docs (#7910),Fabian Gebhart,fabian.gebhart@gmail.com,2021-07-19 19:47:15+02:00,GitHub,noreply@github.com,2021-07-19 12:47:15-05:00
88c2272f48fe5e133a215e17e36a1a40ed864e37,Temporarily pin `fastparquet` in CI (#7907),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-19 16:17:49-05:00,GitHub,noreply@github.com,2021-07-19 16:17:49-05:00
2cc24d99680603c9b9cf33a83fbe8b30c02ebd05,Update old Bokeh links (#7915),Bryan Van de Ven,bryan@bokeh.org,2021-07-19 17:28:20-07:00,GitHub,noreply@github.com,2021-07-19 19:28:20-05:00
c7cb933864662d533ae4cf8c1c10b44dce78a06b,Add node size scaling to the Graphviz output for the high level graphs (#7869),Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-07-20 05:06:49+04:00,GitHub,noreply@github.com,2021-07-19 21:06:49-04:00
95fb60a31a87c6b94b01ed75ab6533fa04d51f19,Remove skips from doctests (1 of 6) (#7874),Zhengnan Zhao,zzhengnan@protonmail.com,2021-07-20 09:08:01-04:00,GitHub,noreply@github.com,2021-07-20 09:08:01-04:00
7cc3483f90f3e3e2720dfe675624d15561fef79f,"Add support for histogram2d in dask.array (#7827)

Completes support of the NumPy histogramming API in dask.array.",Doug Davis,ddavis@anaconda.com,2021-07-20 09:11:16-04:00,GitHub,noreply@github.com,2021-07-20 09:11:16-04:00
7772ee32352daf800561ac08fc05f4ba1546e88f,Add pytest marker for GPU tests (#7876),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-07-20 10:25:54-04:00,GitHub,noreply@github.com,2021-07-20 09:25:54-05:00
cb4be3eb0b135440c6d404d2a05ea497444b0c3c,Add `numeric_only` kwarg to dataframe reductions (#7831),Julia Signell,jsignell@gmail.com,2021-07-21 08:50:10-04:00,GitHub,noreply@github.com,2021-07-21 08:50:10-04:00
25227d5795166496253a0176ee02abaa1b8fe2c9,Clean up places where we inadvertently iterate over arrays (#7913),Julia Signell,jsignell@gmail.com,2021-07-21 09:35:30-04:00,GitHub,noreply@github.com,2021-07-21 09:35:30-04:00
4fd68a78c4d881cd9ec0301699accd026528fb88,"Implement lazy `Array.__iter__` (#7905)

This doesn't fix the original issue pandas-dev/pandas#38645, but hopefully it'll make it easier for pandas to know that it should sanitize dask.arrays.",Julia Signell,jsignell@gmail.com,2021-07-21 09:55:55-04:00,GitHub,noreply@github.com,2021-07-21 06:55:55-07:00
56d1891c15320872b815f1ab2f8e41867b231e5e,[DOCS] Separate out Array and Bag API (#7917),Julia Signell,jsignell@gmail.com,2021-07-21 16:11:57-04:00,GitHub,noreply@github.com,2021-07-21 16:11:57-04:00
1fab96cb763e7273079083d0093a55aad096549e,Remove skips from doctests (2 of 6) (#7873),Zhengnan Zhao,zzhengnan@protonmail.com,2021-07-22 10:37:25-04:00,GitHub,noreply@github.com,2021-07-22 10:37:25-04:00
322ad612e4489613e9930de482c294c5001a2f3c,"Remove experimental feature warning from actors docs (#7925)

Also remove the ""this is rarely necessary"" message.
I still think that this is true, but it seems like more of a distraction
to keep it in today.",Matthew Rocklin,mrocklin@gmail.com,2021-07-22 17:42:38-07:00,GitHub,noreply@github.com,2021-07-22 19:42:38-05:00
351ec3b51cfd2fd35a5e53e0129ba50bbd3150f2,Remove skips from doctests (6 of 6) (#7863),Zhengnan Zhao,zzhengnan@protonmail.com,2021-07-22 21:11:48-04:00,GitHub,noreply@github.com,2021-07-22 20:11:48-05:00
47638d02fd5c17c49ddc2dfdf03e1a3e35de304e,"Make array assert_eq check dtype. (#7903)

* Make sure that a and b have the same dtype

* Fix failing tests

* One more test to fix

* Add assert_eq test

* Bincount always returns int64

* Coerce dtype if win32",Julia Signell,jsignell@gmail.com,2021-07-23 12:28:47-04:00,GitHub,noreply@github.com,2021-07-23 12:28:47-04:00
212c1058c19fa543d60d9a294f8f9feda3e1c9dc,bump version to 2021.07.1,James Bourbeau,jrbourbeau@gmail.com,2021-07-23 14:02:13-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-07-23 14:02:13-05:00
ae5a5283c3e2e45157a7243dcff63850c422e1c8,Remove skips from doctests (3 of 6) (#7872),Zhengnan Zhao,zzhengnan@protonmail.com,2021-07-26 10:27:31-04:00,GitHub,noreply@github.com,2021-07-26 10:27:31-04:00
e779e3fff42d0a4fcf7644818e60a1a3112aa642,Unpin fastparquet in CI (#7928),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-26 09:44:15-05:00,GitHub,noreply@github.com,2021-07-26 10:44:15-04:00
8d49c3f1491b4aaccb6560814718f498abf63335,"NEP-35 support for slice_with_int_dask_array (#7927)

* NEP-35 support for slice_with_int_dask_array

* Add CuPy tests for slice_with_int_dask_array

* Fix black errors

* Fix more black errors",Peter Andreas Entschev,peter@entschev.com,2021-07-26 19:05:44+02:00,GitHub,noreply@github.com,2021-07-26 13:05:44-04:00
a9b00e0b3fbac4dcff0716b4ae5a0c2852006bab,"Add meta support to `__setitem__` (#7940)

* Add `meta` support to `__setitem__`

* Add basic `__setitem__` CuPy tests

* Extend NotImplementedError to is_arraylike in parse_assignment_indices

* Add more `__setitem__` CuPy tests",Peter Andreas Entschev,peter@entschev.com,2021-07-27 00:24:19+02:00,GitHub,noreply@github.com,2021-07-26 15:24:19-07:00
8f07a99f1c38f589804300bd3e8c3bf8dee7e657,Update configuration reference for ucx and rmm changes (#7943),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-26 20:41:22-05:00,GitHub,noreply@github.com,2021-07-26 20:41:22-05:00
03747f2df21e0e1947e2758604eb5de4ace731e3,"Fix read-csv name - when path is different, use different name for task (#7942)",Julia Signell,jsignell@gmail.com,2021-07-27 16:29:25-04:00,GitHub,noreply@github.com,2021-07-27 16:29:25-04:00
5fbbf90a59c19c197875345fb215d536fc451b8d,"Change graphviz font family to sans (#7931)

* changed font to roboto and cleaned code

* reverted square shape for all nodes in low level graph

* retrigger CI

* Changed font to Helvetica",Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-07-28 16:50:04+04:00,GitHub,noreply@github.com,2021-07-28 08:50:04-04:00
c8718d5714601234f2d40b502a8b83a4ef2e3df4,"Adds missing prepend/append functionality to da.diff (#7946)

* Add prepend kwarg to da.diff

* Add da.diff prepend tests

* Add append kwarg to da.diff

* Add da.diff append tests

* Raise on negative da.diff order

* Fix da.diff append raise test when n==0

* Use meta_from_array in da.diff prepend/append

* Add CuPy tests for da.diff",Peter Andreas Entschev,peter@entschev.com,2021-07-28 22:37:50+02:00,GitHub,noreply@github.com,2021-07-28 16:37:50-04:00
724907f20d01783aa0a3629982d716672a595d1a,Remove skips from doctests (5 of 6) (#7864),Zhengnan Zhao,zzhengnan@protonmail.com,2021-07-28 16:52:22-04:00,GitHub,noreply@github.com,2021-07-28 16:52:22-04:00
69502ffecb2fba61db7ad3e38a9833b1d841c69a,Remove skips from doctests (4 of 6) (#7865),Zhengnan Zhao,zzhengnan@protonmail.com,2021-07-28 16:53:04-04:00,GitHub,noreply@github.com,2021-07-28 16:53:04-04:00
5eac452d4d85f24814d64a3eaebf2bf531c253e2,Add deprecation warning for top-level `ucx` and `rmm` config values (#7956),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-29 16:56:56-05:00,GitHub,noreply@github.com,2021-07-29 16:56:56-05:00
39b383aa09e41f25921213a0ed929c872ba9a4ae,Temporarily pin `pyarrow<5` in CI (#7960),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-07-29 20:14:50-05:00,GitHub,noreply@github.com,2021-07-29 20:14:50-05:00
ae51ab3c1dfd495c5a3e9f7dd12fb7541998ab04,"Avoid use of `Delayed` in `to_parquet` (#7958)

This removes our ability to perform graph optimization.
Instead we use a dask.dataframe.Scalar class here.

We should probably do this elsewhere as well.",Matthew Rocklin,mrocklin@gmail.com,2021-07-29 21:58:13-05:00,GitHub,noreply@github.com,2021-07-29 21:58:13-05:00
3d65627f163819a932fdbc8bf77f241a2f3b5fb4,"Add `dask.array` SVG to the HTML Repr (#7886)

New Features
- Added chunks to the collection_annotations
- Added collection_annotations to MaterializedLayer class
- Added the Dask Array SVG of the chunks to the HTML Repr",Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-07-30 20:37:20+04:00,GitHub,noreply@github.com,2021-07-30 12:37:20-04:00
ad6f837ea11f03a32c7bb51d6e33516d93e85148,bump version to 2021.07.2,James Bourbeau,jrbourbeau@gmail.com,2021-07-30 14:45:12-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-07-30 14:45:12-05:00
d3bf07cec0b77c37b3ec1c8c30a3ae0cf00a993a,Require NumPy 1.18+ & Pandas 1.0+ (#7939),jakirkham,jakirkham@gmail.com,2021-07-30 16:17:30-07:00,GitHub,noreply@github.com,2021-07-30 18:17:30-05:00
d497cbf590d7d5e289ba763b8212415296bb7520,Add distributed.nanny to configuration reference docs (#7955),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-02 08:58:29-05:00,GitHub,noreply@github.com,2021-08-02 09:58:29-04:00
da2458250d4fcd8f1a99458778de536a667224a2,Deprecate `daily_stock` utility (#7949),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-02 09:00:50-05:00,GitHub,noreply@github.com,2021-08-02 10:00:50-04:00
264c628db632d6f40a5bbad7c75ed65f03664faa,Add gpuCI build script (#7966),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-08-02 10:52:05-04:00,GitHub,noreply@github.com,2021-08-02 09:52:05-05:00
73794b724cf2fcb26159bff80339be2679072db8,Update Zoom link for monthly meeting (#7979),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-02 18:54:49-05:00,GitHub,noreply@github.com,2021-08-02 18:54:49-05:00
f5b4a82eaf6923a0af01123583ace18a5867c92d,"Add tail and head to SeriesGroupby (#7935)

Closes  #7934",Daniel Mesejo-Len,mesejoleon@gmail.com,2021-08-03 14:39:55+02:00,GitHub,noreply@github.com,2021-08-03 07:39:55-05:00
783bcba887164502be99e578ea85b9c0c2349885,Skip CuPy tests requiring NEP-35 when NumPy < 1.20 is available (#7982),Peter Andreas Entschev,peter@entschev.com,2021-08-03 17:50:20+02:00,GitHub,noreply@github.com,2021-08-03 10:50:20-05:00
c59a509fad5bb5a7fbe536eb2d593803b8212a22,Allow `pyarrow>=5` in `to_parquet` and `read_parquet` (#7967),Richard (Rick) Zamora,rzamora@nvidia.com,2021-08-03 11:29:31-05:00,GitHub,noreply@github.com,2021-08-03 11:29:31-05:00
ea7dbed8e67f0bca7aab440f77594faf243874a8,Add back `pyarrow-legacy` test coverage for `pyarrow>=5` (#7988),Richard (Rick) Zamora,rzamora@nvidia.com,2021-08-04 10:54:24-05:00,GitHub,noreply@github.com,2021-08-04 10:54:24-05:00
890f1e29c74fe1658aabd1dbab9558fd9872881d,Bump `RAPIDS_VER` in gpuCI to 21.10 (#7991),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-08-04 12:14:29-04:00,GitHub,noreply@github.com,2021-08-04 11:14:29-05:00
049b83b4d918af2cb3083e81df1c5b40e7e90d8f,Use `pytest.warns` instead of raises for checking parquet engine deprecation (#7993),Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-08-04 21:21:58+02:00,GitHub,noreply@github.com,2021-08-04 14:21:58-05:00
e9acee52b7d39d5afa8f7606612b4eb28354501e,Removed redundant check_dtypes (#7952),gurunath,gurunathrajagopal@gmail.com,2021-08-05 03:17:49+05:18,GitHub,noreply@github.com,2021-08-04 17:59:49-04:00
8d6f2da210900195cca6b531cdf689460763db51,"Avoid using `Delayed` in `to_csv` and `to_parquet` (#7968)

This accomplishes two things:

1.  Lets dataframe optimizations through
2.  Avoids a final synchronization point in the graph
    which improves scheduling heuristics

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2021-08-04 19:40:08-04:00,GitHub,noreply@github.com,2021-08-04 18:40:08-05:00
aaccbec0e04fd2ebbcaf848051f508fa1107663e,Mark gpuCI CuPy test as flaky (#7994),Peter Andreas Entschev,peter@entschev.com,2021-08-05 17:57:11+02:00,GitHub,noreply@github.com,2021-08-05 10:57:11-05:00
bf6a22a0c5d5a9e046feda49188cd9717c688ce8,"Fix map_overlap trimming behavior when drop_axis is not None (#7894)

Regenerate the depth and boundary variables, taking `drop_axis` into account before calling `trim_internal`",Gregory R. Lee,grlee77@gmail.com,2021-08-05 14:27:26-04:00,GitHub,noreply@github.com,2021-08-05 14:27:26-04:00
a8dac3daf1e4b0454a0dc18c81a3be4a0cadb1cc,"Don't enforce columns if enforce=False (#7916)

Reverts #1740 to make it so that when files have different columns, those column names are not overwritten.",Julia Signell,jsignell@gmail.com,2021-08-05 17:29:49-04:00,GitHub,noreply@github.com,2021-08-05 17:29:49-04:00
758f4e4b97c985fc84fd0b9d5fa0abcf8fda760d,Refactor and Expand Dask-Dataframe ORC API (#7756),Richard (Rick) Zamora,rzamora@nvidia.com,2021-08-05 17:23:06-05:00,GitHub,noreply@github.com,2021-08-05 17:23:06-05:00
2745f53cd10fdd453154dded55bd49089f9760b5,"Reorganize CuPy tests into multiple files (#8013)

* Reorganize CuPy tests into multiple files

* Remove test_cupy.py

* Add missing sparse and linalg CuPy tests

* Remove part of test committed by mistake",Peter Andreas Entschev,peter@entschev.com,2021-08-10 03:54:55+02:00,GitHub,noreply@github.com,2021-08-09 21:54:55-04:00
4a59194bafb68c9272055531a0a27bebd56c807f,Close 2021 User Survey (#8007),Julia Signell,jsignell@gmail.com,2021-08-10 09:05:31-04:00,GitHub,noreply@github.com,2021-08-10 09:05:31-04:00
cb1527693d0590b67ba4fd51b1833905f1927f7b,"Add tooltips to graphviz high-level graphs (#7973)

added tooltips in the graphviz representation of the graphviz output of High-Level Graphs.
Graphviz provides an additional attribute tooltip which is exactly what I needed.
A dded the contents of the collection_annotations for now.

Also have changed the default file type and file name to dask-hlg.svg.


Co-authored-by: Genevieve Buckley <30920819+GenevieveBuckley@users.noreply.github.com>",Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-08-10 17:40:56+04:00,GitHub,noreply@github.com,2021-08-10 09:40:56-04:00
1c4a84225d1bd26e58d716d2844190cc23ebcfec,"delayed docs indirect dependencies (#8016)

Provide an example in the delayed documentation on how to create dependencies on tasks that don't take the upstream tasks result in the args.",aa1371,sarraf.artin@gmail.com,2021-08-10 07:02:24-07:00,GitHub,noreply@github.com,2021-08-10 10:02:24-04:00
3f1bece7f687a3fb843d08abff3f5f6489301724,Added dict format in `to_bag accessories` of dataframe (#7932),gurunath,gurunathrajagopal@gmail.com,2021-08-12 20:52:27+05:18,GitHub,noreply@github.com,2021-08-12 11:34:27-04:00
833a3ea710af2b2b6f347624c6d82b598eeb0d23,Ensure we error on warnings from distributed (#8002),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-12 11:12:25-05:00,GitHub,noreply@github.com,2021-08-12 12:12:25-04:00
f583b6456db92e22e9dc9236b2ccc36057703877,raise NotImplementedError for non-indexable arg passed to to_datetime (#7989),Doug Davis,ddavis@anaconda.com,2021-08-12 12:13:32-04:00,GitHub,noreply@github.com,2021-08-12 12:13:32-04:00
5cb8961b6035c90654e3999a7d99e6f5305b7ffc,BUG: Resolve skipfooter problem referenced in issue #7697 (#7855),Ross,ross@rossmoore.net,2021-08-13 00:18:15+08:00,GitHub,noreply@github.com,2021-08-12 12:18:15-04:00
e7eba42c777aa69fb5a4d9bbf32b0630dee87760,Update `to_orc` collection name (#8024),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-12 12:21:11-05:00,GitHub,noreply@github.com,2021-08-12 12:21:11-05:00
b11b081746767818a8b36f1abd47adf166a2bf67,Resolve warning in `distributed` tests (#8025),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-12 13:39:49-05:00,GitHub,noreply@github.com,2021-08-12 13:39:49-05:00
ebc40d6a059d4b27045d2f638976d37f656cae08,Fix multifile read for hdf (#8033),Julia Signell,jsignell@gmail.com,2021-08-13 13:03:51-04:00,GitHub,noreply@github.com,2021-08-13 13:03:51-04:00
de5ef67048fb58deb513d92fd28984db512a6e22,Don't convert to low-level task graph in `compute_as_if_collection` (#7969),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-13 15:09:46-05:00,GitHub,noreply@github.com,2021-08-13 15:09:46-05:00
2cdc22e880525ed23d732ea861965dd7e97e6045,Fix `to_orc` delayed compute behavior (#8035),Richard (Rick) Zamora,rzamora217@gmail.com,2021-08-13 17:42:08-05:00,GitHub,noreply@github.com,2021-08-13 17:42:08-05:00
4a59a6827578fdf8e105d1fb7e9d50d428c9d5fa,bump version to 2021.08.0,James Bourbeau,jrbourbeau@gmail.com,2021-08-13 18:02:53-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-08-13 18:02:53-05:00
45ef767e24526a79b63a572ee4c4bfe637343b3d,"Fix ""point"" -> ""pointers"" typo in docs (#8043)",David Chudzicki,dchudz@gmail.com,2021-08-16 13:04:40-04:00,GitHub,noreply@github.com,2021-08-16 12:04:40-05:00
e6b9e8983b26389c74036aeec615ac0e5ef34c65,Fix `blocksize` description formatting in `read_pandas` (#8047),Louis Maddox,lmmx@users.noreply.github.com,2021-08-16 18:52:10+01:00,GitHub,noreply@github.com,2021-08-16 12:52:10-05:00
2fe9039abd1071fe325e23a745bf6d76dcc13a4a,"Use `dict` to store data for {nan,}arg{min,max} in certain cases (#8014)

* Use `dict` to store data for {nan,}arg{min,max} in certain cases

Certain array types don't support structed arrays (e.g., CuPy). In such
cases, we may need to resort to a different data type. With this change,
data stored during {nan,}arg{min,max} uses a `dict` instead of a
structured array, provided that the array type fails during structured
array creation.

* Handle `dict`s in `_concatenate2`

* Set `meta` in `arg_reduction`

* Add CuPy tests for {nan,}arg{min,max}

* Resolve wrong `_meta` with NumPy `MaskedArray`",Peter Andreas Entschev,peter@entschev.com,2021-08-17 00:20:11+02:00,GitHub,noreply@github.com,2021-08-16 18:20:11-04:00
05ce41f55365f473e68f9ae3fea3183991540ec7,Specify module to import rechunk from (#8039),Illviljan,14371165+Illviljan@users.noreply.github.com,2021-08-17 15:23:08+02:00,GitHub,noreply@github.com,2021-08-17 09:23:08-04:00
ae09b546651913658fdc82fe7f37440c9bb8729a,Use a publicly documented attribute `obj` in groupby rather than private `_selected_obj` (#8038),GALI PREM SAGAR,sagarprem75@gmail.com,2021-08-17 09:29:18-05:00,GitHub,noreply@github.com,2021-08-17 10:29:18-04:00
bb0a2d2f56b0e12ce0fa23a8aaad1203f8da36f7,"Add percentile dispatch (#8029)

* rename make_meta_util to make_meta

* update docs

* default parent_meta to pd.DataFrame

* Update dask/dataframe/dispatch.py

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

* address reviews

* avoid having dead code

* add dispatch for percentiles

* fix imports

* register cupy dispatch

* isort

* refactor

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",GALI PREM SAGAR,sagarprem75@gmail.com,2021-08-17 12:43:43-05:00,GitHub,noreply@github.com,2021-08-17 13:43:43-04:00
846781731b932b74e15dffe965b6b418196e4dec,"Fix threaded scheduler memory backpressure regression (#8040)

The main debug of this issue can be seen in #7583. I went through the entire series of steps for this where I started with no knowledge of how this worked to now coming up with ideas for how this could perform better :wink: 

### The Issues

The issues fixed here were introduced in #6322. They can be tested by monitoring/profiling the memory usage from this example:

```python
from dask.diagnostics import ResourceProfiler, Profiler, CacheProfiler, visualize
import dask.array as da
from datetime import datetime

if __name__ == ""__main__"":
    with Profiler() as prof, ResourceProfiler(dt=0.5) as rprof, CacheProfiler() as cprof:
        d = da.random.random((5000, 250000), chunks=(1, -1)).sum()
        d.compute(optimize_graph=False)
    #visualize(
    #        [rprof, prof, cprof],
    #        file_path=f'/tmp/profile_{datetime.utcnow():%Y%m%d_%H%M%S}.html',
    #        show=False
    #        )
    print(max(x.mem for x in rprof.results))
```

If you uncomment the visualize call then you can see the full profile output for it (see the related issue for screenshots). Ever since #6322 the memory for this example is huge at ~10GB max. Prior to that PR the max memory was ~220MB.

### Fixes

This PR mostly reverts us to the behavior before the concurrent.futures PR, but keeps the concurrent.futures API.",David Hoese,david.hoese@ssec.wisc.edu,2021-08-17 21:29:02-05:00,GitHub,noreply@github.com,2021-08-17 21:29:02-05:00
ae4cf2703a4f4576b88c1f547e79986306b6162d,"Remove `wrap_func_like_safe`, not required with NumPy >= 1.17 (#8052)",Peter Andreas Entschev,peter@entschev.com,2021-08-18 05:53:40+02:00,GitHub,noreply@github.com,2021-08-17 20:53:40-07:00
dd09fa9673bf7e0e7735bcfbcb414b2b490da222,"Add dask.widgets and migrate HTML reprs to jinja2 (#8019)

* Add widget machinery

* Add jinja2 dependency

* Upstream distributed.utils.typename

* Migrate dask.array.Array

* Migrate dask.dataframe.Dataframe

* Migrate HighLevelGraph and Layer

* Fix broken tests

* Add jinja2 to mindeps

* Drop jinja2 down to the diagnostics extras require

* Move import error

* importorskip jinja2

* Try to fix the scope

* Skip html_repr tests if jinja2 is missing

* Merge typename methods

* Add comment to explain exception = e",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2021-08-18 09:49:53+01:00,GitHub,noreply@github.com,2021-08-18 09:49:53+01:00
153353d50e2c4ffc58380eef5a61baf208b2e69b,Upstream instance fix from dask/distributed#5210 (#8060),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2021-08-18 14:53:35+01:00,GitHub,noreply@github.com,2021-08-18 14:53:35+01:00
a5ff6312be451e0ac6689d325f53b3b41ab406d2,"Add colors to represent high level layer types (#7974)

Added an extra attribute to the graphviz output of High-Level graphs - node fill color. Nodes are colored on the basis of their layer_type.

This was achieved by using DOT's fillcolor attribute.

Currently, this option is made optional to the users. They need to provide an additional kwarg while calling dask.visualize() with color=""layer_type"".",Freyam Mehta,62539811+freyam@users.noreply.github.com,2021-08-18 23:54:37+04:00,GitHub,noreply@github.com,2021-08-18 15:54:37-04:00
553e0ef4790a71b47de9e71e2f609e99b036ba59,"Move pandas import and Percentile dispatch refactor (#8055)

* rename make_meta_util to make_meta

* update docs

* default parent_meta to pd.DataFrame

* Update dask/dataframe/dispatch.py

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>

* address reviews

* avoid having dead code

* add dispatch for percentiles

* fix imports

* register cupy dispatch

* isort

* refactor

* handle pandas imports

* remove cupy specific workaround

* Register lazy

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",GALI PREM SAGAR,sagarprem75@gmail.com,2021-08-18 19:36:01-05:00,GitHub,noreply@github.com,2021-08-18 17:36:01-07:00
593ef6ae69da55ea39127011c158267bf89b0bdc,Ignore whitespace when gufunc `signature` (#8049),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-18 20:37:22-05:00,GitHub,noreply@github.com,2021-08-18 20:37:22-05:00
36595ac9823c49cfa8951543cd6a15fca968089b,Use development version of `distributed` in gpuCI build (#7976),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-18 22:16:49-05:00,GitHub,noreply@github.com,2021-08-18 22:16:49-05:00
1cfeee6ccd5f94528402e8fb3460f499b6ad54d4,"Use __class__ when creating DataFrames (#8053)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Mads R. B. Kristensen,madsbk@gmail.com,2021-08-19 05:51:39+02:00,GitHub,noreply@github.com,2021-08-18 22:51:39-05:00
13fdda1e83ef598880fc5895068d01a0d00c0a97,Include invalid DataFrame key in assert_eq check (#8061),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-19 10:12:06-05:00,GitHub,noreply@github.com,2021-08-19 11:12:06-04:00
223145a84db55824bf716e909d79a7be919bb381,CI Infra Docs (#7985),Benjamin Zaitlen,quasiben@users.noreply.github.com,2021-08-19 10:30:25-07:00,GitHub,noreply@github.com,2021-08-19 12:30:25-05:00
e32d1adcd9231b95e6b68b37a47ebaf753ea4efb,Include tz in meta from to_datetime (#8000),Julia Signell,jsignell@gmail.com,2021-08-19 14:06:36-04:00,GitHub,noreply@github.com,2021-08-19 14:06:36-04:00
76a6799490c4eff6ea9088039598246e1294dd62,Add reference to pytest-xdist in dev docs (#8066),Julia Signell,jsignell@gmail.com,2021-08-19 16:11:14-04:00,GitHub,noreply@github.com,2021-08-19 15:11:14-05:00
9147ca547b04f7d3a55fb22b1cd6f0d0174c42ea,Add  ignore_metadata_file option to read_parquet (pyarrow-dataset and fastparquet support only) (#8034),Richard (Rick) Zamora,rzamora@nvidia.com,2021-08-19 21:08:54-05:00,GitHub,noreply@github.com,2021-08-19 21:08:54-05:00
76822dbc3da29767d7e6d70d73010046bd52604e,bump version to 2021.08.1,James Bourbeau,jrbourbeau@gmail.com,2021-08-20 15:52:39-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-08-20 15:52:39-05:00
4229c16cf0cc7ed5f60f313618680bfd04e381ea,"Order requirements alphabetically (#8073)

Sorts the dependencies here alphabetically to make it easier to spot
check against the Conda recipe and make sure we have everything.",jakirkham,jakirkham@gmail.com,2021-08-21 08:33:17-07:00,GitHub,noreply@github.com,2021-08-21 10:33:17-05:00
90a1938c433624f2ee0a774ee41cba4d04d51fc7,Add `DataFrame.shuffle` to API docs (#8076),Martin Fleischmann,martin@martinfleischmann.net,2021-08-23 23:49:12+01:00,GitHub,noreply@github.com,2021-08-23 17:49:12-05:00
250dce7ba73f440a1ec4a1a4891e80386683cee1,Update scheduler plugin usage in `test_scheduler_highlevel_graph_unpack_import` (#8080),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-23 18:41:54-05:00,GitHub,noreply@github.com,2021-08-23 18:41:54-05:00
ab69fe124eb36a63c092026ab082ccb08311fc79,Ensure filepath exists in `to_parquet` (#8057),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-24 10:28:07-05:00,GitHub,noreply@github.com,2021-08-24 10:28:07-05:00
7cfee4a394df591280c31e87b961873bec750c43,Fork out `percentile_dispatch` to `dask.array` (#8083),GALI PREM SAGAR,sagarprem75@gmail.com,2021-08-25 16:58:05-05:00,GitHub,noreply@github.com,2021-08-25 16:58:05-05:00
85f0b14bd36a5135ce51aeee067b6207374b00c4,Separate array and dataframe mindeps builds (#8079),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-25 18:27:58-05:00,GitHub,noreply@github.com,2021-08-25 18:27:58-05:00
a4766146bf559e58913b712c13a291e7209e201e,Add explicit `like` kwarg support to array creation functions (#8054),Peter Andreas Entschev,peter@entschev.com,2021-08-26 23:16:46+02:00,GitHub,noreply@github.com,2021-08-26 16:16:46-05:00
c0c33eaf99f0ff95f936a51937d8dd5b0d482ca8,Unit tests for sparse.zeros_like (xfailed) (#8093),crusaderky,crusaderky@gmail.com,2021-08-26 22:50:16+01:00,GitHub,noreply@github.com,2021-08-26 16:50:16-05:00
c198b7af8966c0b950b9ee0ecbcfbee4cf86caad,"Add CuPy support in da.unique (values only) (#8021)

* Support for da.unique values with non-structured arrays

* Add CuPy tests for da.unique

* Add comment to clarify check for structured array support",Peter Andreas Entschev,peter@entschev.com,2021-08-27 01:30:47+02:00,GitHub,noreply@github.com,2021-08-26 19:30:47-04:00
fb4e90a718784ca364205ec9d02b97d1145cc2f7,Add axes property to DataFrame and Series (#8069),Jordan Jensen,jordan@dotNomad.com,2021-08-26 17:10:04-07:00,GitHub,noreply@github.com,2021-08-26 19:10:04-05:00
8a8e467d43249b09c00c8735ee76b15a6b917016,Un-xfail `sparse` tests for 0.13.0 release (#8102),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-30 12:55:28-05:00,GitHub,noreply@github.com,2021-08-30 12:55:28-05:00
944553a0cfe91ae832138f7caa7719f7f0e3b2e1,Update formatting in `DataFrame.query` docstring (#8100),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-08-30 15:17:29-05:00,GitHub,noreply@github.com,2021-08-30 15:17:29-05:00
92e2a1b7847541212f9ca9fe3afe18cf8602f108,"Fix typo in configuration docs (#8104)

Co-authored-by: Robert Hales <rob.hales@xelix.com>",Robert Hales,67542061+robalar@users.noreply.github.com,2021-08-31 14:47:11+01:00,GitHub,noreply@github.com,2021-08-31 09:47:11-04:00
bfbce61a623587ca8693ba280c76387bb8060c22,Adds `deep` param to Dataframe copy method and restrict it to `False` (#8068),Joo Paulo Lacerda,jplacerda@gmail.com,2021-08-31 10:59:40-03:00,GitHub,noreply@github.com,2021-08-31 09:59:40-04:00
d93339c01dcdcd3fd18e069b0990d3d4673b256d,FIX: `make_people` works with `processes` scheduler (#8103),Dahn,dahnjahn@gmail.com,2021-09-01 16:43:02+02:00,GitHub,noreply@github.com,2021-09-01 10:43:02-04:00
efac55a52630a03ade9987aba3e6e86a3f93090f,Add pytest color to CI (#8090),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-09-01 09:58:21-05:00,GitHub,noreply@github.com,2021-09-01 10:58:21-04:00
9983c19fd9770d1a5cee2ef8b63024a934a626ee,"Change to `dask.order`: be more eager at times (#7929)

`dask.order` will now more eagerly compute dependents if the parent is expected
to be released soon.

The simplified explanation is that if running a single dependent will allow the
parent to be released from memory, then we should do it.  Although this is a
wash--because we computed one thing and released another, so net zero--this can
have big implications.  Computing more eagerly earlier can give more opportunities
for releasing memory (such as computing one thing and releasing two).

The more complicated (and correct) explanation is that we compute a dependent if
doing so will let the parent be released *soon*.  Computing the depenent *may*
allow the parent to be released immediately, but not necessarily so.  But, there
is the expectation that the parent will be able to be released *soon*, because
all of its other dependents are already in one of the inner stacks.

Hence, this can introduce local sub-optimal behavior (more work and more memory)
with the goal of being more globally optimal.  I think this is pretty cool!",Erik Welch,erik.n.welch@gmail.com,2021-09-01 10:11:32-05:00,GitHub,noreply@github.com,2021-09-01 11:11:32-04:00
63c31f79b29254306417180f5adfa6bd60e4524a,Add `DataFrame.sort_values` to API docs (#8107),Benjamin Zaitlen,quasiben@users.noreply.github.com,2021-09-01 09:40:37-07:00,GitHub,noreply@github.com,2021-09-01 11:40:37-05:00
5200b27b05adf778f6500aa1cadcbe3cd533c9a9,Add `FileNotFound` to expected http errors (#8109),Martin Durant,martindurant@users.noreply.github.com,2021-09-01 13:15:26-04:00,GitHub,noreply@github.com,2021-09-01 12:15:26-05:00
af34908a3056e7f7f3d52ab7c502e2bb9139ebdc,Fewer open files (#7303),Julia Signell,jsignell@gmail.com,2021-09-01 15:29:05-04:00,GitHub,noreply@github.com,2021-09-01 14:29:05-05:00
05c380ecf05ebf93f18b5c28b970267d5a72876b,bump version to 2021.09.0,James Bourbeau,jrbourbeau@gmail.com,2021-09-03 15:36:16-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-09-03 15:36:16-05:00
850f371108748c1b442caa014e882af7f94967a2,Deprecate `boundary_slice` kwarg: `kind` for pandas compat (#8037),Julia Signell,jsignell@gmail.com,2021-09-07 09:17:04-04:00,GitHub,noreply@github.com,2021-09-07 09:17:04-04:00
fb038dbb53565f31507649380d021310f0204f6b,Fix edge case with like-arrays in _wrapped_qr (#8122),Peter Andreas Entschev,peter@entschev.com,2021-09-07 15:35:36+02:00,GitHub,noreply@github.com,2021-09-07 09:35:36-04:00
8660531f57b3364f5532a835e400329e801ec6b0,"Deprecate `dask.dataframe.Series.__contains__` (#7914)

The dask.dataframe implementation was both eager and incorrect when compared with the pandas implementation. So the solution is to deprecate `Series.__contains__`.",Julia Signell,jsignell@gmail.com,2021-09-07 10:21:04-04:00,GitHub,noreply@github.com,2021-09-07 10:21:04-04:00
474f479e1b5e77e831da02232a84a9f49508889b,Add dtype and order to asarray and asanyarray definitions (#8106),Julia Signell,jsignell@gmail.com,2021-09-07 11:34:02-04:00,GitHub,noreply@github.com,2021-09-07 11:34:02-04:00
531ac19d3fbe7572bfb4b0ca3f7b1bb54bf6f9ac,fix index_col duplication if index_col is type str (#7661),McToel,36071676+McToel@users.noreply.github.com,2021-09-09 15:43:41+02:00,GitHub,noreply@github.com,2021-09-09 09:43:41-04:00
e1974bffd6067659bb250fd84b6eb3f224cdb79f,"Handle asarray/asanyarray cases where like is a dask.Array (#8128)

Follow-up case to https://github.com/dask/dask/pull/8054 where the input is a Dask array and `like=` is another Dask array but with a different chunk type.",Peter Andreas Entschev,peter@entschev.com,2021-09-09 15:56:24+02:00,GitHub,noreply@github.com,2021-09-09 09:56:24-04:00
618aedf8ddc4db71ca19db870421d3be646d9da1,"Allow `scheduler` to be an `Executor` (#8112)

* Make sure `with` check uses `with`

The point of this check is to test the context manager works. However we
were overriding it internally. So stop doing that.

* Test scheduler with function

* Group handling of named schedulers

* Use `concurrent.futures.Executor`s as schedulers

* Test `Executor` as `scheduler`

* Use `scheduler` in `Executor` example

* Update `loky` executor description

* Drop `max_workers` to simplify example

* Link to new IPyParallel Executor documentation",jakirkham,jakirkham@gmail.com,2021-09-10 18:23:25-07:00,GitHub,noreply@github.com,2021-09-10 18:23:25-07:00
9f0b00f039a7775dccccffe59d6802468508d9f7,add error if drop_index is negative (#8064),neel iyer,33139997+spiyer99@users.noreply.github.com,2021-09-14 00:51:50+10:00,GitHub,noreply@github.com,2021-09-13 10:51:50-04:00
38fdef9af7c0294228592dde88b66f08f9946ec1,Deprecate `zero_broadcast_dimensions` and `homogeneous_deepmap` (#8134),SnkSynthesis,63564282+SnkSynthesis@users.noreply.github.com,2021-09-13 14:03:17-07:00,GitHub,noreply@github.com,2021-09-13 16:03:17-05:00
2757831ece03d0f1aa9908cd30afdf8cc45cbfd6,Replace `operator.getitem`  (#8015),Naty Clementi,natyclementi@gmail.com,2021-09-14 10:11:14-04:00,GitHub,noreply@github.com,2021-09-14 10:11:14-04:00
f79a400cecd24b50750e6b460ab3e9d92a0d03ce,"Implement `ascending` arg for `sort_values` (#8130)

This, along with multi-column sorting and null positioning, are features of table sorting in dask-sql that could potentially be moved upstream to simplify the sorting logic there.",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-09-14 10:28:17-04:00,GitHub,noreply@github.com,2021-09-14 10:28:17-04:00
6188f6bc2a2698045effdbd782c28cc7c972d34f,Skip groupby nunique test for pandas >= 1.3.3 (#8142),Julia Signell,jsignell@gmail.com,2021-09-14 16:45:18-04:00,GitHub,noreply@github.com,2021-09-14 16:45:18-04:00
478a794717a81b8b317fb4b7710eef89e8e150a5,Specifically ignore warnings on mean for empty slices (#8125),Julia Signell,jsignell@gmail.com,2021-09-15 12:33:10-04:00,GitHub,noreply@github.com,2021-09-15 11:33:10-05:00
49f778e48f2df686dd7fbc4e89e78464127c50a8,Use `loc` if needed for series `__get_item__` (#7953),Julia Signell,jsignell@gmail.com,2021-09-16 09:46:14-04:00,GitHub,noreply@github.com,2021-09-16 09:46:14-04:00
54ff7a2450078a7dd90303750d6f9fe5d63f6599,Remove references to `pd.Int64Index` in anticipation of deprecation (#8144),Julia Signell,jsignell@gmail.com,2021-09-16 10:32:10-04:00,GitHub,noreply@github.com,2021-09-16 10:32:10-04:00
0530bdbf641f6cd33618ef648ad737a4a3d48d4e,Add `datetime_is_numeric` to dataframe.describe (#7719),Julia Signell,jsignell@gmail.com,2021-09-16 11:29:15-04:00,GitHub,noreply@github.com,2021-09-16 11:29:15-04:00
dc7ad4aeca8418deb73aae77118bf9c3d8e48ddf,Add link to diagnostic visualize function in local diagnostic docs (#8157),David Hoese,david.hoese@ssec.wisc.edu,2021-09-17 12:37:25-05:00,GitHub,noreply@github.com,2021-09-17 12:37:25-05:00
9fc5777f3d83f1084360adf982da301ed4afe13b,Remove warning filters in tests that are no longer needed (#8155),Julia Signell,jsignell@gmail.com,2021-09-17 14:06:27-04:00,GitHub,noreply@github.com,2021-09-17 14:06:27-04:00
d4819b5975ccd7371f31b978e2959ed8847a732b,Fix groupby for future pandas (#8151),Julia Signell,jsignell@gmail.com,2021-09-21 12:57:43-04:00,GitHub,noreply@github.com,2021-09-21 11:57:43-05:00
7b661440e7a916b8a9b369cc24bd4180f8564e0b,bump version to 2021.09.1,James Bourbeau,jrbourbeau@gmail.com,2021-09-21 17:37:02-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-09-21 17:37:02-05:00
948dbb7d83f5fb0c2dd9e46e05672329e86c3c1c,"Include divisions when doing `Index.to_series` (#8165)

* Don't transform divisions when mapping an index to a series

* Check that divisions are known, and simplify tests",Julia Signell,jsignell@gmail.com,2021-09-23 12:06:38-04:00,GitHub,noreply@github.com,2021-09-23 11:06:38-05:00
b0b7c9bb31441ddc501e329b2a327f1b4e4918ca,Raise error when setitem on unknown chunks (#8166),Julia Signell,jsignell@gmail.com,2021-09-23 12:15:05-04:00,GitHub,noreply@github.com,2021-09-23 11:15:05-05:00
1bc8063610db5eeec99c459f620a1df7fcb0d5ca,"Fix rolling for compatibility with pandas > 1.3.0 (#8150)

* Fix rolling

* Make sure that it works with pandas < 1.3.0",Julia Signell,jsignell@gmail.com,2021-09-23 12:18:34-04:00,GitHub,noreply@github.com,2021-09-23 11:18:34-05:00
b6120cbf976104126de7bbd8be5661e85123152e,"Deprecate 'inplace' argument for dask series renaming (#8136)

* Deprecate 'inplace' argument for dask series renaming

See issue #8082

* Remove inplace dataframe renaming equality test

* Formatted commits with black",Marcel Coetzee,82392567+marcelned@users.noreply.github.com,2021-09-23 18:21:10+02:00,GitHub,noreply@github.com,2021-09-23 11:21:10-05:00
9460bc4ed1295d240dd464206ec81b82d9f495e2,Preserve HighLevelGraphs in `DataFrame.from_delayed` (#8174),Gabe Joseph,gjoseph92@gmail.com,2021-09-23 22:45:14-04:00,GitHub,noreply@github.com,2021-09-23 21:45:14-05:00
42f27d5b2728f45d9b5126b7043c7caf204a8043,"DOC: configure sshcluster instructions (#8181)

* DOC: configure sshcluster instructions

* DOC: add keyless info

Co-authored-by: Jim Crist-Harif <jcrist@users.noreply.github.com>",Ray Bell,rayjohnbell0@gmail.com,2021-09-27 15:17:52-04:00,GitHub,noreply@github.com,2021-09-27 14:17:52-05:00
8bc0b08815ba93069afaffa4c40e6d6296da5435,"Dispatch walks mro for lazily registered handlers (#8185)

Previously when `Dispatch` walked the `mro` of a class, it would only
look for eagerly registered handlers (instead of lazily registered
handlers). This meant that subclasses of lazily registered handlers
would only be used when dispatching on a subclass if the parent class
had been dispatched on earlier (this triggering the registration).

This patch fixes this to check for lazily registered handlers when
walking the mro. This results in negligible slowdown during the fast
path.

Fixes #8111.",Jim Crist-Harif,jcrist@users.noreply.github.com,2021-09-27 16:11:05-05:00,GitHub,noreply@github.com,2021-09-27 17:11:05-04:00
892ff1fc5cc58db4ad3af8e46de41dc41f408651,Bump `RAPIDS_VER` for gpuCI (#8184),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-09-27 18:57:59-04:00,GitHub,noreply@github.com,2021-09-27 17:57:59-05:00
9f5875070d4986b4f6eac6f0cf5b05f8b28e17e9,"Add handling for null values in `sort_values` (#8167)

* Add handling for null values in sort_values

* Make removal of duplicates in rearrange_by_divisions optional

Co-authored-by: Jim Crist-Harif <jcrist@users.noreply.github.com>",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-09-28 11:36:10-04:00,GitHub,noreply@github.com,2021-09-28 10:36:10-05:00
69dd2817f2e1f56a3a1ffd43ac4d8bbe7b16560c,Fix `to_parquet` bug in call to `pyarrow.parquet.read_metadata` (#8186),Richard (Rick) Zamora,rzamora217@gmail.com,2021-09-28 14:49:55-05:00,GitHub,noreply@github.com,2021-09-28 14:49:55-05:00
7565ba6ff6d2ad3d1b642d1546bb177b90b2c668,"Open an issue for `test-upstream` failures (#8067)

This proposes to open an issue in case of failures from upstream CI
build, labelled with `CI` and `upstream` and link to the workflow run.",Wallace Reis,wallace@reis.me,2021-09-28 21:12:11-03:00,GitHub,noreply@github.com,2021-09-28 19:12:11-05:00
49b5ccc015ee294730258e1d3ffba0f85c524c67,"Use `s.isna` instead of `pd.isna(s)` in `set_partitions_pre` (fix cudf CI) (#8193)

Use s.isna instead of pd.isna(s) in set_partitions_pre",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-09-29 10:35:56-04:00,GitHub,noreply@github.com,2021-09-29 10:35:56-04:00
a79319cd5609b47a6c5fbfc468c1d41c172229e5,Suppress tmpfile OSError (#8191),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-09-29 12:51:32-05:00,GitHub,noreply@github.com,2021-09-29 12:51:32-05:00
cad2de641f53b4f527c35d7c9a7c3b6ca9d0ff26,Add `test_set_index` to tests ran on gpuCI (#8198),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-09-29 17:15:06-04:00,GitHub,noreply@github.com,2021-09-29 16:15:06-05:00
ecb474397d00a3b200fe346da184f82e0ef8bc01,Use `pytest.param` to properly label param-specific GPU tests (#8197),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-09-29 17:17:00-04:00,GitHub,noreply@github.com,2021-09-29 16:17:00-05:00
0116e4312547d378a07e42fb766c19aa3396f1ac,Ensure upstream CI cron job runs (#8200),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-09-30 13:55:07-05:00,GitHub,noreply@github.com,2021-09-30 13:55:07-05:00
b73f2c5bc3072fa9faecd8a9bf8ecdbf684a7dea,Don't have upstream report depend on commit message (#8202),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-09-30 15:43:51-05:00,GitHub,noreply@github.com,2021-09-30 15:43:51-05:00
bbda5529e4ceba32dadcb8d1110aa3b0814e12b2,"Add some basic examples to doc strings on `dask.bag` `all`, `any`, `count` methods (#7630)",Nathan,ndanielsen@users.noreply.github.com,2021-09-30 14:51:39-07:00,GitHub,noreply@github.com,2021-09-30 16:51:39-05:00
7e8206ec06ebe3cb029d600a925735072234cff3,"Add support for scalar item assignment by Series (#8195)

Adds a check in `DataFrame.__setitem__` for when `key` is a series or series-like; currently uses `df.where`, as would be done if `key` was a dataframe or dataframe-like.",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-10-01 11:08:24-04:00,GitHub,noreply@github.com,2021-10-01 11:08:24-04:00
824244c14aeb7d9a95b2e08011b36d10b16feeb8,Fix upstream tests (#8205),Julia Signell,jsignell@gmail.com,2021-10-01 11:12:19-04:00,GitHub,noreply@github.com,2021-10-01 11:12:19-04:00
e5bd5c42c6d299d2116ecd3cde1fde0114a3bf59,"Support negative drop_axis in map_blocks and map_overlap (#8192)

This PR allows the `drop_axis` argument of `map_blocks` and `map_overlap` to use negative axis values in the same manner as functions in the NumPy API. 

This improves on #8064 which added a more informative error message on negative `drop_axis` (closing #7924). This PR changes the error to only occur when the specified axis exceeds the dimensions of the output array, otherwise the axis is converted to the equivalent positive-valued axis.",Gregory R. Lee,grlee77@gmail.com,2021-10-01 12:03:55-04:00,GitHub,noreply@github.com,2021-10-01 12:03:55-04:00
0b0b2f74d3c294ae3ed97ea771d16025259ee0c5,Refactor read_metadata in pyarrow parquet engines (#8072),Richard (Rick) Zamora,rzamora217@gmail.com,2021-10-01 17:21:23-05:00,GitHub,noreply@github.com,2021-10-01 17:21:23-05:00
af780d3f18ba07fc49649dd727f08bbcc730bbb9,Make sure that the divisions of the single partition merge is left (#8162),Julia Signell,jsignell@gmail.com,2021-10-04 10:00:14-04:00,GitHub,noreply@github.com,2021-10-04 10:00:14-04:00
410d3306e142e5b3e3945b743e1d8c289690078e,"Ensure existing futures get passed as deps when serializing HighLevelGraph layers (#8199)

A bug in the serialization of HighLevelGraph layers resulted in tasks in
a layer that depend on an existing future not having that future marked
as a dependency for the task (resulting in the future name being passed
instead of its value).

Rearranging the merge order here so known futures don't get overwritten
fixes things.",Jim Crist-Harif,jcrist@users.noreply.github.com,2021-10-04 09:08:16-05:00,GitHub,noreply@github.com,2021-10-04 10:08:16-04:00
3cb3b928f03b879c6c02e63ae6d7300f0db04d68,"Docs: Add dask-gateway, Coiled, and Saturn-Cloud to list of Dask setup tools (#7814)

* Add dask-gateway to list of Dask setup tools

* Add Coiled to list of Dask setup tools

* Add Saturn Cloud",Kristopher Overholt,kris@koverholt.com,2021-10-04 10:37:19-05:00,GitHub,noreply@github.com,2021-10-04 10:37:19-05:00
b888af46dd340f7573faef1dd9c2c8905820405d,Use `inclusive` rather than `closed` with pandas>=1.4.0 and `pd.date_range` (#8213),Julia Signell,jsignell@gmail.com,2021-10-04 13:20:58-04:00,GitHub,noreply@github.com,2021-10-04 13:20:58-04:00
049d80341ba71c70b5f6fd4d0d2f78a804408a67,"Add `tokenize.ensure-deterministic` config option (#7413)

Add `tokenize.ensure-deterministic` config option for converting any non-deterministic
behavior in `tokenize` into errors.

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Hristo Georgiev,hristog@users.noreply.github.com,2021-10-04 20:28:29+01:00,GitHub,noreply@github.com,2021-10-04 14:28:29-05:00
ba29ba377ae71e5a90fa5ef5198c7d317b45c06a,Fix `df.quantile` on all missing data (#8129),Julia Signell,jsignell@gmail.com,2021-10-05 13:44:54-04:00,GitHub,noreply@github.com,2021-10-05 13:44:54-04:00
dd636df4ba5e3bc63bd0f86e5a344966864d4539,Docs reoganization (#7984),Julia Signell,jsignell@gmail.com,2021-10-07 10:32:35-04:00,GitHub,noreply@github.com,2021-10-07 15:32:35+01:00
843c37554dc65e532d70c38b2cd1f337fcc874a0,Update function signatures in `delayed` best practices docs (#8231),V Trung c,vutrungduc7593@gmail.com,2021-10-08 05:41:44+07:00,GitHub,noreply@github.com,2021-10-07 17:41:44-05:00
6e734cd742686a0b39bac27a8dd612df08a7d8ab,"Adjust retrieving `_max_workers` from `Executor` (#8228)

The `mpi4py` implementation will return `None` if it can't give a
specific number. So this adjusts how `_max_workers` is retrieved to set
it to `None` if it can't be figured out. Then if it is `None`, it will
fallback to `dask.config`.",jakirkham,jakirkham@gmail.com,2021-10-07 17:46:57-07:00,GitHub,noreply@github.com,2021-10-07 19:46:57-05:00
e05d1cf32899a0379f38c9e2a971b11465f470a4,Remove unnecessary `dask.multiprocessing` import in docs (#8240),Ray Bell,rayjohnbell0@gmail.com,2021-10-08 15:26:31-04:00,GitHub,noreply@github.com,2021-10-08 14:26:31-05:00
b407597549c3aa77f4e5ff45b3bffa949faa571b,"add numpy array of dask keys to Array (#7922)

Adds the cached `key_array` property to the `Array` class. This property is just a cached numpy array of the `Array.__dask_keys__()` property with `dtype=object`. Adding this as a property of the `Array` class allows me to remove [expensive numpy array creation](https://github.com/dask/dask/blob/main/dask/array/core.py#L1833) in `Array._blocks` and thereby make iterating over `Array.blocks` more performant.",Davis Bennett,davis.v.bennett@gmail.com,2021-10-11 09:39:34-04:00,GitHub,noreply@github.com,2021-10-11 09:39:34-04:00
a285509b1a4e694d9083f3b94c96b7e4a5420ecc,"Add support for ""dependent"" columns in DataFrame.assign (#8086)",Suriya Senthilkumar,54205777+suriya-it19@users.noreply.github.com,2021-10-11 19:15:06+05:18,GitHub,noreply@github.com,2021-10-11 09:57:06-04:00
e93f4d5b42862f92f0fe6246ac9f68ab9d56ebe3,Fix label typo in upstream CI build (#8237),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-11 09:56:51-05:00,GitHub,noreply@github.com,2021-10-11 10:56:51-04:00
80a82008d5b02a08f6ff59d802defcc43247eb1a,Run pyupgrade in CI (#8246),crusaderky,crusaderky@gmail.com,2021-10-11 19:19:09+01:00,GitHub,noreply@github.com,2021-10-11 13:19:09-05:00
715884922f02721aa1f3e279c5ee71ed935cb48a,Fix setup.html redirect (#8249),Florian Jetter,fjetter@users.noreply.github.com,2021-10-13 01:02:23+02:00,GitHub,noreply@github.com,2021-10-12 18:02:23-05:00
cf82bb07d7070f0950b1cd7b33ff77fd384406f8,"Fix null sorting for single partition dataframes (#8225)

Adds handling for the following cases:

- `df.npartitions == 1`; we now call `map_partitions(M.sort_values, ...)` and skip Dask's `sort_values` altogether
- `len(divisions) == 2` before dropping duplicates; this implies that we are going to repartition to a single partition, which can be done using `repartition` without entering `rearrange_by_divisions`",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-10-13 10:42:35-04:00,GitHub,noreply@github.com,2021-10-13 10:42:35-04:00
e98d4f2cf8884d142b93c9fb2405d47e4ad02a54,Fix debugging.html redirect (#8251),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-13 12:42:22-05:00,GitHub,noreply@github.com,2021-10-13 12:42:22-05:00
898afc04208aba91dc52acb5e04cc7a76f9c1013,Ignore arrow doctests if pyarrow not installed (#8256),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-10-14 11:44:36+11:00,GitHub,noreply@github.com,2021-10-13 19:44:36-05:00
9c94ea294d511556d010efb7526663841b64287f,"Fix :DataFrame.head shouldn't warn when there's one partition (#8091)

* Fix :DataFrame.head shouldn't warn when there's one partition

* Fixups

- Add test
- Simplify logic

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Pankaj Patil,pankaj.patil2099@hotmail.com,2021-10-14 21:57:21+05:18,GitHub,noreply@github.com,2021-10-14 11:39:21-05:00
3067379b7f45552be2514b403da76171f0a41cee,Add workflow to update gpuCI (#8215),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-10-18 07:12:07-04:00,GitHub,noreply@github.com,2021-10-18 12:12:07+01:00
ee6814f36a0075c481b5909a3d539e4dcb8e4538,Ignore whitespace in gufunc `signature` (#8267),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-18 10:59:01-05:00,GitHub,noreply@github.com,2021-10-18 10:59:01-05:00
f46191233b19a21958941654d52185dc3bfabc6a,"Remove individual API doc pages from sphinx toctree (#8238)

Implements the suggestion proposed by @choldgraf here https://github.com/dask/dask/issues/8227#issuecomment-938693461 to try and cut down out documentation build time",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-18 14:14:46-05:00,GitHub,noreply@github.com,2021-10-18 15:14:46-04:00
a06ee6aad4fedffe73f34c547e5268aa79b5b21a,"Set `memory_usage` to `True` if `verbose` is `True` in info (#8222)

The expected behavior for `dd.info(verbose=True)` should be to also return the total memory being used, this PR brings dask in line with pandas and will prevent confusions like issue #8115",Kinshuk Dua,kinshukdua@gmail.com,2021-10-19 00:51:29+05:18,GitHub,noreply@github.com,2021-10-18 15:33:29-04:00
361a2f5472932cb26667216f0200b565ac67487e,Make nested redirects work (#8272),Julia Signell,jsignell@gmail.com,2021-10-18 16:49:35-04:00,GitHub,noreply@github.com,2021-10-18 15:49:35-05:00
62f96e7edb27cb94eca49d5ac2f5639fb8cca44a,"fix: support Path objects in from_zarr (#8168) (#8266)

to_zarr already handles it so this allows from_zarr
to be on par with it.",Samuel Gaist,samuel.gaist@idiap.ch,2021-10-19 16:28:03+02:00,GitHub,noreply@github.com,2021-10-19 10:28:03-04:00
07ee3b83b334f3917c17618a6ecac81686bd6fa6,Refactor read_metadata in fastparquet engine (#8092),Richard (Rick) Zamora,rzamora217@gmail.com,2021-10-19 09:37:42-05:00,GitHub,noreply@github.com,2021-10-19 09:37:42-05:00
bde7050e71da271679107a0665c6a00c2cb15449,Add pre-commit to test requirements (#8257),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-10-20 02:12:44+11:00,GitHub,noreply@github.com,2021-10-19 11:12:44-04:00
7b1f30692975153ddbf0c856ab2c47f5ae10fbf6,Client-shutdown method appears twice (#8273),German Shiklov,67539861+Jeremaiha-xmetix@users.noreply.github.com,2021-10-19 18:42:20+03:00,GitHub,noreply@github.com,2021-10-19 11:42:20-04:00
98fed9b2c1bede42d661b542c425da866d4630dd,Stale label github action (#8244),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-10-20 08:23:11+11:00,GitHub,noreply@github.com,2021-10-19 16:23:11-05:00
38fbcf1139843e1798bc6e0ee350b66bf05bec1f,Fix typo in docs (#8277),JoranDox,joran.dox@gmail.com,2021-10-20 15:00:35+02:00,GitHub,noreply@github.com,2021-10-20 09:00:35-04:00
5b633014dee73db199eef8ddd193f4c669abb95b,"Unregister callbacks in doctests (#8276)

Some of our callback doctests weren't calling `unregister()` which lead to `Callback.active` being unexpectedly populated when running both unit tests and doctests at the same time. This PR adds `unregister()` calls accordingly.",James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-20 08:01:53-05:00,GitHub,noreply@github.com,2021-10-20 09:01:53-04:00
f4246696fa28d131c4c3578456970485786b7ae9,"Update `tmpdir` and `tmpfile` context manager docstrings (#8270)

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Daniel Mesejo-Len,mesejoleon@gmail.com,2021-10-20 23:23:05+02:00,GitHub,noreply@github.com,2021-10-20 16:23:05-05:00
6dbf09528004013abaa4ee38beb578f90f54467f,Skip doctests if optional dependencies are not installed (#8258),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-10-22 00:19:25+11:00,GitHub,noreply@github.com,2021-10-21 09:19:25-04:00
a544670ff6df879f457fe74534726e0b0679d1e2,Remove `chest` (#8279),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-21 10:53:13-05:00,GitHub,noreply@github.com,2021-10-21 10:53:13-05:00
9f0f002f2b3a0c18ad0d3a062a006a0651cfc9f3,CI: force nightly pyarrow in the upstream build (#8281),Joris Van den Bossche,jorisvandenbossche@gmail.com,2021-10-21 22:41:04+02:00,GitHub,noreply@github.com,2021-10-21 15:41:04-05:00
ac01ddc9074365e40d888f80f5bcd955ba01e872,`da.store` to create well-formed `HighLevelGraph` (#8261),crusaderky,crusaderky@gmail.com,2021-10-21 21:47:41+01:00,GitHub,noreply@github.com,2021-10-21 15:47:41-05:00
97494ff0d5d935e534871c9cf0d5b642fd74edb7,bump version to 2021.10.0,James Bourbeau,jrbourbeau@gmail.com,2021-10-22 15:28:33-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-10-22 15:28:33-05:00
13fea556c97cd15f6ba8db699686fbf3245bc322,Deprecate `file_path` and make it possible to save  from within a notebook (#8283),Julia Signell,jsignell@gmail.com,2021-10-25 09:26:52-04:00,GitHub,noreply@github.com,2021-10-25 09:26:52-04:00
b1c388351a659ae9edb03cd8350ac249c68859de,"Replace `block` property with `blockview` for array-like operations on blocks (#8242)

In the spirit of https://github.com/dask/dask/pull/7845, this PR provides numpy-array-like interface to the chunks of a dask array. 

This PR contains a class `BlockView`, defined in `dask/array/core.py`, that takes a dask array in its constructor and exposes a `__getitem__` method (with code copied directly from `dask.array.blocks`), a `ravel` method (return a flattened list of all the blocks), and `shape` property (return a tuple representing the number of chunks along each axis). In `Array.__new__`, an instance of `BlockView` is assigned to the attribute `blocks`, enabling the following :

```python
In [1]: import dask.array as da; data = da.arange(10, chunks=5)

In [2]: data.blocks.ravel()
Out[2]: 
[dask.array<blocks, shape=(5,), dtype=int64, chunksize=(5,), chunktype=numpy.ndarray>,
 dask.array<blocks, shape=(5,), dtype=int64, chunksize=(5,), chunktype=numpy.ndarray>]

In [3]: data.blocks.shape
Out[3]: (2,)

In [4]: data.blocks[0]
Out[4]: dask.array<blocks, shape=(5,), dtype=int64, chunksize=(5,), chunktype=numpy.ndarray>
```",Davis Bennett,davis.v.bennett@gmail.com,2021-10-25 11:13:28-04:00,GitHub,noreply@github.com,2021-10-25 11:13:28-04:00
cd0bf672db39bcad1870b98dde366bb53be6ace8,Fix API docs misrendering with new sphinx theme (#8296),Julia Signell,jsignell@gmail.com,2021-10-25 14:04:39-04:00,GitHub,noreply@github.com,2021-10-25 14:04:39-04:00
6256c0f7d615d351d410d1079309f42c4870dbfd,"Make slice errors match numpy (#8248)

Co-authored-by: Jim Crist-Harif <jcrist@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2021-10-25 17:41:04-04:00,GitHub,noreply@github.com,2021-10-25 16:41:04-05:00
cd65507841448ad49001cf27564102e2fb964d0a,CI fixups (#8298),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-10-25 21:34:55-05:00,GitHub,noreply@github.com,2021-10-25 21:34:55-05:00
7db949579f10901f2d9ed65a3e5ea1c3a4035fd0,"Add dask.ml module (#6384)

* Add dask.ml module

* ignore dask/ml.py in doctests

Better ways to implement this would be welcome

Co-authored-by: Jacob Tomlinson <jtomlinson@nvidia.com>",Matthew Rocklin,mrocklin@gmail.com,2021-10-27 05:19:56-05:00,GitHub,noreply@github.com,2021-10-27 11:19:56+01:00
3b61950cbdf033d53ae98937d19a9ff0b2a38f40,Improve support for Spark output in read_parquet (#8274),Richard (Rick) Zamora,rzamora217@gmail.com,2021-10-27 11:09:38-05:00,GitHub,noreply@github.com,2021-10-27 11:09:38-05:00
520f8c15dec92db4c64c2e0771c0295fcc50d5d5,Add single eq operator (=) to parquet filters  (#8300),Ayush Dattagupta,ayushdg95@gmail.com,2021-10-27 16:17:28-07:00,GitHub,noreply@github.com,2021-10-27 18:17:28-05:00
ee21c2114e7c45fb121febe7b4ed598a4f8463ae,Fix name of cuDF in extension documentation. (#8311),Vyas Ramasubramani,vyas.ramasubramani@gmail.com,2021-10-27 20:39:46-07:00,GitHub,noreply@github.com,2021-10-27 23:39:46-04:00
ba78cda8167d78bed3f739b6e5d1504c2e99b46c,"Deprecate `AxisError` (#8305)

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",crusaderky,crusaderky@gmail.com,2021-10-28 16:13:06+01:00,GitHub,noreply@github.com,2021-10-28 10:13:06-05:00
6df85f3b25dac2ab9d377e973ebb3b5194257973,Fix flaky `test_interrupt` (#8314),crusaderky,crusaderky@gmail.com,2021-10-28 16:15:38+01:00,GitHub,noreply@github.com,2021-10-28 10:15:38-05:00
6eb7fd3f5db21028ffdb730b2a80f719c6759397,Dask calendar should show events in local time (#8312),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-10-29 13:23:45+11:00,GitHub,noreply@github.com,2021-10-28 21:23:45-05:00
752555aa5d93ed359b49c4158a7418b7327a5664,`demo_tuples` produces malformed `HighLevelGraph` (#8325),crusaderky,crusaderky@gmail.com,2021-11-01 20:56:08+00:00,GitHub,noreply@github.com,2021-11-01 15:56:08-05:00
6353103d68e9d98fc103a0967744763f6d130eb6,Use `HighLevelGraph` optimizations for `delayed` (#8316),Ian Rose,ian.r.rose@gmail.com,2021-11-01 19:14:27-07:00,GitHub,noreply@github.com,2021-11-01 21:14:27-05:00
89d93a8264ce81c30207d83de96e3346a15365a4,"Add more ordering diagnostics to `dask.visualize` (#7992)

Added to help investigate https://github.com/dask/dask/pull/7929",Erik Welch,erik.n.welch@gmail.com,2021-11-02 09:52:57-05:00,GitHub,noreply@github.com,2021-11-02 10:52:57-04:00
57a10a52eed0f6eccf9325d363063e9bfe6de2ad,"Groupby Rolling (#8176)

Implements overlap first, groupby rolling.",Julia Signell,jsignell@gmail.com,2021-11-03 10:08:33-04:00,GitHub,noreply@github.com,2021-11-03 10:08:33-04:00
7960b6e04522ca67c2858ed428b910d2b27d0b1c,Require newer `s3fs` in CI (#8336),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-11-03 10:38:54-05:00,GitHub,noreply@github.com,2021-11-03 10:38:54-05:00
5bc14dc7b62f129622c3f11fbe7119c13836de26,Get rid of `environment-latest.yml` and update to Python 3.9 (#8275),Julia Signell,jsignell@gmail.com,2021-11-03 13:59:10-04:00,GitHub,noreply@github.com,2021-11-03 12:59:10-05:00
8e5b3f0abd07ec634c29d5e8c665884b35882a24,"Add `name_function` option to `to_parquet` (#7682)

The `to_parquet` function does not currently allow for the customization of filenames that are outputted (it creates files like `part.0.parquet`, `part.1.parquet`).  This pull request adds a `name_function` option that lets the user customize the filename output.

Here's an example:

```python
df.to_parquet(""some/path"", name_function=lambda x: f""hi-{x}.parquet"")
```

Here's what's outputted:

```
some/path/
  hi-0.parquet
  hi-1.parquet
```

Co-authored-by: Julia Signell <jsignell@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Matthew Powers,matthewkevinpowers@gmail.com,2021-11-03 15:43:05-03:00,GitHub,noreply@github.com,2021-11-03 14:43:05-04:00
c2278fece0d4fb4af1e63b6ca26e6a90f63b0fc3,Point users to Discourse (#8332),Ian Rose,ian.r.rose@gmail.com,2021-11-03 13:46:53-07:00,GitHub,noreply@github.com,2021-11-03 15:46:53-05:00
e488fbd413bbc52707012158624513ed8d95dd4a,Better handling for arrays/series of keys in `dask.dataframe.loc` (#8254),Julia Signell,jsignell@gmail.com,2021-11-04 16:12:23-04:00,GitHub,noreply@github.com,2021-11-04 16:12:23-04:00
5b38dda3ff4c2432baa6af8b52ba1572a539548e,"Add `align_dataframes` to `map_partitions` to broadcast a dataframe passed as an arg (#6628)

When dataframes are passed to `map_partitions`, by default they are aligned according to the partitions of the first dataframe. This can be surprising when the user intended to broadcast them instead. This PR adds `align_dataframes` as a `map_partitions` kwarg (just like `align_arrays` in `map_blocks`) so you can work around this when necessary (without going the hacky route of using kwargs when you intend to broadcast).

Co-authored-by: Gabe Joseph <gjoseph92@gmail.com>",Julia Signell,jsignell@gmail.com,2021-11-05 11:19:06-04:00,GitHub,noreply@github.com,2021-11-05 11:19:06-04:00
a02d2b3f364ddf7f07b248ac77588e292e69b87a,"Fix required_extension behavior in read_parquet (#8351)

This PR changes the behavior of `read_parquet(path, ..., required_extension=)` to only apply when `path` is a directory without an active `_metadata` file. That is, we should not be filtering out ""unsupported extensions"" when the `path` is a single file, and specific list of files, or when we are using a `_metadata` file to tell us what files are valid.

Co-authored-by: Julia Signell <jsignell@gmail.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2021-11-05 15:25:54-05:00,GitHub,noreply@github.com,2021-11-05 16:25:54-04:00
271016680f0d7d14993763ec618d2062749d24e4,bump version to 2021.11.0,James Bourbeau,jrbourbeau@gmail.com,2021-11-05 17:01:54-05:00,James Bourbeau,jrbourbeau@gmail.com,2021-11-05 17:01:54-05:00
9e72a9e1cbef494ef1f2d1104322edc8d7284092,Release 2021.11.1,John Kirkham,jakirkham@gmail.com,2021-11-08 09:37:43-08:00,John Kirkham,jakirkham@gmail.com,2021-11-08 09:37:43-08:00
cc0332f982b9baeb926402e4272c4bd85d62d4e1,"Import graphviz.Diagraph from top of module, not from dot (#8363)",Julia Signell,jsignell@gmail.com,2021-11-08 17:41:10-05:00,GitHub,noreply@github.com,2021-11-08 17:41:10-05:00
4aa9dca8a3de15b0c4801bd48789b29556194546,Pin graphviz to avoid issue with windows and python 3.7 (#8365),Julia Signell,jsignell@gmail.com,2021-11-09 09:51:09-05:00,GitHub,noreply@github.com,2021-11-09 09:51:09-05:00
11f52ed453711e7f4e293208083c284fff4b13ba,Fix zarr for upstream (#8367),Julia Signell,jsignell@gmail.com,2021-11-09 13:58:51-05:00,GitHub,noreply@github.com,2021-11-09 13:58:51-05:00
84da277b9739beae66380d2c0f53753487720656,Include properties in array API docs (#8356),Julia Signell,jsignell@gmail.com,2021-11-09 17:20:11-05:00,GitHub,noreply@github.com,2021-11-09 17:20:11-05:00
6a9ab2a263d57c8f95fb8dec767d106a7d3f6b54,Remove some doc build warnings (#8369),Boaz Mohar,boazmohar@gmail.com,2021-11-10 14:29:41-05:00,GitHub,noreply@github.com,2021-11-10 13:29:41-06:00
6c5b4828444393f1974323b0462b8a19fab90c39,Parameterize shuffle implementation in tests (#8250),Ian Rose,ian.r.rose@gmail.com,2021-11-10 12:30:27-08:00,GitHub,noreply@github.com,2021-11-10 14:30:27-06:00
fccddfb9eceb03bd91cc8ef4be0333228e3273ce,"Fix .loc of dataframe with nullable boolean dtype (#8368)

Fixes a regression in `2021.11.0` with using a [Nullable Boolean data type](https://pandas.pydata.org/docs/user_guide/boolean.html) as an indexer.",Marco Rossi,developer@marco-rossi.com,2021-11-11 14:53:23+01:00,GitHub,noreply@github.com,2021-11-11 08:53:23-05:00
7446308083e2f284229a11e9b3e330aa9e73cf96,"Use more explicit keyword arguments (#8354)

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>",Boaz Mohar,boazmohar@gmail.com,2021-11-12 14:55:11-05:00,GitHub,noreply@github.com,2021-11-12 14:55:11-05:00
43f33a32dd5cdf77363b6ff6348b5f1a8282d28c,Use blockwise in `single_partition_join` (#8341),Gabe Joseph,gjoseph92@gmail.com,2021-11-15 12:03:00-07:00,GitHub,noreply@github.com,2021-11-15 14:03:00-05:00
f5881891505b9a2ba2da195befb11ad7b4c7bb23,Fix typo in `set_index` `partition_size` parameter description (#8384),FredericOdermatt,50372080+FredericOdermatt@users.noreply.github.com,2021-11-17 00:18:18+09:00,GitHub,noreply@github.com,2021-11-16 09:18:18-06:00
fd8853952d030f3f63721520361fafdba65a12fd,"Try to make divisions behavior clearer (#8379)

Co-authored-by: Gabe Joseph <gjoseph92@gmail.com>",Julia Signell,jsignell@gmail.com,2021-11-17 12:02:43-05:00,GitHub,noreply@github.com,2021-11-17 12:02:43-05:00
b196e4a500ce7d189cd2fad7bcf2864fa34b1e17,Ensure single-partition join `divisions` is tuple (#8389),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-11-17 13:13:38-05:00,GitHub,noreply@github.com,2021-11-17 13:13:38-05:00
c19a8300d514a8ee488e0da5e81c01155d55fdbe,"Actually ignore index when asked in `assert_eq` (#8396)

When passing `ignore_index=True`, two things were wrong:
1. We were resetting the index before sorting. After sorting, the values will be in the same order, but the new indexes may be in different orders
2. We were still sorting by the index in `_maybe_sort`",Gabe Joseph,gjoseph92@gmail.com,2021-11-18 11:12:38-07:00,GitHub,noreply@github.com,2021-11-18 13:12:38-05:00
d0bb9a333aef60e739c5ad31054fcd4a7b636d3d,Only run gpuCI bump script daily (#8404),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-11-19 11:57:13-05:00,GitHub,noreply@github.com,2021-11-19 10:57:13-06:00
5a8275dd53193b47457cdfadc0e2356ea3eb6ccd,bump version to 2021.11.2,James Bourbeau,jrbourbeau@gmail.com,2021-11-19 14:16:18-06:00,James Bourbeau,jrbourbeau@gmail.com,2021-11-19 14:16:18-06:00
94e7ae815204ed7cae61e55870001b1d7cce84d2,Make visualize more consistent with compute. (#8328),JSKenyon,jonosken@gmail.com,2021-11-22 22:41:05+02:00,GitHub,noreply@github.com,2021-11-22 15:41:05-05:00
1710762f9e220174ba49a86024c5f093d80856be,Fix empty chunk causes exception in nanmin/nanmax (#8375),Boaz Mohar,boazmohar@gmail.com,2021-11-22 16:47:54-05:00,GitHub,noreply@github.com,2021-11-22 16:47:54-05:00
5dea73898ad83e76c207f5f24d4b63a5fb801290,Unpin graphviz  and improve package management in environment-3.7 (#8411),Julia Signell,jsignell@gmail.com,2021-11-22 17:39:56-05:00,GitHub,noreply@github.com,2021-11-22 17:39:56-05:00
057210b3caf94f4141dfdca5321d74750e0db382,Fix cupy doctest error (#8412),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-11-24 03:52:08+11:00,GitHub,noreply@github.com,2021-11-23 10:52:08-06:00
a135dd96e1ec6a56f4c80a1c3ad29d50caabe848,Update gpuCI `RAPIDS_VER` to `22.02` (#8394),github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2021-11-23 11:29:17-06:00,GitHub,noreply@github.com,2021-11-23 11:29:17-06:00
f3b5c8860da852ad77ccfe3df8b5a493e247439f,"Support `where` argument in ufuncs (#8253)

The `where` argument provides a mask for which elements to compute.
Since:

- It's typically used in combination with `out` (which mutates the input
array).
- It participates in broadcasting, but is a keyword only argument

Implementing this parameter was nontrivial and required some changes to
how `elemwise` works internally.

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",mihir,71319388+ek234@users.noreply.github.com,2021-11-25 20:34:20+04:00,GitHub,noreply@github.com,2021-11-25 10:34:20-06:00
a07c9fb6665e27967f14524d19a6fec1d9ea83d3,fix csv header bug (#8413),Richard (Rick) Zamora,rzamora217@gmail.com,2021-11-29 10:19:00-06:00,GitHub,noreply@github.com,2021-11-29 11:19:00-05:00
848388f517459b8ccf15fb40efc7744db6251212,"Deprecation warning for default value of boundary kwarg in map_overlap (#8397)

First step in updating the default `boundary` kwarg value in Dask's `map_overlap` function. The current default value is `""reflect""`, in future this will be changed to `""none""`. 

We want to do this primarily for performance reasons, as discussed here: https://github.com/dask/dask/issues/8391",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-11-30 03:23:04+11:00,GitHub,noreply@github.com,2021-11-29 11:23:04-05:00
e9da2d8c9877d6fe8c03c75788987751291840e6,"Add warning to read_parquet when statistics and partitions are misaligned (#8416)

Motivated by #8399
It seems best to have this edge case covered with a clear user warning.",Richard (Rick) Zamora,rzamora217@gmail.com,2021-11-29 10:41:27-06:00,GitHub,noreply@github.com,2021-11-29 11:41:27-05:00
73c52ec61a2c70e80ada144ee7009d023014898b,"Allow custom sort functions for `sort_values` (#8345)

Allows the sorting function called on each partition in last step of `sort_values` to be generalized, along with the kwargs that are supplied to it. This allows `sort_values` to be extended to support multi-column sorting and more complex ascending / null position handling.

The context for this PR is a desire to simplify the [sorting algorithm](https://github.com/dask-contrib/dask-sql/blob/main/dask_sql/physical/utils/sort.py) used by dask-sql; since it only really differs from Dask's sorting algorithm in that it uses a custom sorting function, it seems like it would be easier to allow for that extension upstream rather than duplicate Dask code in dask-sql.",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-11-29 11:53:13-05:00,GitHub,noreply@github.com,2021-11-29 11:53:13-05:00
7a44f9cd3ccc0bf5642daa60748b47e5ae271f28,Fixed broken `dask-gateway` link in `ecosystem.rst` (#8424),ofirr,ofir.raz@weizmann.ac.il,2021-11-30 00:05:55+02:00,GitHub,noreply@github.com,2021-11-29 16:05:55-06:00
d06339b1ff6379637d0d100f88fee97d35a65db8,Add `dask/ml.py` to pytest exclude list (#8414),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-11-30 09:22:35+11:00,GitHub,noreply@github.com,2021-11-29 16:22:35-06:00
8e7b4b3e816fed9aa15ca2421ab2f0500d607f2e,Fix following `fsspec=2021.11.1` release (#8428),Martin Durant,martindurant@users.noreply.github.com,2021-11-29 21:47:05-05:00,GitHub,noreply@github.com,2021-11-29 20:47:05-06:00
a5aecac8313fea30c5503f534c71f325b1775b9c,"Update Anaconda link in ""Paid support"" section of docs (#8427)",Martin Durant,martindurant@users.noreply.github.com,2021-11-29 21:55:09-05:00,GitHub,noreply@github.com,2021-11-29 20:55:09-06:00
ab0c07f50ead386213912f262cfd119ce4f76a98,"Use ``by`` instead of ``index`` internally on the Groupby class (#8441)

I was trying to get a handle on the Groupby implementation and realized that the internal implementation still uses ``index`` rather than ``by``. This is an effort to make the name consistent to improve legibility.",Julia Signell,jsignell@gmail.com,2021-12-03 12:52:49-05:00,GitHub,noreply@github.com,2021-12-03 12:52:49-05:00
ec6f7c9aa32a7b0c20fb48446d11ba10eafb1b74,Bump Bokeh min version to 2.1.1 (#8431),Bryan Van de Ven,bryan@bokeh.org,2021-12-03 12:34:36-08:00,GitHub,noreply@github.com,2021-12-03 14:34:36-06:00
21b99af0e12a6682d93bbbc234d28b8ab74c6074,Fix nullable-dtype error when writing partitioned parquet data (#8400),Richard (Rick) Zamora,rzamora217@gmail.com,2021-12-03 14:49:21-06:00,GitHub,noreply@github.com,2021-12-03 14:49:21-06:00
43247806aa385d6f958613f77a5b84c3a763823e,Update talks and presentations (#8370),Naty Clementi,natyclementi@gmail.com,2021-12-03 19:57:42-05:00,GitHub,noreply@github.com,2021-12-03 18:57:42-06:00
a950fda989e6c405b86764393b3e4a41f18d331b,Fix for index error with reading empty parquet file (#8410),Sarah Charlotte Johnson,scharlottej13@gmail.com,2021-12-06 16:02:26-08:00,GitHub,noreply@github.com,2021-12-06 18:02:26-06:00
2e5bab9804109c0d5be7ff034b184e1cd6005350,Better error message for length of array with unknown chunk sizes (#8436),Doug Davis,ddavis@ddavis.io,2021-12-07 11:29:09-06:00,GitHub,noreply@github.com,2021-12-07 11:29:09-06:00
d14d6d00572770f926004df97bb8f4715fe1ece2,Fix `map_blocks` not using own arguments in `name` generation (#8462),David Hoese,david.hoese@ssec.wisc.edu,2021-12-07 15:03:08-06:00,GitHub,noreply@github.com,2021-12-07 15:03:08-06:00
ec6b5267fb381e8f55f3319c1b33078849307a66,"Output from alt text sprint (#8456)

Co-authored-by: Martin Durant <martindurant@users.noreply.github.com>
Co-authored-by: Ian Rose <ian.r.rose@gmail.com>
Co-authored-by: Pavithra Eswaramoorthy <pavithraes@outlook.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>
Co-authored-by: Isabela Presedo-Floyd <50221806+isabela-pf@users.noreply.github.com>
Co-authored-by: Charles Blackmon-Luca <20627856+charlesbluca@users.noreply.github.com>
Co-authored-by: Genevieve Buckley <30920819+GenevieveBuckley@users.noreply.github.com>
Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Sarah Charlotte Johnson,scharlottej13@gmail.com,2021-12-07 15:09:43-08:00,GitHub,noreply@github.com,2021-12-07 17:09:43-06:00
4c4d16263ade09ae966ef919cd99a3ab44470caf,Blockwise `map_partitions` with `partition_info` (#8310),Gabe Joseph,gjoseph92@gmail.com,2021-12-08 11:24:05-07:00,GitHub,noreply@github.com,2021-12-08 12:24:05-06:00
ecddc8df5869679cef5280c869674cbf0d9f60d9,Deprecate `token` keyword argument to `map_blocks` (#8464),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-12-08 14:50:10-06:00,GitHub,noreply@github.com,2021-12-08 14:50:10-06:00
8f5ef3efce714b8314e5f796c18a2ed3a3ff2e09,Add series and index `is_monotonic*` (#8304),Daniel Mesejo-Len,mesejoleon@gmail.com,2021-12-10 18:39:21+01:00,GitHub,noreply@github.com,2021-12-10 12:39:21-05:00
3fd339fc1a6faaf7449c34201f8d9b45cccb3cfe,Clarify `block_info` documentation (#8425),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-12-11 04:50:48+11:00,GitHub,noreply@github.com,2021-12-10 12:50:48-05:00
27a7928fb750d604dfbad0b3f4361aa64a2c97b4,bump version to 2021.12.0,James Bourbeau,jrbourbeau@gmail.com,2021-12-10 13:48:17-06:00,James Bourbeau,jrbourbeau@gmail.com,2021-12-10 13:48:17-06:00
bcadaeaae63f29f0cf7c4bc29a35492c3c0f66b3,Make read_csv with `comment` kwarg work even if there is a comment in the header (#8433),Julia Signell,jsignell@gmail.com,2021-12-13 16:04:03-05:00,GitHub,noreply@github.com,2021-12-13 16:04:03-05:00
c79a4be64bf6108aeb5dd7ff1cef0c3302bbb696,Remove daily stock demo utility (#8477),James Bourbeau,jrbourbeau@users.noreply.github.com,2021-12-13 16:31:19-06:00,GitHub,noreply@github.com,2021-12-13 16:31:19-06:00
dfdde1c9e666d5830f7a8df53160aca6ff1b881f,"changes for fastparquet superthrift (#8470)

These are backwards-compatible changes to the parquet-fastparquet code. They are required by the new code and for upcoming fp release.

Some performance gains are probably possible here, but things are as fast or better as before, even with the pre-PR (i.e., released) fastparquet.",Martin Durant,martindurant@users.noreply.github.com,2021-12-14 10:09:52-05:00,GitHub,noreply@github.com,2021-12-14 10:09:52-05:00
51a830ca749e76b6f7b18f57d1e8832bc3026638,"Limit max chunk size when reshaping dask arrays (#8124)

Co-authored-by: Deepak Cherian <dcherian@users.noreply.github.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2021-12-15 03:55:29+11:00,GitHub,noreply@github.com,2021-12-14 11:55:29-05:00
33b28865ec1e2c9215e8a6ad617768943e8091b7,"Improved the efficiency of `matmul()` by completely removing concatenation (#8423)

This PR avoids concatenation in both `blockwise()` and `reduction()` within the implementation of `matmul()`.  Previously, `matmul()` avoided concatenation only in `blockwise()`.

Due to the special nature of the preceding blockwise contraction, all chunk-operands of a sum during the reduction phase are expected to have exactly the same shape, with a size of 1 for the reduction axis.  This makes mere element-wise addition of the chunks possible.   Furthermore, the summation result can be merely reshaped to lose the reduction axis when requested.  In principle, both these operations (element-wise addition and reshaping) are performance boosters compared to the default concatenation-mediated reduction which often involves data rearrangement.

The code of `matmul()` has also been shortened, making it a bit more readable.  This is a direct consequence of ensuring that the position of the new-axis introduced in the output of chunk-function `_matmul()` \[the first argument to `blockwise()`\] is consistent with its expected position in the output of `blockwise()` (the position of the contraction-axis).

Performance is comparable to the original `matmul()` implementation in all cases except one, in which this new implementation is approximately 20% faster, namely, ""the case where all dimensions are chunked"".  This outcome is consistent with the total absence of concatenation-overhead in the new version.   Performance results can be found in this [jupyter notebook](https://github.com/ParticularMiner/dask/blob/matmul_performance/matmul_perf_second2last.ipynb).

Co-authored-by: Peter Andreas Entschev <peter@entschev.com>",ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2021-12-14 18:13:56+01:00,GitHub,noreply@github.com,2021-12-14 12:13:56-05:00
31ad063cf41ddf4d243d0d448d4a6dd6c840a048,Fix single item `nanmin` and `nanmax` reductions (#8484),Julia Signell,jsignell@gmail.com,2021-12-14 12:26:19-05:00,GitHub,noreply@github.com,2021-12-14 12:26:19-05:00
0d4bdea8d5215270646c7b48413e4125f590166e,"Make byte blocks more even in read_bytes (#8459)

This avoids the chance of hacing a final block with just a few
useless bytes in, by shrinking the blocksize to make all the
blocks roughly equal

* Remove deprecation test (now fails)

* Don't accumulate corrections",Martin Durant,martindurant@users.noreply.github.com,2021-12-14 12:39:08-05:00,GitHub,noreply@github.com,2021-12-14 12:39:08-05:00
a86ff77a08809d7b5ab3712b468acea29b16f443,Remove `pyarrow`-only reference from `split_row_groups` in `read_parquet` docstring (#8490),Naty Clementi,natyclementi@gmail.com,2021-12-15 14:13:18-05:00,GitHub,noreply@github.com,2021-12-15 13:13:18-06:00
1f30a14865683d76dfeb1f8632879b57d1d6e124,Bump gpuCI `CUDA_VER` to 11.5 (#8489),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-12-16 14:29:32-05:00,GitHub,noreply@github.com,2021-12-16 13:29:32-06:00
7d1a02cac553d60280d23163824b471b06200114,"Add workflow / recipe to generate Dask nightlies (#8469)

As part of addressing https://github.com/dask/community/issues/76, this PR adds:

- A conda recipe in `continuous_integration` to build a nightly `dask-core` package
- A GHA workflow to build this nightly as a check for PRs, and upload this package to the Dask channel under the `dev` label for pushes to `main`",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-12-20 11:38:08-05:00,GitHub,noreply@github.com,2021-12-20 11:38:08-05:00
be220a7e04e642f9634d423391b5eaf5c2ec824e,"Save zarr arrays with dask-on-ray scheduler (#8472)

Make sure that `to_zarr` allows the scheduler to be a function in addition to allowing it to be a string. Specifically this work supports [dask-on-ray scheduler](https://docs.ray.io/en/latest/data/dask-on-ray.html#scheduler) is a function and so not iterable.",TnTo,tnto@hotmail.it,2021-12-20 18:17:40+01:00,GitHub,noreply@github.com,2021-12-20 12:17:40-05:00
124ae53f9627ec51659398877ba9d2cc6652f28b,"Allow a callable scheduler for `bag.groupby` (#8492)

This is related to https://github.com/dask/dask/pull/8472 and represents the only other place in the codebase that I could find where `dask.config.get(""scheduler"")` is assumed to be a string.",Julia Signell,jsignell@gmail.com,2021-12-20 12:18:47-05:00,GitHub,noreply@github.com,2021-12-20 12:18:47-05:00
fa15d0c6d9604ca2267290942317058735a73d78,"Track HLG layer name in Delayed (#8452)

As discussed in https://github.com/dask/dask/issues/8173, it's necessary for `Delayed` and `bag.Item` objects to be able to keep track of the HLG layer name they're referencing. When constructed with `to_delayed(optimize_graph=False)`, this layer name will not be the same as the key (`array-abcde` vs `('array-abcde', 0)`).

Co-authored-by: crusaderky <crusaderky@gmail.com>",Gabe Joseph,gjoseph92@gmail.com,2021-12-20 13:03:09-07:00,GitHub,noreply@github.com,2021-12-20 15:03:09-05:00
00e76530e330641a14df1601180c1c1c8de74e9c,"Add `da.ndim` to match `np.ndim` (#8502)

Implements a small top-level array function that matches `np.ndim`. This came up in the context of https://github.com/dask/dask/pull/8501",Julia Signell,jsignell@gmail.com,2021-12-20 15:16:50-05:00,GitHub,noreply@github.com,2021-12-20 15:16:50-05:00
5ad375a582d5f2399aae01100def17edc3085b14,"Ensure that divisions are alway tuples (#8393)

- Turns `_Frame.divisions` into a property wrapping `_Frame._divisions`, with a setter that casts the provided value into a tuple
- Adds an assertion to `assert_divisions` to check that `divisions` is a tuple

Co-authored-by: Julia Signell <jsignell@gmail.com>
Co-authored-by: Gabe Joseph <gjoseph92@gmail.com>",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2021-12-20 16:48:23-05:00,GitHub,noreply@github.com,2021-12-20 16:48:23-05:00
f0e7ab54e1ef0d76379bbada6d38719ac7dc6068,"Set ceiling for setuptools (#8509)

Fixes the tests that are failing on import since setuptools was just released and it now warns for when you use `LooseVersion`. We've already made the shift in dask, but some of our environments test older versions of pandas, numpy, and distributed which didn't have the change yet.",Julia Signell,jsignell@gmail.com,2021-12-21 11:12:53-05:00,GitHub,noreply@github.com,2021-12-21 11:12:53-05:00
49fdb743aebc61fa2810b71901ee821b9099574c,Adding `nodefaults` to environments to fix tiledb + mac issue (#8505),Julia Signell,jsignell@gmail.com,2021-12-21 13:20:59-05:00,GitHub,noreply@github.com,2021-12-21 13:20:59-05:00
894b5174314c9603b048c7ecd9fe0171504e97c4,Add dataframe nunique (#8479),Sarah Charlotte Johnson,sarah@coiled.io,2021-12-22 06:09:22-08:00,GitHub,noreply@github.com,2021-12-22 09:09:22-05:00
7091dfced5f52d05d0772b02fbf8a54d4a222d2a,"Update figures (#8401)

A start at updating the docs with new figures, re https://github.com/dask/community/issues/135.",Sarah Charlotte Johnson,sarah@coiled.io,2021-12-22 06:27:21-08:00,GitHub,noreply@github.com,2021-12-22 09:27:21-05:00
e4799c0498b5e5877705bb5542d8d01116ee1320,Update warnings for DataFrame.GroupBy.apply and transform (#8507),Sarah Charlotte Johnson,sarah@coiled.io,2021-12-22 06:34:08-08:00,GitHub,noreply@github.com,2021-12-22 09:34:08-05:00
f34f1afd407d4371901a7ccb14a4a6b86c4cb4c2,"DOCS: best practices storage line typo (#8529)

This is a super small tweak - in the [Best Practices section on storing data efficiently](https://docs.dask.org/en/stable/best-practices.html#store-data-efficiently), these lines seem to be making recommendations for two dask classes, DataFrame and Array, but they reference DataFrame in both cases. I think this is a typo - the second should refer to Array.",Michael Delgado,delgadom@users.noreply.github.com,2022-01-05 08:39:26-08:00,GitHub,noreply@github.com,2022-01-05 11:39:26-05:00
c09b050fd37b9d32a3c33386385d2e2895c2da2f,Define `normalize_seq` function at import time (#8521),Illviljan,14371165+Illviljan@users.noreply.github.com,2022-01-05 21:38:37+01:00,GitHub,noreply@github.com,2022-01-05 14:38:37-06:00
fa8dfede71677a2301d4cd602cf4b27af41cbc4f,DOC: normalize whitespace in doctests in slicing.py (#8512),Maren Westermann,maren.westermann@gmail.com,2022-01-05 21:22:49+00:00,GitHub,noreply@github.com,2022-01-05 16:22:49-05:00
fed508480ee2959b8cc08235fcbf126733fcb8d7,"[DOCS] Hyphenate ""single-machine scheduler"" for consistency (#8519)",Deepyaman Datta,deepyaman.datta@utexas.edu,2022-01-05 16:32:24-05:00,GitHub,noreply@github.com,2022-01-05 16:32:24-05:00
3c46e89aea2af010e69049cd638094fea2ddd576,"Replace `interpolation` with `method` and `method` with `internal_method` (#8525)

Following the change in numpy 1.22.0

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2022-01-05 16:39:46-05:00,GitHub,noreply@github.com,2022-01-05 16:39:46-05:00
c2b962fec1ba45440fe928869dc64cfe9cc36506,Fix changelog section hyperlinks (#8534),Aneesh Nema,aneeshnema@outlook.com,2022-01-08 01:09:57+05:18,GitHub,noreply@github.com,2022-01-07 13:51:57-06:00
95ebb397c328576cb1e6dbbfa6aff2e5b040bac9,Set a minimum version for pyyaml (#8545),Gaurav Sheni,gvsheni@gmail.com,2022-01-10 15:31:26-05:00,GitHub,noreply@github.com,2022-01-10 15:31:26-05:00
54139c11c0527e1d6daaa5b3ad306155add52a5d,"Work around race condition in `import llvmlite` (#8550)

Work around #8549",crusaderky,crusaderky@gmail.com,2022-01-10 20:51:57+00:00,GitHub,noreply@github.com,2022-01-10 15:51:57-05:00
336aac39ee8a616ac2645e532392123ae1bfddd1,"Add groupby shift method (#8522)

Implements the shift `method` following the `transform` and `apply` methods.",kori73,koray.beyaz73@gmail.com,2022-01-11 01:12:23+03:00,GitHub,noreply@github.com,2022-01-10 17:12:23-05:00
dfdc4bbab43678927e30866f06df509483ac5d24,"Collections with HLG must always implement __dask_layers__ (#8548)

Without ``__dask_layers__``, ``HighLevelGraph.from_collections`` will produce a broken layer dependency graph and things will fall apart down the line. Given this, it seems likely that no users should have the use case in production, so it should be safe not to have a deprecation cycle here.",crusaderky,crusaderky@gmail.com,2022-01-11 14:28:34+00:00,GitHub,noreply@github.com,2022-01-11 09:28:34-05:00
0aa1667d32b192ed60fbba425e703185b54d706c,Add a join example in docs that be run with copy/paste (#8520),kori73,koray.beyaz73@gmail.com,2022-01-11 17:30:48+03:00,GitHub,noreply@github.com,2022-01-11 09:30:48-05:00
3a92368bcc0137549f2331df4fd7efac87808244,Fix PANDAS_GT_140 (#8552),Julia Signell,jsignell@gmail.com,2022-01-11 10:21:15-05:00,GitHub,noreply@github.com,2022-01-11 10:21:15-05:00
85bc7b5bb888c8a96eee3db07b260ca11d7cc130,Fix `skipna=None` for `DataFrame.sem` (#8556),Julia Signell,jsignell@gmail.com,2022-01-11 16:01:46-05:00,GitHub,noreply@github.com,2022-01-11 15:01:46-06:00
725110f9367931291a3e68c9d582544cdb032f77,"DOC: mention dashboard link in config (#8510)

Finding the daskboard link when working on a server (e.g. jupyter hub/MyBinder) can troublesome. This adds the config info for the link to the docs.",Ray Bell,rayjohnbell0@gmail.com,2022-01-12 11:01:17-05:00,GitHub,noreply@github.com,2022-01-12 11:01:17-05:00
71d4ceae15d2e00315b69d0645142417b5053fff,"Tweak: ""RuntimeWarning: invalid value encountered in reciprocal"" (#8561)",crusaderky,crusaderky@gmail.com,2022-01-13 15:21:59+00:00,GitHub,noreply@github.com,2022-01-13 09:21:59-06:00
fa6a5d619d42877283042c85abccc620f1ede100,Remove obsolete LocalFileSystem tests that fail for fsspec>=2022.1.0 (#8565),Richard (Rick) Zamora,rzamora217@gmail.com,2022-01-13 09:47:11-06:00,GitHub,noreply@github.com,2022-01-13 09:47:11-06:00
17f8fee9b44e62dba6e783b5121e78e68d914c7b,Fix boolean indices in array assignment (#8538),David Hassell,davidhassell@users.noreply.github.com,2022-01-13 18:49:32+00:00,GitHub,noreply@github.com,2022-01-13 13:49:32-05:00
358a5e367eedc8f2963651071a72f43e0ac4f887,"Detect default dtype on array-likes (#8501)

Fix for issue #8461 where `da.full` refused Dask arrays for `fill_value` as the dtype would be detected as `object`.",aeisenbarth,54448967+aeisenbarth@users.noreply.github.com,2022-01-13 19:50:52+01:00,GitHub,noreply@github.com,2022-01-13 13:50:52-05:00
27cf9bbf70f46c7b7ea2f456a7e3224e23540df6,Fix `optimize_blockwise` bug for duplicate dependency names (#8542),Richard (Rick) Zamora,rzamora217@gmail.com,2022-01-14 11:22:39-06:00,GitHub,noreply@github.com,2022-01-14 11:22:39-06:00
5181205cf3852464376753e2b0303b8010253af6,Only show `percentile` `interpolation=` keyword warning if NumPy version >= 1.22 (#8564),Julia Signell,jsignell@gmail.com,2022-01-14 12:26:33-05:00,GitHub,noreply@github.com,2022-01-14 11:26:33-06:00
8478874fa5b85ef29f675679a5604081b4fe2061,"Raise `PerformanceWarning` when `limit` and `""array.slicing.split-large-chunks""` are None (#8511)

Co-authored-by: Genevieve Buckley <30920819+GenevieveBuckley@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2022-01-14 12:39:26-05:00,GitHub,noreply@github.com,2022-01-14 11:39:26-06:00
a3299586b05d422800ff8a618a2ba35e00e62665,bump version to 2022.01.0,James Bourbeau,jrbourbeau@gmail.com,2022-01-14 14:37:34-06:00,James Bourbeau,jrbourbeau@gmail.com,2022-01-14 14:37:34-06:00
06e49039764ff29e1de65705e16ff1748731d75b,Expand dask YAML config search directories (#8531),abergou,Attila.Janos.Bergou@deshaw.com,2022-01-14 18:36:44-05:00,GitHub,noreply@github.com,2022-01-14 17:36:44-06:00
a504115312b1e591604276a3098b2e0076bf49e1,Specify scheduler in DataFrame `assert_eq` (#8559),Gabe Joseph,gjoseph92@gmail.com,2022-01-18 09:50:53-07:00,GitHub,noreply@github.com,2022-01-18 10:50:53-06:00
cfdde626c6b515d30ad498fd23054205445f3913,"Fix `axis=None` warning (#8555)

Fixing upstream pandas and numpy errors.",Julia Signell,jsignell@gmail.com,2022-01-18 13:38:35-05:00,GitHub,noreply@github.com,2022-01-18 13:38:35-05:00
e790aab16e3285e9d4a0ad9c0f0955217029f321,Remove unnecessary pyyaml importorskip (#8562),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-01-18 12:59:59-06:00,GitHub,noreply@github.com,2022-01-18 13:59:59-05:00
6193b9de78798fc9b2d934e3317debc9bb5d8af5,"Handle plot_width / plot_height deprecations (#8544)

Bokeh 3.0 will finally deprecates `plot_width` and `plot_height` and expose only `width` and `height` (consistent with every other layout-able).",Bryan Van de Ven,bryan@bokeh.org,2022-01-18 12:43:20-08:00,GitHub,noreply@github.com,2022-01-18 15:43:20-05:00
4b6acdb706a35cbac11348bef263f975ece57369,Add dask.dataframe.series.view() (#8533),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-01-19 02:50:51+05:18,GitHub,noreply@github.com,2022-01-18 16:32:51-05:00
853cfd14ff061d5f202b37bb1321635d2a9687fe,Pandas compat: Fix `to_frame` `name` to not pass None (#8554),Julia Signell,jsignell@gmail.com,2022-01-19 10:10:30-05:00,GitHub,noreply@github.com,2022-01-19 10:10:30-05:00
dd55fc33ada6560636f45ae0611c05861fbb0b5a,Make sure that delayed output operations still return lists of paths (#8498),Julia Signell,jsignell@gmail.com,2022-01-19 13:41:51-05:00,GitHub,noreply@github.com,2022-01-19 13:41:51-05:00
c3c91f62c41f547e70b70aa7d16371a5e531cd8f,"Update Docstring for 'from_delayed' Function  (#8576)

`dask.DataFrame.from_delayed` works when either an iterable of `Delayed` objects or an iterable of `Future`s are passed in as input.",Kirito1397,31107667+Kirito1397@users.noreply.github.com,2022-01-20 01:54:50+05:18,GitHub,noreply@github.com,2022-01-19 15:36:50-05:00
c1c88f066672c0b216fc24862a2b36a0a9fb4e22,"Add optimize_graph flag to Bag to_dataframe function (#8486)

This functionality is necessary to avoid the loss of annotations during graph optimization. Consider the following snippet:

```python
with dask.annotate(resources={""GPU"": 1}):
    result = bag.map_partitions(func)

df = result.to_dataframe()
```

In some cases `func` will not be executed on a worker with at least 1 GPU resource, because the resource annotation is lost during the graph optimization that occurs in `to_dataframe`.

Co-authored-by: Gabe Joseph <gjoseph92@gmail.com>",Maxim Lippeveld,lippeveld.maxim@gmail.com,2022-01-19 21:43:33+01:00,GitHub,noreply@github.com,2022-01-19 15:43:33-05:00
09753de033683fb01fc35f35d9b6bf61ad795b38,Avoid divide by zero in slicing  (#8597),Doug Davis,ddavis@anaconda.com,2022-01-20 15:22:16-05:00,GitHub,noreply@github.com,2022-01-20 14:22:16-06:00
e148cd62828c7f12189842b59ddd6045c82ca361,Refactor config default search path retrieval (#8573),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-01-20 14:51:55-06:00,GitHub,noreply@github.com,2022-01-20 14:51:55-06:00
57f5cc3fc4b05e43bc1b50c7afecf97622d5d2af,Blockwise array creation redux (#7417),Ian Rose,ian.r.rose@gmail.com,2022-01-21 08:03:46-08:00,GitHub,noreply@github.com,2022-01-21 10:03:46-06:00
4228dc7439f4ecd05708641bbe25adbf4d658f92,Refactor deploying docs (#8602),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2022-01-21 18:50:49+00:00,GitHub,noreply@github.com,2022-01-21 13:50:49-05:00
92140f095680bca33149e95281fecdc2179ef751,Add optional information about originating function call in DataFrameIOLayer (#8453),Richard (Rick) Zamora,rzamora217@gmail.com,2022-01-21 19:58:42-06:00,GitHub,noreply@github.com,2022-01-21 19:58:42-06:00
2a9d34aff0a38be5fc8bfcdec38e5c4a7bafcf0e,Move DataFrame ACA aggregations to HLG (#8468),Richard (Rick) Zamora,rzamora217@gmail.com,2022-01-21 19:59:04-06:00,GitHub,noreply@github.com,2022-01-21 19:59:04-06:00
08eee6d655459e9b8494d67957b6fe908e1b8c67,Use fsspec.parquet module for better remote-storage read_parquet performance (#8339),Richard (Rick) Zamora,rzamora217@gmail.com,2022-01-21 22:20:33-06:00,GitHub,noreply@github.com,2022-01-21 22:20:33-06:00
b89997c0a41ea6e3727309be85fcfbfcb7436ade,Fail if meta is not a pandas object (#8563),Julia Signell,jsignell@gmail.com,2022-01-24 12:34:13-05:00,GitHub,noreply@github.com,2022-01-24 12:34:13-05:00
cfec897875d3190b42bfe1e2fa1e100aa1741039,Replace outdated `columns` argument with `meta` in DataFrame constructor (#8614),kori73,koray.beyaz73@gmail.com,2022-01-24 21:54:09+03:00,GitHub,noreply@github.com,2022-01-24 13:54:09-05:00
c61c1ce9b258aca15fadbb5ebe7fa81df60060b4,Fix parsing of `__setitem__` indices (#8601),David Hassell,davidhassell@users.noreply.github.com,2022-01-24 18:55:55+00:00,GitHub,noreply@github.com,2022-01-24 13:55:55-05:00
1a0f01bceb6596cf179a75d1f2f9d35908bd22b9,"Enforce boolean `ascending` for `sort_values` (#8440)

It is possible to pass a list of ascending booleans to `sort_values`, which is not yet supported by `_calculate_divisions` (which computes divisions in ascending order), and can cause undefined behavior.

This small PR adds a check that ascending is a boolean before calling `rearrange_by_divisions`; note that this check happens _after_ all single-partition cases are handled, as Pandas can handle lists of ascending booleans.",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-01-24 17:05:38-05:00,GitHub,noreply@github.com,2022-01-24 17:05:38-05:00
e44f78009d56332b0153828adb0eaf0e5d01582f,Fix derived_from for pandas methods (#8612),Thomas J. Fan,thomasjpfan@gmail.com,2022-01-24 17:21:11-05:00,GitHub,noreply@github.com,2022-01-24 17:21:11-05:00
4df8cfed850e1406efa8f549827eaf18dd69b3a3,"Update gpuCI `RAPIDS_VER` to `22.04` (#8600)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2022-01-25 10:06:06-06:00,GitHub,noreply@github.com,2022-01-25 10:06:06-06:00
3e7d1d03ca40972af7f8fc5735e1279b9740dab2,"Move cached_cumsum imports to be from dask.utils (#8606)

This is a small follow-up to https://github.com/dask/dask/pull/7417 which moves `import`s of `cached_cumsum` to be from `dask.utils` (its new location) instead of `dask.array.slicing` (where it used to be)",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-01-25 11:06:02-06:00,GitHub,noreply@github.com,2022-01-25 12:06:02-05:00
4015f7a4cdea845323dc269965eacbc0ae0aaaec,Pandas compat: Filter sparse warnings (#8621),Julia Signell,jsignell@gmail.com,2022-01-25 14:40:04-05:00,GitHub,noreply@github.com,2022-01-25 14:40:04-05:00
172b9f573371b262845c2cce7ae8d9c56a3c598d,Deprecate append when pandas >= 1.4.0 (#8617),Julia Signell,jsignell@gmail.com,2022-01-25 15:21:02-05:00,GitHub,noreply@github.com,2022-01-25 15:21:02-05:00
95e1cf3108590ff3186bfb8312bdbc237259e3f1,"Moving to SQLAlchemy >= 1.4 (#8158)

Changes:

- `read_sql_table()` will no longer support sql queries
- `read_sql_query()` will handle SQLAlchemy queries
- `read_sql()` will try to call `read_sql_table()` or `read_sql_query()` depending on the passed arguments

General SQL is supported through SQLAlchemy queries. Applying a SQL function to the `index_col` for example, can be done like this:

```python
s = sql.select(
    [
        sa.cast(sql.column(""number""), sa.types.BigInteger).label(""number""),
        sql.column(""name""),
    ]
).where(sql.column(""number"") >= 5).select_from(sql.table(""test""))

out = read_sql_query(s, db, npartitions=2, index_col=""number"")
```",McToel,36071676+McToel@users.noreply.github.com,2022-01-25 23:06:04+01:00,GitHub,noreply@github.com,2022-01-25 17:06:04-05:00
2485677552df0843250c41895062b95070c8e5ef,Fix groupby.cumsum with series grouped by index (#8588),Julia Signell,jsignell@gmail.com,2022-01-26 14:17:04-05:00,GitHub,noreply@github.com,2022-01-26 14:17:04-05:00
7edfe2455174ab7fc1ac786c069728851df7a8c2,Cleaning up misc tests for pandas compat (#8623),Julia Signell,jsignell@gmail.com,2022-01-26 15:10:58-05:00,GitHub,noreply@github.com,2022-01-26 15:10:58-05:00
193998cef5f3f2c7e22fd5d2eb2f7b0b41b35d63,Update tz for fastparquet + pandas 1.4.0 (#8626),Martin Durant,martindurant@users.noreply.github.com,2022-01-27 09:36:43-05:00,GitHub,noreply@github.com,2022-01-27 09:36:43-05:00
f616230e67028c61e7cf50077ae4c0979ba3ef78,Pin `coverage` in CI (#8631),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-01-28 10:34:44-06:00,GitHub,noreply@github.com,2022-01-28 10:34:44-06:00
bdde5e1facad828fd8346aca1076587635761fb5,Downgrade meta error in #8563 to warning (#8628),Julia Signell,jsignell@gmail.com,2022-01-28 11:47:26-05:00,GitHub,noreply@github.com,2022-01-28 11:47:26-05:00
04ade86291f0f8e7eb6ddd36e06dfb722252345b,bump version to 2022.01.1,James Bourbeau,jrbourbeau@gmail.com,2022-01-28 14:29:47-06:00,James Bourbeau,jrbourbeau@gmail.com,2022-01-28 14:29:47-06:00
fab25d4b0d5074a50bdc0e38d82529e297c655f8,Bump gpuCI PYTHON_VER to 3.9 (#8642),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-01-31 15:36:18-05:00,GitHub,noreply@github.com,2022-01-31 15:36:18-05:00
1f79f5e43d46eadbac74e03c408f2ddccfd5ec40,Add `include_path_column` arg to `read_json` (#8603),Bryan W. Weber,bryan.w.weber@gmail.com,2022-01-31 16:14:53-05:00,GitHub,noreply@github.com,2022-01-31 15:14:53-06:00
f325657978e0b270f9ac28aabc375300faaab34f,Update documentation of `ProgressBar` `out` parameter (#8604),Pedro Silva,48519119+ppsbs@users.noreply.github.com,2022-02-01 15:21:39+01:00,GitHub,noreply@github.com,2022-02-01 09:21:39-05:00
1a555fa3c80de0e97aeef188a6cb4dc8b61baefb,Add `region` `kwarg` to `to_zarr` when using existing array (#8590),Chris Roat,1053153+chrisroat@users.noreply.github.com,2022-02-01 07:43:55-08:00,GitHub,noreply@github.com,2022-02-01 10:43:55-05:00
80f9821f4d5a4badc2179dbd17f1fc7730cc9f50,"Add engine_kwargs support to dask.dataframe.to_sql (#8609)

### Use case: SSL

This was the original [use case] that motivated #8596: to force SSL on the db connection. Whether the new `engine_kwargs` argument is helpful/necessary for this use case depends on the db driver used by SQLAlchemy:

* [MySQL] (helpful): either use `connect_args={'ssl': ...}` as engine kwarg or add `?ssl_cert=...&ssl_key=...` to URI.
* [psycopg2] (not helpful): must use `?sslmode=require` in connection URI, not supported as engine argument.
* [pg8000] (necessary): must use `connect_args={'ssl_context': ...}` as engine kwarg.

[use case]: https://github.com/coiled/dask-community/issues/186
[MySQL]: https://docs.sqlalchemy.org/en/14/dialects/mysql.html#ssl-connections
[psycopg2]: https://docs.sqlalchemy.org/en/14/dialects/postgresql.html#ssl-connections
[pg8000]: https://docs.sqlalchemy.org/en/14/dialects/postgresql.html#pg8000-ssl",Amir Kadivar,amir@amirkdv.ca,2022-02-01 11:40:47-05:00,GitHub,noreply@github.com,2022-02-01 11:40:47-05:00
095bfffec8a6209c721da17f44f864e0c0d9562e,Make test__get_paths robust to site.PREFIXES being set (#8644),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-01 11:41:26-06:00,GitHub,noreply@github.com,2022-02-01 12:41:26-05:00
1107a91dfe7a6f04dc38d169a84a4d89ed40797b,Pass place-holder metadata to map_partitions in ACA code path (#8643),Richard (Rick) Zamora,rzamora217@gmail.com,2022-02-01 21:21:36-06:00,GitHub,noreply@github.com,2022-02-01 21:21:36-06:00
2ee0dc108c331a84a64f915a7b0447f2b307fe93,Update GHA concurrent job cancellation (#8652),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-02 15:34:31-06:00,GitHub,noreply@github.com,2022-02-02 16:34:31-05:00
d98c1dd63e0d7f6a003e3ff70eca796c19b81d42,Use map_partitions (Blockwise) in to_parquet (#8487),Richard (Rick) Zamora,rzamora217@gmail.com,2022-02-02 16:07:17-06:00,GitHub,noreply@github.com,2022-02-02 16:07:17-06:00
b6713736533f98afda441e1d0319b7f5b45e53ad,Remove some deprecations (#8605),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-02 17:05:37-06:00,GitHub,noreply@github.com,2022-02-02 17:05:37-06:00
32c2b8fe2afb8f99427af3f10dc2943d69d674aa,"Update warning handling in `get_dummies` tests (#8651)

* Update warning handling in get_dummies tests

* test-upstream",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-03 07:42:59-06:00,GitHub,noreply@github.com,2022-02-03 07:42:59-06:00
5e8a4813cf948250608b16747773a7dc52088eb6,"Deprecate `is_monotonic` (#8653)

This PR deprecates `is_monotonic` to follow what `pandas` is doing upstream. This also resolves some test failures in our `upstream` build",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-03 07:54:19-06:00,GitHub,noreply@github.com,2022-02-03 08:54:19-05:00
6824e5dd7807971270d5828a61618ccd81592199,Really allow any iterable to be passed as a meta (#8629),Julia Signell,jsignell@gmail.com,2022-02-03 13:18:36-05:00,GitHub,noreply@github.com,2022-02-03 13:18:36-05:00
007cbd4e6779c3311af91ba4ecdfe731f23ddf58,"Add documentation for high level graph visualization (#8483)

Documentation exists about how to visualize the low level task graph in Dask (use the `.visualize()` method). We do not currently have documentation about how to visualize the high level graph, which means many people are unaware that these features exist.",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-02-05 05:00:15+11:00,GitHub,noreply@github.com,2022-02-04 13:00:15-05:00
bdc4b300b6b071eb3c77f8b6025168095c5b84dc,Avoid `pytest.warns(None)` in `test_multi.py` (#8678),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-08 09:59:18-06:00,GitHub,noreply@github.com,2022-02-08 09:59:18-06:00
d36455b38da64b59d831d11e9c9bd44fd5b6cba2,Temporarily pin `scipy < 1.8.0` in CI (#8683),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-08 09:59:42-06:00,GitHub,noreply@github.com,2022-02-08 09:59:42-06:00
98e14627827e29dbc1e85ac223fa28ae9fc7988f,Include SciPy in upstream CI build (#8681),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-08 10:52:26-06:00,GitHub,noreply@github.com,2022-02-08 10:52:26-06:00
1c5bf017429de6a85860eb7a5aa6238e34a4b0e0,Update year in LICENSE.txt (#8665),David Hoese,david.hoese@ssec.wisc.edu,2022-02-08 13:59:06-06:00,GitHub,noreply@github.com,2022-02-08 14:59:06-05:00
fe8cff81344e2ecf2534c69d8f50807f6f30e87d,Add scheduler option to `assert_eq` utilities (#8610),Xinrong Meng,47337188+xinrong-databricks@users.noreply.github.com,2022-02-09 21:44:47+08:00,GitHub,noreply@github.com,2022-02-09 08:44:47-05:00
ad3b688fca93d634c460cfdd00db7a7a40dcc473,"DOCS: fix imbalanced backticks. (#8693)

Messes up some rst parsers.",Matthias Bussonnier,bussonniermatthias@gmail.com,2022-02-09 14:46:23+01:00,GitHub,noreply@github.com,2022-02-09 08:46:23-05:00
510bbc380531cbf56a409f1ae68e6fd84a9599e6,Update `pre-commit` version  (#8691),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-09 10:51:53-06:00,GitHub,noreply@github.com,2022-02-09 10:51:53-06:00
20e924618999febeac706b20212104fe4f3ea61d,"Type annotations, part 1 (#8295)",crusaderky,crusaderky@gmail.com,2022-02-09 20:25:02+00:00,GitHub,noreply@github.com,2022-02-09 20:25:02+00:00
0a3542a8a412789e866fcbcca73d4bdcadc7ff20,Pin scipy to less than 1.8.0 in GPU CI (#8698),Julia Signell,jsignell@gmail.com,2022-02-09 15:59:35-05:00,GitHub,noreply@github.com,2022-02-09 14:59:35-06:00
355c17eb4c69329b5762f6f7b2b7572db2115e8f,Revert mention to `mypy` among type checkers (#8699),crusaderky,crusaderky@gmail.com,2022-02-09 21:01:09+00:00,GitHub,noreply@github.com,2022-02-09 15:01:09-06:00
a4dea5434d95c806608c34c463337745274b91c4,"Result of reducing an array should not depend on its chunk-structure (#8637)

In most cases implemented in `dask/array/reductions.py` (for example, `sum`, `mean`, etc.) the reduction operation is *axis-independent*.  The bug only showed up in ""axis-dependent reductions"".",ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-02-10 15:20:27+01:00,GitHub,noreply@github.com,2022-02-10 09:20:27-05:00
eda286bbe68e11334e4784097210fe09f255b3d9,DOC: add Domino Data Lab to Hosted / managed Dask clusters (#8675),Ray Bell,rayjohnbell0@gmail.com,2022-02-10 09:27:38-05:00,GitHub,noreply@github.com,2022-02-10 09:27:38-05:00
93f713a0b691d2e5e6f476cf653e856407245160,Improve documentation of `dask.config.set` (#8705),crusaderky,crusaderky@gmail.com,2022-02-10 23:17:24+00:00,GitHub,noreply@github.com,2022-02-10 17:17:24-06:00
48df7ffcfb49f73c8f5875399a42f7581cb7cb80,Add expand_dims to Dask array (#8667) (#8687),Tom White,tom.e.white@gmail.com,2022-02-11 05:49:08+00:00,GitHub,noreply@github.com,2022-02-10 21:49:08-08:00
182a6ebd2de4a95d9d451b6cf1379702d2f10ee7,"Fix concatenate inconsistency with NumPy for axis=None (#8668) (#8686)

* Fix concatenate inconsistency with NumPy for axis=None (#8668)

* Update docstring for da.concatenate.",Tom White,tom.e.white@gmail.com,2022-02-11 05:52:05+00:00,GitHub,noreply@github.com,2022-02-10 21:52:05-08:00
e25284dced9749f02bd5d8c80b6225153aa282d8,Fix eye inconsistency with NumPy for dtype=None (#8669) (#8685),Tom White,tom.e.white@gmail.com,2022-02-11 05:53:30+00:00,GitHub,noreply@github.com,2022-02-10 21:53:30-08:00
b6081a19778a2c3535d1817366b7b2c72a34a5c2,Add a github changelog template (#8714),Julia Signell,jsignell@gmail.com,2022-02-11 10:22:10-05:00,GitHub,noreply@github.com,2022-02-11 10:22:10-05:00
578cff7ce88dcad67d2d110a71110050c982c922,"Docs inter-linking and deprecation fixes (#8715)

There were some docs inter-linking errors from moving the deploying docs and we had a reference to `open_files` which was deprecated and has now been totally removed in https://github.com/dask/dask/pull/8605",Julia Signell,jsignell@gmail.com,2022-02-11 10:26:43-05:00,GitHub,noreply@github.com,2022-02-11 10:26:43-05:00
d5bbad0b1f32b3c904abc4fd020bef9c5092d2a3,bump version to 2022.02.0,Julia Signell,jsignell@gmail.com,2022-02-11 11:21:12-05:00,Julia Signell,jsignell@gmail.com,2022-02-11 11:21:12-05:00
d670db6f58e47e8b0a5019f75330121dda11af84,Add manual trigger for running test suite (#8716),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-11 14:51:16-06:00,GitHub,noreply@github.com,2022-02-11 14:51:16-06:00
d4848cce7ead73eeb5b725fc5b180491a4892ac7,Unpin `coverage` in CI (#8690),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-14 18:08:17-06:00,GitHub,noreply@github.com,2022-02-14 18:08:17-06:00
50b0fa683247f1e2c84ef0a04a51860bf29dc3b3,Update link typos in changelog (#8717),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-14 18:09:31-06:00,GitHub,noreply@github.com,2022-02-14 18:09:31-06:00
3a552fbd3aef6a6815543a8054f8e2be6b2181b0,"Deprecate `iteritems` (#8660)

Co-authored-by: Julia Signell <jsignell@gmail.com>",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-15 09:28:44-06:00,GitHub,noreply@github.com,2022-02-15 09:28:44-06:00
4f44ab1a3cf1860e00ceb3bd87aeb498512508bf,"Clarify dask.visualize docstring (#8710)

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Dranaxel,a.marce@free.fr,2022-02-15 17:57:28+01:00,GitHub,noreply@github.com,2022-02-15 10:57:28-06:00
b331917929cffe2e0daf261f296fcc424e8dccb2,xfailed scheduler_HLG_unpack_import; flaky test (#8724),Mike McCarty,mmccarty@nvidia.com,2022-02-15 13:05:03-05:00,GitHub,noreply@github.com,2022-02-15 12:05:03-06:00
de88ce9e8eb1279dd0a8659e5cfdae53f0885602,"Do not allow iterating a DataFrameGroupBy (#8696)

Closes #5124.",Bryan W. Weber,bryan@coiled.io,2022-02-15 13:09:10-05:00,GitHub,noreply@github.com,2022-02-15 12:09:10-06:00
943a7b20d33623c0a579b7e04cf7de698c1b6c55,"Update `tokenize` to treat `dict` and `kwargs` differently (#8655)

* Update tokenize to treat dict and kwargs differently

* Apply suggestion from Jim's review",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-15 12:10:39-06:00,GitHub,noreply@github.com,2022-02-15 12:10:39-06:00
dca10398146c6091a55c54db3778a06b485fc5ce,fixed bug in dask.array.roll() for roll-shifts the size of the input array (#8723),ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-02-15 20:20:07+01:00,GitHub,noreply@github.com,2022-02-15 13:20:07-06:00
baa378f8a09005ce6c79a7029fc0c1c1d2430a5f,Temporarily remove `scipy` upstream CI build (#8725),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-15 15:34:38-06:00,GitHub,noreply@github.com,2022-02-15 16:34:38-05:00
fc2e151b2b2207ed9ecd1405124bcd40dbdb0ee9,Update Docker example to use current best practices (#8731),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2022-02-16 13:42:46+00:00,GitHub,noreply@github.com,2022-02-16 08:42:46-05:00
47fa383c21669cf276a432ecaaace17dd2b403a8,Fix upstream missing newline after `info()` call on empty DataFrame (#8727),Naty Clementi,natyclementi@gmail.com,2022-02-16 08:44:03-05:00,GitHub,noreply@github.com,2022-02-16 08:44:03-05:00
59d4f0fa03cb91d064a0f776e03a12abcfb2f840,Bump pre-release version to be greater than stable releases (#8728),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-02-16 13:59:23-05:00,GitHub,noreply@github.com,2022-02-16 10:59:23-08:00
bd8e8dc3f1329e7f9ef24072479729d9effeb6ad,Drop Python 3.7 (#8572),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-16 17:54:58-06:00,GitHub,noreply@github.com,2022-02-16 15:54:58-08:00
2ed45454bde5a3406a0df9f492bf2917e3d15b37,Add materialized task counts to `HighLevelGraph` and `Layer` html reprs (#8589),kori73,koray.beyaz73@gmail.com,2022-02-18 16:54:48+03:00,GitHub,noreply@github.com,2022-02-18 08:54:48-05:00
2b728123f199d93c2ba90b54c7f6bc5abd992b50,"Move custom sort function logic to internal `sort_values` (#8571)

This PR moves the handling of custom sorting functions to `shuffle.sort_values`, so that usages of the internal `sort_values` function will not have to manually specify a default `sort_function` and `sort_function_kwargs`.

This originated as a concern in the downstream implementation of this in https://github.com/rapidsai/cudf/pull/9789",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-02-18 09:21:38-05:00,GitHub,noreply@github.com,2022-02-18 09:21:38-05:00
f634f2b01caeb10dcd33734f780d9bb6056a21d9,Pin cloudpickle and scipy in docs reqs (#8737),Julia Signell,jsignell@gmail.com,2022-02-18 09:50:00-05:00,GitHub,noreply@github.com,2022-02-18 09:50:00-05:00
e2397f7a40e1409fe756bda000f6b7bf5d55885b,Add `groupby.compute` as a not implemented method (#8734),Dranaxel,a.marce@free.fr,2022-02-21 22:43:31+01:00,GitHub,noreply@github.com,2022-02-21 16:43:31-05:00
570b789ba3d835b60d2835c15a4f5cc4346ceeae,"Make the labeler not delete labels, and look for the docs at the right spot (#8746)",Julia Signell,jsignell@gmail.com,2022-02-21 16:45:58-05:00,GitHub,noreply@github.com,2022-02-21 16:45:58-05:00
e45e12e2ede8585c86ab1ae06f7d13524bafaa88,Update docs to include `distributed.Client` preload (#8679),Bryan W. Weber,bryan@coiled.io,2022-02-21 16:57:49-05:00,GitHub,noreply@github.com,2022-02-21 15:57:49-06:00
512cf892ffca15ca7ecafc089167d72227c62f79,Fix docs build warnings (#8432),Kristopher Overholt,kris@koverholt.com,2022-02-21 15:59:02-06:00,GitHub,noreply@github.com,2022-02-21 16:59:02-05:00
29e08df34af92396569df705562114a8f1bae4d4,Update test status badge (#8747),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-02-21 16:42:50-06:00,GitHub,noreply@github.com,2022-02-21 16:42:50-06:00
2f56bbdfab931bca6fa2aaf57a5d0a7534d44c4f,"Document monthly social meeting (#8595)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Thomas Grainger,tagrain@gmail.com,2022-02-21 23:24:42+00:00,GitHub,noreply@github.com,2022-02-21 17:24:42-06:00
1f8d2c1d209d494f61ea0347eb1d3243da527ad0,"Improve multi dataframe join performance (#8740)

Improve multi dataframe join performance by allowing recursive merge function to take also operate on the initial frame rather than a separate non-parallel merge.",Holden Karau,holden@pigscanfly.ca,2022-02-22 06:20:31-08:00,GitHub,noreply@github.com,2022-02-22 09:20:31-05:00
9558ba17845392e4bede5f3c1e080e6dc2a6f104,"Fix upstream to include `bool` type for `Index` (#8732)

There was pandas bug enhancement (https://github.com/pandas-dev/pandas/pull/45061), that includes the possibility of a boolean Index.

In dask operations that involve `/` or `truediv` (see comment https://github.com/dask/dask/issues/8722#issuecomment-1040734933) returns a dataframe with an object-dtyped index instead. 

This PR includes includes the `idx.dtype` when registering the meta for the case of `pd.Index`",Naty Clementi,natyclementi@gmail.com,2022-02-22 14:20:10-05:00,GitHub,noreply@github.com,2022-02-22 14:20:10-05:00
64d801f85a806c2b93aa2b119ed3f16d2e4d93bc,Add docs for Gen2 access with RBAC/ACL i.e. security principal (#8748),Martin Thgersen,martint@martint.dk,2022-02-22 20:39:24+01:00,GitHub,noreply@github.com,2022-02-22 14:39:24-05:00
abd145e35342f5f908049cf3dbc4b2101e8b2dab,"TST: fix parquet test_pandas_timestamp_overflow_pyarrow test (#8733)

This test started failing on arrow master (noticed thanks to our nightly builds testing dask). The reason for the failure is that we started using the `types_mapper` keyword in ``pa.Array.to_pandas`` (previously this was ignored for arrays), but in this test it is passed a wrong values (it should be a callable, not a dict).",Joris Van den Bossche,jorisvandenbossche@gmail.com,2022-02-22 20:43:00+01:00,GitHub,noreply@github.com,2022-02-22 14:43:00-05:00
61db08d29d2f18149c912249198ceee152d84857,Fix for `normalize_function` `dataclass` methods (#8527),Sarah Charlotte Johnson,sarah@coiled.io,2022-02-22 17:29:19-08:00,GitHub,noreply@github.com,2022-02-22 19:29:19-06:00
23b30fa881d5538215c30c495cc44682a891ea0c,Allow ArrowDatasetEngine subclass to override pandas->arrow conversion also for partitioned write (#8741),Joris Van den Bossche,jorisvandenbossche@gmail.com,2022-02-23 18:28:33+01:00,GitHub,noreply@github.com,2022-02-23 11:28:33-06:00
c467bd39708006196aff7978b2b979dfe5ff1595,"Add  aggregate functions 'first' and 'last' to 'dask.dataframe.pivot_table (#8649)

* Add aggregate functions 'first' and 'last' to pivot_table

* Add tests

* Correct affected test

* Added set of available aggregate functions

* Return apply_concat_apply calls directly instead of via an intermediate variable

* Add first and last aggregate function to existing pivot_table test

* Infer datatypes for first and last aggregations",Knut Nordanger,knut.nordanger@gmail.com,2022-02-23 19:35:13+01:00,GitHub,noreply@github.com,2022-02-23 12:35:13-06:00
9b21543ffa99f7c644d6c4907a3c5bef5c0eae87,"offered a fix for rechunking with zero-size-chunks (#8703)

* offered a fix for rechunking with zero-size-chunks #5661

* added and catered for more test cases of zero-sized chunks

* added new test-case of rechunking with zero-size-array

* catered for yet another test-case of rechunking with zero-size-array

* added helpful comments as per @jcrist's advice",ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-02-23 19:40:41+01:00,GitHub,noreply@github.com,2022-02-23 12:40:41-06:00
e3b3259419c21d0d412b9d5f12531ebe5ad6967a,"increased performance of k-diagonal extraction in da.diag() and da.diagonal() (#8689)

* added support for extracting k-diagonals from a 2d-array

* included heterogeneous chunks in test_diag()

* fixed linting errors in test_diag()

* improved efficiency of diagonal extractor a bit

* stole @TAdeJong's simple padding solution for diag(v, k) when v is 1d

* reduced complexity of `diagonal()` from O(N**2) to O(N)

diag() now calls diagonal()

* fixed linting errors in diagonal()

* reorganized tests and ensured coverage of diag() & diagonal()

as per @jcrist's advice

* catered for cupy type input arrays to diagonal()",ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-02-23 19:42:34+01:00,GitHub,noreply@github.com,2022-02-23 12:42:34-06:00
48820dfc4565d0dcd299409553e6721c246a9f88,Move creation of sqlalchemy connection for picklability (#8745),Julia Signell,jsignell@gmail.com,2022-02-23 17:31:24-05:00,GitHub,noreply@github.com,2022-02-23 16:31:24-06:00
7e83e727e6ff36d2d751a272e5047d2f95316bd1,Change linspace creation to match numpy when num equal to 0 (#8676),Peter,peter.pandelidis@gmail.com,2022-02-24 08:33:07-05:00,GitHub,noreply@github.com,2022-02-24 08:33:07-05:00
aad132a5dad414d987c6358536f41ebf946094b1,"Deprecate `dataframe.tseries.resample.getnanos` (#8752)

* deprecate getnanos

* add dask version to deprecation",Sarah Charlotte Johnson,scharlottej13@gmail.com,2022-02-24 06:01:28-08:00,GitHub,noreply@github.com,2022-02-24 08:01:28-06:00
3fee5249073068fbc704f0024b94b974091f7e55,Only run PR builds on changes to relevant files (#8756),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-02-24 15:52:42-05:00,GitHub,noreply@github.com,2022-02-24 12:52:42-08:00
67bcfb1958b270bfdfe6dcb224641807f33bf04c,"Use Dask configuration extension from `dask-sphinx-theme` (#8751)

Co-authored-by: Jacob Tomlinson <jtomlinson@nvidia.com>",Benjamin Zaitlen,quasiben@users.noreply.github.com,2022-02-24 16:23:58-05:00,GitHub,noreply@github.com,2022-02-24 15:23:58-06:00
54e216441146067218e1d5cf0ad096ace79c7f0a,Add `std()` support for `datetime64` `dtype` for pandas-like objects (#8214) (#8523),Ben Glossner,43479723+bglossner@users.noreply.github.com,2022-02-24 14:24:48-08:00,GitHub,noreply@github.com,2022-02-24 17:24:48-05:00
8971c37f810aa242295dd6a7d9a7cbdf9621d92e,Tokenize dataclasses (#8557),Gabe Joseph,gjoseph92@gmail.com,2022-02-24 15:42:01-07:00,GitHub,noreply@github.com,2022-02-24 17:42:01-05:00
efa6b73042b30e09dd9018fe32ec0eaa8cbd511a,Add deprecation warning for pyarow-legacy engine (#8758),Richard (Rick) Zamora,rzamora217@gmail.com,2022-02-25 08:45:05-06:00,GitHub,noreply@github.com,2022-02-25 08:45:05-06:00
217561b4266c170f452471fed64123940066c4b8,bump version to 2022.02.1,Julia Signell,jsignell@gmail.com,2022-02-25 11:05:49-05:00,Julia Signell,jsignell@gmail.com,2022-02-25 11:05:49-05:00
0224e4a088fbdfda9411ddfebb9d1d53f4002f0c,"Make scheduler kwarg pass though to sub functions in `da.assert_eq` (#8755)

* Make `da.assert_eq` scheduler kwarg affect nested funtions

* Update tests to use scheduler kwarg

* Fix `assert_eq` test",Julia Signell,jsignell@gmail.com,2022-02-25 13:51:04-05:00,GitHub,noreply@github.com,2022-02-25 12:51:04-06:00
c7e069947b9b720df03aca2e4f7682faa2d9876f,"Finish making ``map_overlap`` default boundary ``kwarg`` ``'none'`` (#8743)

Followup to PR https://github.com/dask/dask/pull/8397

We've had a FutureWarning up for a few months about an upcoming change to the default 'boundary' kwarg value in `map_overlap`, so now is the time to change it. Previous default was `""reflect""`, new default will be ""None"".

The reason for this change is that it makes the code run a lot faster, and for most people the overlap depth is sufficient and they should not require additional boundary handling. See https://github.com/dask/dask/issues/8391 for a full discussion.",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-03-01 01:29:30+11:00,GitHub,noreply@github.com,2022-02-28 09:29:30-05:00
0e4ddc4772d5e48858d6627979f1fddefc7f1cb1,"Add some extra test coverage (#8302)

Adds a test for an option to `sort_values` that wasn't previously tested, as well as a few other tests for lines in `numeric.py` and `shuffle.py` that weren't tested.",lrjball,50599110+lrjball@users.noreply.github.com,2022-02-28 14:45:02+00:00,GitHub,noreply@github.com,2022-02-28 09:45:02-05:00
1c314950be0d1e3029d88644b3b7745a070c2e05,Label issues and PRs on open with 'needs triage' (#8761),Julia Signell,jsignell@gmail.com,2022-02-28 14:42:24-05:00,GitHub,noreply@github.com,2022-02-28 14:42:24-05:00
34b2e5a80c579bd842f8a1a8eb547300d933ded9,"Make `tokenize` work in a FIPS 140-2 environment (#8762)

Python 3.9 added a `usedforsecurity` kwarg to mark uses of algorithms as
not relevant for security. `tokenize` is not security relevant, and
should work regardless of FIPS restrictions. We set
`usedforsecurity=False` for Python 3.9+.",Jim Crist-Harif,jcristharif@gmail.com,2022-02-28 14:50:40-06:00,GitHub,noreply@github.com,2022-02-28 15:50:40-05:00
bc1ab5e5ad948843d79b9f5a0cd342ef0fb6b540,Specify action version and change from `pull_request_target` to `pull_request` (#8767),Julia Signell,jsignell@gmail.com,2022-03-01 08:27:46-05:00,GitHub,noreply@github.com,2022-03-01 08:27:46-05:00
5602876f3389d039aba0d1a860922777843dbcb9,"Use `packaging.parse` for `md5` compatibility (#8763)

* Use packaging.parse for md5 compatability

* Use specific version in 'label-all.yml' workflow",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-03-01 07:29:05-06:00,GitHub,noreply@github.com,2022-03-01 08:29:05-05:00
f5b42d4b90d45f9c9bf42fcae99e4a4589246f18,Deprecate `bcolz` support (#8754),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-03-02 23:02:17+05:18,GitHub,noreply@github.com,2022-03-02 11:44:17-06:00
7258027d0fc56165d2f36341fdb9a6ced82a31e0,"Update Docker images to use ghcr.io (#8774)

Companion to https://github.com/dask/dask-docker/pull/207.

We are beginning to publish Docker images to the GitHub Container Registry in addition to Docker Hub, but are switching up documentation to refer to the `ghcr.io` images as we may want to stop publishing to Docker Hub at some point in the future.

For discussion see https://github.com/dask/dask-docker/issues/177",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2022-03-03 16:10:49+00:00,GitHub,noreply@github.com,2022-03-03 11:10:49-05:00
277859ddfcc30a9070ca560c9e3e2720e5eed616,"Raise warning when using multiple types of schedulers where one is `distributed` (#8700)

Raise a warning when `compute` or `persist` are called with a scheduler different from ""dask.distributed"" or ""distributed"" in Dask.distributed mode",Pedro Silva,48519119+ppsbs@users.noreply.github.com,2022-03-03 17:27:05+01:00,GitHub,noreply@github.com,2022-03-03 11:27:05-05:00
a27b437da2594fd5c15f85736aa520feb726ddbd,Scipy 1.8.0 compat: copy private classes into dask/array/stats.py (#8694),Julia Signell,jsignell@gmail.com,2022-03-03 12:08:59-05:00,GitHub,noreply@github.com,2022-03-03 12:08:59-05:00
efc1a4404c6b1d23283261b32887ed2e218c053e,fix serialization bug (#8786),Richard (Rick) Zamora,rzamora217@gmail.com,2022-03-07 12:48:25-06:00,GitHub,noreply@github.com,2022-03-07 12:48:25-06:00
a49f258b6fe9cd0b49521a734477a725eeb5478a,clarify divisions kwarg in repartition docstring (#8781),Sarah Charlotte Johnson,sarah@coiled.io,2022-03-07 10:51:37-08:00,GitHub,noreply@github.com,2022-03-07 12:51:37-06:00
0b05986813fa858e1f2567af05746b6071bd14bd,useful error for empty divisions (#8789),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-03-08 22:23:58+05:18,GitHub,noreply@github.com,2022-03-08 11:05:58-06:00
9b5350421efc2dc97391d4b46fc25669341a869d,"fix groupby shift bug caused by unsorted partitions after shuffle (#8782)

* fix groupby shift bug caused by unsorted partitions after shuffle

We now apply sort_index to each partition if dataframe is shuffled

* Fixup test

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",kori73,koray.beyaz73@gmail.com,2022-03-08 20:09:42+03:00,GitHub,noreply@github.com,2022-03-08 11:09:42-06:00
8ed1bdab0d89a4f683dc1b57352231ebf15bb233,Dashboard docs on /status page  (#8648),Naty Clementi,natyclementi@gmail.com,2022-03-08 12:46:21-05:00,GitHub,noreply@github.com,2022-03-08 17:46:21+00:00
2baf7f47009309e0d057eab1748238334f8e7c76,"Add ``ddf.compute_current_divisions`` to get divisions on a sorted index or column (#8517)

The goal of this is to create a well documented method for calculating divisions. The idea is that people can use this method and save the result rather than recalculating divisions potentially ever time they set an index.",Julia Signell,jsignell@gmail.com,2022-03-08 17:08:48-05:00,GitHub,noreply@github.com,2022-03-08 17:08:48-05:00
d88b3442f6114a7e529338226eec2e342f3b62ed,Bump diagnostics bokeh dependency to 2.4.2 (#8791),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-03-09 04:39:41-05:00,GitHub,noreply@github.com,2022-03-09 09:39:41+00:00
73acebb3a2066792dea39c78245a6e1a01b2b173,"Fix ""physical"" column bug in pyarrow-based read_parquet (#8775)

Starting with pyarrow-5.0, the `pyarrow.dataset` API can now be used to write parquet datasets. Using `pyarrow.dataset.write_dataset` to write partitioned data results in different ""pandas metadata"" than we get from a Dask-written dataset, because Dask will not include the partitioned column names in this metadata (since they are not ""physical"" columns), but pyarrow will. This exposed a bug in Dask, where we were conflating ""pandas metadata""  column names with ""physical"" column names. This PR adds a small fix to ensure that Dask will only bail on reading partitioned columns if/when the partitioned columns are really ""physical"" columns.",Richard (Rick) Zamora,rzamora217@gmail.com,2022-03-09 10:45:27-06:00,GitHub,noreply@github.com,2022-03-09 11:45:27-05:00
6e02aaa0028dba553fecc6141c924e38c4d9ec71,Fix docstring for ``ddf.compute_current_divisions`` (#8793),Julia Signell,jsignell@gmail.com,2022-03-09 11:46:20-05:00,GitHub,noreply@github.com,2022-03-09 11:46:20-05:00
ebea9f028925a313c32c870440c1fa233ce16386,"clone_key(""x"") to retain prefix (#8792)",crusaderky,crusaderky@gmail.com,2022-03-09 16:47:52+00:00,GitHub,noreply@github.com,2022-03-09 10:47:52-06:00
e91804b54187d8c562a5cc3ef56e7cfd1ad72a9f,"Temporarily xfail graphviz tests on windows (#8794)

* Temporarily xfail graphviz tests on windows

Something in the recent pango or graphviz builds on conda-forge broke,
and now these tests are failing. Xfail these tests temporarily until the
upstream issue is resolved.",Jim Crist-Harif,jcristharif@gmail.com,2022-03-09 19:47:53-06:00,GitHub,noreply@github.com,2022-03-09 19:47:53-06:00
b9cf587a6d5f9eb82a5d4b538ad5c885d7975d26,"Revise column-projection optimization to capture common dask-sql patterns (#8692)

* rewriting getitem optimization for common dask-sql workflows

* revise getitem optimization

* prepend getitem to (partially) restore original graph labels

* cleanup

* remove new SelectionLayer class

* roll back name change

* Update dask/dataframe/optimize.py

* add csv test",Richard (Rick) Zamora,rzamora217@gmail.com,2022-03-10 11:06:49-06:00,GitHub,noreply@github.com,2022-03-10 11:06:49-06:00
63991a1110761eda48bdbea2d790ac47de6424af,"Fix ``test_describe_empty`` to work without global ``-Werror`` (#8291)

Fix test_describe_empty to work when the test suite is run without
global -Werror.  This is e.g. desirable for packagers who don't want
the test suite for a fixed version to suddenly start failing due to
DeprecationWarnings in dependencies that otherwise don't break
the package.",Micha Grny,mgorny@gentoo.org,2022-03-10 23:40:13+01:00,GitHub,noreply@github.com,2022-03-10 17:40:13-05:00
e715a4d4b5b30374d6ea625a921b5557f0ce6efa,"Avoid pytest.warns(None) (#8718)

Compatibility with new pytest 7.0

Co-authored-by: Luka Sturtewagen <luka.sturtewagen@sensorfact.nl>
Co-authored-by: Julia Signell <jsignell@gmail.com>",LSturtew,56136443+LSturtew@users.noreply.github.com,2022-03-11 17:21:35+01:00,GitHub,noreply@github.com,2022-03-11 10:21:35-06:00
9634da11a5a6e5eb64cf941d2088aabffe504adb,"Add `Series.str`,`Series.dt`, and `Series.cat` accessors to docs (#8757)

- Refactors the dataframe accessor implementation to define all
methods/properties statically on import. This makes it so that methods
can be accessed on the class itself, rather than only on instances.
- Use a different descriptor for adding the accessor classes to the
`Series` class, which lets the accessor methods be accessed via e.g.
`dd.Series.str.cat`.
- Fix a bug in `dd.Series.str.rsplit`
- General cleanliness improvements for the accessor code
- Update the api docs to include the accessors

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Sarah Charlotte Johnson,sarah@coiled.io,2022-03-11 09:22:34-08:00,GitHub,noreply@github.com,2022-03-11 11:22:34-06:00
fc911b6d481e602f7549eecb180c3f7622260001,"Improve error messages for malformed config files (#8801)

* Improve error messages for malformed config files

This adds a nice error message if a config file fails to load properly
due to either a parsing error or loading without a top-level dict. The
error message includes the file path and information on what was
malformed, which should better help the user fix things.",Jim Crist-Harif,jcristharif@gmail.com,2022-03-11 14:03:55-06:00,GitHub,noreply@github.com,2022-03-11 14:03:55-06:00
ccd8b04fa5e2d11f107bb7c953c17720059135dc,custom collection example docs fix. (#8807),Doug Davis,ddavis@ddavis.io,2022-03-14 16:50:32-04:00,GitHub,noreply@github.com,2022-03-14 15:50:32-05:00
8a6f6a7b95762df4e44bc4d82ce33a7c388a0676,"Move Bag.map_partitions to Blockwise (#8646)

1. Adds `format=""frame""` option to `dataframe.io.to_bag` (effectively returning a zero-copy view of the same dask graph, that no-longer tracks meta/divisions)
2. Revises `Bag.map_partitions` to use `blockwise` (and to support the `token=` option)
3. Modifies the ACA code path to use a `Bag.map_partitions` for any blockwise operations where partitions may loose ""dataframe-like"" properties.

This represents an alternative to using `map_partitions` incorrectly in ACA. It is also an alternative to the low-level `blockwise` API.",Richard (Rick) Zamora,rzamora217@gmail.com,2022-03-15 08:13:02-05:00,GitHub,noreply@github.com,2022-03-15 09:13:02-04:00
149da2c307a6576ad138292d12cfa3a6e06c30db,"Add ``weights`` parameter to ``dask.array.reduction``(#8805)

Allow an array of weights to be passed to each chunk, via the `chunk()` callable and alongside the chunk's data.

The use case is to be able to carry out weighted reductions that can't be done ""simply"", where ""simply"" means without needing to call `reduction()`. For instance, [weighted averages](https://github.com/dask/dask/blob/main/dask/array/routines.py#L2411) are currently implemented without `reduction()`, and you could easily implement a weighted sum along the same lines.",David Hassell,davidhassell@users.noreply.github.com,2022-03-15 18:29:29+00:00,GitHub,noreply@github.com,2022-03-15 14:29:29-04:00
e0d34a54ce4930528bbe3c8ded1d85c0c2be7fe6,"If hdf file is empty, don't fail on meta creation (#8809)",Julia Signell,jsignell@gmail.com,2022-03-15 14:34:22-04:00,GitHub,noreply@github.com,2022-03-15 14:34:22-04:00
4ecaa5acfef12a0c3f60cf0f8b6f2b63ce6ef75f,Tidy up assert_eq calls in array tests (#8812),Julia Signell,jsignell@gmail.com,2022-03-15 16:04:11-04:00,GitHub,noreply@github.com,2022-03-15 15:04:11-05:00
cccb9d8d8e33a891396b1275c2448c352ef40c27,"absolufy-imports - No relative - PEP8 (#8796)

Conversation in https://github.com/dask/distributed/issues/5889",Julia Signell,jsignell@gmail.com,2022-03-15 16:07:42-04:00,GitHub,noreply@github.com,2022-03-15 16:07:42-04:00
a7e57ba9ea65700a531a8d5e637f5d580e2d34e3,"Quick fix for unbounded memory usage in tensordot  (#7980)

This is a quick fix for issue #6916

It removes the memory problem for non-sparse array types. Note that tensordot with sparse arrays still needs a proper fix for the memory issues observed after #6846",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-03-16 08:26:20+11:00,GitHub,noreply@github.com,2022-03-15 17:26:20-04:00
55195a10c6fa53cc3f5bc50e032b493ceef15b6a,"to_parquet default to `compression=""snappy""` (#8814)

Previously `to_parquet` had `compression=""default""` as the default. In
this case, `""snappy""` was used if `import snappy` succeeded, otherwise
`None` was used.

This may have been correct when written, but is no longer correct.

- `fastparquet` uses `cramjam` for compression support (changed ~1 year
   ago). This library is not optional, so `fastparquet` always supports
   snappy.
- `pyarrow` uses the snappy c library directly (and it's always
  included), whether `snappy` (the python library) successfully imports
  is irrelevant.

As such we chose to deprecate `compression=""default""` in favor of using
`""snappy""` everywhere for consistency across engines.",Jim Crist-Harif,jcristharif@gmail.com,2022-03-16 09:53:05-05:00,GitHub,noreply@github.com,2022-03-16 09:53:05-05:00
43a5e531a96e603a7a672d1604ddb713735d125e,"Add ma.count to Dask array (#8785)

* da.ma.count

* A few fixups

- Cleanup and expand test code
- Don't use `np.ma.count` directly (large to serialize) and don't put it
in `chunk.count` (wrong place for `ma` functionality).

* Maybe this will fix the dtype on some windows builds?

* Add `check_dtype` to `dask.array.utils.assert_eq` and set to false for windows failing test

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>
Co-authored-by: Julia Signell <jsignell@gmail.com>",David Hassell,davidhassell@users.noreply.github.com,2022-03-16 14:53:50+00:00,GitHub,noreply@github.com,2022-03-16 09:53:50-05:00
5bd2bbabe4923869ef6d95585d93f36684b5e29c,"Fix set_index when directly passed a dask Index (#8680)

* WIP: making set index work with dask index objects

* revert change in set_sorted_index call w/i set_index

* parameterized test

* check for index directly

* check for dask Index types

* Fixup

Fix `set_sorted_index` optimization for pre-sorted `Index` objects, and
cleanup tests.

* Delete extraneous changes added when debugging

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Paul Hobson,pmhobson@gmail.com,2022-03-16 09:02:53-07:00,GitHub,noreply@github.com,2022-03-16 11:02:53-05:00
4e5dfe7463028a39a90e026c7fb9220969093ab3,"Bag: add implementation for reservoir sampling (#7068) (#7636)

   -  Implement the [L algorithm](https://en.wikipedia.org/wiki/Reservoir_sampling#An_optimal_algorithm) for reservoir sampling without replacement. 
   - Use the **k** reservoir of size 1 strategy for sampling with replacement (see [reference](http://utopia.duth.gr/~pefraimi/research/data/2007EncOfAlg.pdf)) of **k** items",Daniel Mesejo-Len,mesejoleon@gmail.com,2022-03-16 21:21:54+01:00,GitHub,noreply@github.com,2022-03-16 16:21:54-04:00
78855d139c996738c35e49793c1306befc05f45f,raise exception for not implemented merge how option (#8818),Naty Clementi,natyclementi@gmail.com,2022-03-17 09:53:05-04:00,GitHub,noreply@github.com,2022-03-17 08:53:05-05:00
428dab4bd3af7d7fc87e0dc921c0eab5e48a7fae,"Pass __name__ and __doc__ through on DelayedLeaf (#8820)

* Pass __name__ and __doc__ through on DelayedLeaf

* Fixup, add test

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Leo Gao,54557097+leogao2@users.noreply.github.com,2022-03-17 10:25:45-06:00,GitHub,noreply@github.com,2022-03-17 11:25:45-05:00
e07fd7e331c619a3da0dc0ab7bfa523d72bc60da,fix bug in applying != filter in read_parquet (#8824),Richard (Rick) Zamora,rzamora217@gmail.com,2022-03-18 10:48:30-05:00,GitHub,noreply@github.com,2022-03-18 10:48:30-05:00
02f38865939ac4775ba3f34789bfd3c5e915eebe,Reduce gpuci ``pytest`` parallelism (#8826),GALI PREM SAGAR,sagarprem75@gmail.com,2022-03-18 14:11:21-05:00,GitHub,noreply@github.com,2022-03-18 15:11:21-04:00
e54f1c6453455b3e26891702f6cfc547fb861121,bump version to 2022.03.0,Julia Signell,jsignell@gmail.com,2022-03-18 17:16:39-04:00,Julia Signell,jsignell@gmail.com,2022-03-18 17:16:39-04:00
68cce799990836eb7f99a1ef4b2cd29b08445feb,"Use Blockwise/`map_partitions` for more tasks (#8831)

* hash_join uses map_partitions

This replaces the low-level graph generation with map_partitions to
generate the high-level graph. Discussed in GH8306.

* stack_partitions uses HLG

Creates a high-level graph wrapper for the partition stacking operation.
Removing the forced materialization of the incoming DataFrame means that
any blockwise operations on the DataFrame will remain HLG layers at this
point.

* Refactors stack_partitions concat tests

Several tests appeared to be duplicated from the first for-loop in
test_concat. These are removed. The remaining tests are moved to a new
function since they test Series concat. These tests are also
de-duplicated.

* Adds an HLG-assurance test

With the changes here, blockwise operations should remain blockwise for
concat operations.",Bryan Weber,bryan@coiled.io,2022-03-23 11:55:55-04:00,GitHub,noreply@github.com,2022-03-23 10:55:55-05:00
3c3f123aeb4f544fdf5fc9ced71c9420714faf01,remove getnanos (#8834),Sarah Charlotte Johnson,sarah@coiled.io,2022-03-23 12:33:20-07:00,GitHub,noreply@github.com,2022-03-23 14:33:20-05:00
36e243ca79f6babdd46f293a2700d23928bba2b6,"Subgraph Callable Getter (#8827)

* In array slice operation try to include subgraph callable slicers among
the valid getters.

* Allow for more introspection into tasks produced from blockwise array
creation so that they may be fused with consideration to locks and
asarray.

* Missed a spot for using _is_getter_task

* Update array slice fusion tests to cover SubgraphCallables generated
from blockwise layers.

* Move tuple unpacking into _is_getter_task

* Rename some utilities and comments for clarity.",Ian Rose,ian@coiled.io,2022-03-24 09:00:41-07:00,GitHub,noreply@github.com,2022-03-24 11:00:41-05:00
bc43d692e8f5fc55e6d81c91053598bd89f79267,"Add sanity checks to divisions setter (#8806)

Adds a few sanity checks to the divisions property setter

- New divisions are compatible with the existing `npartitions`
- New divisions don't mix None and non-None values
- New divisions are sorted (except for ordered categorical dtypes, where
that's hard)",Jim Crist-Harif,jcristharif@gmail.com,2022-03-25 12:29:43-05:00,GitHub,noreply@github.com,2022-03-25 13:29:43-04:00
e1a19cbd80c462371eb50e7cf309a8fc47d9bb45,Simplify gpuCI updating workflow (#8849),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-03-26 18:59:41-04:00,GitHub,noreply@github.com,2022-03-26 18:59:41-04:00
71209a53f2e01315fb64504e6f23f201cece38a6,"Restores test_parquet in http (#8850)

Closes #5042. This test is not failing anymore. Parameterizes the test on
the two engines, pyarrow and fastparquet. Pyarrow was not available when
the test was originally written but has since become available.",Bryan Weber,bryan@coiled.io,2022-03-28 14:53:25-04:00,GitHub,noreply@github.com,2022-03-28 14:53:25-04:00
1270f068c03c3162102da1f606397c5d958c9b85,Pandas1.3 32bit (#8851),Ben Greiner,code@bnavigator.de,2022-03-28 21:38:40+02:00,GitHub,noreply@github.com,2022-03-28 15:38:40-04:00
f18f4fa8ff7950f7ec1ba72d079e88e95ac150a2,Drop setuptools at runtime (#8855),crusaderky,crusaderky@gmail.com,2022-03-29 16:43:17+01:00,GitHub,noreply@github.com,2022-03-29 10:43:17-05:00
3b48f3cb86ac22c9ba1d91e596aae0fe6383f96f,"Bug fix for `dataframe.merge_asof` to preserve `right_on` column (#8857)

* keep right_on column

* keep right_on column when on is none",Sarah Charlotte Johnson,sarah@coiled.io,2022-03-30 08:12:25-07:00,GitHub,noreply@github.com,2022-03-30 10:12:25-05:00
9326699bee800ad805b5d8839b321fab45fe2c06,"Update gpuCI `RAPIDS_VER` to `22.06` (#8828)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2022-03-30 14:28:42-05:00,GitHub,noreply@github.com,2022-03-30 14:28:42-05:00
7819dcc7a15463b85b7ebbb712731df44ef5cf2f,Remove support for PyPy (#8863),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-03-31 01:51:22-05:00,GitHub,noreply@github.com,2022-03-31 01:51:22-05:00
261bf174931580230717abca93fe172e166cc1e8,Add mild typing to common utils functions (#8848),Matthew Rocklin,mrocklin@gmail.com,2022-03-31 07:25:15-05:00,GitHub,noreply@github.com,2022-03-31 13:25:15+01:00
cd8aa0113f7e03cffee22a30bae131628325e613,"Added check on dtype.itemsize in order to produce an useful error mes (#8860)

* Added check on dtype.itemsize in order to produce an useful error message

* Modified auto-chunk control, added test in test_creation.py

* Fixed wrong linting

Co-authored-by: Davide Gavio <davide.gavio@ext.illimity.com>",Davide Gavio,gaviodavide@gmail.com,2022-03-31 15:03:30+02:00,GitHub,noreply@github.com,2022-03-31 08:03:30-05:00
e49880b67990c6f74f3ec034cff79623bb5ce21c,"Add Python 3.10 support (#8566)

* Add Python 3.10 job to test suite CI

* Ignore numpy.distutils deprecation warning

* Fix filterwarnings ordering

* Don't include fastparquet in Python 3.10 environment

* setup.py

* Add 3.10 build for import checks

* Update CI dependencies

Various packages have fixed issues and/or added Python 3.10 support.
So refresh them based on their latest status.

* Fixup distributed test

* Drop `setuptools` version constraint

* Include Thomas' feedback

Co-authored-by: Thomas Grainger <tagrain@gmail.com>

Co-authored-by: John Kirkham <jakirkham@gmail.com>
Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>
Co-authored-by: Thomas Grainger <tagrain@gmail.com>",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-03-31 09:35:49-05:00,GitHub,noreply@github.com,2022-03-31 09:35:49-05:00
db46f2167319b58decda39a9cd24e1a70516d974,Organize diagnostic and performance docs (#8871),Naty Clementi,natyclementi@gmail.com,2022-04-01 09:45:04-04:00,GitHub,noreply@github.com,2022-04-01 09:45:04-04:00
3f119f788944b433c26b451fda53ed3f96df5742,"added image to explain `drop_axis` option of `map_blocks` (#8868)

I used the absolute rather than relative path to embed the image in the
docstring.  The latter fails.",ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-04-01 15:49:36+02:00,GitHub,noreply@github.com,2022-04-01 09:49:36-04:00
63d608e6a21fa1b56b01e560c9b87b4019eaf12c,bump version to 2022.04.0,Julia Signell,jsignell@gmail.com,2022-04-01 11:15:01-04:00,Julia Signell,jsignell@gmail.com,2022-04-01 11:15:01-04:00
eed7910845be78d8cacd5265c09d67d7fb25040b,Documentation of Limitation of Sample() (#8858),Nadiem Sissouno,53600650+sissnad@users.noreply.github.com,2022-04-01 21:44:55+02:00,GitHub,noreply@github.com,2022-04-01 14:44:55-05:00
964d167258bbbfff41aa8c8306db7aef34f479b8,"fix(merge_asof): drop index column if left_on == right_on (#8874)

Addresses a small regression in the recent `merge_asof` fix when the
`left_on` and `right_on` columns have the same name.",Gil Forsyth,gforsyth@users.noreply.github.com,2022-04-01 23:09:13-04:00,GitHub,noreply@github.com,2022-04-01 22:09:13-05:00
d946dd5b0b684e44442a197375c7fef1a212d58e,"Add mild typing to common utils functions, part 2 (#8867)",crusaderky,crusaderky@gmail.com,2022-04-04 12:42:11+01:00,GitHub,noreply@github.com,2022-04-04 12:42:11+01:00
0b36d7fcaf54ee9a78fff4b07f124cb0c8741cdf,"Remove pyarrow-legacy engine from parquet API (#8835)

* remove pyarrow-legacy

* Small fixup

* Small fixup for pyarrow < 5

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-04 12:50:20-05:00,GitHub,noreply@github.com,2022-04-04 12:50:20-05:00
610cef57b15c00c6d3df5ed4c3de129cdcd5f5de,"Remove unused (deprecated) code from ArrowDatasetEngine (#8885)

* simplify _read_table_from_path

* remove _parquet_piece_as_arrow

* revise PartitionObj docstring",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-06 13:42:26-05:00,GitHub,noreply@github.com,2022-04-06 13:42:26-05:00
ba3666716249423eed1113e4d3ca7386e2868cde,"xfail/skip some flaky distributed tests (#8887)

* xfail/skip some flaky distributed tests

- xfail `test_blockwise_dataframe_io` on osx for hdf5
- skip all distributed tests on windows (the failure is due to a fixture
cleanup error that lives in `distributed.utils_test`. This isn't easy to
patch around, and `xfail` won't cut it).

Both of these should *not* be long term solutions, but will (hopefully)
get our CI green again.",Jim Crist-Harif,jcristharif@gmail.com,2022-04-06 13:55:56-05:00,GitHub,noreply@github.com,2022-04-06 13:55:56-05:00
14021d229071c00b0217edb28941cec267e5583f,Fix gpuCI GHA version (#8891),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-04-06 15:29:58-04:00,GitHub,noreply@github.com,2022-04-06 14:29:58-05:00
9bdc32a896e35f69770ec291d83655a1fd1a0346,Add `network` marks to tests that fail without an internet connection (#8881),Paul Hobson,pmhobson@gmail.com,2022-04-06 16:59:00-04:00,GitHub,noreply@github.com,2022-04-06 15:59:00-05:00
e30471041ab9be7126a14f412fd17a1e2df8a7f5,Update `DataFrame.query` docstring (#8890),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-04-07 02:23:43+05:18,GitHub,noreply@github.com,2022-04-06 16:05:43-05:00
1b1a96b4ddf31d0879e718be463a731af7f1d086,"Don't test `da.prod` on large integer data (#8893)

Not sure why this test only periodically fails (perhaps something numpy
internal?), but in retrospect this was never a good test. `np.arange(1,
122).prod()` will overflow for all integer data - in this case `prod`
*just happens* to overflow enough times to hit exact 0 at `np.arange(1,
67).prod()`, in which case all larger arrays still result in 0. It's not
a good test.

Since the large array is mainly used to validate the reduction code
(tree reductions, chunk/combine/aggregate), skipping testing prod on
integral data seems fine to me. Should hopefully fix the flakiness of
this test on windows CI.",Jim Crist-Harif,jcristharif@gmail.com,2022-04-06 19:54:52-05:00,GitHub,noreply@github.com,2022-04-06 19:54:52-05:00
7021e2cf9de27d75bfc41d5fd035883d1e79c0bb,Raise `ValueError` in `merge_asof` for duplicate `kwargs` (#8861),Bryan Weber,bryan@coiled.io,2022-04-07 11:35:34-04:00,GitHub,noreply@github.com,2022-04-07 10:35:34-05:00
7471eb3d1e9ccf085b70b219413aa891c8c2c167,masked scalars input to da.from_array (#8895),David Hassell,davidhassell@users.noreply.github.com,2022-04-07 17:40:35+01:00,GitHub,noreply@github.com,2022-04-07 11:40:35-05:00
a4fd6c90765285bd8e44014c492c6a26cf026bb1,"Correctly handle dict-specification for rechunk. (#8859)

* correctly handle dict-specification for rechunk

If a dictionary is used to specify rechunk behaviour of a dask array, and
None is specified for a particular axis, the correct behaviour should be
to leave that axis with its current chunk specification. This ensures
that `rechunk` does that, in line with the tuple or list specification.

* amend unit test for dict rechunk

* semi-manual linting

* amend unit test for null dimension rechunk

* roll back unintentional pre-commit version bump

Co-authored-by: Richard <richarms@sarao.ac.za>
Co-authored-by: Richard <>",Richard,richarms@ska.ac.za,2022-04-07 19:14:40+02:00,GitHub,noreply@github.com,2022-04-07 12:14:40-05:00
f80c3e476f05813c51940910741247a44d336d6c,Let ``get_dummies`` use ``meta`` computation in ``map_partitions`` (#8898),Julia Signell,jsignell@gmail.com,2022-04-07 14:48:44-04:00,GitHub,noreply@github.com,2022-04-07 14:48:44-04:00
e07c98c670027008f693a9f44ce6157093b37b35,Return ``da.Array`` rather than ``dd.Series`` for non-ufunc elementwise functions on ``dd.Series`` (#8558),Julia Signell,jsignell@gmail.com,2022-04-07 14:49:18-04:00,GitHub,noreply@github.com,2022-04-07 14:49:18-04:00
437833f5ad0d2485f372c29a107103e159018adf,Fix custom getter in `da.from_array` when `inline_array=False` (#8903),Ian Rose,ian@coiled.io,2022-04-08 11:44:56-07:00,GitHub,noreply@github.com,2022-04-08 13:44:56-05:00
723e0d223c2921e30d4324cac60d2256ad13386b,Make ``is_monotonic`` work when some partitions are empty (#8897),Julia Signell,jsignell@gmail.com,2022-04-11 13:51:33-04:00,GitHub,noreply@github.com,2022-04-11 12:51:33-05:00
5d987272826bf166c0846846a94db0a0a9f7aa3d,"Add note on missing parameter `out` for `dask.array.dot` (#8913)

* add note on missing parameter `out` for `dask.array.dot`

* Use `ua_args` instead.

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Francesco Andreuzzi,andreuzzi.francesco@gmail.com,2022-04-13 17:34:27+02:00,GitHub,noreply@github.com,2022-04-13 10:34:27-05:00
783b15bf0da83ee034efacb0b19f2340d0be1335,"Better error for failed wildcard path in `dd.read_csv()` (fixes #8878) (#8908)

* better error for failed wildcard path #8878

* use f-string instead of % syntax

Co-authored-by: Roger Filmyer <rfilmyer@akamai.com>",Roger Filmyer,github@synolect.com,2022-04-13 11:38:20-04:00,GitHub,noreply@github.com,2022-04-13 10:38:20-05:00
0ccad395cbc630a55245a42ceb2a24a98e2245b1,"Avoid collecting parquet metadata in pyarrow when write_metadata_file=False (#8906)

* avoid collecting metadata in pyarrow write when write_metadata_file is False anyway

* remove confusing syntax

* use 'store-' rather than 'metadata-' in final task name when metadata is not being written

* add comment explaining extra task",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-13 14:23:55-05:00,GitHub,noreply@github.com,2022-04-13 14:23:55-05:00
6b62cc1215ba05ba6f89b226db0fe8a01a792306,"Add missing NumPy ufuncs: abs, left_shift, right_shift, positive. (#8920)

* Add missing NumPy ufuncs: abs, left_shift, right_shift, positive.

* Add missing NumPy ufuncs to documentation.",Tom White,tom.e.white@gmail.com,2022-04-13 20:48:44+01:00,GitHub,noreply@github.com,2022-04-13 14:48:44-05:00
bfc76afdcdc43c575a10ffefda94aaba424fe347,"Warn users that `engine='auto'` will change in future (#8907)

* Warn user that `engine='auto'` will change in future

Adds a warning to `read_parquet` and `to_parquet` that the meaning of
`engine='auto'` will change in the future (switching to using `pyarrow`
if it is installed, and falling back to `fastparquet`). This warning is
only raised for users that have both libraries installed and have
`engine='auto'`. Users without both libraries installed or that already
specify an engine will not see this warning.

* Fixup failing test

* Only warn if backend-specific options are passed

We now warn if:

- `engine='auto'`
- Both `pyarrow` and `fastparquet` are installed
- Backend specific options are provided",Jim Crist-Harif,jcristharif@gmail.com,2022-04-13 16:54:57-05:00,GitHub,noreply@github.com,2022-04-13 16:54:57-05:00
916a75dfe86fc04adba9c8898cd9c4bd1b610347,bump version to 2022.04.1,James Bourbeau,jrbourbeau@gmail.com,2022-04-15 15:53:21-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-04-15 15:53:21-05:00
13f5b251f98f69cc35b242b5e635eb080ab5201f,Add ``removeprefix`` and ``removesuffix`` as ``StringMethods`` (#8912),Jorge Lpez,jorloplaz@gmail.com,2022-04-18 14:29:41+02:00,GitHub,noreply@github.com,2022-04-18 08:29:41-04:00
b292e63ba9c3ca9a5de37887c99dfb943a553aa1,"Adds configuration to ignore revs in blame (#8933)

There have been a couple commits that touched most of the files in the
repository, especially when applying the Black formatter. The
.git-blame-rev-ignore file tells git blame to ignore those commits when
computing the blame for a file.",Bryan Weber,bryan@coiled.io,2022-04-18 14:59:50-04:00,GitHub,noreply@github.com,2022-04-18 13:59:50-05:00
b0e234f65577a35ae4d78e0569ee3f44235f6089,Specify ``dtype`` when deciding division using ``np.linspace`` in ``read_sql_query`` (#8940),Cheun Hong,chlin6755@gmail.com,2022-04-19 03:52:30+08:00,GitHub,noreply@github.com,2022-04-18 15:52:30-04:00
0c0160a58dbcc827340e3e6bf147ecc6066a99db,Fix bug for reduction of zero dimensional arrays (#8930),Tom White,tom.e.white@gmail.com,2022-04-19 14:12:24+01:00,GitHub,noreply@github.com,2022-04-19 09:12:24-04:00
9000abdd43772a82dcbf7999c5126b571d698d8a,"Check that values for the `in` predicate in `read_parquet` are correct (#8846)

As reported in #8720, the _flatten_filters function required the value
to be hashable. This implicitly required the value to be a tuple,
although lists and sets would also be appropriate since they support the
'in' operation. _flatten_filters was only used to determine which
columns should be filtered, so it can be refactored and removed.

The 'in' predicate also requires that the value be iterable.
Non-iterable values are now caught and an appropriate message is raised
indicating what the user needs to change. This must be done in two
places to support both fastparquet and pyarrow.",Bryan Weber,bryan@coiled.io,2022-04-19 10:21:40-04:00,GitHub,noreply@github.com,2022-04-19 09:21:40-05:00
e755226f52881f8cf17fa8eb4f46c3413e43a1f2,"Add a docs page for dask & parquet (#8899)

* Add a docs page for dask & parquet

Adds a highlevel doc page for working with parquet and dask dataframe.
The goal here is to highlight some common options as well as some best
practices.",Jim Crist-Harif,jcristharif@gmail.com,2022-04-19 14:01:30-05:00,GitHub,noreply@github.com,2022-04-19 14:01:30-05:00
95fdd3fe127fe116e02c222c3d38303c3375af4b,"Use pre_buffer=True for ""pyarrow"" parquet engine (#8952)

* Use pre_buffer=True for pyarrow parquet

* make pre_buffer optional

* avoid pre_buffer for older pyarrow versions",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-19 15:45:32-05:00,GitHub,noreply@github.com,2022-04-19 15:45:32-05:00
99e260081f51ce368bf0456c66c9d3c2f20e8c9b,`from_dask_array` uses `blockwise` instead of merging graphs (#8889),Bryan Weber,bryan@coiled.io,2022-04-19 20:59:28-04:00,GitHub,noreply@github.com,2022-04-19 19:59:28-05:00
15f2b67c35cdec4bf069fb0bc8223c0511625afb,"Change require_extension to top-level parquet_file_extension read_parquet kwarg (#8935)

* elevate require_extension top-level kwarg and add docstring

* update docstring

* update docstring again

* adopt parquet_file_extension

* avoid moving parquet_file_extension to dataset kwargs",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-20 15:24:51-05:00,GitHub,noreply@github.com,2022-04-20 15:24:51-05:00
b5cecc97273f1f465d05c7ef44066c91f40c15a6,avoid pre_buffer=True when a precache method is specified (#8957),Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-20 15:25:21-05:00,GitHub,noreply@github.com,2022-04-20 15:25:21-05:00
33fd74bff0b0e584af966f045ba3eb520d67dcb9,Add copy button to code snippets in docs (#8956),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-04-20 15:25:48-05:00,GitHub,noreply@github.com,2022-04-20 15:25:48-05:00
76770db4285db43d9056d4fa9ce5b8e8006de7d1,Raise an error if you try to use `vindex` with a dask object (#8945),Julia Signell,jsignell@gmail.com,2022-04-20 16:27:05-04:00,GitHub,noreply@github.com,2022-04-20 15:27:05-05:00
099909ab4f59eb2e36600b71d8454c6e5ceca2b5,mypy compatibility (#8854),Paul Hobson,pmhobson@gmail.com,2022-04-21 15:12:56-07:00,GitHub,noreply@github.com,2022-04-21 23:12:56+01:00
f1ef113ab41e6ccb77f6d5a731bfcd98802dc1cd,parse_timedelta option to enforce explicit unit (#8969),crusaderky,crusaderky@gmail.com,2022-04-22 12:26:43+01:00,GitHub,noreply@github.com,2022-04-22 12:26:43+01:00
1ccd1a4f96afa1fe89ea93dcfe66517319b0664d,Use DataFrameIOLayer in DataFrame.from_delayed (#8852),Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-22 11:24:14-05:00,GitHub,noreply@github.com,2022-04-22 11:24:14-05:00
bbd1d2f16b5ac4784d758252188047b7816c7fa4,Stringify BlockwiseDepDict mapping values when produces_keys=True (#8972),Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-25 15:13:06-05:00,GitHub,noreply@github.com,2022-04-25 15:13:06-05:00
549a02e98558f2a17df70d6ecb6d9d8cba888146,Document Python 3.10 as supported (#8976),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2022-04-25 23:33:51+03:00,GitHub,noreply@github.com,2022-04-25 15:33:51-05:00
98aa08846357969f48e05eeaef2368495eafa94d,"Fix recursion error issue with set_index (#8967)

Fixes #8955

Co-authored-by: Julia Signell <jsignell@gmail.com>
Co-authored-by: Matthew Rocklin <mrocklin@gmail.com>",Paul Hobson,pmhobson@gmail.com,2022-04-26 06:24:30-07:00,GitHub,noreply@github.com,2022-04-26 08:24:30-05:00
7259f2150ab9c53409b848af3bf197a928a1de21,Remove `pytest.warns(None)` (#8924),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-04-26 20:44:41+05:18,GitHub,noreply@github.com,2022-04-26 10:26:41-05:00
23408870a5b0a1db8e2abb96f97236b1db47c0f3,"Simplify `to_parquet` compute path (#8982)

Previously `to_parquet` would either create a new `Scalar` or construct
and compute a graph directly. Due to slight differences between these
code paths a user could see different scheduling and performance
behavior between:

```
df.to_parquet()
df.to_parquet(compute=False).compute()
```

To fix this, we remove the branch and make these equivalent statements.",Jim Crist-Harif,jcristharif@gmail.com,2022-04-26 12:47:19-05:00,GitHub,noreply@github.com,2022-04-26 12:47:19-05:00
d9dfd5ad34ea34aae1a41eb863e8793007aa1169,Improve read_parquet docstring formatting (#8971),Bryan Weber,bryan@coiled.io,2022-04-27 11:18:26-04:00,GitHub,noreply@github.com,2022-04-27 10:18:26-05:00
d4394cdd0ff69742b07d0cef989d2187e618b94e,"Make sure ``da.roll`` works even if shape is 0 (#8925)

* Make sure ``da.roll`` works even if shape is 0

* Update dask/array/routines.py

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Julia Signell,jsignell@gmail.com,2022-04-27 11:18:55-04:00,GitHub,noreply@github.com,2022-04-27 10:18:55-05:00
66fb308e2daab8cc52c70c4263ec9a48baf0bcb0,Docs: recommend not to use ``map_block(drop_axis=...)`` on chunked axes of an array (#8921),ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-04-27 17:23:06+02:00,GitHub,noreply@github.com,2022-04-27 11:23:06-04:00
30daa76a3bab629f74a18e1f37d099b4a56e00b3,added description for parameter align_arrays in array.blockwise() (#8977),ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-04-27 17:31:47+02:00,GitHub,noreply@github.com,2022-04-27 11:31:47-04:00
9c7af5f8aadcc0eb89531e1c9422280648ae3047,Update ``DataFrame.merge`` docstring (#8966),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-04-27 20:50:41+05:18,GitHub,noreply@github.com,2022-04-27 11:32:41-04:00
138831b8f6cdf2e7875d186d715ba87edd041936,Add ``pytest-timeout`` to distributed envs on CI (#8986),Julia Signell,jsignell@gmail.com,2022-04-27 12:45:40-04:00,GitHub,noreply@github.com,2022-04-27 11:45:40-05:00
802512706b1bc4d9f9e91c9a3d6c12fa0b389665,"Improve `NotImplementedError` message for da.reshape (#8987)

* Updated reshape error output to provide more context on the limitations of Dask's reshape implementation

* Fixup

* Check error message in test_reshape_not_implemented_error

Co-authored-by: Rahul Pai <redrpai@gmail.com>
Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Jim Crist-Harif,jcristharif@gmail.com,2022-04-27 14:21:41-05:00,GitHub,noreply@github.com,2022-04-27 14:21:41-05:00
e50593212bb541520d035b5953760bad1ed9b98f,"Change split_row_groups default to False in read_parquet (#8981)

* change the split_row_groups default to False

* update docs

* update split_row_groups guidance

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-27 14:39:11-05:00,GitHub,noreply@github.com,2022-04-27 14:39:11-05:00
8e44bfc8e9e8ee099aabf2da0aa58111b66ad975,Pandas 1.5.0 compatibility (#8961),Ian Rose,ian@coiled.io,2022-04-27 13:58:36-07:00,GitHub,noreply@github.com,2022-04-27 15:58:36-05:00
4301b7dbd001666f72acd950ba9e26caaa5ff745,"to_parquet errors for non-string column names (#8990)

Parquet doesn't support non-string column names. We mirror pandas'
behavior here and error if `to_parquet` is called on a dataframe with
non-string column names.",Jim Crist-Harif,jcristharif@gmail.com,2022-04-27 16:05:32-05:00,GitHub,noreply@github.com,2022-04-27 16:05:32-05:00
2ec49ce1cfa596eb4aad1c109cae2d084108eafd,Let arg reductions pass ``keepdims`` (#8926),Julia Signell,jsignell@gmail.com,2022-04-27 17:14:26-04:00,GitHub,noreply@github.com,2022-04-27 17:14:26-04:00
00572071d15e7e8cfc20d8342b00aabadf0d2102,"Change `to_parquet` default to `write_metadata_file=None` (#8988)

* Refactor to_parquet

A bit of refactoring before changing the default of
`write_metadata_file` to `None` in `to_parquet`.

- Simplify implementation
- Don't include file metadata in `write_partition` calls if it's not
needed
- Everything needed to support implementing `write_metadata_file=None`
as default *except* changing the value (to ensure tests pass).

* Fixup failing parquet tests

Most of the failures are due to divisions not being known by default
anymore, since they're only known by default if a `_metadata` file is
present.

* Respond to feedback",Jim Crist-Harif,jcristharif@gmail.com,2022-04-28 09:03:28-05:00,GitHub,noreply@github.com,2022-04-28 09:03:28-05:00
e429efae3d653b59e61115daee8bf87578611a8e,fix dask-sql bug caused by blockwise fusion (#8989),Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-28 09:23:30-05:00,GitHub,noreply@github.com,2022-04-28 09:23:30-05:00
3715ab5d68f944ef8bdcd9600e74aaa6c7ebf2ae,"Deprecate gather_statistics from read_parquet (#8992)

* change the split_row_groups default to False

* update docs

* deprecate gather_statistics

* update split_row_groups guidance

* remove paste error

* fix s3 tests",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-28 11:42:47-05:00,GitHub,noreply@github.com,2022-04-28 11:42:47-05:00
6999390c9e4c767356129f570eca28f086366279,"Call `fs.invalidate_cache` in `to_parquet` (#8994)

* Call `fs.invalidate_cache` in `to_parquet`

Invalidate the client-side filesystem listings cache before returning
from `to_parquet`. This helps ensure that doing a write followed by an
immediate read works - without it the filesystem might use outdated
cache information when reading recently written files resulting in
`FileNotFound` errors.

There's not really a good way to test this, so using a mock for now.

* Fix windows tests",Jim Crist-Harif,jcristharif@gmail.com,2022-04-28 12:30:08-05:00,GitHub,noreply@github.com,2022-04-28 12:30:08-05:00
469a2b941400389a9e6e688772d5f05c9a000fce,"Update write_metadata_file discussion in documentation (#8995)

* update best practices in light of recent default changes

* add information on calculate_divisions",Richard (Rick) Zamora,rzamora217@gmail.com,2022-04-28 12:43:19-05:00,GitHub,noreply@github.com,2022-04-28 12:43:19-05:00
6c0f6ff0ec7e8b7a0d888809274745faffb25d8b,Handle `dtype=None` correctly in `da.full` (#8954),Tom White,tom.e.white@gmail.com,2022-04-28 20:17:25+01:00,GitHub,noreply@github.com,2022-04-28 14:17:25-05:00
2869a85a032c501db86f781bd6cc990b79475fe3,bump version to 2022.04.2,James Bourbeau,jrbourbeau@gmail.com,2022-04-29 16:04:12-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-04-29 16:04:12-05:00
7264aa037d0e43db5a9556630aacedca86da89ac,Add highlights section to 2022.04.2 release notes (#9012),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-02 12:08:33-05:00,GitHub,noreply@github.com,2022-05-02 12:08:33-05:00
298112115f63bd8846527bfafae2886999f0f4ec,bump version to 2022.05.0,James Bourbeau,jrbourbeau@gmail.com,2022-05-02 13:23:56-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-05-02 13:23:56-05:00
4d6a5f08c45be56302f696ca4ef6038a1cd1e734,Update `to_timedelta` default unit (#9010),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-05-03 02:29:42+05:18,GitHub,noreply@github.com,2022-05-02 16:11:42-05:00
c139cec8b7c1bf2b8987fc921b0c993d32509fef,Add p2p shuffle option (#8836),Matthew Rocklin,mrocklin@gmail.com,2022-05-03 12:59:08-06:00,GitHub,noreply@github.com,2022-05-03 13:59:08-05:00
b946406a30cd12cd6989df3440011a734441a200,Add from_map function to Dask-DataFrame (#8911),Richard (Rick) Zamora,rzamora217@gmail.com,2022-05-03 21:38:55-05:00,GitHub,noreply@github.com,2022-05-03 21:38:55-05:00
19f00befe3c8209ac7f985ec9573c6b328b360c5,"Only test on Python 3.9 on macos (#9029)

The macos builds consistently take the longest to run, and have a lower
org-level concurrency limit than windows or linux. In `dask/dask` we
have no logic specific to macos, so testing on every python version on
this platform doesn't seem necessary. To reduce CI delay, we change
github actions to only test macos on python 3.9.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-05 09:34:17-05:00,GitHub,noreply@github.com,2022-05-05 09:34:17-05:00
96c9847e1ca7ef6a76f3d3bce779216a77de3fb6,"Band-aid for `compute_as_if_collection` (#8998)

* Temporary band-aid to force the deletion of dsk.key_dependencies, which
could result in bad dependency information and thereby bad scheduling
when used in `compute_as_if_collection`

* Typo",Ian Rose,ian@coiled.io,2022-05-05 10:02:27-05:00,GitHub,noreply@github.com,2022-05-05 10:02:27-05:00
52afc8c4773ac7253585e978d949cabcf2bf8a50,"Fix overlapping divisions error on append (#8997)

* Change test to also look for *slightly* overlapping divisions.

* Also raise if the start of an appended partition is equal to the end of
the last partition, as these should be considered overlapping
partitions.

* Remove commented-out code.

* Remove kwarg which is new in pandas 1.4, the default behavior is fine.",Ian Rose,ian@coiled.io,2022-05-05 10:03:23-05:00,GitHub,noreply@github.com,2022-05-05 10:03:23-05:00
9ea00cab3700c1158f71b5cc77076968a01d47a3,array setitem hardmask (#9027),David Hassell,davidhassell@users.noreply.github.com,2022-05-05 16:12:48+01:00,GitHub,noreply@github.com,2022-05-05 10:12:48-05:00
cac9d6bce45432452d09114daeee5341d1a5305a,"Prevent codecov from notifying of failure too soon (#9031)

Currently codecov pushes an initial failing status on every PR that is
later updated to passing once more CI builds finish. This is annoying.

As far as I can tell from https://docs.codecov.com/docs/merging-reports
this shouldn't be happening, but it is. Here we attempt to stop this
behavior by:

- Only running code coverage on the main test suite that hits most of
  the codebase.
- Setting a minimum number of builds before codecov should push a status
  update.

Hopefully this fixes the problem.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-05 10:21:44-05:00,GitHub,noreply@github.com,2022-05-05 10:21:44-05:00
c6e9cc0a12643387463d1dea10589faa356b2d13,"Patch around pandas ArrowStringArray pickling (#9024)

The (experimental) pandas `string[pyarrow]` dtype has some major
performance benefits that we'd like to experiment with in dask. However,
currently `pyarrow.StringArray` objects have a bug in their pickle
implementation where a small slice of the array still serializes the
full (potentially very large) backing buffers (see
https://issues.apache.org/jira/browse/ARROW-10739). Hopefully this is
fixed upstream in pyarrow at some point, but for now we patch around it
by overriding the pickling implementation for `ArrowStringArray` in
pandas. This implementation is efficient, resulting in zero-copy
serialization in most cases.

There is still more work to do to fully support the `string[pyarrow]`
dtype, but I think this PR can go in as is for now.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-05 12:27:45-05:00,GitHub,noreply@github.com,2022-05-05 12:27:45-05:00
8fbdb4ad8d5b455dd8651fb93b83752d5ff88c9d,"Fix flaky `test_reductions_2D` (#9037)

`prod`/`nanprod` overflow for data at this size. It's not clear why
numpy only raises these warnings _sometimes_, but it makes sense why
they're there. We filter `RuntimeWarning` now for `prod`/`nanprod` (and
only these operations) now to fix this.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-05 13:04:59-05:00,GitHub,noreply@github.com,2022-05-05 13:04:59-05:00
de043e07591487ab247e9cb27b86abba329ba7b2,"Remove the HDFS tests (#9039)

CI for these tests has been broken for a while. Since dask no longer has
any HDFS-specific functionality, we're just relying on fsspec here for
hdfs interaction. Since HDFS isn't commonly used, the maintenance burden
here doesn't seem worth it.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-05 13:38:14-05:00,GitHub,noreply@github.com,2022-05-05 13:38:14-05:00
afe1e06ad7e96825612bcd7d4c06b8dbc8106a60,"Add `codespell` pre-commit hook (#9040)

* Add codespell pre-commit

* Fix missing newline in setup.cfg

Co-authored-by: Jim Crist-Harif <jcristharif@gmail.com>",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-05 17:20:58-05:00,GitHub,noreply@github.com,2022-05-05 17:20:58-05:00
eeb876a822ffbeac22d44206de45f14ce9869da4,Add end of file `pre-commit` hook (#9045),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-06 14:50:00-05:00,GitHub,noreply@github.com,2022-05-06 15:50:00-04:00
1e783d9a714160e968936cb22d54d085959ab09e,"Collection Protocol (#8674)

[PEP 544](https://www.python.org/dev/peps/pep-0544/) introduces the `Protocol` class to the `typing` module in Python 3.8 (the soon be the minimum supported version, https://github.com/dask/community/issues/213). Writing new Dask collections for [dask-awkward](https://github.com/ContinuumIO/dask-awkward/) has had me thinking about working on a `DaskCollection` protocol. I imagine the benefits to be:

- usage with static type checkers
  - other activity in this area at
    - #8295 
    - #8706 
    -  #8854
  - Python supporting IDEs take advantage of typing
- self-documenting; some improvements to [the custom collections page](https://docs.dask.org/en/latest/custom-collections.html) of the docs. The protocol docs can be autogenerated and added to that page.
- purely opt-in feature

The `typing.runtime_checkable` decorator allows use of `isinstance(x, DaskCollection)` in any code base
that uses Dask collections; for example:

```python
>>> from dask.typing import DaskCollection
>>> import dask.array as da
>>> x = da.zeros((10, 3))
>>> isinstance(x, DaskCollection)
True
```
(though this is an order of magnitude slower than `dask.base.is_dask_collection` which only checks for `x.__dask_graph__() is not None`; static typing checking & built-in interface documentation are the core benefits IMO)

Something else that came up in the brief discussion on a call last week was having `{Scheduler,Worker,Nanny}Plugin` protocols in `distributed`; and perhaps those are better places to start introducing protocols to Dask since on the user side typically more folks would write plugins than new collections.",Doug Davis,ddavis@anaconda.com,2022-05-06 15:52:04-04:00,GitHub,noreply@github.com,2022-05-06 15:52:04-04:00
8e596ce74a0993164e93095e51639884d18c3382,"Update `ensure_bytes` (#9050)

Currently both Dask and Distributed implement this function with very
slight variations. To attempt to consolidate these, pull in the
Distributed implementation content into the Dask implementation. Then
both Dask & Distributed can use this one function.",jakirkham,jakirkham@gmail.com,2022-05-06 13:08:07-07:00,GitHub,noreply@github.com,2022-05-06 15:08:07-05:00
ad898cf11c874c558e1a37c1c2210cb5ce07c6b4,Additional check on is_dask_collection (#9054),Doug Davis,ddavis@ddavis.io,2022-05-06 19:31:55-04:00,GitHub,noreply@github.com,2022-05-06 16:31:55-07:00
273ed757c618b7b5724c83b3e45b3ad2cf99a0e1,Fix ``Blockwise.clone`` does not handle iterable literal arguments correctly. (#8979),JSKenyon,jonathan.simon.kenyon@gmail.com,2022-05-09 16:00:46+02:00,GitHub,noreply@github.com,2022-05-09 10:00:46-04:00
d652c5349cb6c61c67a5807bc11991b060ed126e,Force nightly pyarrow in the upstream build (#8993),Joris Van den Bossche,jorisvandenbossche@gmail.com,2022-05-10 04:28:41+02:00,GitHub,noreply@github.com,2022-05-09 21:28:41-05:00
00776d2a05dc76a983d6728577b68480951c494d,Docs - Update page on creating and storing Dask DataFrames (#9025),Sarah Charlotte Johnson,sarah@coiled.io,2022-05-10 08:12:18-05:00,GitHub,noreply@github.com,2022-05-10 08:12:18-05:00
90724069593a330d002e947017f56fca696e4f94,Revert ``is_dask_collection``; back to previous implementation (#9062),Doug Davis,ddavis@ddavis.io,2022-05-10 09:30:46-05:00,GitHub,noreply@github.com,2022-05-10 10:30:46-04:00
4e048c997bd3ebf7c30fecee645b36df5c2cd86c,Update error message for assignment with 1-d dask array (#9036),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-05-10 19:55:17+05:18,GitHub,noreply@github.com,2022-05-10 10:37:17-04:00
2115574642af273c244ac4fc372ada9d6e69f931,"Add pre-deprecation warnings for  ``read_parquet`` kwargs ``chunksize`` and ``aggregate_files`` (#9052)

As discussed in https://github.com/dask/dask/issues/9043 (for `chunksize`) and https://github.com/dask/dask/issues/9051 (for `aggregate_files`), I propose that we deprecate two complex and rarely-utilized arguments from `read_parquet`: `chunksize` and `aggregate_files`.

This PR simply adds ""pre-deprectation"" warnings for the targeted arguments (including links to the relevant Issues discussing their deprecation).  My goal is to find (and inform) whatever users may be depending on these obscure options.",Richard (Rick) Zamora,rzamora217@gmail.com,2022-05-10 09:39:37-05:00,GitHub,noreply@github.com,2022-05-10 10:39:37-04:00
6685666dd4e3d6542fe2cb2cfbb5a4eb004f76ce,Allow `fillna` with dask dataframe (#8950),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-05-10 21:33:13+05:18,GitHub,noreply@github.com,2022-05-10 11:15:13-05:00
5fbda77cfc5bc1b8f1453a2dbb034b048fc10726,"Implement {Series,DataFrame}GroupBy `fillna` methods (#8869)

Co-authored-by: Ian Rose <ian.r.rose@gmail.com>",Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-05-11 02:23:02+05:18,GitHub,noreply@github.com,2022-05-10 16:05:02-05:00
5f74a6cc831ac99378a40ac4e4f2a2d45191ea9c,"Improve object handling & testing of `ensure_unicode` (#9059)

* Use `elif` for `decode` in `ensure_unicode`

* Handle Python Buffer Protocol in `ensure_unicode`

Any other arbitrary object (like `bytearray` or `memoryview` based
objects) can be decoded to `unicode` via `codecs.decode`. This is
analogous to what is done in `ensure_bytes`. So handle this case here.
If this also fails, then raise as usual.

* Include `ensure_unicode` tests for various objects

* Clarify error messages

* Use `uint8` in `array` tests

This is more consistent with the other tests, which also use this type.
Though `int8` also works.

* Pass `bytes` directly to `array`

Appears this already gets interpreted correctly by `array`. Should also
make the code easier to read for other maintainers.

* Use `from array import array`

Avoids the `array.array` bit which is a tad verbose.",jakirkham,jakirkham@gmail.com,2022-05-11 08:13:32-07:00,GitHub,noreply@github.com,2022-05-11 10:13:32-05:00
c2bcf051341c46f12b5581d665256929d93621c9,Handle enumerate and generator inputs to from_map (#9066),Richard (Rick) Zamora,rzamora217@gmail.com,2022-05-11 10:40:07-05:00,GitHub,noreply@github.com,2022-05-11 11:40:07-04:00
0492b71268a46951ccef37eb5e6e5e7a57fdde95,Fix `is_monotonic` methods for more than 8 partitions (#9019),Julia Signell,jsignell@gmail.com,2022-05-11 11:59:18-04:00,GitHub,noreply@github.com,2022-05-11 11:59:18-04:00
d458533b5f04494c8eb070adaff6470cea2cf6b0,"Prevent nulls in index for non-numeric dtypes (#8963)

More informative error messages in `set_index` when :

1. There are nulls (not necessarily `nan`, but also `None`, `pd.NaT`, etc.)
2. The series to become the index has a non-numeric `dtype`.",Jorge Lpez,jorloplaz@gmail.com,2022-05-11 19:40:35+02:00,GitHub,noreply@github.com,2022-05-11 13:40:35-04:00
2b90415b02d3ad1b08362889e0818590ca3133f4,Add kwarg ``enforce_ndim`` to ``dask.array.map_blocks()`` (#8865),ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-05-11 20:00:09+02:00,GitHub,noreply@github.com,2022-05-11 14:00:09-04:00
dffc95741510e97fab7ffe09a654bb9b2577a16b,Add `DataFrame.from_dict` classmethod (#9017),Matthew Powers,matthewkevinpowers@gmail.com,2022-05-11 13:10:11-05:00,GitHub,noreply@github.com,2022-05-11 13:10:11-05:00
137206dc04eb62424617a068405545b26db99a6f,Update dataframe sql docs references to other libraries (#9077),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-05-12 17:37:36-04:00,GitHub,noreply@github.com,2022-05-12 14:37:36-07:00
34b706b3d38bcbfa99d5fe9ab9c15cdad8a3c88f,Corrected ``map_blocks()`` docstring for kwarg ``enforce_ndim`` (#9071),ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-05-13 22:43:37+02:00,GitHub,noreply@github.com,2022-05-13 16:43:37-04:00
98dac638994c4140d77fea740d7211be262073e8,Fix column-projection bug in from_map (#9078),Richard (Rick) Zamora,rzamora217@gmail.com,2022-05-17 14:09:29-05:00,GitHub,noreply@github.com,2022-05-17 14:09:29-05:00
0934df37a9a320d1a6170bf15090c73d86c04f22,Rearrange docs TOC (#9001),Matthew Rocklin,mrocklin@gmail.com,2022-05-18 07:54:44-05:00,GitHub,noreply@github.com,2022-05-18 13:54:44+01:00
4ce1fc32fd236e2b1ae5a2e2d969d391769f1295,Clarify chunking in `imread` docstring (#9082),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-05-19 05:45:35+10:00,GitHub,noreply@github.com,2022-05-18 14:45:35-05:00
62587fbf129abe187cd5c613a92699876f61deaf,Better SEO for docs on creating and storing Dask DataFrames (#9098),Sarah Charlotte Johnson,sarah@coiled.io,2022-05-18 13:35:53-07:00,GitHub,noreply@github.com,2022-05-18 15:35:53-05:00
5042425b0871f22c9269e0ae3d076820839a801d,"Mention `align_dataframes=False` option in `map_partitions` error (#9075)

If you call `map_partitions` and don't want your DataFrames aligned, the error you get won't lead you to the `align_dataframes=False` option. Especially in situations where you have 1 single-partition dataframe you want to broadcast against a multi-partition dataframe, this is what you'd want.

The downside here is that now all methods that use `map_partitions` internally (most of them) will now show this message, which isn't relevant. I'm not sure if that tradeoff is worth it.

We could also make `align_dataframes=None` the default, and change every internal usage to pass `align_dataframes=True`, then only show the exra message when it's None. That's a bit of refactoring work, but doable.",Gabe Joseph,gjoseph92@gmail.com,2022-05-19 09:39:39-06:00,GitHub,noreply@github.com,2022-05-19 10:39:39-05:00
77c76446110eacb7559e982fe0aa6e7494432409,Update custom collection documentation (leverage new collection protocol) (#9097) [ci skip],Doug Davis,ddavis@ddavis.io,2022-05-19 12:14:40-04:00,GitHub,noreply@github.com,2022-05-19 11:14:40-05:00
660b9c486fa86fbf24f9d4ae47f3c9959a751b4f,"Blockwise cull numpy dtype (#9100)

* Add failing test for blockwise cull serialization bug.

* Make sure that blockwise output blocks are ints.",Ian Rose,ian@coiled.io,2022-05-19 09:27:27-07:00,GitHub,noreply@github.com,2022-05-19 11:27:27-05:00
23f6174a5e4fad8edc9cb22a966e7800ff41f571,"Document `map_partitions` handling of args vs kwargs, usage of `partition_info` (#9084)

* Document difference between positional and keyword argument handling

* Document partition_info in func argument

* Apply docstring review suggestions",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-05-19 13:27:02-04:00,GitHub,noreply@github.com,2022-05-19 12:27:02-05:00
d70e2c8d60b7f610fb8a2174e53b9cabe782c41a,CI: force nightly pyarrow in the upstream build (#9095),Joris Van den Bossche,jorisvandenbossche@gmail.com,2022-05-19 19:31:50+02:00,GitHub,noreply@github.com,2022-05-19 12:31:50-05:00
27070d2667e2a1d83a76ba3888ba94802f2bc8bb,"Increase retries when installing nightly `pandas` (#9103)

* Increase retries when installing nightly pandas

* test-upstream",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-19 13:58:45-05:00,GitHub,noreply@github.com,2022-05-19 13:58:45-05:00
0c6d0311558524f5a8c6885dae4274e93475ee86,"enabled user-defined process-initializer functions (#9087)

Adds `initializer` kwarg and config option, supporting a user-defined
process initializer for the multiprocessing scheduler.",ParticularMiner,78448465+ParticularMiner@users.noreply.github.com,2022-05-19 22:29:51+02:00,GitHub,noreply@github.com,2022-05-19 15:29:51-05:00
5c6627aa036965f21a23b321ab7875dbb7e25389,"Improve to_parquet error for appended divisions overlap (#9102)

* Improve to_parquet error for appended divisions overlap

Small tweak to the error message for appended overlapping divisions in
`to_parquet`.

* Fix pyarrow divisions overlap check

Two fixes:
- Previously this check was accidentally quadratic
- If we know the existing divisions aren't sorted, then don't error on
overlap. We don't spend excessive effort checking this, a false positive
error is easy to fix by passing in `ignore_divisions=True`.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-19 15:45:48-05:00,GitHub,noreply@github.com,2022-05-19 15:45:48-05:00
0f5914401441d438321250c29db5a59d62afd5ef,"Fixup column projection with no columns (#9106)

Previously column projection was accidentally skipped if no columns were
selected. This fixes that, ensuring that the following are equivalent:

```python
a = len(dd.read_parquet(...)[[]])
b = len(dd.read_parquet(..., columns=[]))
```",Jim Crist-Harif,jcristharif@gmail.com,2022-05-19 22:17:26-05:00,GitHub,noreply@github.com,2022-05-19 22:17:26-05:00
4c0cdfdbdb013cc57cd702c8d79b52f37203f8f3,Include `NUMPY_LICENSE.txt` in license files (#9113),Ben Beasley,code@musicinmybrain.net,2022-05-23 17:21:17-04:00,GitHub,noreply@github.com,2022-05-23 16:21:17-05:00
dc125fc7f08fa6e7bfceaaa4e65005da2998dd0f,bump version to 2022.05.1,James Bourbeau,jrbourbeau@gmail.com,2022-05-24 10:14:44-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-05-24 10:14:44-05:00
0e15e127669a07da2794f7caf0316ccf2e49fe28,Visualize task graphs using ipycytoscape (#9091),Ian Rose,ian@coiled.io,2022-05-24 08:52:51-07:00,GitHub,noreply@github.com,2022-05-24 10:52:51-05:00
f0dfbc447f1b928e762daf3a008d0ee0d81541d6,"Error if `read_parquet` & `to_parquet` files intersect (#9124)

This adds a nice error for cases where `to_parquet` (with
`overwrite=True`) and `read_parquet` operations happen in the same task
graph with intersecting paths. For example:

```python
ddf = dd.read_parquet(""some_path/"")
ddf2 = transform(ddf)
ddf2.to_parquet(""some_path/"", overwrite=True)
```

Code like this can lead to errors or silently incorrect results, since
`overwrite=True` will delete the input files before computation starts.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-24 10:57:21-05:00,GitHub,noreply@github.com,2022-05-24 10:57:21-05:00
3148b14bc79ed1aa1cbbff08113ae82b622a90af,"Include conftest.py in sdists (#9115)

Since sdists include the tests, and conftest.py is needed to run them,
it should be included.",Ben Beasley,code@musicinmybrain.net,2022-05-24 12:01:39-04:00,GitHub,noreply@github.com,2022-05-24 11:01:39-05:00
61161880852444e0b12af2e8d00e22e21a3254b3,"Update gpuCI `RAPIDS_VER` to `22.08` (#9120)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2022-05-24 11:33:42-05:00,GitHub,noreply@github.com,2022-05-24 11:33:42-05:00
f075e86fd4f68ede1ee989ef9488955b0d653884,Fix various typos (#9126),r,ryanrussell@users.noreply.github.com,2022-05-24 20:44:47-05:00,GitHub,noreply@github.com,2022-05-24 20:44:47-05:00
d8539f2902779650ac92571dd14558361cde9919,"Add a dispatch for  non-pandas `Grouper` objects and use it in GroupBy (#9074)

Add a dispatch for  non-pandas `Grouper` objects and use it in GroupBy (#9074)",brandon-b-miller,53796099+brandon-b-miller@users.noreply.github.com,2022-05-25 07:26:40-05:00,GitHub,noreply@github.com,2022-05-25 08:26:40-04:00
997a9105673bbe5d33cf5b96461ab3608fdef0fa,Fix flaky `test_filter_nonpartition_columns` (#9127),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-05-26 21:21:08+05:18,GitHub,noreply@github.com,2022-05-26 11:03:08-05:00
8db1597c9745543df3129399bead5fbc95a54571,bump version to 2022.05.2,James Bourbeau,jrbourbeau@gmail.com,2022-05-26 17:03:11-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-05-26 17:03:11-05:00
c60b1f757a3b92361504833cf0417e9c77b82514,Better SEO for docs on Dask DataFrames (#9128),Sarah Charlotte Johnson,sarah@coiled.io,2022-05-26 16:36:23-07:00,GitHub,noreply@github.com,2022-05-26 18:36:23-05:00
73c985c2bed5d61be6d05d67f7f381435fe8d1e2,"Enfore consistent schema in `to_parquet` pyarrow (#9131)

* Enfore consistent schema in `to_parquet` pyarrow

Previously each partition written in `to_parquet` with
`engine=""pyarrow""` had their schema inferred based solely on data within
that partition alone. This leads to a few common problems:

- Mismatched inferred schemas between partitions aren't caught, leading
  to issues in downstream consumers. Most readers assume a uniform
  parquet schema across files, which wasn't enforced by default by the
  pyarrow engine.
- Inference was supported with `schema=""infer""`, but:
    - It was expensive, requiring computing at least one partition
      (sometimes more) to get a sample of any `object` dtypes.
    - Inference here for non-string object dtypes is silently incorrect,
      users should really be explicit here when trying to write more
      complicated schemas containing structured fields.
    - Inference was off by default
- When writing a `_metadata` file, differences in per-file schemas would
  result in opaque errors when merging the metadata before writing. This
  error is deep in the `arrow` codebase, and doesn't provide enough
  information for the user to debug where the schema mismatch occured.
  Turning on schema enforcement by default lets us generate a better
  error message,

This PR changes the `schema` parameter in the following way:
- `schema=""infer""` is the default
- schema inference assumes object fields are strings (common), and makes
  no attempt at more complicated inference. Users with more complicated
  schemas should specify those explicitly. This means that schema
  inference is now cheap.
- A better error message is generated for mismatched partition dtypes in
  `to_parquet` for the `pyarrow` engine. The fastparquet engine already
  does this.",Jim Crist-Harif,jcristharif@gmail.com,2022-05-27 09:42:01-05:00,GitHub,noreply@github.com,2022-05-27 09:42:01-05:00
7b3c51f2f170284a19a056d8614f862fed5bbbeb,"Simplify partitioning logic in pyarrow parquet engine (#9041)

* simplify partitioning

* add test coverage",Richard (Rick) Zamora,rzamora217@gmail.com,2022-05-27 14:25:29-05:00,GitHub,noreply@github.com,2022-05-27 14:25:29-05:00
d87ed35393f687f83d8f93c9e2bb3d6b91d73190,Temporarily import cleanup fixture from distributed (#9138),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-27 14:31:10-05:00,GitHub,noreply@github.com,2022-05-27 14:31:10-05:00
182eef7c67f67690c516e04e48ad47058eea1daa,`pyarrow` 8.0 partitioning fix (#9143),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-27 18:27:30-05:00,GitHub,noreply@github.com,2022-05-27 18:27:30-05:00
56eeb06103efbf36cc73e9405bcec42a5b92515a,Un-`xfail` `test_groupby_grouper_dispatch` (#9139),GALI PREM SAGAR,sagarprem75@gmail.com,2022-05-27 19:14:29-05:00,GitHub,noreply@github.com,2022-05-27 19:14:29-05:00
0b876af35b5e49e1f9f0084db4b4d63d9d0ce432,Improve `pyarrow` partitioning logic (#9147),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-05-31 13:29:04-05:00,GitHub,noreply@github.com,2022-05-31 13:29:04-05:00
2578749ed8d63d317a2f485209736cfe2efe01e9,"Fix typo in `map_partitions` `func` parameter description (#9149)

recieve -> receive",Christopher Akiki,christopher.akiki@protonmail.com,2022-06-01 02:29:56+02:00,GitHub,noreply@github.com,2022-05-31 19:29:56-05:00
cdc7d2d326bddb4c51f642e806c59b635da958fd,Use deterministic hashing with `_iLocIndexer` /  `_LocIndexer` (#9108),Fabien Aulaire,306648+faulaire@users.noreply.github.com,2022-06-01 02:38:19+02:00,GitHub,noreply@github.com,2022-05-31 19:38:19-05:00
4769b56bccdeef14389febce4ca157e56c0c5cb9,"Link best practices to dataframe-parquet. (#9150)

Updates the text in the dask dataframe best practices to

1. link to the expanded parquet docs
2. remove comparison to HDF5
3. remove installation details",Tom Augspurger,taugspurger@microsoft.com,2022-06-01 08:49:32-05:00,GitHub,noreply@github.com,2022-06-01 08:49:32-05:00
cfca592db33bff58b7e15d4cd59736a1ac998909,"Switch parquet default engine (#9140)

The deprecation warning has been there long enough, we can now remove it
and fully switch the default engine to `pyarrow`.

Also removes a deprecation warning for `compression=""default""` which
has also sat long enough.",Jim Crist-Harif,jcristharif@gmail.com,2022-06-01 08:50:05-05:00,GitHub,noreply@github.com,2022-06-01 08:50:05-05:00
50792886e68899555a10269f64dfe0ae8cd3feb0,Try disabling HDF5 locking (#9154),Ian Rose,ian@coiled.io,2022-06-02 17:07:50-07:00,GitHub,noreply@github.com,2022-06-02 19:07:50-05:00
fc1cea9cdb2ea31348204aa51e4f6f7327a2af33,update docs theme for rebranding (#9160),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-06 08:23:00-07:00,GitHub,noreply@github.com,2022-06-06 16:23:00+01:00
cd6a58b6af8e0aab6c0e0e13fdc1a56445026025,Warn that cloudpickle is not always deterministic (#9148),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-06-07 00:40:43+05:18,GitHub,noreply@github.com,2022-06-06 14:22:43-05:00
8c9076a5b5e7be0bd658ba7ee5fd00fe9642a9d8,Fix parallel metadata collection in pyarrow engine (#9165),Richard (Rick) Zamora,rzamora217@gmail.com,2022-06-06 15:02:30-05:00,GitHub,noreply@github.com,2022-06-06 15:02:30-05:00
cd7768489e57dd0b335267baa43633961e5d2ff5,Add weeks to parse_timedelta (#9168),Matthew Rocklin,mrocklin@gmail.com,2022-06-07 07:44:19-07:00,GitHub,noreply@github.com,2022-06-07 10:44:19-04:00
828afd6f7f502a27dfa1db2e4ed2774e9e79f726,Add ``sort_results`` argument to ``assert_eq`` (#9130),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-06-07 20:05:03+05:18,GitHub,noreply@github.com,2022-06-07 10:47:03-04:00
c5e4b7c367a7283c81c49978020a26d04c34d3b5,Add example using pandas Series to ``map_partition`` doctring (#9161),Alex-JG3,49785867+Alex-JG3@users.noreply.github.com,2022-06-07 15:55:14+01:00,GitHub,noreply@github.com,2022-06-07 10:55:14-04:00
3ab687b4935110fc4b6b27c8ad214d034fcfbaea,Update logos page in docs (#9167),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-07 09:31:33-07:00,GitHub,noreply@github.com,2022-06-07 11:31:33-05:00
9bf7dd708ad13edaaee648e82a58a13851f2c3be,"Fix pyarrow.StringArray pickle (#9170)

Previously there was a bug when serializing arrays when a mask was
present *and* the array was sliced crossing a multiple-of-eight
8-element boundary (e.g. `x[7:9]`). This fixes that bug and expands the
test suite to cover this case.",Jim Crist-Harif,jcristharif@gmail.com,2022-06-07 12:50:43-05:00,GitHub,noreply@github.com,2022-06-07 12:50:43-05:00
6369cdb06813cf9d35f7d19f855ebabcde26d0a2,Add arrow schema extraction dispatch (#9169),GALI PREM SAGAR,sagarprem75@gmail.com,2022-06-07 13:42:35-05:00,GitHub,noreply@github.com,2022-06-07 13:42:35-05:00
22915dca760f92219915e3afaf9ffa8dc31d1ad9,Test round-tripping dataframe parquet I/O including pyspark (#9156),Ian Rose,ian@coiled.io,2022-06-08 11:04:17-07:00,GitHub,noreply@github.com,2022-06-08 13:04:17-05:00
ddb65cf30ab56c757216ced2778d583da247d42d,Add feature to show names of layer dependencies in HLG JupyterLab repr (#9081),aomirolis,72865596+aomirolis@users.noreply.github.com,2022-06-10 00:05:08+03:00,GitHub,noreply@github.com,2022-06-09 17:05:08-04:00
07e31d33b82854f36e17336c9826ed51bda0ba4a,"Remove ensure_file from recommended practice for downstream libraries (#9171)

Previously we did this to educate users about possible configuration.
But as configuration shifts really all this means is that there's lots
of stale config files lying around.

Historically we've found that it's better not to copy these.
We've been doing this in Dask libraries for some time now.
This change just changes the recommendations in the documentation.",Matthew Rocklin,mrocklin@gmail.com,2022-06-10 07:10:04-07:00,GitHub,noreply@github.com,2022-06-10 09:10:04-05:00
71aa6ffb3cfdc2a7dcfbc5f5ed91b20f7735c7fd,Better SEO for Installing Dask and Dask DataFrame Best Practices (#9178),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-10 07:17:58-07:00,GitHub,noreply@github.com,2022-06-10 10:17:58-04:00
f0e8dfe90848ad030c12eb5cc6f2609f47d81ca8,bump version to 2022.6.0,James Bourbeau,jrbourbeau@gmail.com,2022-06-10 16:51:38-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-06-10 16:51:38-05:00
abec9eafdb460a78dc15411d1b5c779376c6d88a,"More retries when writing parquet to remote filesystem (#9175)

When writing partitioned parquet to remote filesystems (often over protocols like HTTP), things happen. It can be very frustrating to a user who is writing thousands of partitions to have one of them fail due to a transient network hiccup. Both s3fs and boto have some functionality for retrying things, but even then stuff can bubble up to the dask scheduler level. Such network hiccups are tough to reproduce in a unit test context, but I have seen them in some of the parquet-related stress testing I've been doing of late.

This bumps the default retries for parquet I/O using annotations. If the user has already set retries in an outer scope, those are respected.",Ian Rose,ian@coiled.io,2022-06-13 08:37:56-07:00,GitHub,noreply@github.com,2022-06-13 11:37:56-04:00
a67cb86e262b57144888d0acf399b366cca25b09,Add minutes and hours to `dask.utils.format_time` (#9116),Matthew Rocklin,mrocklin@gmail.com,2022-06-13 09:52:28-07:00,GitHub,noreply@github.com,2022-06-13 11:52:28-05:00
dadfd9b681997b20026e6a51afef3fb9ebb1513a,Include known inconsistency in DataFrame `str.split` accessor docstring  (#9177),Richard Pelgrim,68642378+rrpelgrim@users.noreply.github.com,2022-06-13 19:09:28+02:00,GitHub,noreply@github.com,2022-06-13 12:09:28-05:00
068eb7fe51aa4274e0b3f69714aec2f30567b39a,"Deprecate extra `format_time` utility (#9184)

* Deprecate extra format_time utility

* Don't use deprecated method internally

* Skip doctests",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-06-14 04:08:00-05:00,GitHub,noreply@github.com,2022-06-14 10:08:00+01:00
0ce193b782a4e8d0cc6f62099c2fe6b94bd10e16,``shuffle_group()``: avoid converting to arrays (#9157),Mads R. B. Kristensen,madsbk@gmail.com,2022-06-16 17:34:45+02:00,GitHub,noreply@github.com,2022-06-16 11:34:45-04:00
af1b65550442ead60f9d223e42d9473caabfc832,Update ``to_csv`` docstring (#9094),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-16 10:19:18-07:00,GitHub,noreply@github.com,2022-06-16 13:19:18-04:00
6b0b297046bbc8aa61ea5ee2304b3dc968f857f5,"Add ``allow_rechunk`` kwarg to ``dask.array.overlap`` function (#7776)

If ``allow_rechunk=False`` this function raises an exception instead of rechunking when a small chunk is found.",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-06-16 13:59:10-04:00,GitHub,noreply@github.com,2022-06-16 13:59:10-04:00
dfd9a5cf901df6fb822d77f68945a93fb2966930,Better SEO for Delayed and Best Practices (#9194),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-16 20:22:45-07:00,GitHub,noreply@github.com,2022-06-16 22:22:45-05:00
d73ff252b3da7084023c1033022e46642e754617,Remove ipython hack (#9200),crusaderky,crusaderky@gmail.com,2022-06-20 18:13:47+01:00,GitHub,noreply@github.com,2022-06-20 18:13:47+01:00
d33e4a5cc088edab0a76f922d4a81b4042bee92c,add link to genevieve's blog on chunk sizes (#9199),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-06-21 00:55:20+05:18,GitHub,noreply@github.com,2022-06-20 15:37:20-04:00
a62c0087bf8dcc7fb207287596367b94ac8c9bd5,"Dask in pyodide (#9053)

This is a small step towards #7764 and https://github.com/dask/distributed/issues/6257. It's basically just defensively importing `threading` and `multiprocessing` and defaulting to the synchronous scheduler if those fail. So this is currently mostly be useful for demos and training around the dask collections API. But it *does* work.

This is distinct from actually getting a `distributed.Client` working and talking to a remote cluster, which will require some actual networking work.",Ian Rose,ian@coiled.io,2022-06-20 12:58:28-07:00,GitHub,noreply@github.com,2022-06-20 15:58:28-04:00
b7bbdf990e7ada8fabba8d56708af518262b7615,Fix indentation in Best Practices (#9196),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-20 13:16:01-07:00,GitHub,noreply@github.com,2022-06-20 16:16:01-04:00
08209839c179f279fb6c5161ffa393fdc1aa221e,Add missing `append` in `delayed` best practices example (#9202),Ben,47162034+benjaminhduncan@users.noreply.github.com,2022-06-21 13:16:35-04:00,GitHub,noreply@github.com,2022-06-21 12:16:35-05:00
8323ee966dc7c7c0daa7dcfae8f54777b52daea1,Add ``inconsistencies`` keyword to ``derived_from`` (#9192),Richard Pelgrim,68642378+rrpelgrim@users.noreply.github.com,2022-06-22 19:18:24+02:00,GitHub,noreply@github.com,2022-06-22 13:18:24-04:00
78452267da9683fe637148fd7a667724c3ff7713,FIX: update versioneer for py312 (#9205),Thomas A Caswell,tcaswell@gmail.com,2022-06-22 13:59:18-04:00,GitHub,noreply@github.com,2022-06-22 13:59:18-04:00
aa801de0f42716d977051f9abb9da2c9399da05c,Better error message for unsupported numpy operations on dask.dataframe objects. (#9201),Julia Signell,jsignell@gmail.com,2022-06-23 16:06:57-04:00,GitHub,noreply@github.com,2022-06-23 16:06:57-04:00
3c87d4ef6c3230055c47e886e566c13f719ead86,Better SEO for 10 Minutes to Dask (#9182),Sarah Charlotte Johnson,sarah@coiled.io,2022-06-24 06:59:35-07:00,GitHub,noreply@github.com,2022-06-24 09:59:35-04:00
8f5d2c143358125c08424a0d0970dad21ea715de,Create ``dask.utils.show_versions`` (#9144),Sultan Orazbayev,contact@econpoint.com,2022-06-24 20:05:49+06:00,GitHub,noreply@github.com,2022-06-24 10:05:49-04:00
0ee07e3cc1ccd822227545936c1be0c94f84ad54,Enum deterministic hashing (#9212),Fabien Aulaire,306648+faulaire@users.noreply.github.com,2022-06-24 16:08:26+02:00,GitHub,noreply@github.com,2022-06-24 10:08:26-04:00
0204e1a6c4cefe965e1724a35b17db1787fd63d3,Timedelta deterministic hashing (#9213),Fabien Aulaire,306648+faulaire@users.noreply.github.com,2022-06-24 16:47:13+02:00,GitHub,noreply@github.com,2022-06-24 10:47:13-04:00
7cfb2a0cd52ad9ae51f77d493e420da84b14c204,bump version to 2022.6.1,Julia Signell,jsignell@gmail.com,2022-06-24 11:47:18-04:00,Julia Signell,jsignell@gmail.com,2022-06-24 11:47:18-04:00
26ea29c5f8ea6ba493415f37644bdad420133b09,"Better SEO for Futures and Dask vs. Spark pages (#9217)

* add more background to futures page

* add image, more background for futures

* update last line

* add new figure, meta description for SEO",Sarah Charlotte Johnson,sarah@coiled.io,2022-06-27 08:21:26-07:00,GitHub,noreply@github.com,2022-06-27 16:21:26+01:00
54cdaf4319c394cd92655dd2ab2cc682343b6fa2,Correct dtypes when ``concat`` with an empty dataframe (#9193),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-06-28 22:40:41+05:18,GitHub,noreply@github.com,2022-06-28 13:22:41-04:00
bc3137d954d71068de4ef00c7c51470bfc69ef43,Update release-procedure to include more detail and helpful commands (#9215),Julia Signell,jsignell@gmail.com,2022-06-28 13:28:44-04:00,GitHub,noreply@github.com,2022-06-28 13:28:44-04:00
0a7c41dd1ffd84ea56e387eea51b7df1dbb81140,"Feat: read entrypoints in ``dask.sizeof`` (#7688)

Entry-points are only used when there is no dispatch for a given type which eliminates the cost for applications which do not need entry-point based implementations.",Angus Hollands,goosey15@gmail.com,2022-06-29 16:28:43+01:00,GitHub,noreply@github.com,2022-06-29 11:28:43-04:00
6af81c9202af232b2c6e5521b6029a6d657bbe9f,Tougher mypy checks (#9206),crusaderky,crusaderky@gmail.com,2022-06-29 19:58:26+01:00,GitHub,noreply@github.com,2022-06-29 14:58:26-04:00
de0070e0f1e90259c46368310d9e9306ab58f3f4,Fix TypeError: 'Serialize' object is not subscriptable when writing parquet dataset with Client(processes=False) (#9015),Lucas Miguel Ponce,lucasmsp@users.noreply.github.com,2022-06-29 16:05:11-03:00,GitHub,noreply@github.com,2022-06-29 14:05:11-05:00
352d934d11a144b9dafde79a933584a7a090b615,map_overlap : multiple dataframe handling (#9145),Fabien Aulaire,306648+faulaire@users.noreply.github.com,2022-06-29 21:07:53+02:00,GitHub,noreply@github.com,2022-06-29 14:07:53-05:00
1a760229fc18c0c7df41669a13a329a287215819,Only import IPython if type checking (#9230),Florian Jetter,fjetter@users.noreply.github.com,2022-07-01 12:55:39+02:00,GitHub,noreply@github.com,2022-07-01 11:55:39+01:00
ecbab9d7cb52a2d96cb1b8dc397a87811e6f8059,Add ``AttributeNotImplementedError`` for properties so IPython glob search works (#9231),Erik Welch,erik.n.welch@gmail.com,2022-07-06 09:01:45-05:00,GitHub,noreply@github.com,2022-07-06 10:01:45-04:00
785c8456ea2f62e41b0110b07e883eea42f969d2,"Use ``math.prod`` instead of ``np.prod`` on lists, tuples, and iters (#9232)

math.prod requires Python 3.8+, so historically it wasn't used in the codebase.
It's 20~40x faster than numpy.prod on pure python lists and tuples, and it doesn't need to convert iterators to lists, resulting in cleaner code.",crusaderky,crusaderky@gmail.com,2022-07-06 16:55:23+01:00,GitHub,noreply@github.com,2022-07-06 11:55:23-04:00
3456d42e5642700f4cb2948f5b0d0e3f37306a82,"Fix: support ``pathlib.PurePath`` in ``normalize_token`` (#9229)

Make sure that `dask.base.tokenize` produces the same string for repeat invocations on the same path.",Angus Hollands,goosey15@gmail.com,2022-07-06 18:49:09+01:00,GitHub,noreply@github.com,2022-07-06 13:49:09-04:00
b83f979f708d9a7915e13fc5c893a54345697624,Highlight note about persist (#9234),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-07-08 19:01:27+05:18,GitHub,noreply@github.com,2022-07-08 09:43:27-04:00
d6c0878472320661f1e1d3e636b422de5565d622,bump version to 2022.7.0,James Bourbeau,jrbourbeau@gmail.com,2022-07-08 16:11:14-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-07-08 16:11:14-05:00
d9c93fe873de06eb06c1577f94048c5ab0898b1f,Adds an custom aggregate example using numpy methods (#9260),geraninam,108741360+geraninam@users.noreply.github.com,2022-07-11 18:14:15-04:00,GitHub,noreply@github.com,2022-07-11 18:14:15-04:00
10ae8677b4f5ad6f2977814241e5fc278309da33,Add typing to common array properties (#9255),Illviljan,14371165+Illviljan@users.noreply.github.com,2022-07-12 20:44:53+02:00,GitHub,noreply@github.com,2022-07-12 14:44:53-04:00
80065ca2e92b75e6ccd1b9a7be263c7ea3c08ac2,Fix bug when filtering on partitioned column with pyarrow (#9252),Richard (Rick) Zamora,rzamora217@gmail.com,2022-07-12 16:42:09-05:00,GitHub,noreply@github.com,2022-07-12 16:42:09-05:00
36dfe9621dc0d4fb38260590bfa84f06dbb5e57a,Update `test_plot_multiple` for upcoming `bokeh` release (#9261),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-07-12 16:44:53-05:00,GitHub,noreply@github.com,2022-07-12 16:44:53-05:00
7b054f1d8f4a2343268f5182d47996a5469b10dc,Fix a few typos (#9270),Tim Gates,tim.gates@iress.com,2022-07-14 11:51:21+10:00,GitHub,noreply@github.com,2022-07-13 20:51:21-05:00
090ec246d961662424d6c5c108427a870d9312fb,Use `max` (instead of `sum`) for calculating `warnsize` (#9235),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-07-15 08:21:17+05:18,GitHub,noreply@github.com,2022-07-14 22:03:17-05:00
6ab0081e18da5add31eb81dcc7928c49d90f78ed,Update `calculate_divisions` docstring (#9275),Tom Augspurger,taugspurger@microsoft.com,2022-07-15 09:40:04-05:00,GitHub,noreply@github.com,2022-07-15 10:40:04-04:00
b4f100916e22e9a9c33518b66a7cec39ced1965e,Remove outdated reference to scheduler and worker dashboards (#9278),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-07-16 00:59:09+05:18,GitHub,noreply@github.com,2022-07-15 14:41:09-05:00
ac74939697c328bd6456aa9fad7d9520328db6e5,Fix bug in HighLevelGraph.cull (#9267),Richard (Rick) Zamora,rzamora@nvidia.com,2022-07-15 19:59:14-05:00,GitHub,noreply@github.com,2022-07-15 19:59:14-05:00
2820bae493a49cb1d0a6e376985c5473b8f04fa8,"Don't include docs in ``Array`` methods, just refer to module docs (#9244)

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Julia Signell,jsignell@gmail.com,2022-07-19 12:13:45-04:00,GitHub,noreply@github.com,2022-07-19 12:13:45-04:00
a9fc96e7b28543cea005d415a3be978bf96b9caf,sort categories (#9264),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-07-20 01:22:05+05:18,GitHub,noreply@github.com,2022-07-19 13:04:05-07:00
ef3eb9e61a4c74f95a4552e58080c47857d300a6,"Unknown chunk slicing - raise informative error (#9285)

Co-authored-by: Pavithra Eswaramoorthy <pavithraes@outlook.com>",Naty Clementi,natyclementi@gmail.com,2022-07-20 10:04:51-04:00,GitHub,noreply@github.com,2022-07-20 10:04:51-04:00
fa62eda520a987951f4f2d0d787a78138efe33ee,"Make cycle reported by toposort shorter. (#9068)

This is an alternative to #9057.  Previously, the cycle reported by toposort could contain extra dependencies of nodes that are part of the cycle.  Now we use a simple heuristic to greedily construct a short cycle that only contains nodes in the cycle, but there is no guarantee that this is the shortest cycle.",Erik Welch,erik.n.welch@gmail.com,2022-07-20 09:37:10-05:00,GitHub,noreply@github.com,2022-07-20 10:37:10-04:00
1f0af935aa5ac04bb9ca702d529cd3ae59280843,updated repartition documentation to add note about `partition_size` (#9288),Dylan Stewart,94502285+drstewart19@users.noreply.github.com,2022-07-20 10:49:32-04:00,GitHub,noreply@github.com,2022-07-20 20:07:32+05:18
84533ea4018a8bce41d00f0794db5e4bfef57416,"Add type annotations to `dd.from_pandas` and `dd.from_delayed` (#9237)

* Allow a single Delayed instance to DataFrame.from_delayed

* Update dask/dataframe/io/io.py

Co-authored-by: Doug Davis <ddavis@ddavis.io>

* Update dask/dataframe/io/io.py

Co-authored-by: Doug Davis <ddavis@ddavis.io>

* Code review, pre-commit

* Make mypy happy using dark magic

* Don't try to use Future which may not be imported

* Update dask/dataframe/io/io.py

Co-authored-by: Ian Rose <ian.r.rose@gmail.com>

* Update dask/dataframe/io/io.py

Co-authored-by: Pavithra Eswaramoorthy <pavithraes@outlook.com>

* Update

* Code review

* Remove types from docstring

* Update divisions docstring

* Allow from_pandas to return a Series

Co-authored-by: Doug Davis <ddavis@ddavis.io>
Co-authored-by: Ian Rose <ian.r.rose@gmail.com>
Co-authored-by: Pavithra Eswaramoorthy <pavithraes@outlook.com>",Michael Milton,ttmigueltt@gmail.com,2022-07-22 01:48:19+10:00,GitHub,noreply@github.com,2022-07-21 08:48:19-07:00
edfa91e224ddb6028ac3a1cdd54b05161059ee4e,"Return dask array if all axes are squeezed (#9250)

* return 0d array if all axes are squeezed

* update if logic",Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-07-22 18:11:49+05:18,GitHub,noreply@github.com,2022-07-22 05:53:49-07:00
cfaf931072ae079313761d4d61e25956029abf6c,bump version to 2022.7.1,James Bourbeau,jrbourbeau@gmail.com,2022-07-22 16:08:08-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-07-22 16:08:08-05:00
b7846b986632d0b20668ff632d839bcfb0d5469f,Add `bokeh` and `scipy` to `upstream` CI build (#9265),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-07-25 11:43:59-05:00,GitHub,noreply@github.com,2022-07-25 11:43:59-05:00
6bad4c200bea46c76023c52fdf720200881eadda,Fix division calculation in `dask.dataframe.io.from_dask_array` (#9282),Jordan Yap,5497988+jjyap@users.noreply.github.com,2022-07-26 06:44:26-07:00,GitHub,noreply@github.com,2022-07-26 19:02:26+05:18
e07099959c2837a95b36a818ad9fbc37d3865d1f,Fix `Index.memory_usage` (#9290),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-07-26 09:22:20-05:00,GitHub,noreply@github.com,2022-07-26 09:22:20-05:00
00c8ec3e613c38af646ebc5c7ea4a60d562f6270,Switch js-yaml for yaml.js in config converter (#9306),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2022-07-26 15:27:21+01:00,GitHub,noreply@github.com,2022-07-26 09:27:21-05:00
f615f00c146ac90bb6704dca81c6cefd5aa1d192,"Add `pandas[test]` to `test` extra (#9110)

Since the tests use pandas.test (the actual Pandas test suite), not
only pandas.testing, it makes sense to rely on Pandass test extra.",Ben Beasley,code@musicinmybrain.net,2022-07-26 11:12:50-04:00,GitHub,noreply@github.com,2022-07-26 10:12:50-05:00
b7c766b42a502ae61c6b0b5471f170f87ee72b93,"Include `meta` in array serialization (#9240)

Adds the `_meta` attribute to the result of the `__reduce__` method. This prevents the `_meta` attribute from being calculated from scratch after serialization.",Frdric BRIOL,fbriol@gmail.com,2022-07-26 17:26:13+02:00,GitHub,noreply@github.com,2022-07-26 11:26:13-04:00
c98fab7112e92c6455a1e840a0d0f8b6c7ddc55d,Use consistent variable names for pandas df and  dask ddf in dataframe-groupby.rst (#9304),ivojuroro,ivojuroro@gmail.com,2022-07-26 23:50:06+02:00,GitHub,noreply@github.com,2022-07-26 17:50:06-04:00
3016ef3778cd1847d11c794df0f7f51d6c7d814f,"Update gpuCI `RAPIDS_VER` to `22.10` (#9314)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2022-07-27 11:42:23-05:00,GitHub,noreply@github.com,2022-07-27 11:42:23-05:00
335882ef60f646c3aeb9234c431a6e1a87224eed,Add tests for `cupy.angle()` (#9312),Peter Andreas Entschev,peter@entschev.com,2022-07-27 19:27:42+02:00,GitHub,noreply@github.com,2022-07-27 12:27:42-05:00
50ab8af982a31b186a8e47597f0ad7e5b59bcab5,Temporarily pin `werkzeug` in CI to avoid test suite hanging  (#9325),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-07-27 21:11:16-05:00,GitHub,noreply@github.com,2022-07-27 21:11:16-05:00
0b637ab775fa177d0af737e4648a89484aee5c74,Fix small typo in 10 minutes to Dask page (#9329),Shaghayegh,93452403+Shadimrad@users.noreply.github.com,2022-07-28 15:28:12-07:00,GitHub,noreply@github.com,2022-07-28 17:28:12-05:00
ddcb841903f8f180aa359bd8db0054aa3b5964e3,"Change repr methods to avoid Layer materialization (#9289)

* change task count to layer count in DataFrame and Array reprs

* add test

* address doctest failure

* simplify test

* support pluralization

* use 'graph layers' instead of 'layers' to be more explicit",Richard (Rick) Zamora,rzamora@nvidia.com,2022-08-01 17:50:04-05:00,GitHub,noreply@github.com,2022-08-01 15:50:04-07:00
283f3d837c060bb60bf69e44c6e82483cc001c86,Temporarily `xfail` `test_solve_sym_pos` (#9336),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-02 05:44:04+05:18,GitHub,noreply@github.com,2022-08-01 19:26:04-05:00
81b7776a85f98a0d95477820573fe68edef74f2f,Import `loop_in_thread` fixture in tests (#9337),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-08-01 20:12:59-05:00,GitHub,noreply@github.com,2022-08-01 20:12:59-05:00
9fa97eafddd820c0290ace62e72ae045bce2fe05,Fix docs title formatting for Extend `sizeof`,Doug Davis,ddavis@ddavis.io,2022-08-02 09:53:31-04:00,GitHub,noreply@github.com,2022-08-02 19:11:31+05:18
626a8d0b55c25f5c75deed74917e40cf9d69885e,Docs: Add I/O info for async functions (#9326),Logan Norman,68346355+lognorman20@users.noreply.github.com,2022-08-02 08:14:42-07:00,GitHub,noreply@github.com,2022-08-02 11:14:42-04:00
5f0f5753326e755ba9a1561dc35bae315194d220,Tidy up docs snippet for futures IO functions (#9340),Julia Signell,jsignell@gmail.com,2022-08-02 12:52:08-04:00,GitHub,noreply@github.com,2022-08-02 11:52:08-05:00
5bbf072177fabdfc3421a5902aa23ee2bbf57ef4,Match input and output structure in `_sample_reduce` (#9272),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-02 22:14:40+05:18,GitHub,noreply@github.com,2022-08-02 11:56:40-05:00
98273f749e0e0c515346ec3e4fd178840f4a2695,"Add ``keepdims`` keyword for ``da.average`` (#9332)

Passes the `keepdims` keyword through `dask.array.average` and `dask.array.ma.average`, similar to the recent change in `numpy`:
https://github.com/numpy/numpy/pull/21485
https://github.com/numpy/numpy/pull/21868",Ruth Comer,10599679+rcomer@users.noreply.github.com,2022-08-03 15:36:16+01:00,GitHub,noreply@github.com,2022-08-03 10:36:16-04:00
ad044debefade5155ce3090c979640cab63cef84,Fix bug for ``cumsum`` on cupy chunked dask arrays (#9320),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-08-04 00:57:09+10:00,GitHub,noreply@github.com,2022-08-03 10:57:09-04:00
223ef3e9ab8fbe118f228b0553124531098a594a,Add note to ``da.from_array`` about how the order is not preserved (#9346),Julia Signell,jsignell@gmail.com,2022-08-03 11:27:38-04:00,GitHub,noreply@github.com,2022-08-03 11:27:38-04:00
afe6ad0847e655a944b0608de27a202ab2f6eb2f,Warn if user sets index with existing index (#9341),Julia Signell,jsignell@gmail.com,2022-08-03 11:45:27-04:00,GitHub,noreply@github.com,2022-08-03 21:03:27+05:18
c97193156a8ba6d9bf18c4e9f5d68830471aec74,"Revise divisions logic in from_pandas (#9221)

* rewrite/fix sorted_division_locations

* format

* mem cleanup

* fix some tests - but there is still an existing  bug in merge_asof

* saving partial test fixes

* get test_dataframe.py passing

* testing revisions

* perfectly satisfy npartitions

* tweak docstring

* use npartitions=1 in cudf test (since it was only passing with one partition anyway)

* avoid breaking dask-cudf (in most places)

* reformat

* fix groupby tests

* avoid np.unique when possible

* trigger linting

* use 'correct' typing fix

* remove type-ignore comment

* Update dask/dataframe/io/tests/test_io.py

Co-authored-by: Ian Rose <ian.r.rose@gmail.com>

* subtact out 'drift' to improve npartitions accuracy

* remove none_chunksize

* remove unnecessary assertions

* tweak test changes

* add new test for duplicates

* simplify unique call

* add gpu coverage

* roll back unique change

* avoid overstepping too many unique groups

Co-authored-by: Ian Rose <ian.r.rose@gmail.com>",Richard (Rick) Zamora,rzamora@nvidia.com,2022-08-03 16:59:58-05:00,GitHub,noreply@github.com,2022-08-03 14:59:58-07:00
ef0e84abd722484b234688167f1ab487dd21ff9b,"Update `test_getitem_avoids_large_chunks_missing` (#9347)

Remove `xfail`ed test, remove `split-large-chunks` config, and add `chunk-size` config.",Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-04 16:39:41+05:18,GitHub,noreply@github.com,2022-08-04 16:39:41+05:18
e61405cb5d345e73f1952ee3d50708566b5263d1,Docs: how to use kwargs with custom task graphs (#9322),Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-08-04 23:26:02+10:00,GitHub,noreply@github.com,2022-08-04 09:26:02-04:00
377940b64914111ff92f2ea7f0b264dccabe273a,"Make sure 'order' kwarg will not crash the 'astype' method in dask (#9317)

Allows the `order` kwarg to be passed in to the dask `astype` method without triggering an error.

Our friends over at zarr have found a small bug in dask. While the numpy `astype` method allows the user to use an `order` keyword argument ([docs here](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.astype.html)), the corresponding dask `astype` method produces an error 

Why we should do this:
1. It's not always as obvious as telling the user to edit the line in their code that uses `astype`, since it's often used very indirectly. Here's one example: https://github.com/zarr-developers/zarr-python/issues/962#issuecomment-1040545707
2.  It reflects better on dask not to have odd errors popping up, even if this PR won't completely solve the issue being discussed over at zarr https://github.com/zarr-developers/zarr-python/issues/962",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2022-08-04 23:47:35+10:00,GitHub,noreply@github.com,2022-08-04 09:47:35-04:00
25afc340ab87831f1ac7d02bdf42d697d77bdcf6,"Ensure `make_meta` doesn't hold ref to data (#9354)

Previously `make_meta(df)` would accidentally hold a reference to the
original backing data (which is potentially large), resulting in higher
than expected memory usage. We now perform a `copy` to ensure that the
view is replaced by a new array, removing these references.",Jim Crist-Harif,jcristharif@gmail.com,2022-08-04 17:42:19-05:00,GitHub,noreply@github.com,2022-08-04 15:42:19-07:00
386b4753f1aa5d96230c814391fde50758b8f533,Update `da.linalg.solve` for SciPy 1.9.0 compatibility  (#9350),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-05 21:04:02+05:18,GitHub,noreply@github.com,2022-08-05 10:46:02-05:00
a77ce9513745d64cb47033d5f8026b3acc5424bf,bump version to 2022.8.0,James Bourbeau,jrbourbeau@gmail.com,2022-08-05 14:57:04-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-08-05 14:57:04-05:00
c609a7ef309469ed78bd1a6bb13f74dfb325f488,Add support for empty partitions to `da.min`/`da.max` functions (#9268),geraninam,108741360+geraninam@users.noreply.github.com,2022-08-05 17:08:50-04:00,GitHub,noreply@github.com,2022-08-05 16:08:50-05:00
923a0e243113decc74569cf38012506d33023528,remove outdated meta information,Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-07 20:53:20+05:18,GitHub,noreply@github.com,2022-08-07 20:53:20+05:18
54549ff802ba112ea059f70418d453779b3b4080,Consolidate dashboard diagnostics documentation (#9357),Sarah Charlotte Johnson,sarah@coiled.io,2022-08-08 13:27:23-07:00,GitHub,noreply@github.com,2022-08-08 15:27:23-05:00
8968e88e4a02706dd34b5e7fc72aae4f188d4bf9,"Fix type annotations for `dd.from_pandas` and `dd.from_delayed` (#9362)

* remove union

* Revert ""remove union""

This reverts commit b4734a5cbc34dec67da2109eeb23583c3ba448bd.

* add overloads

* match overload args

* ignore pd.series overload

* set overload args back to original ones

Co-authored-by: Jordan Yap <jordan.yap@abcellera.com>",Jordan Yap,5497988+jjyap@users.noreply.github.com,2022-08-08 16:15:03-07:00,GitHub,noreply@github.com,2022-08-08 16:15:03-07:00
f7fd6c480478bdee5c7d6b8736ba69d5a2e918e0,"Fix bag sampling when there are some smaller partitions (#9349)

Allow intermediate sampled results to be smaller than the target number
of samples. This allows you to have some small partitions.",Ian Rose,ian@coiled.io,2022-08-09 06:59:03-07:00,GitHub,noreply@github.com,2022-08-09 19:17:03+05:18
e2548c53db70929e42aa8cdac18bee552a291adb,"Improve `dataclass` handling in `unpack_collections` (#9345)

* Try to detect a custom __init__

* Mutate dataclass instances instead of creating new ones

* Immutable approach to dataclass unpacking

* Code review comments

* Minor",Hendrik Makait,hendrik.makait@gmail.com,2022-08-09 20:46:20+02:00,GitHub,noreply@github.com,2022-08-09 11:46:20-07:00
a3c063434943631544d4f18494df78e8d0bfef73,Make `set_index` handle entirely empty dataframes (#8896),Julia Signell,jsignell@gmail.com,2022-08-10 08:00:37-04:00,GitHub,noreply@github.com,2022-08-10 17:18:37+05:18
49d11a4e6cd9f2296f73c250fb636b679becd871,"Unpack `namedtuple` (#9361)

* Unpack namedtuple

* Support namedtuple to_task_dask

* Move is_namedtuple_instance to utils and make it even more strict

* Unpack namedtuple in base",Hendrik Makait,hendrik@coiled.io,2022-08-10 17:49:18+02:00,GitHub,noreply@github.com,2022-08-10 08:49:18-07:00
edb8a10f8c9706ec8868d174633b95355ef6cc91,"Don't allow incompatible keywords in `DataFrame.dropna` (#9366)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Naty Clementi,natyclementi@gmail.com,2022-08-11 15:03:43-04:00,GitHub,noreply@github.com,2022-08-11 14:03:43-05:00
147cb36c19400f470796e574e01c241c76de2339,Remove `werkzeug` pin in CI (#9371),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-08-11 18:11:31-05:00,GitHub,noreply@github.com,2022-08-11 18:11:31-05:00
280ac9746781f477e7754ba1413d53936aff2031,Fix `make_meta` while using categorical column with index (#9348),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-12 08:38:50+05:18,GitHub,noreply@github.com,2022-08-11 22:20:50-05:00
8b95f983c232c1bd628e9cba0695d3ef229d290b,Sparse array reductions (#9342),Ian Rose,ian@coiled.io,2022-08-11 20:26:14-07:00,GitHub,noreply@github.com,2022-08-11 22:26:14-05:00
1fcfb7c93e83908eee4449b473f6e325b79e1f1a,"Fix `SeriesGroupBy` cumulative functions with `axis=1` (#9377)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-16 08:01:54+05:18,GitHub,noreply@github.com,2022-08-15 21:43:54-05:00
b894f72d740425c252e7896089ce328bc56a71fc,Upload environment file artifact for each CI build (#9372),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-08-16 18:01:47-05:00,GitHub,noreply@github.com,2022-08-16 16:01:47-07:00
0a7b58b134ba38e00c97f715030fe15eb84d0bb2,"Implement ma.*_like functions (#9378)

Implement `ones_like`, `zeros_like` and `empty_like` within `dask.array.ma`.",Ruth Comer,10599679+rcomer@users.noreply.github.com,2022-08-17 14:46:04+01:00,GitHub,noreply@github.com,2022-08-17 09:46:04-04:00
feb40fdc4a20ddcdde3ea07273dd44d89ba7c59b,Clarify that ``bind()`` etc. regenerate the keys (#9385),crusaderky,crusaderky@gmail.com,2022-08-17 14:49:35+01:00,GitHub,noreply@github.com,2022-08-17 09:49:35-04:00
a9ee6c2fdf0a3093747e675997143e0dbe584bad,Add `entry_points` compatibility utility (#9388),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2022-08-17 16:36:46+01:00,GitHub,noreply@github.com,2022-08-17 10:36:46-05:00
c1bc90aa5149d8f515aadd8bcf11712e9ce7cdee,Use `entry_points` utility in `sizeof` (#9390),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-08-17 12:56:27-05:00,GitHub,noreply@github.com,2022-08-17 12:56:27-05:00
097decd5f4914d7cd85b3babd6ecdd20a633bf8d,"Shuffle-based groupby aggregation for high-cardinality groups (#9302)

* copy experimental files into fresh branch

* use split_every to guide repartitioning

* add math import

* handle split_every None

* avoid shuffle for split_out==1

* add test coverage for shuffle=True

* fix test_shuffle_aggregate

* strip shuffle-based groupby out of aca (and define stand-alone function)

* set shuffle default to 'tasks' for groupby aggregation

* remove extra sort arg

* add sort=True support for split_out>1 when shuffle=True

* remove kwargs

* add new docstring for aggs",Richard (Rick) Zamora,rzamora217@gmail.com,2022-08-17 15:01:27-05:00,GitHub,noreply@github.com,2022-08-17 13:01:27-07:00
44cd9bc7dccde6c6fb140700b85e1bf2b0004282,Fuse compatible annotations (#9402),Ian Rose,ian@coiled.io,2022-08-19 13:24:08-07:00,GitHub,noreply@github.com,2022-08-19 15:24:08-05:00
57ff5c2e9c550e3c76592b0affa0d45e88375e12,bump version to 2022.8.1,James Bourbeau,jrbourbeau@gmail.com,2022-08-19 17:35:49-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-08-19 17:35:49-05:00
ff50abf26d901eb1fb501da5beaeb7221e11bb29,Add maintainer documentation page (#9309),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-08-23 10:25:28-05:00,GitHub,noreply@github.com,2022-08-23 10:25:28-05:00
81f771e05f57cab2838534c319a9b81f6e5a00cd,"Fix caching-related MaterializedLayer.cull performance regression (#9413)

* allow MaterializedLayer to cache culled_deps

* format

* make test more thorough

* fix import mistake

* add link to issue in comment

* improve test",Richard (Rick) Zamora,rzamora217@gmail.com,2022-08-24 09:48:24-05:00,GitHub,noreply@github.com,2022-08-24 07:48:24-07:00
c1bc27d0af8985c4802d48d8f8e032c62d33d2be,Skip failing fastparquet test with latest release (#9432),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-08-25 12:37:09-05:00,GitHub,noreply@github.com,2022-08-25 12:37:09-05:00
cf7781bcf2c7b478b701fd848e78d51c5a9c6e8f,"Accept superclasses in NEP-13/17 dispatching (#6710)

* Support __array_function__ dispatching on Array subclasses

https://github.com/dask/dask/pull/6393#discussion_r498536767

* defer to subclasses, but don't hardcode Array

* Accept superclasses in NEP-13/17 dispatching",Gabe Joseph,gjoseph92@gmail.com,2022-08-25 13:36:14-06:00,GitHub,noreply@github.com,2022-08-25 15:36:14-04:00
bf66221722cce8f09a9b09895bdb4596f14a5430,`tmpfile` does not end files with period on empty extension (#9429),Hendrik Makait,hendrik@coiled.io,2022-08-26 00:27:38+02:00,GitHub,noreply@github.com,2022-08-25 16:27:38-06:00
222ea067db35f65787ee2a877b6e29bb85ae9eed,revert skipped fastparquet test (#9439),Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-08-29 20:36:19+05:18,GitHub,noreply@github.com,2022-08-29 11:18:19-04:00
19a51474c2781bed10471a78eed784e314c9d64e,Enable automatic column projection for groupby aggregations (#9442),Richard (Rick) Zamora,rzamora217@gmail.com,2022-08-30 15:50:17-05:00,GitHub,noreply@github.com,2022-08-30 15:50:17-05:00
58c8f10ea69f0ea91f611396dc54beacfa37bb8d,"Fix `get_group` with categoricals (#9436)

* add temporary test and fix

* by_key can be series-like

* undo accidental typo

* cleaner check

* support categoricals and consolidate tests",Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-09-02 05:42:24+05:18,GitHub,noreply@github.com,2022-09-01 17:24:24-07:00
5193c02125a0d7a0b3026298249430e321de4175,"Rename `by` columns internally for cumulative operations on the same `by` columns (#9430)

* rename 'by' columns internally in _cum_agg

* rename only if needed

* explicitly check if columns is not None

* use uuid instead of 'by'

* xfail test for older pandas

* use assign instead of setitem",Pavithra Eswaramoorthy,pavithraes@outlook.com,2022-09-02 05:56:20+05:18,GitHub,noreply@github.com,2022-09-01 17:38:20-07:00
93b8ebe36b85277b71c65da7d35c737a958fe486,bump version to 2022.9.0,James Bourbeau,jrbourbeau@gmail.com,2022-09-02 16:35:25-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-09-02 16:35:25-05:00
ee0b41c0dd36270adce4678ab08c2ce646f60538,"changed flake8 mirror and updated version (#9456)

Co-authored-by: Luke Conibear <luke.conibear@tomorrow.io>",Luke Conibear,laconibear@gmail.com,2022-09-06 14:53:58+01:00,GitHub,noreply@github.com,2022-09-06 09:53:58-04:00
df57b1e25de0493ff9c0b46c29b56001c78d0a8a,Added `distributed.utils.key_split` functionality to `dask.utils.key_split` (#9464),Luke Conibear,laconibear@gmail.com,2022-09-06 17:12:48+01:00,GitHub,noreply@github.com,2022-09-06 18:12:48+02:00
ef34664a9f7ec477c2e311d968603edcdb0d1dd0,Replaced mutable data structures for default arguments (`B006`) (#9462),Luke Conibear,laconibear@gmail.com,2022-09-06 19:08:56+01:00,GitHub,noreply@github.com,2022-09-06 13:08:56-05:00
37fbef79958dc326f3ff0baf884b1177f16fd93a,CI: pin libprotobuf to allow nightly pyarrow in the upstream CI build (#9465),Joris Van den Bossche,jorisvandenbossche@gmail.com,2022-09-07 01:03:53+02:00,GitHub,noreply@github.com,2022-09-06 18:03:53-05:00
c2c8a8eb16bfc474cb0e21390726d0b63f4518f5,Replaced `getattr` calls for constant attributes (`B009`) (#9460),Luke Conibear,laconibear@gmail.com,2022-09-07 02:26:50+01:00,GitHub,noreply@github.com,2022-09-06 20:26:50-05:00
b016998fa931f644df4d266a3ed5e7604c20d2a9,"Removed unused loop control variables (`B007`) (#9458)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Luke Conibear,laconibear@gmail.com,2022-09-07 02:28:32+01:00,GitHub,noreply@github.com,2022-09-06 20:28:32-05:00
e74888aae1faa72a5ce18ccc1cfaaf7dee2093ea,Set top-level default shell in CI workflows (#9469),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-07 10:10:13-05:00,GitHub,noreply@github.com,2022-09-07 10:10:13-05:00
f1a75f0c92692fc7027f7ba9e9fe090699c51081,Added assert for comparisons (`B015`) (#9459),Luke Conibear,laconibear@gmail.com,2022-09-08 16:54:34+01:00,GitHub,noreply@github.com,2022-09-08 10:54:34-05:00
cadc33d6613172350594f4a9a890e03a8f1e925d,Bind loop variables in function definitions (`B023`) (#9461),Luke Conibear,laconibear@gmail.com,2022-09-08 21:06:12+01:00,GitHub,noreply@github.com,2022-09-08 15:06:12-05:00
5f11ba94cd5b1e0284c5246c4583e3a898d6447d,Added `flake8-bugbear` to `pre-commit` hooks (#9457),Luke Conibear,laconibear@gmail.com,2022-09-09 01:00:30+01:00,GitHub,noreply@github.com,2022-09-08 19:00:30-05:00
a2ca592a0ff30fdd4c674250c55f3b4fdcb40194,Remove dd.from_bcolz (#9479),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-09 08:45:19-05:00,GitHub,noreply@github.com,2022-09-09 08:45:19-05:00
2cf6b399cd54c23c9d11fa644f099981693f7229,Update `test_groupby_dropna_cudf` based on `cudf` support for `group_keys` (#9482),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-09 12:38:54-05:00,GitHub,noreply@github.com,2022-09-09 12:38:54-05:00
20664c0d8d9583adda7632c34e6dff38522feb15,Fix metadata comparison `stack_partitions` (#9481),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-09 13:58:18-05:00,GitHub,noreply@github.com,2022-09-09 13:58:18-05:00
b817dfb62bf3b53dcf0ee58cb94915333a6731f9,Fix `it's` --> `its` typo (#9484),Nat Tabris,46289310+ntabris@users.noreply.github.com,2022-09-12 16:24:43-06:00,GitHub,noreply@github.com,2022-09-12 17:24:43-05:00
5a9c68628fd19ce728a7b378f51b55c7f516a050,"Filter by list (#9419)

* Adds logic inform converting a list to np.array if possible when filtering with ddf.isin() to reduce serialization costs

* linting

* Remove unnecessary import

* Adds handling to assure we don't create an array if passed an iterator as a member of the list

* Linting

* If the values passed to isin() are a list, we first remove duplicates before serializing to reduce size of the payload

* handle unhashable lists, handle delayed objects, convert lists to arrays where feasible

* Linting

* Replaced unpack_collections with is_dask_collection.  Linting

* Testing of delayed in pandas vs dask

* Updated dataframe and index test for isin

* Updated test_isin for idiomatic delayed, and validation of is_dask_collection

* Linting

* Added new test_isin test for nested lists, swapped np.fromiter for np.array to handle a list of lists, and moved array creation inside try block

* Linting.  Moved np.fromiter() outside try/except block

* Updated name of list_of_lists in test_isin for clarity

* Updated tests for list of delayed objects, and added check to assure none of the items in the values list is a dealyed object

* Handle versions of numpy that can not create an array of lists

* Remove duplicate test dataframe",Greg Hayes,hayesgb@gmail.com,2022-09-13 09:34:47-05:00,GitHub,noreply@github.com,2022-09-13 07:34:47-07:00
9a4b0695a894f112ee8026b9457c27c7d59d70c2,"Shuffle groupby default (#9453)

* Turn shuffle on by default for split_out > 1

* Change split_every default to one in shuffle implementation

* Revert split_every default change, but keep the ability to set
split_every=1 for shuffle-based groupby

* Make tasks default

* update docstring",Ian Rose,ian@coiled.io,2022-09-13 10:00:15-07:00,GitHub,noreply@github.com,2022-09-13 10:00:15-07:00
d20c729fccb37f3eba1ca90cfd327310ca92b9fb,"Fixing enforce_metadata documentation, not checking for dtypes (#9474)

The current apply_and_enforce() implementation does not raise on mismatching dtypes.",Nicolas Grandemange,1694892+epizut@users.noreply.github.com,2022-09-13 22:05:44+02:00,GitHub,noreply@github.com,2022-09-13 16:05:44-04:00
142de2608df2494bf11e08038aadddb544b4500c,Add `DataFrame` and `Series` `median` method (#9483),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-13 16:44:49-05:00,GitHub,noreply@github.com,2022-09-13 16:44:49-05:00
024df342f77ec6d7b41227b6619461732825c7c6,Fix assigning pandas Series to column when `ddf.columns.min()` raises (#9485),Erik Welch,erik.n.welch@gmail.com,2022-09-13 17:15:04-05:00,GitHub,noreply@github.com,2022-09-13 17:15:04-05:00
6ebe3842564d4fa1f5b33a284fc33d7da45da136,aca: Provide default for split_out (#9493),Lawrence Mitchell,wence@gmx.li,2022-09-14 19:09:08+01:00,GitHub,noreply@github.com,2022-09-14 11:09:08-07:00
6c151021c313e5d29d8ecca37d98456e7a3e36c2,Avoid passing groupby key list of length one (#9495),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-14 13:12:11-05:00,GitHub,noreply@github.com,2022-09-14 13:12:11-05:00
982376efeb47b7a6371271728d3e05ee12d4c02a,"Allow `split_out` to be `None`, which then defaults to `1` in `groupby().aggregate()` (#9491)",Ian Rose,ian@coiled.io,2022-09-14 14:24:40-07:00,GitHub,noreply@github.com,2022-09-14 16:24:40-05:00
f45df2bec96f832f675c24ea7a06388a1aca2ccd,Fix overlap so that ``set_index`` doesn't drop rows (#9423),Julia Signell,jsignell@gmail.com,2022-09-15 16:27:57-04:00,GitHub,noreply@github.com,2022-09-15 16:27:57-04:00
803c7fd3553742d49662bd2216bd1d7d2ccf4f04,"Avoid `set_index(..., inplace=True)` where not necessary (#9472)",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-15 16:30:26-05:00,GitHub,noreply@github.com,2022-09-15 16:30:26-05:00
1a8533fddb7de0c9981acee0c33408e7205f8c7a,"Filter out `numeric_only` warnings from `pandas` (#9496)

* Initial checkpoint

* test-upstream

* Pass method name [test-upstream]

* Groupby [test-upstream]

* Cleanup [test-upstream]

* More specific warning catching [test-upstream]

* Remove stray breakpoint [test-upstream]

* Fix categorical tests [test-upstream]

* Restore npartitions after debugging [test-upstream]

* Updates [test-upstream]

* Roll back columns [test-upstream]

* Be more explicit about method name in _getattr_numeric_only [test-upstream]

* Use more specific parameter for method name [test-upstream]",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-15 17:52:19-05:00,GitHub,noreply@github.com,2022-09-15 15:52:19-07:00
ee87819ba0ee6013da212c562aab847ab7471bd3,Workaround for parquet writing failure using some datetime series but not others (#9500),Ian Rose,ian@coiled.io,2022-09-16 07:27:00-07:00,GitHub,noreply@github.com,2022-09-16 09:27:00-05:00
b944abf68f3005f0763663053c7f119a519a7b42,bump version to 2022.9.1,James Bourbeau,jrbourbeau@gmail.com,2022-09-16 14:26:30-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-09-16 14:26:30-05:00
72832d4bd685a25000ee646966a1aa5d0d8a1793,Groupby sort upstream compatibility (#9486),Ian Rose,ian@coiled.io,2022-09-22 11:48:19-07:00,GitHub,noreply@github.com,2022-09-22 13:48:19-05:00
c2aec354f1c7d254e3a4decde70e8f1418b43f84,Clarify custom-graph multiprocessing example (#9511),nouman,55525217+noumxn@users.noreply.github.com,2022-09-23 19:59:17+05:18,GitHub,noreply@github.com,2022-09-23 09:41:17-05:00
7fe622b440f8290fe2ad7256f5e7b4ab3133b7c0,"Add docs on running Dask in a standalone Python script (#9513)

* Add docs on running Dask in a standalone Python script

* Be more specific about what code needs to be guarded",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-23 13:36:33-05:00,GitHub,noreply@github.com,2022-09-23 11:36:33-07:00
f382d9e8439f5ed200da6ce66df7b2b33a0fc500,"Remove factorization logic from array auto chunking (#9507)

* Remove factorization logic from array auto chunking

* Temporarily point to distributed PR

* Tests

* Typo

* Fix doctest

* Remove temporary changes",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-09-23 15:32:12-05:00,GitHub,noreply@github.com,2022-09-23 13:32:12-07:00
3ef47422b9f830f81562960ef549778819498aa1,bump version to 2022.9.2,James Bourbeau,jrbourbeau@gmail.com,2022-09-30 13:53:59-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-09-30 13:53:59-05:00
c6353937069336e45d1f76d54038283529d2bd98,Support tokenizing `datetime.time` (#9528),Tim Paine,t.paine154@gmail.com,2022-09-30 22:05:34-04:00,GitHub,noreply@github.com,2022-09-30 21:05:34-05:00
bdb21aedecb36e755d49eadc5e3873192c975411,"Update gpuCI `RAPIDS_VER` to `22.12` (#9524)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2022-10-03 10:18:50-05:00,GitHub,noreply@github.com,2022-10-03 10:18:50-05:00
86200fe6bf4f780c7e543c42a73ecc34cb396b1f,Make `datetime.datetime` tokenize idempotantly (#9532),Martin Durant,martindurant@users.noreply.github.com,2022-10-03 12:49:08-04:00,GitHub,noreply@github.com,2022-10-03 11:49:08-05:00
4db479e6d38fda48dda5b95b0b55a6df4e64935e,"Update Parquet best practice (#9537)

* Update Parquet best practice

This was pretty old.  This shifts the language to think more about
speed/storage/consistency tradeoffs rather than ease of parallel loading
(which was true regardless).  We also drop the mention to Impala
(somewhat dated).

* Fix numbering

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2022-10-03 11:56:07-07:00,GitHub,noreply@github.com,2022-10-03 11:56:07-07:00
5e6e929c4fc4ed7ee2e526c85415020538b86788,Run mypy on Windows and Linux (#9530),crusaderky,crusaderky@gmail.com,2022-10-03 19:59:54+01:00,GitHub,noreply@github.com,2022-10-03 13:59:54-05:00
05e2db30395a812b3ab58a1a5a55099be10d772c,Fix project CSV columns when selecting (#9534),Martin Durant,martindurant@users.noreply.github.com,2022-10-03 18:19:38-04:00,GitHub,noreply@github.com,2022-10-03 17:19:38-05:00
e4da72accd306b1bbd7e7042a5256c4bb520ec3b,Ensure pickle-able binops in `delayed` (#9540),Ian Rose,ian@coiled.io,2022-10-04 11:35:07-05:00,GitHub,noreply@github.com,2022-10-04 11:35:07-05:00
eed225e0ceabed5392e29de7a16cf179daa9e356,Add dependabot for GitHub actions [skip ci] (#9542),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-04 13:11:16-05:00,GitHub,noreply@github.com,2022-10-04 11:11:16-07:00
6417cdff56c400805f9c48fb40649affdfdfaac4,"Stable demo column projection (#9538)

 Ensure we advance the random state when using column projection for
demo timeseries data. Note: this counters a lot of the benefit of column
projection in the first place. However, since this is for the demo
timeseries, we probably don't care too much.",Ian Rose,ian@coiled.io,2022-10-04 15:03:06-05:00,GitHub,noreply@github.com,2022-10-04 15:03:06-05:00
bff086075ea7cde2d517ae4e8691d5baf1dbd7c6,do not allow setitem to np.nan for int dtype (numpy behavior) (#9531),Doug Davis,ddavis@anaconda.com,2022-10-05 10:07:20-05:00,GitHub,noreply@github.com,2022-10-05 08:07:20-07:00
3227cfbe5ce9825a6139cf3bfd762e28bb90fb66,Move dependabot configuration file (#9547),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-06 10:39:11-05:00,GitHub,noreply@github.com,2022-10-06 10:39:11-05:00
58cd08a392fd5d573fec3a2ea92dbd795e9bcfce,Bump the-coding-turtle/ga-yaml-parser from 0.1.1 to 0.1.2 (#9553),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-10-06 12:02:38-05:00,GitHub,noreply@github.com,2022-10-06 12:02:38-05:00
3d08908bbe16103a1103d2903a3fc28219594ec1,Bump codecov/codecov-action from 1 to 3 (#9549),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-10-06 12:13:21-05:00,GitHub,noreply@github.com,2022-10-06 12:13:21-05:00
6858dc645aa23c6134cb58b364854423b506ae28,Bump actions/checkout from 2 to 3.1.0 (#9552),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-10-06 12:14:19-05:00,GitHub,noreply@github.com,2022-10-06 12:14:19-05:00
29b099a37a7ade7ff07e07f43f068a14b477ec56,Bump peter-evans/create-pull-request from 3 to 4 (#9550),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-10-06 19:49:34-05:00,GitHub,noreply@github.com,2022-10-06 19:49:34-05:00
287e94d6a8f9ececf4bdad52726c1ac4364392c6,Bump actions/stale from 4 to 6 (#9551),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-10-06 19:54:29-05:00,GitHub,noreply@github.com,2022-10-06 19:54:29-05:00
5ba240b9aa4711ddbcea2accfe7139552cab0208,Shuffle-based groupby for single functions (#9504),Ian Rose,ian@coiled.io,2022-10-07 18:58:00-05:00,GitHub,noreply@github.com,2022-10-07 18:58:00-05:00
6a4fc63ec06562bcf4716eb13658beba90f62232,Bump actions/github-script from 3 to 6 (#9564),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-10-11 09:55:17-05:00,GitHub,noreply@github.com,2022-10-11 09:55:17-05:00
52ac97f4702d8d1917c43716f438517343db6bc9,Add support for string timedelta in `map_overlap` (#9559),Nicolas Grandemange,1694892+epizut@users.noreply.github.com,2022-10-12 02:09:07+02:00,GitHub,noreply@github.com,2022-10-11 19:09:07-05:00
39526932be020b79d4cdff76f0eb6e720d2a158d,Restrict `tiledb-py` version to avoid CI failures  (#9569),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-13 10:04:36-05:00,GitHub,noreply@github.com,2022-10-13 10:04:36-05:00
107a0428bebc03f122819f70e4d179f3c17191ac,Avoid race condition in lazy dispatch registration (#9545),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-13 21:43:52-05:00,GitHub,noreply@github.com,2022-10-13 21:43:52-05:00
d6938acbb665603afe29aa4be230dc648bd0eba9,Fix array copy not being a no-op (#9555),David Hoese,david.hoese@ssec.wisc.edu,2022-10-14 10:41:48-05:00,GitHub,noreply@github.com,2022-10-14 08:41:48-07:00
dcdb90e3545f2c367d3d00b6d0422201889e3045,Groupby median (#9516),Ian Rose,ian@coiled.io,2022-10-14 11:22:19-05:00,GitHub,noreply@github.com,2022-10-14 11:22:19-05:00
0532bb39094e8ab42525f65926f5aab773f51fbc,Add new CLI that is extensible (#9283),Doug Davis,ddavis@anaconda.com,2022-10-14 11:34:24-05:00,GitHub,noreply@github.com,2022-10-14 11:34:24-05:00
c4d35f5515191409913827fd4faa3b69a3d7399a,Backend library dispatching for IO in Dask-Array and Dask-DataFrame (#9475),Richard (Rick) Zamora,rzamora217@gmail.com,2022-10-14 14:57:56-05:00,GitHub,noreply@github.com,2022-10-14 14:57:56-05:00
feb290395bad802486781a5dc695880df1b907cf,bump version to 2022.10.0,James Bourbeau,jrbourbeau@gmail.com,2022-10-14 17:22:32-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-10-14 17:22:32-05:00
00bfaec7d8ce5c154873b2cd06037b1b6c9934ec,More Backend dispatch class type annotations (#9573),Ian Rose,ian@coiled.io,2022-10-17 13:42:26-05:00,GitHub,noreply@github.com,2022-10-17 13:42:26-05:00
ebb9c22ca68b39e1757c45cd608cf6ee2db6af62,Render meta description in `map_overlap` docstring (#9568),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-18 09:57:57-05:00,GitHub,noreply@github.com,2022-10-18 09:57:57-05:00
28211ef0f5e8946f521dbc2923eea27baf1caa34,"Redesigning the array HTML repr for clarity (#9519)

* Change HTML repr of `dask.array`",Shingo OKAWA,shingo.okawa.g.h.c@gmail.com,2022-10-19 01:22:15+09:00,GitHub,noreply@github.com,2022-10-18 12:22:15-04:00
7e263dd486e5a9317897e8bbde8801614e67aea4,Fix `merge` with emtpy left DataFrame (#9578),Ian Rose,ian@coiled.io,2022-10-18 12:28:00-05:00,GitHub,noreply@github.com,2022-10-18 12:28:00-05:00
43fede5413e9fad1499880a09e3d823a8b386a15,Add extension dtype support to `set_index` (#9566),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-18 15:39:32-05:00,GitHub,noreply@github.com,2022-10-18 15:39:32-05:00
c8dc395528490cdc8b130a8d5f76e35edb1d1350,Fix Semaphore API docs (#9584),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-20 14:59:05-05:00,GitHub,noreply@github.com,2022-10-20 15:59:05-04:00
9adabf1f73d8a6a009a9dcb4db1b3899c991e03c,Enable named aggregation syntax (#9563),ChrisJar,chris.jarrett.0@gmail.com,2022-10-24 15:29:43+02:00,GitHub,noreply@github.com,2022-10-24 08:29:43-05:00
4a350fceed75d4d461366ec8b44e66955f83b5d9,Use `sphinx-click` for `dask` CLI (#9589),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-24 13:16:11-05:00,GitHub,noreply@github.com,2022-10-24 13:16:11-05:00
6e7c49fb1893abf2c9469da18e8660381e504fb7,Add note about limiting thread oversubscription by default (#9592),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-25 14:35:51-05:00,GitHub,noreply@github.com,2022-10-25 14:35:51-05:00
3ed78ec5d18742f620c90ea3cf02db2a6b106ec1,"Remove `setuptools` host dep, add CLI entrypoint (#9600)",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-10-26 14:57:19-04:00,GitHub,noreply@github.com,2022-10-26 11:57:19-07:00
da9a2579aed5dfd257ff9be34b12876115c8366c,Fix `upstream` CI report (#9602),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-27 10:45:05-05:00,GitHub,noreply@github.com,2022-10-27 10:45:05-05:00
97c22be79ea2d14a94279851f7731073b27b7ed5,"Improve `upstream` CI report (#9603)

Co-authored-by: Charles Blackmon-Luca <20627856+charlesbluca@users.noreply.github.com>",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-27 14:53:24-05:00,GitHub,noreply@github.com,2022-10-27 14:53:24-05:00
f0165c31fcb71cf4c09aeab5e1ae641aa2a644c8,Resolve `importlib`-related failures in upstream CI (#9604),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-10-28 10:52:22-04:00,GitHub,noreply@github.com,2022-10-28 09:52:22-05:00
f4e772e80b03097fdd6eb87b1713c215071c2ab6,Temporarily restrict `bokeh<3` (#9607),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-10-28 13:45:27-05:00,GitHub,noreply@github.com,2022-10-28 13:45:27-05:00
6d9252c7143fafa56ce3323b020f462ccad29602,Require Click 7.0+ in Dask (#9595),jakirkham,jakirkham@gmail.com,2022-10-28 11:58:58-07:00,GitHub,noreply@github.com,2022-10-28 13:58:58-05:00
67beb3ec71b55f3fc2f82b3b7aa6be20b06085a5,bump version to 2022.10.1,James Bourbeau,jrbourbeau@gmail.com,2022-10-28 16:39:39-05:00,James Bourbeau,jrbourbeau@gmail.com,2022-10-28 16:39:39-05:00
ca95bfcf8072facde5a13accea9c6c7ba5881b76,bump version to 2022.10.2,Matthew Rocklin,mrocklin@gmail.com,2022-10-31 11:06:40-05:00,Matthew Rocklin,mrocklin@gmail.com,2022-10-31 11:06:40-05:00
65f40ad461c57065f981e6213e33b1d13cc9bc8f,harden test_repartition_npartitions (#9585),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-01 10:13:22-05:00,GitHub,noreply@github.com,2022-11-01 10:13:22-05:00
e5b27eb2037e79ff31b935ba89976ab52b946605,Fix read_csv behavior for `header=0` and `names` (#9614),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-02 13:30:51-05:00,GitHub,noreply@github.com,2022-11-02 14:30:51-04:00
c013287bbb708ac473f0c7fc00506306bcb8d873,Upgrade mypy and drop unused comments (#9616),Hendrik Makait,hendrik@coiled.io,2022-11-03 00:13:16+01:00,GitHub,noreply@github.com,2022-11-02 16:13:16-07:00
6cf569376584c92ef36c677e395bcebbe620cdfc,remove blosc references (#9625),Naty Clementi,natyclementi@gmail.com,2022-11-04 12:26:20-04:00,GitHub,noreply@github.com,2022-11-04 09:26:20-07:00
dd1b658ec2efb71c1ffbeb6e2c02526032d5a328,Add API doc links to array/bag/dataframe sections (#9630),Matthew Rocklin,mrocklin@gmail.com,2022-11-07 13:17:50-06:00,GitHub,noreply@github.com,2022-11-07 13:17:50-06:00
95a68ccd3c5d8798e42dfff6e4068c6e9ea56dc5,Bump xarray-contrib/issue-from-pytest-log from 1.1 to 1.2 (#9635),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-11-07 16:44:30-06:00,GitHub,noreply@github.com,2022-11-07 16:44:30-06:00
58ae9e82ea99853bd4120ae9b1f5dcb50def5e11,Generalize `from_dict` implementation to allow usage from other backends (#9628),GALI PREM SAGAR,sagarprem75@gmail.com,2022-11-08 08:19:52-06:00,GitHub,noreply@github.com,2022-11-08 08:19:52-06:00
fe68659b0261cdd60407e47c480f34ef508ba0a7,Fix link to partitions docs in `read_parquet` docstring (#9636),qheuristics,glozanobranger@gmail.com,2022-11-08 17:04:02+01:00,GitHub,noreply@github.com,2022-11-08 10:04:02-06:00
8be183c570dd953aa16d790afb709786b3d7cbf8,Generalize array checking and remove `pd.Index` call in `_get_partitions` (#9634),Benjamin Zaitlen,quasiben@users.noreply.github.com,2022-11-08 18:10:46-05:00,GitHub,noreply@github.com,2022-11-08 17:10:46-06:00
101ecfd9074b3cd296f7f77ea1b338f7f997b17c,Add `pre-commit` to catch `breakpoint()` (#9638),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-09 10:12:35-06:00,GitHub,noreply@github.com,2022-11-09 10:12:35-06:00
9d624c6dfd452ad8966ff5011b736614a32793d2,Pin `pyyaml` version in mindeps testing (#9640),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-11-09 12:06:44-05:00,GitHub,noreply@github.com,2022-11-09 11:06:44-06:00
90eec2920f290334a6ae3f5d1d6ad00a446f4c2e,"Remove `import dask as d` from docstrings (#9644)

This seems strange and is not a recommended import name",Matthew Rocklin,mrocklin@gmail.com,2022-11-10 11:04:17-05:00,GitHub,noreply@github.com,2022-11-10 10:04:17-06:00
bfe07f63967494a5cfcfafbb2a6b5271a6714dcc,Fix `sort_values` with `Timestamp` data (#9642),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-10 11:28:06-06:00,GitHub,noreply@github.com,2022-11-10 11:28:06-06:00
34a1e88bb3f6196361f398ddab55e59d315d8d40,Avoid `pandas` constructors in `dask.dataframe.core` (#9570),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-10 16:00:13-06:00,GitHub,noreply@github.com,2022-11-10 16:00:13-06:00
98b878db07b106a76845e804d68f93373be60b58,Run `upstream` build with Python 3.10 (#9655),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-14 15:06:43-06:00,GitHub,noreply@github.com,2022-11-14 15:06:43-06:00
9fdd11d6d5314b91b7c9c54656ec367e72bec7c4,Allow `bokeh=3` (#9659),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-14 20:12:38-06:00,GitHub,noreply@github.com,2022-11-14 20:12:38-06:00
7990fff0db7abf5e1626add55797468ce6e9164b,Update dashboard docs for queuing (#9660),Gabe Joseph,gjoseph92@gmail.com,2022-11-15 09:14:28-07:00,GitHub,noreply@github.com,2022-11-15 11:14:28-05:00
abf8f3999039317c2b91808a722c4133f338eb24,Use `conda-incubator/setup-miniconda@v2.2.0` (#9662),jakirkham,jakirkham@gmail.com,2022-11-15 08:20:42-08:00,GitHub,noreply@github.com,2022-11-15 10:20:42-06:00
08db480f9387aab3c93c4f256b7c4c726a7314fb,bump version to 2022.11.0,James Bourbeau,jrbourbeau@gmail.com,2022-11-15 13:36:44-06:00,James Bourbeau,jrbourbeau@gmail.com,2022-11-15 13:36:44-06:00
0dd82eb408993547642897296ae9d3947f926d7d,Fix `mindeps-distributed` CI build to handle `numpy`/`pandas` not being installed  (#9668),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-16 13:17:05-06:00,GitHub,noreply@github.com,2022-11-16 13:17:05-06:00
2297590d3b342218e4c1897adbf7491057b43ce5,Revert `importlib.metadata` workaround (#9658),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-16 14:39:47-06:00,GitHub,noreply@github.com,2022-11-16 14:39:47-06:00
6a02bcb66b08152b1005ae918214f2e8b3b9510d,Updates for `fastparquet` evolution (#9650),Martin Durant,martindurant@users.noreply.github.com,2022-11-16 16:24:20-05:00,GitHub,noreply@github.com,2022-11-16 15:24:20-06:00
1351630d489ba8689c484e6449f6f5d63e4fec1e,Restrict `bokeh=3` support (#9673),Gabe Joseph,gjoseph92@gmail.com,2022-11-18 09:19:11-07:00,GitHub,noreply@github.com,2022-11-18 10:19:11-06:00
5a52c83ff160d79248a92c989abfb7dd82b68208,Update `ga-yaml-parser` step in gpuCI updating workflow  (#9675),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2022-11-18 11:26:49-05:00,GitHub,noreply@github.com,2022-11-18 10:26:49-06:00
c2556fb3a574feaeee5be3a8aebae7e229abe28f,bump version to 2022.11.1,James Bourbeau,jrbourbeau@gmail.com,2022-11-18 13:26:03-06:00,James Bourbeau,jrbourbeau@gmail.com,2022-11-18 13:26:03-06:00
0ab2a1b75f575d63e97279ee3e5c22ab46c0737f,Update gpuCI `RAPIDS_VER` to `23.02` (#9678),github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2022-11-21 09:49:23-06:00,GitHub,noreply@github.com,2022-11-21 09:49:23-06:00
d84220805f02b9afd4dae8a70e6bcc310acdabcd,Improve error message for failed backend dispatch call (#9677),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-21 13:50:04-06:00,GitHub,noreply@github.com,2022-11-21 13:50:04-06:00
8c8d81bc0a710cc06045da32ec004159530e11eb,`xfail` `ttest_1samp` for upstream `scipy` (#9670),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-21 14:17:37-06:00,GitHub,noreply@github.com,2022-11-21 14:17:37-06:00
3f143db1a88af884d29a1b3678187c690ab641aa,Fix groupby-aggregation when grouping on an index by name (#9646),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-21 14:59:16-06:00,GitHub,noreply@github.com,2022-11-21 14:59:16-06:00
3c1e4a263e8fcbcc8915dd00dd37d5cfc650ebb2,"Use latest `xarray-contrib/issue-from-pytest-log` in `upstream` build (#9682)

Co-authored-by: Justus Magin <keewis@users.noreply.github.com>",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-22 11:57:07-06:00,GitHub,noreply@github.com,2022-11-22 11:57:07-06:00
95ba69b3540dfd80f6de731bda5e15d97f4909b9,Fix `da.fft.fft` for array-like inputs (#9688),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-22 15:56:34-06:00,GitHub,noreply@github.com,2022-11-22 15:56:34-06:00
c4111ff53a1fe3d2ce3fea97cb9dad38160f20e4,Disable dashboard in `test_map_partitions_df_input` (#9687),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-11-22 19:14:19-06:00,GitHub,noreply@github.com,2022-11-22 19:14:19-06:00
07c57d872ca7774613856312dc60699ea632dc14,Revise meta creation in arrow parquet engine (#9672),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-23 14:02:03-06:00,GitHub,noreply@github.com,2022-11-23 14:02:03-06:00
3ac3b8d6e1ee5a57a37da97e51ab4704812a3291,Bump mypy version (#9697),crusaderky,crusaderky@gmail.com,2022-11-25 16:46:22+00:00,GitHub,noreply@github.com,2022-11-25 16:46:22+00:00
8ef438b8b150ebdaeab302c4a290a0ca70a987a8,Support duplicate column cum-functions (#9685),Ben,55319792+benrutter@users.noreply.github.com,2022-11-30 14:28:14+00:00,GitHub,noreply@github.com,2022-11-30 08:28:14-06:00
49b516b43e44caf3091340d15247d4fe80e8a5c3,Enable column projection for groupby slicing (#9667),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-30 13:04:32-06:00,GitHub,noreply@github.com,2022-11-30 13:04:32-06:00
99123bd6e8d5bf5c45500904de59110ce923cda9,"Fix pandas 1.5+ `FutureWarning` in `.str.split(..., expand=True)` (#9704)",Jacob Hayes,jacob.r.hayes@gmail.com,2022-11-30 15:58:20-05:00,GitHub,noreply@github.com,2022-11-30 14:58:20-06:00
a7efdf938c1942dd3174f623d37b7f65b5384d87,"Fix map_overlap in order to accept pandas arguments (#9571)

* Fix map_overlap in order to accept pandas arguments

* pre-commit fix

* Liting

* Linting

* Linting",Fabien Aulaire,306648+faulaire@users.noreply.github.com,2022-11-30 22:46:25+01:00,GitHub,noreply@github.com,2022-11-30 16:46:25-05:00
f309f9ff4e525c8ec632f42e81b1f8abe566bc1f,Fix flaky `test_dataframe_aggregations_multilevel` (#9701),Richard (Rick) Zamora,rzamora217@gmail.com,2022-11-30 18:26:47-06:00,GitHub,noreply@github.com,2022-11-30 18:26:47-06:00
b1e468e8645baee30992fbfa84250d816ac1098a,Add support for `use_nullable_dtypes` to `dd.read_parquet` (#9617),Ian Rose,ian.r.rose@gmail.com,2022-11-30 17:57:16-08:00,GitHub,noreply@github.com,2022-11-30 19:57:16-06:00
945435bfebc223f9a0ca013fc8163801e789caab,Remove statistics-based set_index logic from read_parquet (#9661),Richard (Rick) Zamora,rzamora217@gmail.com,2022-12-01 03:54:32-06:00,GitHub,noreply@github.com,2022-12-01 10:54:32+01:00
23cbe9a9a28847fe53cb876fd1863602e219b7b4,Avoid `PytestReturnNotNoneWarning` in `test_inheriting_class` (#9707),Thomas Grainger,tagrain@gmail.com,2022-12-01 18:07:34+00:00,GitHub,noreply@github.com,2022-12-01 12:07:34-06:00
47853551a98621c1a5fd3cbfc84c419d8abb75b0,bump version to 2022.12.0,James Bourbeau,jrbourbeau@gmail.com,2022-12-02 13:59:51-06:00,James Bourbeau,jrbourbeau@gmail.com,2022-12-02 13:59:51-06:00
08fd458069bacaaae0482b91727d34aa1c89ac4d,Rename columns correctly in case of `SeriesGroupby` (#9716),Lawrence Mitchell,lmitchell@nvidia.com,2022-12-06 18:32:47+00:00,GitHub,noreply@github.com,2022-12-06 12:32:47-06:00
4cfa4b63e7d2ba4a546273733e52edf2bb83e859,Avoid adding `data.h5` and `mydask.html` files during tests (#9726),Thomas Grainger,tagrain@gmail.com,2022-12-07 16:42:31+00:00,GitHub,noreply@github.com,2022-12-07 10:42:31-06:00
e57a0fb4026f79fb5bc6d2816d5351274dbfc7a4,Add support for simple operation with `pyarrow`-backed extension dtypes (#9717),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-07 14:40:48-06:00,GitHub,noreply@github.com,2022-12-07 14:40:48-06:00
e6511215a025bf8ac967bab6955cecadd83322c1,Make sure dev packages aren't overwritten in `upstream` CI build (#9731),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-08 20:41:29-06:00,GitHub,noreply@github.com,2022-12-08 20:41:29-06:00
72966dfab1735d43f854d870227a57e46ad7b372,Update Prometheus docs (#9696),Hendrik Makait,hendrik@coiled.io,2022-12-09 15:53:22+01:00,GitHub,noreply@github.com,2022-12-09 14:53:22+00:00
0885125c5ada53746990b6e378e7a4152e08fe5d,Avoid `np.bool8` deprecation warning (#9737),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-09 09:42:51-06:00,GitHub,noreply@github.com,2022-12-09 09:42:51-06:00
159948e9fdb09aac1bdd28dbf1697e7723d8d87e,Partial functions in aggs may have arguments (#9724),Irina Truong,i.chernyavska@gmail.com,2022-12-09 13:55:43-08:00,GitHub,noreply@github.com,2022-12-09 15:55:43-06:00
520472cc8023cccf321dd99f085d063c7022a0c0,Fix url link typo in collection backend doc (#9748),Shawn,shawn.ck.yang@gmail.com,2022-12-13 01:01:56+08:00,GitHub,noreply@github.com,2022-12-12 11:01:56-06:00
9137dadd81dba420508abfb3b8cdef6e9b524e68,Fix bug when repartitioning with tz-aware datetime index (#9741),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-12 11:07:41-06:00,GitHub,noreply@github.com,2022-12-12 11:07:41-06:00
7a0e87342fa72ca9b755a41090872add607deeab,Bump actions/checkout from 3.1.0 to 3.2.0 (#9753),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-12-13 10:37:50-06:00,GitHub,noreply@github.com,2022-12-13 10:37:50-06:00
d2c9e396fa4a6f86ceb911e5fc90d25890f8550d,Serialize all `pyarrow` extension arrays efficiently (#9740),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-15 11:55:14-06:00,GitHub,noreply@github.com,2022-12-15 11:55:14-06:00
d943293edaf65a2f73e78486af3f8cccf4ce01a2,Make filesystem-backend configurable in `read_parquet` (#9699),Richard (Rick) Zamora,rzamora217@gmail.com,2022-12-15 14:16:14-06:00,GitHub,noreply@github.com,2022-12-15 14:16:14-06:00
0d8e12be4c2261b3457978c16aba7e893b1cf4a1,Support `cupy.ndarray` to `cudf.DataFrame` dispatching in `dask.dataframe` (#9579),Richard (Rick) Zamora,rzamora217@gmail.com,2022-12-15 19:15:05-06:00,GitHub,noreply@github.com,2022-12-15 19:15:05-06:00
936d9f76a91fd94b4cd4b6d432c8099cd1126131,Add support for Python 3.11 (#9708),Thomas Grainger,tagrain@gmail.com,2022-12-16 19:22:33+00:00,GitHub,noreply@github.com,2022-12-16 13:22:33-06:00
1ac0b11bcd7ddbd9b21b911b18d86a39feb6b22a,"Support `dtype_backend=""pandas|pyarrow""` configuration (#9719)",James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-16 14:39:17-06:00,GitHub,noreply@github.com,2022-12-16 14:39:17-06:00
dcc77771c3bbd0f101945684aaa0b31e62cf9ace,Add `zarr` to Python 3.11 CI environment (#9771),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-16 15:02:06-06:00,GitHub,noreply@github.com,2022-12-16 15:02:06-06:00
495a4bec4d1adfc94960f40c2033f22a04a5b2f3,bump version to 2022.12.1,James Bourbeau,jrbourbeau@gmail.com,2022-12-16 16:15:34-06:00,James Bourbeau,jrbourbeau@gmail.com,2022-12-16 16:15:34-06:00
d96ad7cec35477d5877432760098601e0287b0d1,Remove executable flag from `dask/dataframe/io/orc/utils.py` (#9774),Elliott Sales de Andrade,quantum.analyst@gmail.com,2022-12-19 13:46:39-05:00,GitHub,noreply@github.com,2022-12-19 12:46:39-06:00
0570a08aa7ed4b7bd2d50f1641f21b0e57f57d37,Reduce size of expected DoK sparse matrix (#9775),Elliott Sales de Andrade,quantum.analyst@gmail.com,2022-12-19 14:32:38-05:00,GitHub,noreply@github.com,2022-12-19 13:32:38-06:00
86ac021bec39e10def4ea5c83e7f9c551426c7e2,Move Prometheus docs to dask/distributed (#9761),crusaderky,crusaderky@gmail.com,2022-12-20 12:02:11+00:00,GitHub,noreply@github.com,2022-12-20 12:02:11+00:00
5cdb56b1423ca13186272ae6fa8fe60c7880f678,`numpy=1.24` compatability  (#9777),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-20 14:47:06-06:00,GitHub,noreply@github.com,2022-12-20 14:47:06-06:00
a11e41d9ff8b0205b81e80bfe111ab9168d32de6,`is_monotonic` compatibility for `pandas` 2.0 (#9751),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-20 15:35:09-06:00,GitHub,noreply@github.com,2022-12-20 15:35:09-06:00
38f95ca7aae6522ebf3953104b995340f69217ae,`get_dummies` compatibility for `pandas` 2.0 (#9752),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-20 16:52:01-06:00,GitHub,noreply@github.com,2022-12-20 16:52:01-06:00
0fa120f275fb71e5c106da4e59e6d4425e3e052a,`append` compatibility for `pandas` 2.0 (#9750),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-20 21:22:18-06:00,GitHub,noreply@github.com,2022-12-20 21:22:18-06:00
9c4b64b9b8e9f255dc2e4b8113974410fb7c0ee1,`GroupBy.__getitem__` compatibility for `pandas` 2.0 (#9779),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-21 05:23:23-06:00,GitHub,noreply@github.com,2022-12-21 11:23:23+00:00
80dd84d46ef6b7befa1b416c4597c83ef81ef972,Deflate sizeof() of duplicate references to pandas object types (#9776),crusaderky,crusaderky@gmail.com,2022-12-21 11:42:29+00:00,GitHub,noreply@github.com,2022-12-21 11:42:29+00:00
c0ac97cebc4af34a953db0a662f77971c9dce159,Accurate `sizeof` for pandas `string[python]` dtype (#9781),crusaderky,crusaderky@gmail.com,2022-12-22 22:08:50+00:00,GitHub,noreply@github.com,2022-12-22 22:08:50+00:00
3a899c5f40a8eb0111833dda6ce3459279df302d,Remove `sqlachemy` 1.3 compatibility (#9695),McToel,36071676+McToel@users.noreply.github.com,2022-12-23 17:24:23+01:00,GitHub,noreply@github.com,2022-12-23 10:24:23-06:00
a510df9b293c5ced23ad07ed0ed4009d557e1a76,`iteritems` compatibility for `pandas` 2.0 (#9785),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-23 12:00:23-06:00,GitHub,noreply@github.com,2022-12-23 12:00:23-06:00
c844316dacd24d136a9e689d3d93c2389c626280,`xfail` `datetime64` Parquet roundtripping tests for `pandas` 2.0 (#9786),James Bourbeau,jrbourbeau@users.noreply.github.com,2022-12-23 12:35:41-06:00,GitHub,noreply@github.com,2022-12-23 12:35:41-06:00
40bc376acb1f631aa80db17ce4fb779e1a888aee,Mention SubprocessCluster in LocalCluster documentation (#9784),Hendrik Makait,hendrik@coiled.io,2022-12-28 01:29:25+01:00,GitHub,noreply@github.com,2022-12-27 16:29:25-08:00
0cd60eee33a1260aadce7a5b5fc11eee604e4bdc,"Update zarr store creation functions (#9790)

As discussed in zarr-developers/zarr-python#1309 (review), Zarr can now handle a the creation of more types of store object from URLs thanks to the FSStore class. This means that usually Dask can just pass through the store URL with no modifications (e.g. calling get_mapper). The only exception is when the user specifies storage_options explicitly",Ryan Abernathey,ryan.abernathey@gmail.com,2022-12-30 12:06:06-05:00,GitHub,noreply@github.com,2022-12-30 09:06:06-08:00
f721de65f24f79986cab453b12db842436654bdb,"Implement ma.where and ma.nonzero (#9760)

Closes #9759 

Implements da.ma.where and da.ma.nonzero. Essentially follows the implementation of da.where.

 This changes the test(s) of masked `nonzero` to more closely follow how
 `da.nonzero` is tested. It means that we assert each row in the
 resulting arrays sequentially, instead of the whole arrays at once. I assume
 this is done to get around that calling `np.array` on a tuple of
 dask collections in 3.8 does not result in the correct array.",Erik Holmgren,56769803+Holmgren825@users.noreply.github.com,2023-01-02 17:40:47+01:00,GitHub,noreply@github.com,2023-01-02 08:40:47-08:00
f463fcf28ff6404cc04f478b73704e35664bb5f0,ignore sqlalchemy.exc.RemovedIn20Warning (#9801),Thomas Grainger,tagrain@gmail.com,2023-01-05 13:02:22+00:00,GitHub,noreply@github.com,2023-01-05 14:02:22+01:00
43e8d7e315c4ca99facb3aa53def52044370105b,"Resolve `sqlalchemy` import failures in mindeps testing (#9809)

https://github.com/dask/dask/pull/9801 added a warning filter for `sqlalchemy.exc.RemovedIn20Warning` that referred to the module directly, raising failures in our mindeps testing since `sqlalchemy` is not installed in that environment.

This PR modifies the warning filter to match for the warning using regex, which doesn't require `sqlalchemy` to be installed and resolves the mindeps failures.",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-01-09 10:57:55-05:00,GitHub,noreply@github.com,2023-01-09 07:57:55-08:00
8d800efe74ef541e74b7cf54fd99e0c6c3e6ed01,Bump actions/checkout from 3.2.0 to 3.3.0 (#9815),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-01-09 17:03:32-06:00,GitHub,noreply@github.com,2023-01-09 17:03:32-06:00
534d1d8bf7d7f4c5dc90085a47f4d4362e1312a7,`pip` install dask on gpuCI builds (#9816),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-01-09 21:56:02-05:00,GitHub,noreply@github.com,2023-01-09 20:56:02-06:00
66f0cde91a5cde9dee31ec227a5164d5fe489098,Remove duplicated `encoding` kwarg in docstring for `to_json` (#9796),Sultan Orazbayev,contact@econpoint.com,2023-01-10 23:07:25+06:00,GitHub,noreply@github.com,2023-01-10 11:07:25-06:00
6d639d2cfc9acc365ab90dea453c87c38e7c4edb,Update `xarray-contrib/issue-from-pytest-log` in `upstream` report (#9822),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-11 12:45:17-06:00,GitHub,noreply@github.com,2023-01-11 12:45:17-06:00
dfcefd8891310c638922ee9d2546b2d24e647743,Use `distributed` default clients even if no config is set (#9808),Florian Jetter,fjetter@users.noreply.github.com,2023-01-12 20:16:08+01:00,GitHub,noreply@github.com,2023-01-12 13:16:08-06:00
f09b0897a49cfd98c854feb06c5b179ab3c6fbdb,Fix flaky `test_threaded.py::test_interrupt` (#9827),Hendrik Makait,hendrik@coiled.io,2023-01-13 12:42:40+01:00,GitHub,noreply@github.com,2023-01-13 12:42:40+01:00
b4e20d45bf2473df16995d9c689c7f77755add17,Temporarily ignore `RuntimeWarning` in `test_setitem_extended_API_2d_mask` (#9828),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-13 13:33:21-06:00,GitHub,noreply@github.com,2023-01-13 13:33:21-06:00
158b7c940bb28b05ad077835222649366531cb37,bump version to 2023.1.0,James Bourbeau,jrbourbeau@gmail.com,2023-01-13 14:52:14-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-01-13 14:52:14-06:00
d898ba702bbd061bd3b4123c662cf3159d980875,Fix running S3 tests locally (#9833),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-13 17:25:54-06:00,GitHub,noreply@github.com,2023-01-13 17:25:54-06:00
d0de77f42f31fa290f7f7d3668aae306d61ddd03,Add docs section about `no-worker` tasks (#9839),Florian Jetter,fjetter@users.noreply.github.com,2023-01-17 17:59:35+01:00,GitHub,noreply@github.com,2023-01-17 10:59:35-06:00
0721fb5449e28e0ecb9a605a6e4c620fbfddfd8f,Ignore warnings on `persist` call in `test_setitem_extended_API_2d_mask` (#9843),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-01-17 13:52:42-05:00,GitHub,noreply@github.com,2023-01-17 12:52:42-06:00
cd25ef247af2d88f6abf0cc37f9dede6567073e1,Remove `kwargs` from `make_blockwise_graph` (#9838),Florian Jetter,fjetter@users.noreply.github.com,2023-01-17 21:11:39+01:00,GitHub,noreply@github.com,2023-01-17 14:11:39-06:00
b388762e6ee04c3d5724884b3da7e3675b0a21c6,Fix `pyarrow` parquet columns statistics computation (#9772),aywandji,yankwarmand@gmail.com,2023-01-17 21:20:43+01:00,GitHub,noreply@github.com,2023-01-17 14:20:43-06:00
0b4ff2c69dac733b4127da21591b84a9c04b86da,`infer_datetime_format` compatibility for `pandas` 2.0  (#9783),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-17 20:48:33-06:00,GitHub,noreply@github.com,2023-01-17 20:48:33-06:00
253b009bc9f1dc503c6544062bba002ce411b158,Use custom timeout in CI builds (#9844),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-18 14:07:06-06:00,GitHub,noreply@github.com,2023-01-18 14:07:06-06:00
5741ca5a46996822ae711fac8570fa19d5391b2d,Add option to manually run `upstream` CI build (#9853),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-19 12:18:56-06:00,GitHub,noreply@github.com,2023-01-19 12:18:56-06:00
431387223becff41eaf61027fa538ca5969f73be,Un-`xfail` `datetime64` Parquet roundtripping tests for new `fastparquet` (#9811),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-19 12:27:52-06:00,GitHub,noreply@github.com,2023-01-19 12:27:52-06:00
5a6bbdc1f2366f0977b38d6bb95a343b6e5c5454,"Update dashboard documentation for memory plot, fix #9433 (#9768)",Jayesh Manani,jsmanani@gmail.com,2023-01-19 21:20:38+01:00,GitHub,noreply@github.com,2023-01-19 15:20:38-05:00
60c8d6ea696be3638c595bfe7db1d0f1f3fe4178,Dont require dask config shuffle default (#9826),Florian Jetter,fjetter@users.noreply.github.com,2023-01-20 18:33:34+01:00,GitHub,noreply@github.com,2023-01-20 11:33:34-06:00
d64174bd519d7ad93f3782c2632d45a977d4aa19,"Fix code formatting issue in ""Defining a new collection backend"" docs (#9864)",Chiara Marmo,cmarmo@users.noreply.github.com,2023-01-23 06:20:05-10:00,GitHub,noreply@github.com,2023-01-23 10:20:05-06:00
a3c88e86ddaa007244a95c6d10400a242a131f75,"Fix ""duplicate explicit target name"" docs warning (#9863)",Chiara Marmo,cmarmo@users.noreply.github.com,2023-01-23 06:31:25-10:00,GitHub,noreply@github.com,2023-01-23 10:31:25-06:00
96a72df0aeb4a7d04844e1ebc2fddb30265a0bc7,Update `xarray-contrib/issue-from-pytest-log` to version 1.2.6 (#9865),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-23 10:31:56-06:00,GitHub,noreply@github.com,2023-01-23 10:31:56-06:00
391d6216ebe97eb2e908a9e29a95558224562447,Fixes related to `group_keys` default change in `pandas` 2.0 (#9855),Irina Truong,i.chernyavska@gmail.com,2023-01-24 08:29:10-08:00,GitHub,noreply@github.com,2023-01-24 10:29:10-06:00
23a75632b7644f1289a760031d9ba85a35cbfd20,Add `numeric_only` to `DataFrame.cov` and `DataFrame.corr` (#9787),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-24 12:00:10-06:00,GitHub,noreply@github.com,2023-01-24 12:00:10-06:00
2a2b9d3cb503c052fd65e5693575498df1f9cd23,Satisfy `broadcast` argument in `DataFrame.merge` (#9852),Richard (Rick) Zamora,rzamora217@gmail.com,2023-01-25 08:27:00-06:00,GitHub,noreply@github.com,2023-01-25 08:27:00-06:00
eb5d9d01652f90d679df823adc5d45ab0f88ecc7,Small fix for timestamp index divisions in `pandas` 2.0 (#9872),Irina Truong,i.chernyavska@gmail.com,2023-01-25 11:33:52-08:00,GitHub,noreply@github.com,2023-01-25 13:33:52-06:00
579b191fddb3d46da33026e443b95852af4fe151,Reverse precedence between collection and distributed default (#9869),Florian Jetter,fjetter@users.noreply.github.com,2023-01-26 18:09:49+01:00,GitHub,noreply@github.com,2023-01-26 18:09:49+01:00
c6b7052acc52b25facb76e8b128d574db8b0fc9f,"Update gpuCI `RAPIDS_VER` to `23.04` (#9876)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2023-01-26 11:16:08-06:00,GitHub,noreply@github.com,2023-01-26 11:16:08-06:00
3f8d092539e7c626d20a8dc96ab4a986871ec9b3,Fix serialization bug in `BroadcastJoinLayer` (#9871),Richard (Rick) Zamora,rzamora217@gmail.com,2023-01-26 15:35:04-06:00,GitHub,noreply@github.com,2023-01-26 15:35:04-06:00
15e6eafd02a5473d1bfe97fe24d4f809f9aaac2f,Add `to_backend` method to `Array` and `_Frame` (#9758),Richard (Rick) Zamora,rzamora217@gmail.com,2023-01-27 15:00:25-06:00,GitHub,noreply@github.com,2023-01-27 15:00:25-06:00
185eed2c9eed220dac51ef9a3e873df60c9ab080,Additional updates for detecting a `distributed` scheduler  (#9890),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-27 17:09:59-06:00,GitHub,noreply@github.com,2023-01-27 17:09:59-06:00
e1e1669a02737857b47ab0ed993e79b666872910,bump version to 2023.1.1,James Bourbeau,jrbourbeau@gmail.com,2023-01-27 17:24:22-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-01-27 17:24:22-06:00
a8327a35c056656830bb8e60f730f6c6c099b44c,Remove unused `skiprows` variable in `read_csv` (#9892),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-01-27 23:19:52-05:00,GitHub,noreply@github.com,2023-01-27 22:19:52-06:00
2bf6482fa27960f8a469db321967753d9650ed4e,"pre-commit: Update isort version to 5.12.0 (#9895)

poetry version 1.5.0 broke installs of isort prior to 5.11.5 (see
pycqa/isort#2077 and pycqa/isort#2078), so we need to upgrade.",Lawrence Mitchell,lmitchell@nvidia.com,2023-01-30 18:12:26+00:00,GitHub,noreply@github.com,2023-01-30 12:12:26-06:00
db5b2178a79cacc1c882d60a82bf86e2e188eccb,Temporarily restrict `sqlalchemy < 2` in CI (#9897),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-01-30 13:42:40-06:00,GitHub,noreply@github.com,2023-01-30 13:42:40-06:00
834a19eaeb6a5d756ca4ea90b56ca9ac943cb051,Docs: clarify task stream showing more rows than threads (#9906),Gabe Joseph,gabe@coiled.io,2023-01-31 14:20:34-07:00,GitHub,noreply@github.com,2023-01-31 14:20:34-07:00
111c3171c2bae2a2de549da48157335530ba9003,Broaden exception catching for `sqlalchemy.exc.RemovedIn20Warning` (#9904),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-01 14:21:14-06:00,GitHub,noreply@github.com,2023-02-01 14:21:14-06:00
0b7eddc682e285bb8b95c949444326d6af047ce5,Fix `GroupBy.value_counts` handling for multiple groupby columns (#9905),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-02-01 17:03:37-05:00,GitHub,noreply@github.com,2023-02-01 16:03:37-06:00
4f870d2e0b4148a8c0d32456a6111c7a193c7c48,Use label for `upstream` build on pull requests (#9910),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-01 16:49:04-06:00,GitHub,noreply@github.com,2023-02-01 16:49:04-06:00
a952a77ffe08e9688a36b24d544c51dc2a51c783,Fix `DataFrame.info()` tests for `pandas` 2.0 (#9909),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-01 21:38:19-06:00,GitHub,noreply@github.com,2023-02-01 21:38:19-06:00
3b6fe6954db17914d5e3968f85c17a32658ad9ee,Fix numeric `meta_nonempty` index creation for `pandas` 2.0 (#9908),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-01 21:39:33-06:00,GitHub,noreply@github.com,2023-02-01 21:39:33-06:00
e2dfb3ce1866ced9707bc6b6de22e0fb7eb613ab,Avoid `pd.core` import in dask utils (#9907),Matthew Roeschke,10647082+mroeschke@users.noreply.github.com,2023-02-01 19:42:54-08:00,GitHub,noreply@github.com,2023-02-01 21:42:54-06:00
9644d7e64d69c750708ff057d8a460a807827bc1,Add ``meta`` details to dask Array (#9886),Jayesh Manani,jsmanani@gmail.com,2023-02-03 14:36:13+01:00,GitHub,noreply@github.com,2023-02-03 08:36:13-05:00
1d0c7c3376aca2115b073457db4cf4184225e9d3,Add note about ``keep=False`` in ``drop_duplicates`` docstring (#9887),Jayesh Manani,jsmanani@gmail.com,2023-02-03 14:38:57+01:00,GitHub,noreply@github.com,2023-02-03 08:38:57-05:00
553d8b843987231cf274ddf94b916ca2a30f693e,Filter out All-NaN RuntimeWarning at the chunk level for `nanmin` and `nanmax` (#9916),Julia Signell,jsignell@gmail.com,2023-02-03 13:28:04-05:00,GitHub,noreply@github.com,2023-02-03 12:28:04-06:00
a7db62fb3848324658d31fed1d5fb0014bbbd1c3,Fix some outdated information/typos in development guide (#9893),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-02-03 19:29:35+01:00,GitHub,noreply@github.com,2023-02-03 12:29:35-06:00
059bc0c4447c769c6b94a96f8366e963cc07c215,Replace `index.is_numeric` with `is_any_real_numeric_dtype` for `pandas` 2.0 compatibility (#9918),Irina Truong,i.chernyavska@gmail.com,2023-02-06 12:17:05-08:00,GitHub,noreply@github.com,2023-02-06 14:17:05-06:00
312009fd85c95a12bf349a9b1390d618565cb8fb,Support new `axis=None` behavior in `pandas` 2.0 for certain reductions (#9867),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-06 14:34:53-06:00,GitHub,noreply@github.com,2023-02-06 14:34:53-06:00
c189ac5920013e0b8f59c2afb2fd7f0c85693452,Update `value_counts` to return correct name in `pandas` 2.0 (#9919),Irina Truong,i.chernyavska@gmail.com,2023-02-06 14:32:39-08:00,GitHub,noreply@github.com,2023-02-06 16:32:39-06:00
1476f0ffc8082377a429a3932cf27eab6a706621,Fix `dask/dataframe/tests/test_utils_dataframe.py` tests for `pandas` 2.0 (#9788),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-09 15:58:13-06:00,GitHub,noreply@github.com,2023-02-09 15:58:13-06:00
dcd008fa4d1cf321e557aab3c0c47e9448fb5a67,Update `datetime_is_numeric` behavior in `describe` for `pandas` 2.0 (#9868),Irina Truong,i.chernyavska@gmail.com,2023-02-09 15:08:36-08:00,GitHub,noreply@github.com,2023-02-09 17:08:36-06:00
00580503d52f000d2e3abb2d7070eea766241795,Make `repartition` a no-op when divisions match (#9924),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-09 17:10:30-06:00,GitHub,noreply@github.com,2023-02-09 17:10:30-06:00
17085777181d736b816c928ce0f5d45e1569c83f,Update `numeric_only` default in `quantile` for `pandas` 2.0 (#9854),Irina Truong,i.chernyavska@gmail.com,2023-02-09 16:57:53-08:00,GitHub,noreply@github.com,2023-02-09 18:57:53-06:00
17dff0911c38212e76b556bc5fbaae3523cd565f,Fix `test_numeric_column_names` for `pandas` 2.0 (#9937),Irina Truong,i.chernyavska@gmail.com,2023-02-10 10:27:22-08:00,GitHub,noreply@github.com,2023-02-10 12:27:22-06:00
6df830a155c241191d478809e2e2b469fa78d913,bump version to 2023.2.0,James Bourbeau,jrbourbeau@gmail.com,2023-02-10 13:43:26-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-02-10 13:43:26-06:00
3f29b03fbd5bb88147b3a582acf83c20b53877be,CI: use nightly wheel to install pyarrow in upstream test build (#9873),Joris Van den Bossche,jorisvandenbossche@gmail.com,2023-02-10 22:16:33+01:00,GitHub,noreply@github.com,2023-02-10 15:16:33-06:00
052a625505621207ca4a8b36613a793a397bcb33,Support `numeric_only` for simple groupby aggregations for `pandas` 2.0 compatibility (#9889),Irina Truong,i.chernyavska@gmail.com,2023-02-10 14:27:13-08:00,GitHub,noreply@github.com,2023-02-10 16:27:13-06:00
07b76c26b8382a99acd35dff4025be7b57e944d2,"Deployment Considerations documentation (#9933)

* Deployment Considerations documentation

* Apply suggestions from code review

Co-authored-by: Jacob Tomlinson <jacobtomlinson@users.noreply.github.com>

* note self-signed tls

* mention package sync

* separate logging & observability

* soften cost monitoring

* list of env management options

* narrow down managed list

---------

Co-authored-by: Jacob Tomlinson <jacobtomlinson@users.noreply.github.com>",Gabe Joseph,gabe@coiled.io,2023-02-13 05:13:38-07:00,GitHub,noreply@github.com,2023-02-13 12:13:38+00:00
1a3f248fc30b23e87b127ff67b934bff26503003,Config converter: replace all dashes with underscores (#9945),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-02-13 16:34:23+00:00,GitHub,noreply@github.com,2023-02-13 10:34:23-06:00
fe52c0d6895ed1b0f72e41a34e7f7a1d7a5c92e0,Fix an error with `groupby` `value_counts` for `pandas` 2.0 compatibility (#9928),Irina Truong,i.chernyavska@gmail.com,2023-02-13 11:07:59-08:00,GitHub,noreply@github.com,2023-02-13 13:07:59-06:00
bf069a78d7a2afc601889e6185e634bfa6036dee,Fix `test_to_timestamp` for `pandas` 2.0 (#9932),Irina Truong,i.chernyavska@gmail.com,2023-02-13 17:56:16-08:00,GitHub,noreply@github.com,2023-02-13 19:56:16-06:00
512e414596faaad6aacedbfc16cb1e3864444460,Run GPU tests on python 3.8 & 3.10 (#9940),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-02-14 11:36:42-05:00,GitHub,noreply@github.com,2023-02-14 10:36:42-06:00
1d716e4d1d3dfd2e3fcc286036c35168e2c09ec8,Bump `black` to 23.1.0 (#9956),crusaderky,crusaderky@gmail.com,2023-02-14 16:59:25+00:00,GitHub,noreply@github.com,2023-02-14 10:59:25-06:00
e893d5333ffca172d4c0abc46c3058055c436b82,Fix `test_rolling_agg_aggregate` for `pandas` 2.0 compatibility (#9948),Irina Truong,i.chernyavska@gmail.com,2023-02-14 09:09:05-08:00,GitHub,noreply@github.com,2023-02-14 11:09:05-06:00
4cb7f40dd5cd701e661ae1602c365d4a546ccfcf,Bump jacobtomlinson/gha-find-replace from 2 to 3 (#9953),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-02-14 11:57:27-06:00,GitHub,noreply@github.com,2023-02-14 11:57:27-06:00
0890b96be75e46ef2b88c11015761b9a6bd32480,Fix `test_merge_by_index_patterns` for `pandas` 2.0 (#9930),Irina Truong,i.chernyavska@gmail.com,2023-02-14 12:29:10-08:00,GitHub,noreply@github.com,2023-02-14 14:29:10-06:00
c3fe914adb9e09dfb02b0d79f3adf649faa4b969,Un-`xfail` `test_set_index_overlap_2` for `pandas` 2.0 (#9959),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-15 16:34:10-06:00,GitHub,noreply@github.com,2023-02-15 16:34:10-06:00
2a5a159606a69aaf2f88d7dabd47e50b67b213cb,Fix `test_groupby_unaligned_index` for `pandas` 2.0 (#9963),Irina Truong,i.chernyavska@gmail.com,2023-02-15 14:44:45-08:00,GitHub,noreply@github.com,2023-02-15 16:44:45-06:00
3124376d68bd3a15d381ce803ca066c7eef4c24f,Update docs with more information on default Delayed scheduler (#9903),Guillaume Eynard-Bontemps,g.eynard.bontemps@gmail.com,2023-02-16 03:57:54+04:00,GitHub,noreply@github.com,2023-02-15 18:57:54-05:00
f32a039400fafde17d61a65ecc003414dddeb019,Bump `pre-commit` versions (#9955),crusaderky,crusaderky@gmail.com,2023-02-16 16:16:27+00:00,GitHub,noreply@github.com,2023-02-16 10:16:27-06:00
adebc8e412923e54c5e55a22fb4794072c1f36ac,Fix copy on write failure in `test_idxmaxmin` (#9944),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-02-16 21:28:45+01:00,GitHub,noreply@github.com,2023-02-16 14:28:45-06:00
e2c74723f5b54f9cfdfeb45cfcb6456430703c09,`Generator` based random-number generation in`dask.array` (#9038),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2023-02-17 03:15:35+01:00,GitHub,noreply@github.com,2023-02-16 20:15:35-06:00
a0f0838c008467f1d696aaab9f15355faf035f4f,Add option for converting string data to use `pyarrow` strings (#9926),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-17 10:23:34-06:00,GitHub,noreply@github.com,2023-02-17 10:23:34-06:00
2d740a79a618cd33d8d142e98f7cdba88e76f965,Add support for multi-column `sort_values` (#8263),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-02-17 13:11:38-05:00,GitHub,noreply@github.com,2023-02-17 12:11:38-06:00
ebb4497a2569394aadebb6a706e0c1e44db82cea,Temporarily `xfail` `test_roundtrip_partitioned_pyarrow_dataset` (#9977),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-17 13:13:45-06:00,GitHub,noreply@github.com,2023-02-17 13:13:45-06:00
0eb4bd0b13e34a9aeb863985480359336ec9e7ab,Fix `std` to work with `numeric_only` for `pandas` 2.0 (#9960),Irina Truong,i.chernyavska@gmail.com,2023-02-17 13:29:37-08:00,GitHub,noreply@github.com,2023-02-17 15:29:37-06:00
7d8cab7c73a4dc7a3f806567ff72a1ebb8948db8,More docs for `DataFrame.partitions` (#9976),Tom Augspurger,tom.w.augspurger@gmail.com,2023-02-20 13:46:00-06:00,GitHub,noreply@github.com,2023-02-20 13:46:00-06:00
bbaac1350b3f86fe1efece9d3a7461cc8ad1a245,Increase minimum supported versions to `pandas=1.3` and `numpy=1.21` (#9950),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-20 13:48:23-06:00,GitHub,noreply@github.com,2023-02-20 13:48:23-06:00
556d3df9dac70c014c25eb3c0a5351fe2bebfad5,"Change `split_row_groups` default to ""infer"" (#9637)",Richard (Rick) Zamora,rzamora217@gmail.com,2023-02-21 14:11:13-06:00,GitHub,noreply@github.com,2023-02-21 14:11:13-06:00
00059465c62aea7cf9a3e3843bb4ba59ed5e3dbc,Restore `describe` compatibility for `pandas` 2.0 (#9982),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-21 20:20:16-06:00,GitHub,noreply@github.com,2023-02-21 20:20:16-06:00
c182a29d0ab0a72367854d1a056413b652780a80,Relax dask.dataframe assert_eq type checks (#9989),Matthew Rocklin,mrocklin@gmail.com,2023-02-22 09:13:20-06:00,GitHub,noreply@github.com,2023-02-22 09:13:20-06:00
41cb264680d9de9180be550530141b3db00ef056,Update parsing of FULL_RAPIDS_VER/FULL_UCX_PY_VER (#9990),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-02-22 11:06:37-05:00,GitHub,noreply@github.com,2023-02-22 11:06:37-05:00
793ab5718b35ad901552022f747ca67a1d028761,Temporarily rerun flaky tests (#9983),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-02-22 19:59:29-06:00,GitHub,noreply@github.com,2023-02-22 19:59:29-06:00
1959baad6bfa73d34e81bbf6c0831b78c0b1aaba,Improving deploying Dask docs (#9912),Sarah Charlotte Johnson,scharlottej13@gmail.com,2023-02-23 01:29:23-08:00,GitHub,noreply@github.com,2023-02-23 09:29:23+00:00
769f672ba20aa8eafcfcaaf68146d61287613d9e,Allow p2p shuffle kwarg for DataFrame merges (#9900),Florian Jetter,fjetter@users.noreply.github.com,2023-02-23 19:03:29+01:00,GitHub,noreply@github.com,2023-02-23 19:03:29+01:00
970da686e4dbb2a951b18e3f2ab6419406034243,Fix profilers plot not being aligned to context manager enter time (#9739),David Hoese,david.hoese@ssec.wisc.edu,2023-02-23 12:53:03-06:00,GitHub,noreply@github.com,2023-02-23 13:53:03-05:00
d178233fa50183d7a83ddf2b8eb9aaba0a2227d4,"Efficient `dataframe.convert_string` support for `read_parquet` (#9979)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Irina Truong,i.chernyavska@gmail.com,2023-02-24 09:24:51-08:00,GitHub,noreply@github.com,2023-02-24 18:24:51+01:00
a58a2a74228db52060de08889b71291febc70527,P2P rechunking (#9939),Hendrik Makait,hendrik@coiled.io,2023-02-24 19:02:20+01:00,GitHub,noreply@github.com,2023-02-24 19:02:20+01:00
945f4e8b7646228aff34da07ffaa52f1b73aa1e0,"Enable P2P shuffling by default (#9991)

Co-authored-by: Hendrik Makait <hendrik.makait@gmail.com>
Co-authored-by: Lawrence Mitchell <wence@gmx.li>",Florian Jetter,fjetter@users.noreply.github.com,2023-02-24 20:19:07+01:00,GitHub,noreply@github.com,2023-02-24 20:19:07+01:00
46c47be15661dd885e32d81f34d6d2bf114d52c8,bump version to 2023.2.1,fjetter,fjetter@users.noreply.github.com,2023-02-24 20:34:53+01:00,fjetter,fjetter@users.noreply.github.com,2023-02-24 20:40:12+01:00
fd3b77aa66620ce725465da0cee0f389d3af1d71,Add minimum version to optional `jinja2` dependency (#9999),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-02-28 14:22:39-05:00,GitHub,noreply@github.com,2023-02-28 13:22:39-06:00
a71c15b15e05c5896821e9c7420dfa22787a0388,Bag must not pick p2p as shuffle default (#10005),Florian Jetter,fjetter@users.noreply.github.com,2023-02-28 20:34:11+01:00,GitHub,noreply@github.com,2023-02-28 13:34:11-06:00
fd9091aa767d3ac6b6055f238d777dfff71d898c,Minor follow-up to P2P by default (#10008),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-01 14:19:10-06:00,GitHub,noreply@github.com,2023-03-01 14:19:10-06:00
a53c49006712d7763d9ba479acd26913dd72b3ac,bump version to 2023.3.0,James Bourbeau,jrbourbeau@gmail.com,2023-03-01 15:13:45-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-03-01 15:13:45-06:00
ada96d53f07d5168bb39b1b8a5aaa93dbe48e682,Fix `test_pickle_roundtrip` for `pandas` 2.0 (#10011),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-02 09:56:11-06:00,GitHub,noreply@github.com,2023-03-02 09:56:11-06:00
8d6547ad79640950b7c2aa7469541897a770649a,Fix `test_groupby_dropna_with_agg` for `pandas` 2.0 (#10001),Irina Truong,i.chernyavska@gmail.com,2023-03-02 09:14:11-08:00,GitHub,noreply@github.com,2023-03-02 11:14:11-06:00
9496bf110b97cf78ef496984947c6a02634194ed,Remove `randomgen` support (#9987),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2023-03-02 22:27:14+01:00,GitHub,noreply@github.com,2023-03-02 15:27:14-06:00
ca90a82faa96af067db14d4e00154a5f0e0cf817,Add CI job with `pyarrow` strings turned on (#10017),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-03 16:19:57-06:00,GitHub,noreply@github.com,2023-03-03 16:19:57-06:00
82e0e99dd91a0b9b751c813534b4f45b0605697d,Add and update docs for Data Transfer section (#10022),Miles,miles59923@gmail.com,2023-03-06 14:29:48+01:00,GitHub,noreply@github.com,2023-03-06 14:29:48+01:00
c9a9edef0c7e996ef72cb474bf030778189fd737,Fix parquet overwrite behavior after an adaptive read_parquet operation (#10002),Richard (Rick) Zamora,rzamora217@gmail.com,2023-03-06 11:29:08-06:00,GitHub,noreply@github.com,2023-03-06 11:29:08-06:00
4574dc5a0fe2745f411fc4b4cf6ff47d85b63f47,Prepare drop packunpack (#9994),Florian Jetter,fjetter@users.noreply.github.com,2023-03-07 14:27:23+01:00,GitHub,noreply@github.com,2023-03-07 14:27:23+01:00
89db50e5d874cf999987344c44168d7b725810c5,Add initial support for converting pandas extension dtypes to arrays (#10018),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-07 11:23:59-06:00,GitHub,noreply@github.com,2023-03-07 11:23:59-06:00
a6a57b80be52df3220bc18433d334a34df52d9f6,Consider `numpy` scalars and 0d arrays as scalars when padding (#9653),Justus Magin,keewis@users.noreply.github.com,2023-03-07 19:51:18+01:00,GitHub,noreply@github.com,2023-03-07 12:51:18-06:00
5fc9b9027371a9b0670747393110eb0033a44d49,Custom utility to convert parquet filters to pyarrow expression (#9885),Richard (Rick) Zamora,rzamora217@gmail.com,2023-03-07 13:48:53-06:00,GitHub,noreply@github.com,2023-03-07 13:48:53-06:00
f93dc15e55e73627a99eda9f831bc7e2b821013c,Have codecov wait for more builds before reporting (#10031),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-07 14:44:44-06:00,GitHub,noreply@github.com,2023-03-07 14:44:44-06:00
c8d4f7a355b3a060e56a49c0f314035312087b34,Rename shuffle/rechunk config option/kwarg to `method` (#10013),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-08 03:41:29-06:00,GitHub,noreply@github.com,2023-03-08 10:41:29+01:00
28bf158ee636e3350253a836c4e4b216ee885d7f,Raise an error with `dataframe.convert_string=True` and `pandas<2.0` (#10033),Irina Truong,i.chernyavska@gmail.com,2023-03-08 08:14:21-08:00,GitHub,noreply@github.com,2023-03-08 10:14:21-06:00
92a18fac54afdd32d4017a1535fd648ed3641679,Skip rechunk when rechunking to the same chunks with unknown sizes (#10027),Hendrik Makait,hendrik@coiled.io,2023-03-08 18:18:26+01:00,GitHub,noreply@github.com,2023-03-08 11:18:26-06:00
faa9ff9092d4c4b8c9d5a4c7b7cc3c507c5981c5,Extend `complete` extras (#10023),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-08 12:02:46-06:00,GitHub,noreply@github.com,2023-03-08 12:02:46-06:00
809804c20cb5ac69f06351d3ccb3d065f80e2b83,"Revert ""Prepare drop packunpack (#9994)"" (#10037)",Florian Jetter,fjetter@users.noreply.github.com,2023-03-08 19:13:54+01:00,GitHub,noreply@github.com,2023-03-08 19:13:54+01:00
c36fe083909fba492d6fe6fa92d6e8dba71fd21e,Increase minimum supported `pyarrow` to 7.0 (#10024),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-08 13:27:07-06:00,GitHub,noreply@github.com,2023-03-08 13:27:07-06:00
5f1fc4208d5124f8fa24c0558c152898223c1c49,Fix flaky `RuntimeWarning` during array reductions (#10030),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-08 14:50:28-06:00,GitHub,noreply@github.com,2023-03-08 14:50:28-06:00
15ba4b3d03f454a2b2702ff5f779a099d683b619,Improved support for `pyarrow` strings (#10000),Irina Truong,i.chernyavska@gmail.com,2023-03-08 13:15:37-08:00,GitHub,noreply@github.com,2023-03-08 15:15:37-06:00
0ea6c0826e8e0ac6c506a06c58b7e047407002e6,Remove stale hive-partitioning code from pyarrow parquet engine (#10039),Richard (Rick) Zamora,rzamora217@gmail.com,2023-03-08 17:54:26-06:00,GitHub,noreply@github.com,2023-03-08 17:54:26-06:00
890de74381d89910097cd2e9409196db4ab5b5d9,Support pyarrow strings in `MultiIndex` (#10040),Irina Truong,i.chernyavska@gmail.com,2023-03-09 19:54:43-08:00,GitHub,noreply@github.com,2023-03-09 21:54:43-06:00
ceb849eccd719cf1ecf4cf5f8f8a433456489d24,bump version to 2023.3.1,James Bourbeau,jrbourbeau@gmail.com,2023-03-10 15:22:14-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-03-10 15:22:14-06:00
251937ea6fa3a91eb5355fc0cd581a13407fd348,Temporarily `xfail` `test_upstream_packages_installed` (#10047),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-10 16:02:30-06:00,GitHub,noreply@github.com,2023-03-10 16:02:30-06:00
b229a534935a2dd9323c27a452002e9d24113f18,Fix `test_values` with `pyarrow` strings active (#10050),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-13 10:25:36-05:00,GitHub,noreply@github.com,2023-03-13 10:25:36-05:00
5df45cc75a29a41809e7ec1d8ff3d84145a12501,Fix `test_loc_with_non_boolean_series` with `pyarrow` strings active (#10046),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-13 10:26:19-05:00,GitHub,noreply@github.com,2023-03-13 10:26:19-05:00
33c58694e6573b5ac5625e09558ce6d486d60326,Fix `test_better_errors_object_reductions` with `pyarrow` strings active (#10051),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-13 10:27:05-05:00,GitHub,noreply@github.com,2023-03-13 10:27:05-05:00
105b9469cff49b18d8de94342cedc57508cffe3a,Fix `test_str_accessor` with `pyarrow` strings active (#10048),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-13 10:28:49-05:00,GitHub,noreply@github.com,2023-03-13 10:28:49-05:00
93642818fe8319603d768ff12cf21429defedce2,Fix `test_melt` with `pyarrow` strings active (#10052),Irina Truong,i.chernyavska@gmail.com,2023-03-13 18:00:06-07:00,GitHub,noreply@github.com,2023-03-13 20:00:06-05:00
3f164e18a688cbbf97e9fc7de968862457957882,Port option parsing logic from `dask.dataframe.read_parquet` to `to_parquet` (#9981),Anton Loukianov,anton.loukianov@gmail.com,2023-03-13 19:22:44-07:00,GitHub,noreply@github.com,2023-03-13 21:22:44-05:00
bbf7f6a9a52eff9d97ca2f6f249c063534941b99,Temporarily skip `pyarrow_compat` tests with `pandas` 2.0 (#10063),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-14 13:06:44-05:00,GitHub,noreply@github.com,2023-03-14 13:06:44-05:00
1d654f03ede6731166b8c28e663edaebc1de22c4,Remove broken gpuCI link in developer docs (#10065),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-03-14 14:46:31-04:00,GitHub,noreply@github.com,2023-03-14 13:46:31-05:00
8adf6ba81fb93e152243f202045c3ca052c331de,Support unknown shapes in `*_like` functions (#10064),Doug Davis,ddavis@anaconda.com,2023-03-14 19:20:39-05:00,GitHub,noreply@github.com,2023-03-14 19:20:39-05:00
49e5142577df6ba7b8695487aa18bac1b1c980ad,Use `importlib_metadata` backport to avoid CLI `UserWarning` (#10070),Thomas Grainger,tagrain@gmail.com,2023-03-16 15:27:21+00:00,GitHub,noreply@github.com,2023-03-16 10:27:21-05:00
2f21123bb3b2b3ddc78eda1083ba6da4d9c5c12b,Un-`xfail` more `pyarrow` tests (#10066),Irina Truong,i.chernyavska@gmail.com,2023-03-16 17:26:17-07:00,GitHub,noreply@github.com,2023-03-16 19:26:17-05:00
37c7afb752f499df16778408df7ac9f3e3fccb92,"`DataFrame._data` deprecation in `pandas` (#10081)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Irina Truong,i.chernyavska@gmail.com,2023-03-17 08:45:56-07:00,GitHub,noreply@github.com,2023-03-17 10:45:56-05:00
1f52aabe48e26bffcb75779b520ca84f675b9abb,CI environment file cleanup (#10078),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-17 10:47:00-05:00,GitHub,noreply@github.com,2023-03-17 10:47:00-05:00
e2359e04e2941073f08bbcbb07787c7c0702a150,Un-`xfail` `pyarrow` pickling tests (#10082),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-17 12:31:19-05:00,GitHub,noreply@github.com,2023-03-17 12:31:19-05:00
46a60110bfd6492f438762dc8bf4e8c0339117cf,Fix `test_set_index_on_empty` with `pyarrow` strings active  (#10054),Irina Truong,i.chernyavska@gmail.com,2023-03-17 13:34:33-07:00,GitHub,noreply@github.com,2023-03-17 15:34:33-05:00
92f1017ccb8c184f8de11924847705b668c586d9,Add `to_backend` methods to API docs (#10093),Lawrence Mitchell,lmitchell@nvidia.com,2023-03-20 18:28:27+00:00,GitHub,noreply@github.com,2023-03-20 13:28:27-05:00
03495f9dcaef469e850d0cc139e8de61c835fbe1,Bump actions/checkout from 3.3.0 to 3.4.0 (#10096),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-03-20 21:41:45-05:00,GitHub,noreply@github.com,2023-03-20 21:41:45-05:00
13f20336e2823741b9144ac38aea3f505352bad3,Allow `pyarrow` build to continue on failures (#10097),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-21 11:59:03-05:00,GitHub,noreply@github.com,2023-03-21 11:59:03-05:00
f47f4b40a866ad4692939659b78b7df4963bc0e7,Fix docs builds by installing `ipykernel` (#10103),Thomas Grainger,tagrain@gmail.com,2023-03-22 15:07:55+00:00,GitHub,noreply@github.com,2023-03-22 10:07:55-05:00
fb84b38a263bbe3abdcea8b132bf87b9f5a18f9e,Fix for no module named `ipykernel` (#10101),Irina Truong,i.chernyavska@gmail.com,2023-03-22 08:08:42-07:00,GitHub,noreply@github.com,2023-03-22 10:08:42-05:00
ab72feb1292518dd384b9ae8765601938106551c,Install `mimesis` in CI environments (#10105),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-03-22 14:59:43-04:00,GitHub,noreply@github.com,2023-03-22 13:59:43-05:00
52372bbeb12b6bf9215e57dc7457374f63a3e61c,Un-`xfail` `test_dataframe_cull_key_dependencies_materialized` with `pyarrow` strings active (#10088),Irina Truong,i.chernyavska@gmail.com,2023-03-22 12:41:54-07:00,GitHub,noreply@github.com,2023-03-22 14:41:54-05:00
65b49cee99f07d6c1e57a1c0c709e71a4a9d9676,Only run `test_development_guidelines_matches_ci` on editable install (#10106),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-03-22 17:16:14-04:00,GitHub,noreply@github.com,2023-03-22 16:16:14-05:00
ea913444dbcdbc43687ae581633f6b6bb0f87ea2,Un-`xfail` `test_to_dataframe_optimize_graph` with `pyarrow` strings active (#10087),Irina Truong,i.chernyavska@gmail.com,2023-03-22 14:21:45-07:00,GitHub,noreply@github.com,2023-03-22 16:21:45-05:00
63be73961fd5409fb24b52d2c06e7c9b8a07a161,"Restore Entrypoints compatibility (#10113)

Co-authored-by: Thomas Grainger <tagrain@gmail.com>",Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-03-23 16:05:48+00:00,GitHub,noreply@github.com,2023-03-23 11:05:48-05:00
f69261c4e7d3d02ddbafd9463e25f337307bf014,Un-`xfail` `test_different_columns_are_allowed` with `pyarrow` strings active (#10109),Irina Truong,i.chernyavska@gmail.com,2023-03-23 12:23:42-07:00,GitHub,noreply@github.com,2023-03-23 14:23:42-05:00
1a6014c7369e9517a970605615118dcf425f0a66,The `axis` keyword in `DataFrame.rolling/Series.rolling` is deprecated (#10110),Irina Truong,i.chernyavska@gmail.com,2023-03-23 13:48:48-07:00,GitHub,noreply@github.com,2023-03-23 15:48:48-05:00
99d3d83d9fa97140b6a61f88a80aa2b6d821ad56,Un-`xfail` `test_division_or_partition` with `pyarrow` strings active  (#10108),Irina Truong,i.chernyavska@gmail.com,2023-03-23 15:31:13-07:00,GitHub,noreply@github.com,2023-03-23 17:31:13-05:00
41884d9da00b7ef5eea3c5662d92f57169cc5ab1,Enable null hive partitions with `pyarrow` parquet engine (#10007),Richard (Rick) Zamora,rzamora217@gmail.com,2023-03-23 17:31:46-05:00,GitHub,noreply@github.com,2023-03-23 17:31:46-05:00
8ba5ad5288b889b08358e67b6e377e3a90cf8d48,Deprecate `axis=` for some groupby operations (#10094),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-03-23 17:33:03-05:00,GitHub,noreply@github.com,2023-03-23 17:33:03-05:00
79960cf744f4c7ab048924bab404df06e4e5e4a9,Deprecate `observed=False` for `groupby` with categoricals (#10095),Irina Truong,i.chernyavska@gmail.com,2023-03-23 19:57:22-07:00,GitHub,noreply@github.com,2023-03-23 21:57:22-05:00
abaacd56f8eeda5d125268930af7c28f8dc3e576,Configure readthedocs sphinx warnings as errors  (#10104),Thomas Grainger,tagrain@gmail.com,2023-03-24 17:22:15+00:00,GitHub,noreply@github.com,2023-03-24 12:22:15-05:00
ae61cf1ab05ac47fe564a2f065eb9d857ee39515,Avoid using `dd.shuffle` in groupby-apply (#10043),Richard (Rick) Zamora,rzamora217@gmail.com,2023-03-24 13:27:10-05:00,GitHub,noreply@github.com,2023-03-24 13:27:10-05:00
0cbc46ac89b6f6a2cf949f2fd73c4c1175419db5,bump version to 2023.3.2,James Bourbeau,jrbourbeau@gmail.com,2023-03-24 15:46:28-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-03-24 15:46:28-05:00
9146709fdead989a8c79ed1d6119e06a4f720b5d,Make `dask.compatibility` private (#10114),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-03-27 16:32:33+01:00,GitHub,noreply@github.com,2023-03-27 10:32:33-05:00
ec3ffedff7bfbad93fe582adf21c71ca9f0b064b,Drop distributed pack (#9988),Florian Jetter,fjetter@users.noreply.github.com,2023-03-27 17:50:12+02:00,GitHub,noreply@github.com,2023-03-27 17:50:12+02:00
656836fce5edee81773ee76d9581a322fbf10fd6,Fix `test_null_partition_pyarrow` in `pyarrow` CI build (#10116),Irina Truong,i.chernyavska@gmail.com,2023-03-27 08:59:18-07:00,GitHub,noreply@github.com,2023-03-27 10:59:18-05:00
7c7192f0270f9d660b03391323f0eadefd503cb6,Fix handling of missing min/max parquet statistics during filtering (#10042),Richard (Rick) Zamora,rzamora217@gmail.com,2023-03-27 11:01:27-05:00,GitHub,noreply@github.com,2023-03-27 11:01:27-05:00
bfab6aab38db34c2145ba5b87d46297ad8c1b72a,Maintain annotations in `DataFrame.categorize` (#10120),Hendrik Makait,hendrik@coiled.io,2023-03-27 23:28:56+02:00,GitHub,noreply@github.com,2023-03-27 16:28:56-05:00
55dfbb0ee6fd46646ec82d6ecc5033258c629862,Bump actions/checkout from 3.4.0 to 3.5.0 (#10122),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-03-27 21:05:33-05:00,GitHub,noreply@github.com,2023-03-27 21:05:33-05:00
7e6d64c283e6648df91fc4eb52a4c30f65c31192,Avoid deprecated `GroupBy.dtypes` (#10111),Irina Truong,i.chernyavska@gmail.com,2023-03-29 08:08:45-07:00,GitHub,noreply@github.com,2023-03-29 10:08:45-05:00
c1479b33a16dfcc7bbdde87bcfee6b2ab7cddcec,Upgrade readthedocs config to ubuntu 22.04 and Python 3.11 (#10124),Thomas Grainger,tagrain@gmail.com,2023-03-29 17:30:56+01:00,GitHub,noreply@github.com,2023-03-29 11:30:56-05:00
09dbeebbc1c8d5e40f7afc08258572ee897f36e9,Relax `assert_eq` checks on `Scalar`-like objects (#10125),Matthew Rocklin,mrocklin@gmail.com,2023-03-29 15:58:25-05:00,GitHub,noreply@github.com,2023-03-29 15:58:25-05:00
1a1885943b42496686dfb1454b307dbec9e29cad,Use declarative setuptools (#10102),Thomas Grainger,tagrain@gmail.com,2023-03-30 15:45:21+01:00,GitHub,noreply@github.com,2023-03-30 09:45:21-05:00
f4e0cdff3f08d08b13ed84017a553c026b46866d,Fix `valid_divisions` when passed a `tuple` (#10126),Brian Phillips,56549508+bphillips-exos@users.noreply.github.com,2023-03-30 16:03:34-04:00,GitHub,noreply@github.com,2023-03-30 15:03:34-05:00
a18c94f2fa685f6adde8ee86dd7155ebb5fa6efe,Handle `None` column name when checking if columns are all numeric (#10128),Lawrence Mitchell,lmitchell@nvidia.com,2023-03-30 21:05:27+01:00,GitHub,noreply@github.com,2023-03-30 15:05:27-05:00
f607cd61bf5c91abbca9d2d821cb1532ca67843e,Fix annotations for to_hdf (#10123),Hendrik Makait,hendrik@coiled.io,2023-03-31 11:59:51+02:00,GitHub,noreply@github.com,2023-03-31 11:59:51+02:00
58ef6a6c17804ebe26c70ddba1dfd7765761c72f,Bump actions/stale from 6 to 8 (#10121),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-04-03 11:40:17+01:00,GitHub,noreply@github.com,2023-04-03 11:40:17+01:00
9851e6ced2e03131d8a6b0fa61a5df3233545df4,Update gpuCI `RAPIDS_VER` to `23.06` (#10129),github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2023-04-03 11:54:55-05:00,GitHub,noreply@github.com,2023-04-03 11:54:55-05:00
15fe396b1ea542c26ea703511e3ad0ca6651c30d,Remove `dask/gpu` from gpuCI update reviewers (#10135),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-04-03 14:36:30-04:00,GitHub,noreply@github.com,2023-04-03 13:36:30-05:00
81e8de7948756d092af1c162644959ad605f54be,Fix documentation build with `pandas` 2.0 (#10138),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-03 15:13:12-05:00,GitHub,noreply@github.com,2023-04-03 15:13:12-05:00
6ef85c11aea274ab6963011b572475abbae18a6b,Preserve `dtype` for partitioning columns when read with `pyarrow` (#10115),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-04 00:08:58+02:00,GitHub,noreply@github.com,2023-04-03 17:08:58-05:00
b85bf5be72b02342222c8a0452596539fce19bce,Fix `update_graph` counting logic in `test_default_scheduler_on_worker` (#10145),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-04 15:23:55-05:00,GitHub,noreply@github.com,2023-04-04 15:23:55-05:00
f1b3a4d462fd2ad0bba6ec6c3a94e39ab8eb240d,Temporarily remove `xarray` from CI with `pandas` 2.0 (#10153),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-05 14:22:03-05:00,GitHub,noreply@github.com,2023-04-05 14:22:03-05:00
d3ab6dc07e0b3da605dadd6f18e683af388235c3,Handle string-based engine argument to `read_json` (#9947),Richard (Rick) Zamora,rzamora217@gmail.com,2023-04-05 16:00:06-05:00,GitHub,noreply@github.com,2023-04-05 16:00:06-05:00
b86786e3e1bd5be37a24d5b9743c6c043b9daffc,Add a CLI command to `list` and `get` a value from dask config (#9936),Irina Truong,i.chernyavska@gmail.com,2023-04-06 07:39:58-07:00,GitHub,noreply@github.com,2023-04-06 16:39:58+02:00
e0b826d753d58e3a7a3f9b9ffa2b2731f800359c,Deprecate `convert_dtype` in `Series.apply` (#10133),Irina Truong,i.chernyavska@gmail.com,2023-04-06 19:26:54-07:00,GitHub,noreply@github.com,2023-04-06 21:26:54-05:00
e3aa15e54600659ddc1b7139143a70ef1c1c05c6,Updates for `Index` supporting `numpy` numeric dtypes (#10154),Irina Truong,i.chernyavska@gmail.com,2023-04-06 19:30:05-07:00,GitHub,noreply@github.com,2023-04-06 21:30:05-05:00
2c8296c80ec436cc8a7fef98a2832a9032b287ff,Override old default values in `update_defaults` (#10159),Gabe Joseph,gabe@coiled.io,2023-04-07 18:59:24-06:00,GitHub,noreply@github.com,2023-04-07 19:59:24-05:00
8a0191c6abe2f30c00d74c8a255d082fb4d1a207,Fix flaky `modf` operation in `test_arithmetic` (#10162),Irina Truong,i.chernyavska@gmail.com,2023-04-10 10:19:46-07:00,GitHub,noreply@github.com,2023-04-10 12:19:46-05:00
011f170f60ab5bb48034d79cbaf6a873bec5b46f,Document `Generator` based random number generation (#10134),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2023-04-10 23:22:44+02:00,GitHub,noreply@github.com,2023-04-10 16:22:44-05:00
7f273fabf0ce1f0b962feabb3e50bc2c1b205296,Deprecate `use_nullable_dtypes=` and add `dtype_backend=` (#10076),Irina Truong,i.chernyavska@gmail.com,2023-04-11 09:31:20-07:00,GitHub,noreply@github.com,2023-04-11 11:31:20-05:00
35554159781b2f5b7fecbd967ea76e90f97cb63c,Bump `peter-evans/create-pull-request` from 4 to 5 (#10166),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-04-11 11:33:52-05:00,GitHub,noreply@github.com,2023-04-11 11:33:52-05:00
fdd9fe4ce658b4ebb5bb6a772ef76e549832c800,`GroupBy.cov` raising for non-numeric grouping column (#10171),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-11 20:17:49+02:00,GitHub,noreply@github.com,2023-04-11 13:17:49-05:00
af1ec2159f67873f5d4f92336a1d375fa994da72,Switch to `Generator` for random number generation in `dask.array` (#10003),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2023-04-11 21:08:28+02:00,GitHub,noreply@github.com,2023-04-11 14:08:28-05:00
641319529085eb43b78e459a3de3227e27050aab,Allow `pyarrow` CI to fail (#10176),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-11 19:53:02-05:00,GitHub,noreply@github.com,2023-04-11 19:53:02-05:00
3c9b19fab9df3266f7004297840bf916838b26a0,Fix failing tests under copy-on-write (#10173),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-12 02:54:03+02:00,GitHub,noreply@github.com,2023-04-11 19:54:03-05:00
ea762a147ef16f7a35ae26cacf34447e245aad37,Drop `bokeh<3` restriction (#10177),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-12 10:47:22-05:00,GitHub,noreply@github.com,2023-04-12 10:47:22-05:00
fd31b9b67e105f4c63b391f5c24959e39e27a0cc,Handle pandas deprecation warnings for `to_pydatetime` and `apply` (#10168),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-12 18:11:15+02:00,GitHub,noreply@github.com,2023-04-12 11:11:15-05:00
4b0c9ec9ee65d72966e8ded8821e5c8cc7c824d6,Temporarily pin `scikit-image` to fix Windows CI (#10186),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-13 17:58:18+02:00,GitHub,noreply@github.com,2023-04-13 10:58:18-05:00
20318db0d43b7051ffdbeef4499c3d2e8b3073e9,Revert `grouper`-related changes (#10182),Irina Truong,i.chernyavska@gmail.com,2023-04-13 12:04:59-07:00,GitHub,noreply@github.com,2023-04-13 14:04:59-05:00
5a96d88c1b6150ca7a728e9525e233ee3f01f5c8,Add `python-cityhash` to CI environments (#10190),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-04-13 20:44:17-04:00,GitHub,noreply@github.com,2023-04-13 19:44:17-05:00
d00af9c94b02aa7f71fdb0039b9fde9f2ce09ecf,Update `dataframe.convert_string` to `dataframe.convert-string` (#10191),Irina Truong,i.chernyavska@gmail.com,2023-04-14 09:30:06-07:00,GitHub,noreply@github.com,2023-04-14 11:30:06-05:00
ce977733a97664e26c073f5ccc0bd86cb3ce92ff,bump version to 2023.4.0,James Bourbeau,jrbourbeau@gmail.com,2023-04-14 13:40:38-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-04-14 13:40:38-05:00
f5bc19f3c9e8e4792d02d3eed5c10d850d4158c9,Adjust for deprecated ``is_interval_dtype`` and ``is_datetime64tz_dtype`` (#10188),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-14 21:23:01+02:00,GitHub,noreply@github.com,2023-04-14 14:23:01-05:00
ecee03bbf4ef1b33559eb23e18ac75ccd2c390e1,Avoid deprecated `is_categorical_dtype` from `pandas` (#10180),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-15 02:07:01+02:00,GitHub,noreply@github.com,2023-04-14 19:07:01-05:00
f08addd8d6f484cdfdb2eed4f69fe76facaac00f,Adjust empty `Index` from `fastparquet` to `object` dtype (#10179),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-15 04:27:02+02:00,GitHub,noreply@github.com,2023-04-14 21:27:02-05:00
793a0ea0ec1ef0502f0fc5a0d2e38d24cfad05a5,Repartitioning raises with extension dtype when truncating floats (#10169),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-15 04:29:17+02:00,GitHub,noreply@github.com,2023-04-14 21:29:17-05:00
83e82221f5ad4c38c8f0425b33775a1af8f681c8,Bump actions/checkout from 3.5.0 to 3.5.2 (#10201),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-04-17 20:02:31-05:00,GitHub,noreply@github.com,2023-04-17 20:02:31-05:00
5a2c42df0befc2d280350a07d0a85f7ac1b33c98,Support arrow dtypes in `Index` meta creation (#10170),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-18 03:07:24+02:00,GitHub,noreply@github.com,2023-04-17 20:07:24-05:00
b31c7cf60eb06aad52f3691d2a7ab784fd7cc039,Remove `is_period_dtype` and `is_sparse_dtype` (#10197),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-18 03:10:07+02:00,GitHub,noreply@github.com,2023-04-17 20:10:07-05:00
464bc779e977a21b73437815bdd4c4bf61e26c03,Fix coverage configuration (#10203),Thomas Grainger,tagrain@gmail.com,2023-04-19 16:39:56+01:00,GitHub,noreply@github.com,2023-04-19 10:39:56-05:00
d8b7e874a6c57c1273dc2e3b48f4ae506e6dff37,Add merge tests on nullable columns (#10071),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-04-19 12:03:57-04:00,GitHub,noreply@github.com,2023-04-19 11:03:57-05:00
d149e94af81b7eb1bc0ff059bcebaf9c6b6161aa,Avoid re-opening hdf file multiple times in `read_hdf` (#10205),Thomas Grainger,tagrain@gmail.com,2023-04-19 18:04:41+01:00,GitHub,noreply@github.com,2023-04-19 12:04:41-05:00
2ec4cb32139a67fe1471bc26d0552ea7df41fa70,Provide proper `like` value for `array_safe` in `percentiles_summary` (#10156),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-04-19 13:29:58-04:00,GitHub,noreply@github.com,2023-04-19 12:29:58-05:00
9a5f34b7b1b85a9ccfaf548cc476f698c288d7a8,Add `mindeps` build with all optional dependencies (#10161),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-04-19 13:39:12-04:00,GitHub,noreply@github.com,2023-04-19 12:39:12-05:00
8fbffe6cb1eba9753cf5514a9a90f2d175230383,Add `xarray` back to Python 3.11 CI builds (#10200),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-19 13:19:44-05:00,GitHub,noreply@github.com,2023-04-19 13:19:44-05:00
c9b21101193fa61dd8608e1ff30be415ef4a90cb,Add note about `importlib_metadata` backport (#10207),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-19 15:31:23-05:00,GitHub,noreply@github.com,2023-04-19 15:31:23-05:00
fdfb2d709e3d2a8f3cab96ab8c9d86b111accafe,Unpin `sqlalchemy` and fix compatibility issues (#10140),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-19 23:43:53+02:00,GitHub,noreply@github.com,2023-04-19 16:43:53-05:00
576f1f3f455b41a4f01598c877aeb38fb4f32b07,Fix formatting in random number generation docs (#10189),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2023-04-21 16:38:42+02:00,GitHub,noreply@github.com,2023-04-21 09:38:42-05:00
d264ed83673511d3ef3c80cf6e9eb33be9e0be78,Pin imageio to ``<2.28`` (#10216),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-24 17:16:07+02:00,GitHub,noreply@github.com,2023-04-24 10:16:07-05:00
8356af3caec4a912db7891bbe7c8203bcbbd4646,Avoid calling ``Series.apply`` with ``_meta_nonempty`` (#10212),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-24 19:52:02+02:00,GitHub,noreply@github.com,2023-04-24 12:52:02-05:00
f82f6b40b1c85882ac7531806cb883ac9d7c75d5,Add documentation for ``GroupBy.transform`` (#10185),Irina Truong,i.chernyavska@gmail.com,2023-04-25 00:31:10+02:00,GitHub,noreply@github.com,2023-04-24 17:31:10-05:00
cc13a7b36960ae02fe17883edcdff990d13f060b,Avoid deep copy in ``DataFrame.__setitem__`` for pandas 1.4 and up (#10221),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-25 18:14:12+02:00,GitHub,noreply@github.com,2023-04-25 18:14:12+02:00
cfbc7e9506e98587e8f38aa3af9fffc61f717f3d,"partially revert default client discovery (#10225)

Co-authored-by: Hendrik Makait <hendrik@coiled.io>",Florian Jetter,fjetter@users.noreply.github.com,2023-04-27 15:46:04+02:00,GitHub,noreply@github.com,2023-04-27 15:46:04+02:00
a93987f46f3e70148410cafbec8f9ad2207557d4,Add ``DataFrame.persist`` to docs and fix links (#10231),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-27 17:21:56+02:00,GitHub,noreply@github.com,2023-04-27 10:21:56-05:00
21734472871cc1cc529aecabcb6c1f2e647b191f,Add ``DataFrame.reduction`` to API docs (#10229),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-27 10:22:45-05:00,GitHub,noreply@github.com,2023-04-27 10:22:45-05:00
a3cc8c4a7e0f667088cae6df4b2590dedfea4837,Update Kubernetes docs (#10232),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-04-27 22:44:59+01:00,GitHub,noreply@github.com,2023-04-27 16:44:59-05:00
f2ff8d2e543c5a072a5fcca7f46c8cdca24badd8,Add support for ``numeric_only=True`` in ``GroupBy`` operations (#10222),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-28 03:37:59+02:00,GitHub,noreply@github.com,2023-04-27 20:37:59-05:00
801a9d4a1edcc7d95631c7acee300e56feba88f6,Implement ``numeric_only`` support for ``DataFrame.sum`` (#10194),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-28 04:07:17+02:00,GitHub,noreply@github.com,2023-04-27 21:07:17-05:00
a69a808f75a961504a9ba18058bff5e458be97fb,bump version to 2023.4.1,James Bourbeau,jrbourbeau@gmail.com,2023-04-28 12:29:10-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-04-28 12:29:10-05:00
acc5f5c0db6ce58a311cb6faf1c5494c53320167,Add helper to unpack ``numeric_only`` keyword (#10228),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-29 00:25:04+02:00,GitHub,noreply@github.com,2023-04-28 17:25:04-05:00
f3ae17c31453468217767c56124aa5a9bf1de57a,Add ``numeric_only=True`` support for ``GroupBy.cumsum`` and ``GroupBy.cumprod`` (#10224),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-30 19:12:29+02:00,GitHub,noreply@github.com,2023-04-30 12:12:29-05:00
7db8efc89d82c32115d30e54781edff3e579da6d,"Add ``numeric_only`` support to ``min``, ``max`` and ``prod`` (#10219)",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-30 19:44:12+02:00,GitHub,noreply@github.com,2023-04-30 12:44:12-05:00
4141268179f5c3be44c1f807f399b80ccdd65ece,Support ``mimesis=9`` in ``dask.datasets`` (#10241),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-04-30 13:33:48-05:00,GitHub,noreply@github.com,2023-04-30 13:33:48-05:00
021b098ac499dfb8d8e6c15c6d724bcb608811e9,Add ``numeric_only`` support to ``GroupBy.median`` (#10236),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-04-30 23:03:33+02:00,GitHub,noreply@github.com,2023-04-30 16:03:33-05:00
9d409d05651fce2e924cb73b35745a7099d95d75,Support ``numeric_only=True`` in ``GroupBy.corr`` and ``GroupBy.cov`` (#10227),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-01 17:44:34+02:00,GitHub,noreply@github.com,2023-05-01 10:44:34-05:00
7fad4044a7ae468c685d96bd0b9aa0f7a4e8f319,Bump gpuCI ``PYTHON_VER`` 3.8->3.9 (#10233),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-05-01 15:07:49-04:00,GitHub,noreply@github.com,2023-05-01 14:07:49-05:00
ffaac7144f62b02323ce48dd2d9c856745969fb8,Un-``xfail`` ``test_categories`` with ``pyarrow`` strings and ``pyarrow>=12`` (#10244),Irina Truong,i.chernyavska@gmail.com,2023-05-02 02:49:38+02:00,GitHub,noreply@github.com,2023-05-01 19:49:38-05:00
702398472ca0d07899269847f398015eeb95a41a,Fix ``test_groupby_numeric_only_supported`` and ``test_groupby_aggregate_categorical_observed`` upstream errors  (#10243),Irina Truong,i.chernyavska@gmail.com,2023-05-02 02:52:06+02:00,GitHub,noreply@github.com,2023-05-01 19:52:06-05:00
a09e4896be22477f375deac5a832cdad3d8bfa68,Fix ``corr`` and ``cov`` on a single-row partition (#9756),Irina Truong,i.chernyavska@gmail.com,2023-05-02 06:11:09+02:00,GitHub,noreply@github.com,2023-05-01 23:11:09-05:00
68bd543bd03da53748005e135f7cc7b97d687475,Make sure transform output has the same index as input (#10184),Irina Truong,i.chernyavska@gmail.com,2023-05-02 09:43:34+02:00,GitHub,noreply@github.com,2023-05-02 09:43:34+02:00
16320d113638d4c069814378b47380083b038dbd,Disallow array input in mask/where (#10163),Irina Truong,i.chernyavska@gmail.com,2023-05-02 19:21:56+02:00,GitHub,noreply@github.com,2023-05-02 19:21:56+02:00
196dcaad5da7c248d5f0a28db1503ea294a4541e,Enable ``numeric_only=False`` for ``DataFrame.count`` (#10234),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-02 19:53:45+02:00,GitHub,noreply@github.com,2023-05-02 12:53:45-05:00
9f14b50d8918dccc2bcf68b1c79232f5b6f2ed4e,Remove unused ``DataFrame`` variance methods (#10252),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-03 17:23:15+02:00,GitHub,noreply@github.com,2023-05-03 10:23:15-05:00
1c04dfeca8f2b8e73fc52b983a85d34b4e36cc9f,Adjust for ``DataFrame.applymap`` deprecation and all ``NA`` ``concat`` behaviour change (#10245),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-03 17:26:48+02:00,GitHub,noreply@github.com,2023-05-03 10:26:48-05:00
584c9e4447bfafdecf3d09ceab5ac34fd918477e,Avoid scalar conversion deprecation warning in ``numpy=1.25`` (#10248),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-03 10:29:59-05:00,GitHub,noreply@github.com,2023-05-03 10:29:59-05:00
ee651661d275c212f3f4688057cbf93790068539,Add ``DataFrame.map`` to ``dask.DataFrame`` API (#10246),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-03 19:24:19+02:00,GitHub,noreply@github.com,2023-05-03 12:24:19-05:00
2a2273dc21588d2c53ff8e37754a4a36db46bff9,Remove ``imageio`` version restriction in CI (#10260),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-04 16:44:27+02:00,GitHub,noreply@github.com,2023-05-04 09:44:27-05:00
62f4f1f2b10c53b698b6e5a683c45c03229675a3,Add `Index` API reference (#10263),hotpotato,98500306+novdanody@users.noreply.github.com,2023-05-04 14:18:53-04:00,GitHub,noreply@github.com,2023-05-04 13:18:53-05:00
3f6ff720c0b91fe6c47fd76bb0d4dfe4e89093e0,Add ``numeric_only`` support to ``DataFrame.mode`` (#10257),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-04 20:34:53+02:00,GitHub,noreply@github.com,2023-05-04 13:34:53-05:00
50643393f1bd57b165b9004650631543f8d5f009,Fix dataframe reductions for ea dtypes (#10150),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-05 13:17:19+02:00,GitHub,noreply@github.com,2023-05-05 13:17:19+02:00
a6ed1b2cac4fa66fe0743fabb567a894fdfd729f,Warn when meta is passed to ``apply`` (#10256),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-05 13:38:31+02:00,GitHub,noreply@github.com,2023-05-05 13:38:31+02:00
1dcc856ecb16228a7f5b86f3b59a21bc4c907f7e,Add support for ``numeric_only=False`` in ``DataFrame.var`` (#10250),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-05 17:01:20+02:00,GitHub,noreply@github.com,2023-05-05 17:01:20+02:00
980fd92a46f101f161d21e0c4f486024bafbfad3,"Clean up futures docs (#10266)

The image at the top of this page was not highly relevant.  I suspect it
was added just for SEO, but at the cost of clarity.

This commit also cleans up some overly-technical language, that I think
is not relevant for an initial introduction to this topic.",Matthew Rocklin,mrocklin@gmail.com,2023-05-05 11:00:41-05:00,GitHub,noreply@github.com,2023-05-05 11:00:41-05:00
e9845aadc7c32078e55354b61f5626ac759e8b28,Implement ``numeric_only=False`` for ``GroupBy.corr`` and ``GroupBy.cov`` (#10264),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-08 20:28:48+02:00,GitHub,noreply@github.com,2023-05-08 13:28:48-05:00
193ae7b4b8a634349dc19f1970cc5d318c5fdd47,Fix `clone` + `from_array` failure (#10211),crusaderky,crusaderky@gmail.com,2023-05-10 22:30:20+01:00,GitHub,noreply@github.com,2023-05-10 22:30:20+01:00
12c7c10d0c15391a6522fe2dc7df191f8088967e,bump version to 2023.5.0,Jacob Tomlinson,jtomlinson@nvidia.com,2023-05-12 16:48:52+01:00,Jacob Tomlinson,jtomlinson@nvidia.com,2023-05-12 16:48:52+01:00
2047d3a4582e389c659c4a95ce5dc6c8636f6de9,DOCS HOTFIX: Add missing user link (#10286),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-05-15 15:36:48+01:00,GitHub,noreply@github.com,2023-05-15 15:36:48+01:00
878415990aa813682acc03cb75bb6c243be4266e,Add docs for demo day (#10288),Matthew Rocklin,mrocklin@gmail.com,2023-05-15 10:57:56-05:00,GitHub,noreply@github.com,2023-05-15 10:57:56-05:00
41841c27e761efae540ce0d8572b63c15fdf8b70,Add ``pytest-cov`` to ``test`` extra (#10271),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-15 14:05:33-05:00,GitHub,noreply@github.com,2023-05-15 14:05:33-05:00
11f2b83ee034aea7837691f9a0d4ede6309d6194,"Fix dtype inference for ``engine=""pyarrow""`` in ``read_csv`` (#10280)",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-16 00:14:01+02:00,GitHub,noreply@github.com,2023-05-15 17:14:01-05:00
0b6ddd3b8bcaba127abb25136fabcdc42b985b0c,Fix conversion from ``Categorical`` to ``pa.dictionary`` in ``read_parquet`` (#10285),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-16 18:36:31+02:00,GitHub,noreply@github.com,2023-05-16 11:36:31-05:00
cff85a06f6dfcafe4f34587dbcff2a0327196d06,`mask` and `where` should accept a `callable` (#10289),Irina Truong,i.chernyavska@gmail.com,2023-05-16 20:19:35+02:00,GitHub,noreply@github.com,2023-05-16 20:19:35+02:00
e12651669dbe67cd85c8f6db51022afac31dc5bc,`da.coarsen` doesn't trim an empty chunk in meta (#10281),Irina Truong,i.chernyavska@gmail.com,2023-05-16 20:52:30+02:00,GitHub,noreply@github.com,2023-05-16 20:52:30+02:00
bcee4693058affe3b11ee85f3cf298704ddd5517,Implement ``numeric_only`` for ``skew`` and ``kurtosis`` (#10258),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 03:51:47+02:00,GitHub,noreply@github.com,2023-05-16 20:51:47-05:00
544eba235b51626153898bf20f19cd2d4ae7fce9,Implement ``numeric_only=False`` for ``GroupBy.cumprod`` and ``GroupBy.cumsum`` (#10262),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 03:53:00+02:00,GitHub,noreply@github.com,2023-05-16 20:53:00-05:00
c659a04d2dcd1c488bdb3b0823ed4167fa881daf,Add support for ``numeric_only=False`` in ``DataFrame.std`` (#10251),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 03:56:11+02:00,GitHub,noreply@github.com,2023-05-16 20:56:11-05:00
ba66c609566a4cf6cc2bef0e84bb236500cdbd76,Fix regression in `da.random` interface (#10247),Eray Aslan,5224877+erayaslan@users.noreply.github.com,2023-05-17 14:36:57+02:00,GitHub,noreply@github.com,2023-05-17 07:36:57-05:00
9f55a1926d958fe0d1a249ea1166351112b64173,Implement ``numeric_only`` support for ``DataFrame.quantile`` (#10259),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 14:45:53+02:00,GitHub,noreply@github.com,2023-05-17 14:45:53+02:00
cdb183a2dddfac6d1fb445be66f1c62f91434c13,Add ``numeric_only`` support to ``DataFrame.idxmin`` and ``DataFrame.idxmax`` (#10253),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 14:57:48+02:00,GitHub,noreply@github.com,2023-05-17 14:57:48+02:00
cbce2906c7042125d9ddc3d17bdf0d65abf8ae0c,Support duplicated columns in a bunch of ``DataFrame`` methods (#10261),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 16:13:58+02:00,GitHub,noreply@github.com,2023-05-17 16:13:58+02:00
3771360d7d2f41c28e357be0479b4553ff70023a,Improve ``sizeof`` for ``pd.MultiIndex`` (#10230),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-17 20:31:56+02:00,GitHub,noreply@github.com,2023-05-17 13:31:56-05:00
f30fce88db7937b54bf1e2bf9c36efb77e53f38e,Update Coiled links (#10296),Sarah Charlotte Johnson,sarah@coiled.io,2023-05-18 03:10:41-07:00,GitHub,noreply@github.com,2023-05-18 11:10:41+01:00
515365b19b993289a054e2c8d25fb21e6db2ade5,Clean up default value of ``dropna`` in ``value_counts`` (#10299),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-18 17:47:25+02:00,GitHub,noreply@github.com,2023-05-18 10:47:25-05:00
303f4433a5314b7202c8c77201eda8d0f38e5920,Add test to check that ``DataFrame.__setitem__`` does not modify ``df`` inplace (#10223),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-19 17:55:15+02:00,GitHub,noreply@github.com,2023-05-19 10:55:15-05:00
a3d235e3cd6ca0209ff4be422217408ba7ae11ab,Raise ``TypeError`` in ``DataFrame.nsmallest`` and ``DataFrame.nlargest`` when ``columns`` is not given (#10301),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-19 16:30:27+00:00,GitHub,noreply@github.com,2023-05-19 11:30:27-05:00
a0a0807ab4da7aaabf9ac64495e5d7e07d4791ce,pandas ``ExtensionDtype`` raising in ``Series`` reduction operations (#10149),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-19 19:16:52+00:00,GitHub,noreply@github.com,2023-05-19 14:16:52-05:00
8cb00000a9c327362bbb58fb342acddeec7068f8,Fix ``divisions`` construction for ``to_timestamp`` (#10304),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-22 08:24:41-07:00,GitHub,noreply@github.com,2023-05-22 10:24:41-05:00
8bf7d53492f961efeb91839e440f12aded2bcf1f,Add ``na_action`` to ``DataFrame.map`` (#10305),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-05-22 11:08:07-07:00,GitHub,noreply@github.com,2023-05-22 13:08:07-05:00
ae39b43bdc1d7cf1b9ece112ba3dc398f3fabc13,Ignore ``numpy.find_common_type`` warning from ``pandas`` (#10307),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-22 16:30:56-05:00,GitHub,noreply@github.com,2023-05-22 16:30:56-05:00
260e633c0ec709d283f3463aef391cece6febba3,Avoid ``pandas`` ``Series.__getitem__`` deprecation in tests (#10308),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-22 21:38:09-05:00,GitHub,noreply@github.com,2023-05-22 21:38:09-05:00
e1c2009475d3fd7d72edc6988e1663ab16de74fe,Add ``meta_from_array`` to API docs (#10306),Ruth Comer,10599679+rcomer@users.noreply.github.com,2023-05-23 16:18:16+01:00,GitHub,noreply@github.com,2023-05-23 10:18:16-05:00
fff0e81ff9e27f22951bc1022074eeaaf325a2e3,"Generalize ``dd.to_datetime`` for GPU-backed collections, introduce ``get_meta_library`` utility (#9881)",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-05-23 16:26:33-04:00,GitHub,noreply@github.com,2023-05-23 15:26:33-05:00
f0f959ced442e57ab38c50c5a0cc342ec64986db,Enable ``drop`` to support mismatched partitions (#10300),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-23 15:34:40-05:00,GitHub,noreply@github.com,2023-05-23 15:34:40-05:00
de2278cca97a6ae89d0af7fee7f4d8375f24501c,Change Dask Bag partitioning scheme to improve cluster saturation (#10294),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-05-24 13:34:15+01:00,GitHub,noreply@github.com,2023-05-24 13:34:15+01:00
e13221714f42e5c604f7789dd7289205ff906083,Drop Python 3.8 support (#10295),Thomas Grainger,tagrain@gmail.com,2023-05-24 18:49:44+01:00,GitHub,noreply@github.com,2023-05-24 12:49:44-05:00
84da68e00e53f76f35215afa00914811c91aca04,Configure ``isort`` to add ``from __future__ import annotations`` (#10314),Thomas Grainger,tagrain@gmail.com,2023-05-24 20:18:30+01:00,GitHub,noreply@github.com,2023-05-24 14:18:30-05:00
0426326905c5e9773b05ae7e5f018facb135b779,"Fix rechunking behavior for dimensions with known and unknown chunk sizes (#10157)

Co-authored-by: Lawrence Mitchell <wence@gmx.li>",Hendrik Makait,hendrik@coiled.io,2023-05-24 21:52:18+02:00,GitHub,noreply@github.com,2023-05-24 21:52:18+02:00
117e1b8565267ee34c5be4ffc45a7a8e552274c4,Explicitly install `anaconda-client` from conda-forge when uploading conda nightlies (#10316),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-05-25 11:52:58-04:00,GitHub,noreply@github.com,2023-05-25 10:52:58-05:00
47404767b53f7fabf9583a0047970b50670e8442,Spurious config on nested annotations (#10318),crusaderky,crusaderky@gmail.com,2023-05-26 14:34:41+01:00,GitHub,noreply@github.com,2023-05-26 14:34:41+01:00
453bd7031828f72e4602498c1a1f776280794bea,bump version to 2023.5.1,James Bourbeau,jrbourbeau@gmail.com,2023-05-26 15:07:26-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-05-26 15:07:26-05:00
261bc5398c6be446a3028b1a37355a6f38f8bfdf,Update gpuCI `RAPIDS_VER` to `23.08` (#10310),github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2023-05-30 22:21:03-05:00,GitHub,noreply@github.com,2023-05-30 22:21:03-05:00
8803b3ae5bdac75016347c76c37ac2ed4f3d606a,Update empty ``describe`` top and freq values (#10319),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-31 08:49:48-05:00,GitHub,noreply@github.com,2023-05-31 15:49:48+02:00
940bcd1e702ca0a0dbb9a054074cd1ed31bbc9d1,Remove ``numpy.find_common_type`` warning ignore (#10311),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-05-31 11:28:10-05:00,GitHub,noreply@github.com,2023-05-31 11:28:10-05:00
286223b5f5d7164b4a146a86d3d2ac5f2689870c,Add missing 'not in' predicate support to `read_parquet` (#10320),Richard (Rick) Zamora,rzamora217@gmail.com,2023-05-31 21:14:32-05:00,GitHub,noreply@github.com,2023-05-31 21:14:32-05:00
06a6b5afe120a2545f5496d2102516361494ba48,Fix for incorrect `value_counts` (#10323),Irina Truong,i.chernyavska@gmail.com,2023-06-01 10:17:19+02:00,GitHub,noreply@github.com,2023-06-01 10:17:19+02:00
e56ef0d97943695382b6b554c7207eabbab0d094,Test with ``numba`` and ``sparse`` on Python 3.11 (#10329),Thomas Grainger,tagrain@gmail.com,2023-06-02 15:52:30+01:00,GitHub,noreply@github.com,2023-06-02 09:52:30-05:00
596d74dbc72db663efac606d42d5c93c5a917fb9,Fix hetzner typo (#10332),Sarah Charlotte Johnson,sarah@coiled.io,2023-06-05 14:44:41+01:00,GitHub,noreply@github.com,2023-06-05 15:44:41+02:00
853a6b0db11c17c6b36a54057fbd9b240b747919,bump version to 2023.6.0,James Bourbeau,jrbourbeau@gmail.com,2023-06-09 11:32:18-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-06-09 11:32:18-05:00
7553ebdaf9d5ac8bf608210de356f729162a192d,Fix for total_mem_usage of bag.map() (#10341),Irina Truong,i.chernyavska@gmail.com,2023-06-12 03:24:56-07:00,GitHub,noreply@github.com,2023-06-12 12:24:56+02:00
cb7d78051f53e6fd8ab624f44dd6960bd2433d46,Validate that rechunking is possible earlier in graph generation (#10336),Hendrik Makait,hendrik@coiled.io,2023-06-12 12:26:29+02:00,GitHub,noreply@github.com,2023-06-12 12:26:29+02:00
a5d5e43de73a0248c9305402ed8f20c6934e109f,Add rechunk config values to yaml (#10343),Hendrik Makait,hendrik@coiled.io,2023-06-12 17:52:37+02:00,GitHub,noreply@github.com,2023-06-12 10:52:37-05:00
d8934fe477fad5735b68e11556da71d8f4ce183d,Fix `H5FD_lock` error when writing to hdf with distributed client (#10309),Irina Truong,i.chernyavska@gmail.com,2023-06-12 10:47:56-07:00,GitHub,noreply@github.com,2023-06-12 19:47:56+02:00
c6ea05ec86f7b0cb62ef66a2a856889edf3ae62a,Update nightly wheel index for pandas/numpy/scipy (#10346),Matthew Roeschke,10647082+mroeschke@users.noreply.github.com,2023-06-12 13:31:16-07:00,GitHub,noreply@github.com,2023-06-12 15:31:16-05:00
3b84f318b41a9f3079af747450ee72b165b7cc73,Restore ``numba`` in ``upstream`` build (#10330),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-06-12 16:33:35-05:00,GitHub,noreply@github.com,2023-06-12 16:33:35-05:00
053c5425e415a84de9fef31d2bf94b8fb9ef477e,Choose P2P even if fusion is enabled (#10344),Hendrik Makait,hendrik@coiled.io,2023-06-13 11:40:54+02:00,GitHub,noreply@github.com,2023-06-13 11:40:54+02:00
3edd87f6f582979264dee4f2f0cda52b39b23e78,Add dispatching mechanisms for `pyarrow.Table` conversion (#10312),Richard (Rick) Zamora,rzamora217@gmail.com,2023-06-13 07:43:08-05:00,GitHub,noreply@github.com,2023-06-13 07:43:08-05:00
24adabbd90137a24ffdd18867ffe95e335bc8418,Bump actions/checkout from 3.5.2 to 3.5.3 (#10348),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-06-13 10:48:49-05:00,GitHub,noreply@github.com,2023-06-13 10:48:49-05:00
5a93ae39bb161eccbf8a95121d1c2243d57021cc,Respect ``dropna`` and ``observed`` in ``GroupBy.var`` and ``GroupBy.std`` (#10350),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-06-13 22:06:12+02:00,GitHub,noreply@github.com,2023-06-13 15:06:12-05:00
499f4055da707fa76d06a2b79f408f124eee4723,Deprecate ``DataFrame.first`` and ``Series.first`` (#10352),Irina Truong,i.chernyavska@gmail.com,2023-06-13 14:58:11-07:00,GitHub,noreply@github.com,2023-06-13 16:58:11-05:00
d601131bc7ba73662721be7241c946486c45c12a,Cleanup remote tracebacks (#10354),Irina Truong,i.chernyavska@gmail.com,2023-06-20 03:39:25-07:00,GitHub,noreply@github.com,2023-06-20 11:39:25+01:00
c6c87a139f89db6df49afbe94211be7fc4e3d3da,mypy support for numpy 1.25 (#10362),crusaderky,crusaderky@gmail.com,2023-06-20 13:58:03+01:00,GitHub,noreply@github.com,2023-06-20 14:58:03+02:00
2651f18bee39c6d9b2eb1b33c8f0756aed287674,Remove unnecessary try-except in ``isna`` (#10363),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-06-20 19:52:10+02:00,GitHub,noreply@github.com,2023-06-20 12:52:10-05:00
a6ee367ab76f4b12ab2dcea49e9b91dff9ba63d0,Fix issue with ``header`` passed to ``read_csv`` (#10355),GALI PREM SAGAR,sagarprem75@gmail.com,2023-06-20 15:05:50-05:00,GitHub,noreply@github.com,2023-06-20 15:05:50-05:00
9409c5b2d2e29a97f09783ca47dfd4a1c5336891,Use general kwargs in pyarrow_table_dispatch functions (#10364),Richard (Rick) Zamora,rzamora217@gmail.com,2023-06-21 16:11:07-05:00,GitHub,noreply@github.com,2023-06-21 16:11:07-05:00
416be4d99a05c310e49982378e6c6145b2473ef6,"Support ``DataFrame.set_index(..., sort=False)`` (#10342)

Co-authored-by: Hendrik Makait <hendrik@coiled.io>",Miles,miles59923@gmail.com,2023-06-22 14:55:45+02:00,GitHub,noreply@github.com,2023-06-22 14:55:45+02:00
0454f34432f5c98f9325a3a0b608926637a6b6d4,Fix annotations and spans leaking between threads (#10367),Irina Truong,i.chernyavska@gmail.com,2023-06-22 12:15:57-07:00,GitHub,noreply@github.com,2023-06-22 20:15:57+01:00
26160ff51845f9f1c29872e15a0e769c9bd537cf,Deprecate `DataFrame.fillna`/`Series.fillna` with `method` (#10349),Irina Truong,i.chernyavska@gmail.com,2023-06-23 00:19:34-07:00,GitHub,noreply@github.com,2023-06-23 09:19:34+02:00
bb4aad4265627107421b14aee7a96475f6a5336e,Deprecate numpy.compat. (#10370),Irina Truong,i.chernyavska@gmail.com,2023-06-23 00:21:41-07:00,GitHub,noreply@github.com,2023-06-23 09:21:41+02:00
d00183ce91013303735eb28209c6a09b0d57a54b,Remove no longer supported ``clip_lower`` and ``clip_upper`` (#10371),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-06-23 18:13:52+02:00,GitHub,noreply@github.com,2023-06-23 11:13:52-05:00
85c99bc20abc382774cfb6e5bf5f2db76ac09378,bump version to 2023.6.1,James Bourbeau,jrbourbeau@gmail.com,2023-06-26 15:34:00-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-06-26 15:34:00-05:00
66b1b92d8f3f08f6a47e56c550b778a68f28051f,Do not derive from ``scipy.stats.chisquare`` docstring (#10382),Doug Davis,ddavis@anaconda.com,2023-06-28 14:39:30-05:00,GitHub,noreply@github.com,2023-06-28 14:39:30-05:00
4375ab8eed11636e5df037fd7434dbdabb0b667f,Catch exceptions when attempting to load CLI entry points (#10380),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-06-30 16:14:34+01:00,GitHub,noreply@github.com,2023-06-30 10:14:34-05:00
14538a4d171fcf4c66c26aa456c8faf8a0af3505,Add ``level`` to ``create_merge_tree`` (#10391),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-06-30 19:51:45+02:00,GitHub,noreply@github.com,2023-06-30 12:51:45-05:00
92035999757768bda8423a2de1d7e723c0f8ab04,Fix ``test_first_and_last`` to accommodate deprecated ``last`` (#10373),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-06-30 17:41:06-05:00,GitHub,noreply@github.com,2023-06-30 17:41:06-05:00
b9d45627cede72f7739f5cc2fbb19973c5f0b1dc,Simplify ``astype`` implementation (#10393),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-07-03 19:50:30+02:00,GitHub,noreply@github.com,2023-07-03 12:50:30-05:00
a6d9248fa115add28504e9ed1ceb9c32586203fa,Warn consistently for ``inplace`` in ``Series.rename`` (#10313),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-07-04 11:12:34+02:00,GitHub,noreply@github.com,2023-07-04 11:12:34+02:00
d15fd23051cb372385dece200d094443a4b9f52b,Ensure that ``df`` is immutable after ``from_pandas`` (#10383),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-07-04 17:30:32+02:00,GitHub,noreply@github.com,2023-07-04 17:30:32+02:00
5a39a378d8b0d99dbfe51de37b36b4ece029d486,Add clarification about output shape and reshaping in rechunk documentation (#10377),Swayam Patil,98048555+Swish78@users.noreply.github.com,2023-07-05 15:00:45+05:18,GitHub,noreply@github.com,2023-07-05 11:42:45+02:00
461355e117958354ed30e29893afecd5e9258ff0,Fix typo in `_clean_ipython_traceback` (#10385),Alexander Clausen,alex@gc-web.de,2023-07-05 19:30:39+02:00,GitHub,noreply@github.com,2023-07-05 18:30:39+01:00
8523b3bae2ec0183d9d92cc536a3405f15189b7e,bump version to 2023.7.0,James Bourbeau,jrbourbeau@gmail.com,2023-07-07 12:34:33-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-07-07 12:34:33-05:00
67e648922512615f94f8a90726423e721d0e3eb2,``concat`` ignoring ``DataFrame`` withouth columns (#10359),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-07-10 13:48:41+02:00,GitHub,noreply@github.com,2023-07-10 13:48:41+02:00
11f633d75a8b898d75fe76ade7133c5936c41fe0,Enable non-categorical hive-partition columns in `read_parquet` (#10353),Richard (Rick) Zamora,rzamora217@gmail.com,2023-07-11 08:23:42-05:00,GitHub,noreply@github.com,2023-07-11 08:23:42-05:00
1153658a95dedba733d21243d6f00c766b2df30f,Make repartition a no-op when divisions match (divisions provided as a list) (#10395),Nicolas Grandemange,1694892+epizut@users.noreply.github.com,2023-07-13 10:44:25+02:00,GitHub,noreply@github.com,2023-07-13 10:44:25+02:00
e4f7ceade4c93f71f1f2593a910b9c081ab17aa4,Fix FutureWarning: The provided callable... (#10405),Irina Truong,i.chernyavska@gmail.com,2023-07-13 03:50:15-07:00,GitHub,noreply@github.com,2023-07-13 11:50:15+01:00
bdc71ba5a4ad7bfb0265a52a1b816936604845fe,Raise helpful `ValueError` for invalid time units (#10408),Nat Tabris,46289310+ntabris@users.noreply.github.com,2023-07-13 07:40:07-06:00,GitHub,noreply@github.com,2023-07-13 08:40:07-05:00
484afe2b241759d8b639e9f66b53d326adc99d2a,Speed up dask.bag.Bag.random_sample (#10356),crusaderky,crusaderky@gmail.com,2023-07-13 19:10:05+01:00,GitHub,noreply@github.com,2023-07-13 19:10:05+01:00
e9c9c304a3bad173a8550d48416204f93fc5ced6,Category dtype is lost when concatenating `MultiIndex` (#10407),Irina Truong,i.chernyavska@gmail.com,2023-07-14 08:29:15-07:00,GitHub,noreply@github.com,2023-07-14 17:29:15+02:00
257d3784bd7e36695241451f06db223b0b5c0407,Use ``dataframe.convert-string`` in ``read_parquet`` token (#10411),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-07-17 15:12:16-05:00,GitHub,noreply@github.com,2023-07-17 15:12:16-05:00
59da6fa0c425faa30827cef37958e13d2e823d98,API to generate random Dask dataframes (#10392),Irina Truong,i.chernyavska@gmail.com,2023-07-18 00:23:19-07:00,GitHub,noreply@github.com,2023-07-18 09:23:19+02:00
5d6e2e51b606cf25f5eb81201a3096b015743cfd,Avoid ``repartition`` before ``shuffle`` for ``p2p`` (#10421),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-07-20 17:39:24+02:00,GitHub,noreply@github.com,2023-07-20 10:39:24-05:00
6dd561569b034e1610ec79826dd231e34f3268eb,Convert to ``pyarrow`` strings if proper dependencies are installed (#10400),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-07-20 11:56:09-05:00,GitHub,noreply@github.com,2023-07-20 11:56:09-05:00
24a445ab93d98f72a622af8219407012a18906f7,bump version to 2023.7.1,James Bourbeau,jrbourbeau@gmail.com,2023-07-20 16:03:27-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-07-20 16:03:27-05:00
fb5c215b5ccc5206007c3a03c61c66a6a33867ff,Fix a few errors with upstream pandas and pyarrow (#10412),Irina Truong,i.chernyavska@gmail.com,2023-07-21 04:42:07-07:00,GitHub,noreply@github.com,2023-07-21 13:42:07+02:00
947182bf0800ccb1235900afe3a451fc4d7c0325,Fix compatibility variable naming (#10424),Hendrik Makait,hendrik@coiled.io,2023-07-24 14:10:43+02:00,GitHub,noreply@github.com,2023-07-24 14:10:43+02:00
87327d4cc68423c8e34f8450cff783f59d82395b,Simplify compatibility code (#10426),Hendrik Makait,hendrik@coiled.io,2023-07-24 15:15:06+02:00,GitHub,noreply@github.com,2023-07-24 15:15:06+02:00
b92cc22d173205ee3a5322271e165d9e6135ca50,"Documenting compatibility of NumPy functions with Dask functions (#9941)

* Create numpy compatibility table.
Update Array API

* Add forgotten ravel.

* Address reviewer comments. Add link to Array API comparison repository.",Chiara Marmo,cmarmo@users.noreply.github.com,2023-07-25 05:57:40-10:00,GitHub,noreply@github.com,2023-07-25 16:57:40+01:00
a8f2acc2e3328707cda2a25cee6cfadec44ec815,Update gpuCI `RAPIDS_VER` to `23.10` (#10427),github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2023-07-25 17:13:04+01:00,GitHub,noreply@github.com,2023-07-25 17:13:04+01:00
1615724e22206112a6864bcd8b0d3f6afa07204e,Fix for `make_timeseries` performance regression (#10428),Irina Truong,i.chernyavska@gmail.com,2023-07-28 01:39:46-07:00,GitHub,noreply@github.com,2023-07-28 10:39:46+02:00
a68bbc814306c51177407d32067ee5a8aaa22181,Require ``dask[array]`` in ``dask[dataframe]`` (#10357),jakirkham,jakirkham@gmail.com,2023-08-01 18:41:38-07:00,GitHub,noreply@github.com,2023-08-01 20:41:38-05:00
b11e2e7f13c64067525e85c42360e1392d17834c,Use SPDX in `license` metadata (#10437),jakirkham,jakirkham@gmail.com,2023-08-02 11:50:19-07:00,GitHub,noreply@github.com,2023-08-02 13:50:19-05:00
bdb827b7e2d0183449b967e9e9941703cdb711c5,Add ``distributed.print`` to debugging docs (#10435),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-08-02 15:33:43-05:00,GitHub,noreply@github.com,2023-08-02 15:33:43-05:00
ca4d1d5830a2efe9650aa6485302193c2aacaf7b,bump version to 2023.8.0,James Bourbeau,jrbourbeau@gmail.com,2023-08-04 13:08:23-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-08-04 13:08:23-05:00
df11ddc6858d53004954e3cdff63b8aca5159473,"Fix ValueError when running to_csv in append mode with single_file as True (#10441)

Co-authored-by: Ben <ben@02819>
Co-authored-by: Hendrik Makait <hendrik@coiled.io>",Ben,55319792+benrutter@users.noreply.github.com,2023-08-15 15:41:45+01:00,GitHub,noreply@github.com,2023-08-15 16:41:45+02:00
579d1ccf813bb04299b00945d958f6af6efe636a,"Enable file mode=""x"" with a single_file=True for dask dataframe to_csv (#10443)",Genevieve Buckley,30920819+GenevieveBuckley@users.noreply.github.com,2023-08-16 02:25:44+10:00,GitHub,noreply@github.com,2023-08-15 18:25:44+02:00
680b4daa1c20cf0d1b4cfa78aa90b263d40f3449,Add ``_Frame.enforce_runtime_divisions`` method (#10404),Richard (Rick) Zamora,rzamora217@gmail.com,2023-08-15 12:18:27-05:00,GitHub,noreply@github.com,2023-08-15 12:18:27-05:00
214acfab75f6fd7cbfb2afdf6b0a3609bf159fc5,Support multi-column ``groupby`` with ``sort=True`` and ``split_out>1`` (#10425),Richard (Rick) Zamora,rzamora217@gmail.com,2023-08-16 12:30:29-05:00,GitHub,noreply@github.com,2023-08-16 12:30:29-05:00
e7cec43882669f1dbf76258aa90fea5b5948b008,Add default `types_mapper` to `from_pyarrow_table_dispatch` for pandas (#10446),Richard (Rick) Zamora,rzamora217@gmail.com,2023-08-17 04:58:31-05:00,GitHub,noreply@github.com,2023-08-17 11:58:31+02:00
c6912aae03eb7ce73ca813e2386c81dbd9c8f119,Adding support for cgroup v2 to `cpu_count` (#10419),Johan Olsson,johan@jmvo.se,2023-08-17 12:12:57+02:00,GitHub,noreply@github.com,2023-08-17 12:12:57+02:00
5f456cc899890d11da0bf528412858e19665eccd,bump version to 2023.8.1,James Bourbeau,jrbourbeau@gmail.com,2023-08-18 15:23:41-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-08-18 15:23:41-05:00
709e977b7ca9cdd1941c495056d0f89c93600b7e,Don't use exception hooks to shorten tracebacks [1/2] (#10456),crusaderky,crusaderky@gmail.com,2023-08-24 16:02:32+01:00,GitHub,noreply@github.com,2023-08-24 16:02:32+01:00
5a4752353168a881b9312b5958c750efc59ca04b,Fix `_partitions` `dtype` in `meta` for shuffling (#10462),Hendrik Makait,hendrik@coiled.io,2023-08-28 19:32:07+02:00,GitHub,noreply@github.com,2023-08-28 19:32:07+02:00
522c739a21a8442c0c713dc34edc20c66006d204,Bump actions/checkout from 3.5.3 to 3.6.0 (#10470),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-08-29 11:37:36-05:00,GitHub,noreply@github.com,2023-08-29 11:37:36-05:00
71f59d2610e41f0a41a9f7db9fe1a88ef68e59d5,Remove support for np.int64 in keys (#10483),crusaderky,crusaderky@gmail.com,2023-08-30 18:35:27+01:00,GitHub,noreply@github.com,2023-08-30 18:35:27+01:00
c375fa95a432c555f41b6e3c41988ea1fcfaad57,Add ``p2p`` shuffle option to DataFrame docs (#10477),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-08-30 20:09:17+02:00,GitHub,noreply@github.com,2023-08-30 13:09:17-05:00
7693c804a3412be26d79dee94d4ebce36d3161e9,Enable ``pytest-timeout`` (#10482),crusaderky,crusaderky@gmail.com,2023-08-30 19:45:40+01:00,GitHub,noreply@github.com,2023-08-30 19:45:40+01:00
4178feb58a7e708345ce4e41e018a746b0d1fd06,Update tests for ``pandas=2.1.0`` (#10439),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-09-01 00:01:13+02:00,GitHub,noreply@github.com,2023-08-31 17:01:13-05:00
5adf8d0f4b096e23577cce3b6a018c5faa4e0f9a,Skip failing tests for ``pandas=2.1.0`` (#10488),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-09-01 20:09:53+02:00,GitHub,noreply@github.com,2023-09-01 13:09:53-05:00
18098d35298bad21c878c339d73de784612566c7,bump version to 2023.9.0,James Bourbeau,jrbourbeau@gmail.com,2023-09-01 14:02:00-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-09-01 14:02:00-05:00
362696a32fd803dc3309e19fe900444d8448e8e5,Simplify some tests that import distributed (#10484),crusaderky,crusaderky@gmail.com,2023-09-04 12:48:51+01:00,GitHub,noreply@github.com,2023-09-04 12:48:51+01:00
9c51a784085b0e4bf11053628c4f7cfc49e9c9f5,Special handling for None in DASK_ environment variables (#10487),crusaderky,crusaderky@gmail.com,2023-09-04 13:46:53+01:00,GitHub,noreply@github.com,2023-09-04 13:46:53+01:00
29ee29c38630fa7f7a5c57bfd065103ec5d88110,Bump actions/checkout from 3.6.0 to 4.0.0 (#10492),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-09-05 14:35:49+01:00,GitHub,noreply@github.com,2023-09-05 14:35:49+01:00
b015ea8bf87f4c525379719f8a1cf2851c55bb58,Stricter data type for dask keys (#10485),crusaderky,crusaderky@gmail.com,2023-09-05 16:27:32+01:00,GitHub,noreply@github.com,2023-09-05 16:27:32+01:00
52910da0e9003ab8afe528a23c1f251fa4cd3a9b,Handle ``cached_property`` decorators in ``derived_from`` (#10490),Lawrence Mitchell,lmitchell@nvidia.com,2023-09-05 20:22:04+01:00,GitHub,noreply@github.com,2023-09-05 14:22:04-05:00
c488d49c4f9ebcf0e71918be1f258269b9a17c55,Fix `_partitions` `dtype` in `meta` for `DataFrame.set_index` and `DataFrame.sort_values` (#10493),Hendrik Makait,hendrik@coiled.io,2023-09-06 13:55:08+02:00,GitHub,noreply@github.com,2023-09-06 13:55:08+02:00
3316c38f0bd58ad7633247cf36a01c30f068dfcd,bump version to 2023.9.1,James Bourbeau,jrbourbeau@gmail.com,2023-09-06 16:31:20-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-09-06 16:31:20-05:00
88dabae39f5c063474caa30fdc84cc433c98b994,Centralize and type no_default (#10495),crusaderky,crusaderky@gmail.com,2023-09-07 11:44:30+01:00,GitHub,noreply@github.com,2023-09-07 11:44:30+01:00
14370a6368597b999073f9c66e9e0fbc2e4de9d3,Avoid materializing all iterator in delayed tasks (#10498),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-09-07 16:43:31-05:00,GitHub,noreply@github.com,2023-09-07 16:43:31-05:00
11c3e0a6c39469412ff02cd55ca7fa045866d8dd,Add `**kwargs` support for `pyarrow_schema_dispatch` (#10500),Hendrik Makait,hendrik@coiled.io,2023-09-08 15:33:44+02:00,GitHub,noreply@github.com,2023-09-08 15:33:44+02:00
0ceb9f3cccf2a03401433bcd18951fddba86073b,Make `preserve_index` explicit in `pyarrow_schema_dispatch` (#10501),Hendrik Makait,hendrik@coiled.io,2023-09-08 16:57:05+02:00,GitHub,noreply@github.com,2023-09-08 16:57:05+02:00
b1c508d96a47a43ce80260aa1ca04721bcf9fc4d,Use `register_plugin` in tests (#10503),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-09-08 10:13:31-05:00,GitHub,noreply@github.com,2023-09-08 17:13:31+02:00
0e97410700b42b02bb20d0451557a2f5ad2a62ca,Remove unnecessary check in ``timeseries`` (#10447),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-09-08 18:00:30+02:00,GitHub,noreply@github.com,2023-09-08 11:00:30-05:00
d86545992a7b81fc92a8bd63e0f02c6d95419585,Overhaul deprecations system in ``dask.config`` (#10499),crusaderky,crusaderky@gmail.com,2023-09-14 16:33:02+01:00,GitHub,noreply@github.com,2023-09-14 10:33:02-05:00
14c0889977398d6bf732dc8a6b28bf81a6779098,Deprecation cycle for `admin.traceback.shorten` (#10509),crusaderky,crusaderky@gmail.com,2023-09-14 18:20:22+01:00,GitHub,noreply@github.com,2023-09-14 18:20:22+01:00
3f764959afb25b6dd86ec45cba2342cc7032e445,"`get_default_shuffle_method` raises if `pyarrow` is outdated (#10496)

Co-authored-by: fjetter <fjetter@users.noreply.github.com>",Hendrik Makait,hendrik@coiled.io,2023-09-14 19:36:03+02:00,GitHub,noreply@github.com,2023-09-14 19:36:03+02:00
216c7c9393d8df1014a911eceb797502999e8a51,Release 2023.9.2 (#10514),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-09-15 15:48:38-05:00,GitHub,noreply@github.com,2023-09-15 15:48:38-05:00
da256320ef0167992f7183c3a275d092f5727f62,Temporarily skip failing tests with ``fsspec==2023.9.1`` (#10520),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-09-20 10:35:57-05:00,GitHub,noreply@github.com,2023-09-20 10:35:57-05:00
992856265512ec3b74e4ffa641e064d99d840abe,"Support complex moment (#10009)

* Add reduction test cases with complex numbers

* Use absolute values when calculating moment chunks

* Supress unnecessary ComplexWarnings

* Use np.issubdtype instead of np.iscomplexobj

* Handle the explicit dtype case in chunk callback

* Rename parameter enabling the implicit complex dtype behaviour

* Improve readability by changing clause order in tests

* Expect ComplexWarning to be raised in test case

* Fix import sorting

---------

Co-authored-by: Martin Durant <martin.durant@alumni.utoronto.ca>",wkrasnicki,38408316+wkrasnicki@users.noreply.github.com,2023-09-25 17:02:36+02:00,GitHub,noreply@github.com,2023-09-25 11:02:36-04:00
3520077f95c790b0413235a813b1acd491d7b533,"Update gpuCI `RAPIDS_VER` to `23.12` (#10526)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2023-09-25 11:07:21-04:00,GitHub,noreply@github.com,2023-09-25 11:07:21-04:00
2d1451ddf85a6ca45f0ad7ad64086247d3d184d4,Match ``pandas`` reverting ``apply`` deprecation (#10531),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-09-25 16:12:52-05:00,GitHub,noreply@github.com,2023-09-25 16:12:52-05:00
bd283222874bfbf4a5d2122e747081d285792211,"Revert changes to `config.get(..., override_with=None)` (#10521)",crusaderky,crusaderky@gmail.com,2023-09-26 14:04:14+01:00,GitHub,noreply@github.com,2023-09-26 15:04:14+02:00
2b45b215e13e6d7893853ef33cb4b1796c477a9e,Bump actions/checkout from 4.0.0 to 4.1.0 (#10532),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-09-26 14:17:20+01:00,GitHub,noreply@github.com,2023-09-26 14:17:20+01:00
cc553548b2ff0c1c7496e022e93bc7dd23c834cb,bump version to 2023.9.3,James Bourbeau,jrbourbeau@gmail.com,2023-09-29 17:03:36-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-09-29 17:03:36-05:00
8ba447549ea1ffac3832bdf3f9e11c1b4ed118d8,Tighten HighLevelGraph annotations (#10524),crusaderky,crusaderky@gmail.com,2023-10-04 13:02:43+01:00,GitHub,noreply@github.com,2023-10-04 13:02:43+01:00
62dbbffa398322052aeabb189a3be770af1d51bf,Allow passing index_col=False in dd.read_csv (#9961),Michael Leslie,michael.128.leslie@gmail.com,2023-10-04 12:04:37-07:00,GitHub,noreply@github.com,2023-10-04 21:04:37+02:00
928a95aa56f60da33a4e724ea2ca97797c612968,Improve cache hits for tuple keys in `key_split` and intern results (#10547),Florian Jetter,fjetter@users.noreply.github.com,2023-10-06 12:48:10+02:00,GitHub,noreply@github.com,2023-10-06 12:48:10+02:00
1a9ba0107995eb0c9c7d91c71adf31877b7de440,[dask.order] Reduce memory pressure for multi array reductions by releasing splitter tasks more eagerly (#10535),Florian Jetter,fjetter@users.noreply.github.com,2023-10-10 13:01:41+02:00,GitHub,noreply@github.com,2023-10-10 13:01:41+02:00
9f7d55705f0eb74a172f5fdc3690aa65fbe21762,Add typing to dask.order (#10553),Florian Jetter,fjetter@users.noreply.github.com,2023-10-12 10:11:07+02:00,GitHub,noreply@github.com,2023-10-12 10:11:07+02:00
f82464284be32504b36de89e11c244d6aa96ebf6,Add documentation for hive partitioning (#10454),Richard (Rick) Zamora,rzamora217@gmail.com,2023-10-12 13:16:49-05:00,GitHub,noreply@github.com,2023-10-12 13:16:49-05:00
5d51cca29efbe390f9af412d7e19d20f85b13ad9,Dispatch the ``partd.Encode`` class used for disk-based shuffling (#10552),Richard (Rick) Zamora,rzamora217@gmail.com,2023-10-12 14:15:58-05:00,GitHub,noreply@github.com,2023-10-12 14:15:58-05:00
3a8f8248884f8c69b76d610d8a44d9b6501d7a7a,bump version to 2023.10.0 (#10559),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-10-13 19:59:32-05:00,GitHub,noreply@github.com,2023-10-13 19:59:32-05:00
b7ab441aa52c843f6dd4415fe256091b8a5f5b21,Support ``cudf`` backend in ``dd.DataFrame.sort_values`` (#10551),Richard (Rick) Zamora,rzamora217@gmail.com,2023-10-16 09:01:17-05:00,GitHub,noreply@github.com,2023-10-16 09:01:17-05:00
b4bd1208caac606314d880af5b727a6a0488e94d,Add optimized code paths for ``drop_duplicates`` (#10542),Richard (Rick) Zamora,rzamora217@gmail.com,2023-10-16 15:38:24-05:00,GitHub,noreply@github.com,2023-10-16 15:38:24-05:00
51210a6ade1341665694b8e54c56a9bbcef86094,Fix upstream build (#10549),Thomas Grainger,tagrain@gmail.com,2023-10-18 05:31:47-07:00,GitHub,noreply@github.com,2023-10-18 14:31:47+02:00
707e59c4ab8a1508cc361fe6ad1117e76b9940dc,Enable tests for scikit-image with NumPy 2.0 (#10569),Thomas Grainger,tagrain@gmail.com,2023-10-18 07:14:37-07:00,GitHub,noreply@github.com,2023-10-18 16:14:37+02:00
a6be172ecdddb7a16c923190a561cb8fc88bcf21,Enable SciPy tests with NumPy 2.0,Thomas Grainger,tagrain@gmail.com,2023-10-18 07:15:06-07:00,GitHub,noreply@github.com,2023-10-18 16:15:06+02:00
e563bdc10bcf2961f1f11d652c5620e901a9193d,change test_concat_categorical to be non-strict [test-upstream] (#10574),Thomas Grainger,tagrain@gmail.com,2023-10-18 14:13:11-07:00,GitHub,noreply@github.com,2023-10-18 23:13:11+02:00
f08e6d7694d1d69cde1b97b8394d1630388828fa,Upgrade ``versioneer`` to 0.29 (#10575),Thomas Grainger,tagrain@gmail.com,2023-10-18 14:25:57-07:00,GitHub,noreply@github.com,2023-10-18 16:25:57-05:00
c644bb5bbb851fc31dd8d55f82528affb6a86e8b,Move ``register_assert_rewrite`` earlier in ``conftest`` to fix warnings (#10578),Thomas Grainger,tagrain@gmail.com,2023-10-19 07:25:32-07:00,GitHub,noreply@github.com,2023-10-19 09:25:32-05:00
e06653ce59f1cc4375fe477d31cb404f680268c8,Unignore and fix deprecated freq aliases (#10577),Thomas Grainger,tagrain@gmail.com,2023-10-19 09:39:45-07:00,GitHub,noreply@github.com,2023-10-19 18:39:45+02:00
8cb7d81d84ba6de58250640a460b773c3fd4fbed,"Remove numpy.core warning filter, link to issue on pyarrow caused BlockManager warning [test-upstream] (#10571)",Thomas Grainger,tagrain@gmail.com,2023-10-20 04:24:18-07:00,GitHub,noreply@github.com,2023-10-20 13:24:18+02:00
f8a0f1501a2c5027c33c7af5d946ab65a692e8fe,switch to PyTables HEAD [test-upstream] (#10580),Thomas Grainger,tagrain@gmail.com,2023-10-20 07:06:17-07:00,GitHub,noreply@github.com,2023-10-20 16:06:17+02:00
1203b1bb6d52b1fb00d54656af4af8e6e35aa615,Bump actions/checkout from 4.1.0 to 4.1.1 (#10592),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-10-24 09:12:52-05:00,GitHub,noreply@github.com,2023-10-24 09:12:52-05:00
2b087caf57d33408af2c1c9b061720a1a96f6cea,"Use Python 3.11 for upstream and doctests CI build (#10596)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Thomas Grainger,tagrain@gmail.com,2023-10-25 07:58:10-07:00,GitHub,noreply@github.com,2023-10-25 09:58:10-05:00
009489f168e75f90ad123684a6d6b17cf3b57793,Speed up ``normalize_chunks`` for common case (#10579),Martin Durant,martindurant@users.noreply.github.com,2023-10-25 18:01:30-04:00,GitHub,noreply@github.com,2023-10-25 17:01:30-05:00
aaa04b75721929a56e5d9cfa546f6740818fc249,Avoid splitting parquet files to row groups as aggressively (#10600),Matthew Rocklin,mrocklin@gmail.com,2023-10-27 14:13:27-05:00,GitHub,noreply@github.com,2023-10-27 21:13:27+02:00
69849142b2c5d582618d52f0e937d970daf42299,Support for Python 3.12 (#10544),Thomas Grainger,tagrain@gmail.com,2023-10-27 14:30:10-07:00,GitHub,noreply@github.com,2023-10-27 16:30:10-05:00
4884d56ce751f0691cdee3b6db4a8bcf05c474df,bump version to 2023.10.1,James Bourbeau,jrbourbeau@gmail.com,2023-10-27 17:12:49-05:00,James Bourbeau,jrbourbeau@gmail.com,2023-10-27 17:12:49-05:00
9c2da1bd4ffcaf71fc208012146d2c0b28c3f9e7,Remove double slash in ``fsspec`` tests (#10605),Mario ako,mariosasko777@gmail.com,2023-10-30 17:32:59+01:00,GitHub,noreply@github.com,2023-10-30 11:32:59-05:00
1a182fa37c4c2334366ff540fee610564fbd55f7,Use the inferred filesystem/region by default when ``filesystem='arrow'`` (#10590),Richard (Rick) Zamora,rzamora217@gmail.com,2023-10-30 13:44:05-05:00,GitHub,noreply@github.com,2023-10-30 13:44:05-05:00
f545749c9e7bb37bd15663327a4165da1c3fa5fe,Switch to newer GPU CI images (#10608),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-10-31 14:45:49-04:00,GitHub,noreply@github.com,2023-10-31 13:45:49-05:00
91098a634967dfb44d67da54b1394d730f75e87d,Generalize computation of ``NEW_*_VER`` in GPU CI updating workflow (#10610),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-11-01 14:03:03-04:00,GitHub,noreply@github.com,2023-11-01 13:03:03-05:00
0e461f1c8dcc78d306ad5e5b293f14b46222be60,Avoid ``PerformanceWarning`` for fragmented DataFrame (#10621),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-11-08 10:37:09-07:00,GitHub,noreply@github.com,2023-11-08 10:37:09-07:00
c71fc7453d143c65ccce18441d0ead1673e6b782,Refactor test_quantile (#10620),Miles,miles59923@gmail.com,2023-11-09 09:11:08+00:00,GitHub,noreply@github.com,2023-11-09 10:11:08+01:00
4b93eae71b524bfea5965ab17ec3da09e9f119b6,Bump minimum ``click`` to ``>=8.1`` (#10623),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2023-11-10 17:03:23+01:00,GitHub,noreply@github.com,2023-11-10 10:03:23-06:00
d58bc9b26d4db92e22d549f276b894a1d85a356d,Fix sporadic failure of ``test_dataframe::test_quantile`` (#10625),Miles,miles59923@gmail.com,2023-11-10 16:08:48+00:00,GitHub,noreply@github.com,2023-11-10 10:08:48-06:00
972352a294b8f7608a89b86387d4d9efbe79802b,Add warning for ``pyarrow<14.0.1`` usage (#10622),Florian Jetter,fjetter@users.noreply.github.com,2023-11-10 21:18:03+01:00,GitHub,noreply@github.com,2023-11-10 14:18:03-06:00
b2f11d026d2c6f806036c050ff5dbd59d6ceb6ec,bump version to 2023.11.0,James Bourbeau,jrbourbeau@gmail.com,2023-11-10 15:33:39-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-11-10 15:33:39-06:00
e4a5a7334e9eeb6b5fd9d7cd0106a5c1509cc7d3,Update changelog entry for in-memory rechunking (#10630),Florian Jetter,fjetter@users.noreply.github.com,2023-11-20 12:30:18+01:00,GitHub,noreply@github.com,2023-11-20 12:30:18+01:00
fdfde02fd84223b60e6aa55e3315e02e7108a81b,Add ``axis`` argument to ``DataFrame.clip`` and ``Series.clip`` (#10616),Richard (Rick) Zamora,rzamora217@gmail.com,2023-11-20 05:32:04-06:00,GitHub,noreply@github.com,2023-11-20 12:32:04+01:00
baf6e2cdd5849d586ef93692630b2312bed1cd8a,Fix Precision Handling in `array.linalg.norm` (#10556),joanrue,joan.rue.q@gmail.com,2023-11-20 17:36:24+01:00,GitHub,noreply@github.com,2023-11-20 17:36:24+01:00
204be6dcef3e9740bea7c5e346ddfdbb2eb03848,"Update gpuCI `RAPIDS_VER` to `24.02` (#10636)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2023-11-21 09:38:13-05:00,GitHub,noreply@github.com,2023-11-21 09:38:13-05:00
da7dc67cb70b9e3ef15e4dd7e01fe288e51e8de0,Add tokenize NA functionality (#10640),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-11-22 11:51:46+01:00,GitHub,noreply@github.com,2023-11-22 11:51:46+01:00
f1a52ac20e3c02857c6694f5ee790d7cee535fd6,Tokenize pandas offsets deterministically (#10643),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-11-28 17:43:46+01:00,GitHub,noreply@github.com,2023-11-28 17:43:46+01:00
1ebf88c0370587df4f898d93786c57ad239aa966,Bump GPU CI to CUDA 11.8 (#10656),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2023-11-28 14:43:29-05:00,GitHub,noreply@github.com,2023-11-28 14:43:29-05:00
5d75a04132d5ea1535287a649310c8529dbb3a79,Add ``network`` marker to ``test_pyarrow_filesystem_option_real_data`` (#10653),Richard (Rick) Zamora,rzamora217@gmail.com,2023-11-28 15:26:27-06:00,GitHub,noreply@github.com,2023-11-28 15:26:27-06:00
753b601b27a224ccc2817e227806cf33463bdd81,bump version to 2023.12.0,James Bourbeau,jrbourbeau@gmail.com,2023-12-01 17:22:55-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-12-01 17:22:55-06:00
0fef8dcbba97aacb68cff7f8c836ff920d8d2e89,Fix ``test_categorize_info`` with nightly ``pyarrow`` (#10662),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-12-04 12:49:06-06:00,GitHub,noreply@github.com,2023-12-04 12:49:06-06:00
37f236c635253030e461408be994e7f4f6635bf2,Bump xarray-contrib/issue-from-pytest-log from 1.2.6 to 1.2.7 (#10666),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-04 16:19:15-06:00,GitHub,noreply@github.com,2023-12-04 16:19:15-06:00
33e3f6bcbd75a0fc8cd80f4520927d05501bf763,Bump conda-incubator/setup-miniconda from 2.2.0 to 3.0.1 (#10668),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-05 09:52:15-06:00,GitHub,noreply@github.com,2023-12-05 09:52:15-06:00
bb9aa197b851726caa47250a3a12598a34249008,Bump actions/setup-java from 3 to 4 (#10667),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-05 09:55:32-06:00,GitHub,noreply@github.com,2023-12-05 09:55:32-06:00
8bf68a95dbec05c009baf242f392cee579a04c7c,"Reorganize docs index a bit (#10669)

-   Demote presentations from the top TOC,
    it performs terribly on google analytics
-   Remove stale and missing content from presentations
-   Promote deployment doc to top section (performs well, related to installation)",Matthew Rocklin,mrocklin@gmail.com,2023-12-05 14:44:48-08:00,GitHub,noreply@github.com,2023-12-05 14:44:48-08:00
a8549bd455c0166aa8aaf1f1835b24b7a41abc41,Pin PR Labeler (#10675),Matthew Rocklin,mrocklin@gmail.com,2023-12-05 15:10:16-08:00,GitHub,noreply@github.com,2023-12-05 15:10:16-08:00
0253207f8b3bc2a48e059a856783a4fb7c4eb850,Make meta check simpler in dispatch (#10638),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-06 09:40:06+01:00,GitHub,noreply@github.com,2023-12-06 09:40:06+01:00
191d39177009d2cce25b818878118e35329b6db3,"Update landing page (#10674)

* Update landing page

This rips out most of the previous content.  It focuses less on Dask's
internal design / intent / architecture / goals, and more on how to use
the project.

I think (hope?) that the design also comes across a little more cleanly.

Co-authored-by: Sarah Charlotte Johnson <scharlottej13@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2023-12-07 09:32:41-08:00,GitHub,noreply@github.com,2023-12-07 09:32:41-08:00
dda61d7ea96026cf54afef23b8f94cc9a6639cde,Bump actions/setup-python from 4 to 5 (#10688),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-12 14:52:22+01:00,GitHub,noreply@github.com,2023-12-12 14:52:22+01:00
a5ea52f52d28adba3b09194bd64ed7a31bf5ec87,Add missing image to docs (#10694),Matthew Rocklin,mrocklin@gmail.com,2023-12-12 07:38:30-08:00,GitHub,noreply@github.com,2023-12-12 16:38:30+01:00
80520dec0ffc0f9363e874c653351054fa014fca,Avoid substituting keys that occur multiple times (#10646),Florian Jetter,fjetter@users.noreply.github.com,2023-12-12 16:55:34+01:00,GitHub,noreply@github.com,2023-12-12 16:55:34+01:00
ff6ad1be901c427b839ae3174b0366fb5ff02a3a,Dask.order rewrite using a critical path approach (#10660),Florian Jetter,fjetter@users.noreply.github.com,2023-12-12 16:56:00+01:00,GitHub,noreply@github.com,2023-12-12 16:56:00+01:00
2d33dc2af9afb60f2b6e9ee21f3e073848cbc1ec,Update deployment docs (#10680),Matthew Rocklin,mrocklin@gmail.com,2023-12-12 08:19:20-08:00,GitHub,noreply@github.com,2023-12-12 08:19:20-08:00
3eb8c0051dbf79b4eda446ffcc68d23b5f52033e,"Docs update, fixup styling, mention free (#10679)

Some minor updates following up on the last PR to docs.",Matthew Rocklin,mrocklin@gmail.com,2023-12-12 08:28:53-08:00,GitHub,noreply@github.com,2023-12-12 08:28:53-08:00
6ad6edd7c4e05a85c195457b3335bb1a715c7b79,"Bugfix for writing empty array to zarr (#10506)

Co-authored-by: Ben <ben@02819>",Ben,55319792+benrutter@users.noreply.github.com,2023-12-12 17:10:54+00:00,GitHub,noreply@github.com,2023-12-12 18:10:54+01:00
c4f431de33413b95bb615749ebc4810cd7408c08,Fix 'tokenize' for pd.DateOffset (#10664),jochenott,jochenott@users.noreply.github.com,2023-12-12 18:18:07+01:00,GitHub,noreply@github.com,2023-12-12 18:18:07+01:00
51f90b62bee920bdd84e9c210fcddbea6c7c43a0,Bump xarray-contrib/issue-from-pytest-log from 1.2.7 to 1.2.8 (#10687),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-12 13:12:02-06:00,GitHub,noreply@github.com,2023-12-12 13:12:02-06:00
db3ee4c648921c0ebeec4085882a695b95c6e5fa,Avoid converting non-strings to arrow strings for read_parquet (#10692),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-13 12:17:16+01:00,GitHub,noreply@github.com,2023-12-13 12:17:16+01:00
e7ec193e9258441c698b44e1eb5f53d83f609d01,Fix software environment link in docs (#10700),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-12-13 11:59:32-06:00,GitHub,noreply@github.com,2023-12-13 11:59:32-06:00
b4e2fd479d67ed8fa32ce668b42879246029510a,Update installation docs (#10699),Matthew Rocklin,mrocklin@gmail.com,2023-12-13 19:50:56-08:00,GitHub,noreply@github.com,2023-12-13 21:50:56-06:00
91a1a3de1c329d10916c3446bdbfd49fea002c94,Implement dask-expr switch (#10634),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-14 10:29:45+01:00,GitHub,noreply@github.com,2023-12-14 10:29:45+01:00
19ee9cec74a71cd9f077edd253481c6683cae528,Infer dates and decimals in arrow as ArrowDtypes in pandas (#10698),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-14 11:21:45+01:00,GitHub,noreply@github.com,2023-12-14 11:21:45+01:00
1105f9b94c376a0fa810e9bcf7f97dcbe59e2b7f,"[Dask.order] Remove non-runnable leaf nodes from ordering (#10697)



Co-authored-by: Hendrik Makait <hendrik@makait.com>",Florian Jetter,fjetter@users.noreply.github.com,2023-12-14 12:22:50+01:00,GitHub,noreply@github.com,2023-12-14 12:22:50+01:00
e4dd4fa2b9d134e1ff130f0f7f9d737606f45b77,Bump actions/stale from 8 to 9 (#10690),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-14 11:33:04+00:00,GitHub,noreply@github.com,2023-12-14 11:33:04+00:00
dc59297482a1402ebd4f15bd8cfbdc5e80039468,Bump actions/labeler from 4.3.0 to 5.0.0 (#10689),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2023-12-14 11:33:38+00:00,GitHub,noreply@github.com,2023-12-14 11:33:38+00:00
8dd74c585e381b1ee313f6e6d9ebeb51fa422e00,Add `.__wrapped__` to `Delayed` object (#10695),Andrew S. Rosen,asrosen93@gmail.com,2023-12-14 09:09:31-08:00,GitHub,noreply@github.com,2023-12-14 18:09:31+01:00
2d8f6d54ce28a5b2311a96c2009431e09017eecb,Cast partitioning column to float for numerics to avoid loss of data in shuffle (#10705),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-14 19:18:54+01:00,GitHub,noreply@github.com,2023-12-14 19:18:54+01:00
4a10719043479afdf30141adeac85a3c5d9eb797,Remove PR labeler (#10709),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-12-15 11:54:28-06:00,GitHub,noreply@github.com,2023-12-15 09:54:28-08:00
fb8918b48b08894dae0281982c48ea29d9bc8f7f,Improve changelog entry for ``PipInstall`` changes (#10711),Hendrik Makait,hendrik@coiled.io,2023-12-15 19:21:38+01:00,GitHub,noreply@github.com,2023-12-15 12:21:38-06:00
396a01de8c2b3b25db6031fefce1ff0374994718,Add changelog entry for ``dask-expr`` switch (#10704),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-15 20:28:38+01:00,GitHub,noreply@github.com,2023-12-15 13:28:38-06:00
3a65ccca8eac9f42bf85cc334fb2a46b3df43e2c,Update DataFrame page (#10710),Matthew Rocklin,mrocklin@gmail.com,2023-12-15 11:29:04-08:00,GitHub,noreply@github.com,2023-12-15 13:29:04-06:00
e1c300ef1cc8f6191c3e212bac5d8bbddac2438a,Add changelog entry for recent P2P merge fixes (#10712),Hendrik Makait,hendrik@coiled.io,2023-12-15 20:58:09+01:00,GitHub,noreply@github.com,2023-12-15 13:58:09-06:00
6f2100847e2042d459534294531e8884bef13a99,bump version to 2023.12.1,James Bourbeau,jrbourbeau@gmail.com,2023-12-15 14:43:37-06:00,James Bourbeau,jrbourbeau@gmail.com,2023-12-15 14:43:37-06:00
bf813b469714e95f458ced30ef0c9cd83486ba8d,Deprecate automatic argument inference in ``df.repartition``. Specify argument explicitly instead (#10691),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-18 14:34:05+01:00,GitHub,noreply@github.com,2023-12-18 14:34:05+01:00
32e19ce49f58c99e833028b1c7f49067c7947781,Relax redundant-key check in ``_check_dsk`` (#10701),Richard (Rick) Zamora,rzamora217@gmail.com,2023-12-18 08:41:52-06:00,GitHub,noreply@github.com,2023-12-18 08:41:52-06:00
0aabb0278c920096ed14149f9387871b91e6d50a,Changelog entry for ``dask.order`` update (#10715),Florian Jetter,fjetter@users.noreply.github.com,2023-12-18 16:31:10+01:00,GitHub,noreply@github.com,2023-12-18 09:31:10-06:00
131f89d8328686a2994ee7b0d4ef0dcdc6b852bc,[Dask.order] Ignore data tasks when ordering (#10706),Florian Jetter,fjetter@users.noreply.github.com,2023-12-19 11:41:41+01:00,GitHub,noreply@github.com,2023-12-19 11:41:41+01:00
d6597e5908d01aa5d4fe3bf7f5a16532e330ab69,Don't duplicate unobserved categories in GroupBy.nunqiue if ``split_out>1`` (#10716),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2023-12-19 15:55:17+01:00,GitHub,noreply@github.com,2023-12-19 15:55:17+01:00
2b5c65a783eea71073e50c5da9556f60a2529cef,Update environment file upload step in CI (#10726),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-12-19 13:12:50-06:00,GitHub,noreply@github.com,2023-12-19 13:12:50-06:00
55617708f4d819cf00d580e92b870c1f8196b4b4,"Update tab styling on ""10 Minutes to Dask"" page (#10728)",James Bourbeau,jrbourbeau@users.noreply.github.com,2023-12-19 15:20:53-06:00,GitHub,noreply@github.com,2023-12-19 13:20:53-08:00
f6115511a09c309e02c2d40946b6ca74c6d148db,Use new Xarray logo (#10729),James Bourbeau,jrbourbeau@users.noreply.github.com,2023-12-20 03:59:37-06:00,GitHub,noreply@github.com,2023-12-20 10:59:37+01:00
31b26dfa4bf15f23a7070155ac67e6ba285de76f,Add task graph animation to docs homepage (#10730),Sarah Charlotte Johnson,sarah@coiled.io,2023-12-20 14:02:14-08:00,GitHub,noreply@github.com,2023-12-20 14:02:14-08:00
74e898f0ec712e8317ba86cc3b9d18b6b9922be0,Add pandas 3.0 deprecations and migration prep for dask-expr (#10723),Miles,miles59923@gmail.com,2024-01-03 12:44:15+01:00,GitHub,noreply@github.com,2024-01-03 12:44:15+01:00
43ea3865fbc394b65738115a9d7c5cf33ac1e92c,Deprecate `shuffle` keyword in favour of `shuffle_method` for DataFrame methods (#10738),Hendrik Makait,hendrik@coiled.io,2024-01-03 18:00:36+01:00,GitHub,noreply@github.com,2024-01-03 18:00:36+01:00
f2d448e7a8561c2488806cb398470459984f11b0,Deprecate fastparquet engine for read_parquet (#10743),crusaderky,crusaderky@gmail.com,2024-01-04 13:23:56+00:00,GitHub,noreply@github.com,2024-01-04 14:23:56+01:00
6dc86556950f65baf1b6fc934df932c9cad22cb2,Tweak ORC engine= parameter (#10746),crusaderky,crusaderky@gmail.com,2024-01-04 14:48:03+00:00,GitHub,noreply@github.com,2024-01-04 14:48:03+00:00
de788e0bd69375512befba0453db1fa3e474ad93,"Remove duplciate ""single machine"" section (#10747)",Matthew Rocklin,mrocklin@gmail.com,2024-01-04 10:01:13-06:00,GitHub,noreply@github.com,2024-01-04 10:01:13-06:00
6d5b994cb58f295c27bd888de0f67c83ed568d3d,Make dask.array.utils functions more generic to other Dask Arrays (#10676),Matthew Rocklin,mrocklin@gmail.com,2024-01-04 11:00:46-06:00,GitHub,noreply@github.com,2024-01-04 17:00:46+00:00
1072424daf617943714c68f6251f7b9f4c442ffc,Deprecate `npartitions='auto'` for set_index & sort_values (#10750),Miles,miles59923@gmail.com,2024-01-05 18:24:58+01:00,GitHub,noreply@github.com,2024-01-05 18:24:58+01:00
b95f517dfd111ecfd1a5161e300f463858608ba4,Adjust some tests to be compatible with dask-expr (#10714),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-05 21:02:49+01:00,GitHub,noreply@github.com,2024-01-05 21:02:49+01:00
e353f875d0d7c7227c49117d4cf4a57198049c0d,Don't evaluate config in skip condition (#10753),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-08 11:43:17+01:00,GitHub,noreply@github.com,2024-01-08 11:43:17+01:00
becc7c9783def2535b7dde46ebbce5e1f618ab12,Restrict mimesis to < 12 for 3.9 build (#10755),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-08 12:30:46+01:00,GitHub,noreply@github.com,2024-01-08 12:30:46+01:00
3a91f5ea706d7acc2e836031b430e25d89402091,Adjust some groupby tests for dask-expr (#10752),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-08 12:31:21+01:00,GitHub,noreply@github.com,2024-01-08 12:31:21+01:00
3a0ee23852fcb9e90f7e39dfb03cedf3016e735c,Deprecate `Series.view` (#10754),Miles,miles59923@gmail.com,2024-01-08 15:07:51+01:00,GitHub,noreply@github.com,2024-01-08 15:07:51+01:00
11164db9296df5c667d2d7472c6cab5a7a33cc25,Change argument order in ``value_counts_aggregate`` (#10751),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-08 17:20:27+01:00,GitHub,noreply@github.com,2024-01-08 16:20:27+00:00
c64790e2ce08f0585dd25657d2ae568c758aad53,Review tests for is_monotonic (#10756),crusaderky,crusaderky@gmail.com,2024-01-09 09:27:51+00:00,GitHub,noreply@github.com,2024-01-09 10:27:51+01:00
e6706d40af7dd1ff52aaa0fcbe94b3dad4374256,Add hashing for decimals (#10758),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-09 15:13:40+01:00,GitHub,noreply@github.com,2024-01-09 15:13:40+01:00
63b6bb84015975c8466e80d1d498a293835ae936,Handle datetimeindexes in set_index with unknown divisions (#10757),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-09 15:25:43+01:00,GitHub,noreply@github.com,2024-01-09 15:25:43+01:00
8b82f998cc16c7f0d480e9e9dc588c8cf7bcebf0,Improve exception for `validate_key` (#10765),Hendrik Makait,hendrik@makait.com,2024-01-10 11:41:52+01:00,GitHub,noreply@github.com,2024-01-10 11:41:52+01:00
50610b85e0f11127da1dad26b661ea7ee7e79077,Cosmetic: clean up config switches in CI (#10766),crusaderky,crusaderky@gmail.com,2024-01-10 11:02:03+00:00,GitHub,noreply@github.com,2024-01-10 12:02:03+01:00
7326b9dbd6a45e51814d76b8a91da82e33f4ca7b,Avoid shortcut in tasks shuffle that let to data loss (#10763),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-10 12:24:16+01:00,GitHub,noreply@github.com,2024-01-10 12:24:16+01:00
c9802248ced9219c45bea599eed10324007f219e,Update pre-commit (#10767),Hendrik Makait,hendrik@makait.com,2024-01-10 13:03:53+01:00,GitHub,noreply@github.com,2024-01-10 13:03:53+01:00
cf52afe0b00a32c632078f45c362af5afc65d36a,Adjust shuffle tests for dask-expr (#10762),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-10 14:56:18+01:00,GitHub,noreply@github.com,2024-01-10 14:56:18+01:00
6406be1ce10271a103c9c3ab29e0c1ea8cb4a388,Fix some deprecation warnings from pandas (#10749),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-10 15:24:01+01:00,GitHub,noreply@github.com,2024-01-10 15:24:01+01:00
51c1f2d2ab8206bbb02e7bcd9d974f9d976b8ded,Adjust shuffle tests for dask-expr (#10759),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-10 15:44:20+01:00,GitHub,noreply@github.com,2024-01-10 14:44:20+00:00
f8115b4dfa3841a8b8868d5ce2a572a3d537a09c,Cosmetic: use `pytest.mark.skipif(DASK_EXPR_ENABLED)` (#10774),crusaderky,crusaderky@gmail.com,2024-01-10 22:01:01+00:00,GitHub,noreply@github.com,2024-01-10 23:01:01+01:00
58af3fe9929a0a1b132099fd4bdb11e09acfae09,Update tests for ufunc (#10773),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-11 00:38:02+01:00,GitHub,noreply@github.com,2024-01-10 23:38:02+00:00
f254d76bd31746d335efc595f4a365d008ae6b9c,Clean up redundant bits in CI (#10768),crusaderky,crusaderky@gmail.com,2024-01-11 09:05:23+00:00,GitHub,noreply@github.com,2024-01-11 10:05:23+01:00
b934d2db6dc5f3a467f6f12754999aebbf486417,Add unit test overview (#10769),Miles,miles59923@gmail.com,2024-01-11 11:08:04+01:00,GitHub,noreply@github.com,2024-01-11 10:08:04+00:00
1f764e7a11c51601033fc23d91c5a5177b0f2f4e,Simplify github actions (#10781),crusaderky,crusaderky@gmail.com,2024-01-11 12:28:49+00:00,GitHub,noreply@github.com,2024-01-11 12:28:49+00:00
d45cf2a1e66d8645c6a594d90b180012d3fc62c6,"Import distributed only once in `get_scheduler` (#10771)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Florian Jetter,fjetter@users.noreply.github.com,2024-01-11 15:01:45+01:00,GitHub,noreply@github.com,2024-01-11 15:01:45+01:00
b1c3b7fde32ef0765060c50b804fa2f624e96522,Deprecate `inplace` in DataFrame::eval (#10785),Miles,miles59923@gmail.com,2024-01-11 16:07:34+01:00,GitHub,noreply@github.com,2024-01-11 16:07:34+01:00
efd83759334ba8e233a0cd7bb2c58e1edbd6ea83,Deprecate `compute` parameter in shuffle::set_index (#10784),Miles,miles59923@gmail.com,2024-01-11 16:08:05+01:00,GitHub,noreply@github.com,2024-01-11 16:08:05+01:00
ca71e151985c36df5d75d28ab0921bc5ac7cea2e,Address pandas deprecations (#10789),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-12 09:35:34+01:00,GitHub,noreply@github.com,2024-01-12 09:35:34+01:00
feaff0b7ba4cd5785b8ebf25f8b4482bbd65f5c4,Remove deprecation warning about sort and split_out in groupby (#10788),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-12 10:00:56+01:00,GitHub,noreply@github.com,2024-01-12 10:00:56+01:00
40e46e0702459ea218474d735e5a01fd57bb9543,Adjust IO tests for dask-expr migration (#10776),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-12 11:38:46+01:00,GitHub,noreply@github.com,2024-01-12 10:38:46+00:00
b9675282f43d8c62f4485aa53eee433acc05d088,Add get_dummies from dask-expr (#10791),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-12 13:18:54+01:00,GitHub,noreply@github.com,2024-01-12 13:18:54+01:00
91dd42529b9ecd7139926ebadbf56a8f6150991f,bump version to 2024.1.0,James Bourbeau,jrbourbeau@gmail.com,2024-01-12 15:48:11-06:00,James Bourbeau,jrbourbeau@gmail.com,2024-01-12 15:48:11-06:00
cf8c99a4289caf65a87778c16495326c85c4fcca,Add test-report workflow (#10783),Miles,miles59923@gmail.com,2024-01-15 12:46:28+01:00,GitHub,noreply@github.com,2024-01-15 11:46:28+00:00
3e9ae492934e133547e5eaec5020186fad39898a,Fix test-report cache key indent (#10798),Miles,miles59923@gmail.com,2024-01-15 13:10:37+01:00,GitHub,noreply@github.com,2024-01-15 12:10:37+00:00
ec79778797a7149a90e1a362826a3b5d5926ec53,Rename shuffle to shuffle_method in remaining methods (#10797),Miles,miles59923@gmail.com,2024-01-15 16:33:13+01:00,GitHub,noreply@github.com,2024-01-15 15:33:13+00:00
3b502f1923bfe50a31fa1e6fd605f7942a2227af,Deprecate `axis` in GroupBy cumulative transformers (#10796),Miles,miles59923@gmail.com,2024-01-15 16:33:51+01:00,GitHub,noreply@github.com,2024-01-15 15:33:51+00:00
981c95b117df662e67c05d91a9d0e56e80b5a0c4,Deprecate out= and dtype= parameter in most dataframe methods (#10800),crusaderky,crusaderky@gmail.com,2024-01-15 20:42:09+00:00,GitHub,noreply@github.com,2024-01-15 20:42:09+00:00
2f85739dea38b5485ccc125725578565422867ff,Deprecate `axis` in DataFrame.rolling (#10803),Miles,miles59923@gmail.com,2024-01-16 12:40:22+01:00,GitHub,noreply@github.com,2024-01-16 11:40:22+00:00
ca42dcf5fcd4fd7438c705820d0c0692ab99023b,Improve tests for `to_numeric` (#10804),Hendrik Makait,hendrik@makait.com,2024-01-16 13:08:39+01:00,GitHub,noreply@github.com,2024-01-16 12:08:39+00:00
cc28d9c50c2e09bf4fa540d76f7eb4b99f559b02,Upstream CI tweaks (#10806),crusaderky,crusaderky@gmail.com,2024-01-16 16:12:13+00:00,GitHub,noreply@github.com,2024-01-16 10:12:13-06:00
c669ca76045502c3df4763c1b36184fc82ac38e6,Adjust `test_to_datetime` for `dask-expr` compatibility,Hendrik Makait,hendrik@makait.com,2024-01-16 19:45:01+01:00,GitHub,noreply@github.com,2024-01-16 18:45:01+00:00
69d209ff10f1dec14da8774418203b492118fe78,Unblock documentation build (#10807),Miles,miles59923@gmail.com,2024-01-16 20:45:23+01:00,GitHub,noreply@github.com,2024-01-16 13:45:23-06:00
cdcddb68e4ff1692f4ae4e0904aa2dc8fd4f4c32,Updates to deployment docs (#10778),Sarah Charlotte Johnson,sarah@coiled.io,2024-01-16 13:07:54-08:00,GitHub,noreply@github.com,2024-01-16 15:07:54-06:00
17d6265aff56727ea1277f19824892e29593e4ab,Adjust mostly indexing tests (#10790),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-17 09:27:58+00:00,GitHub,noreply@github.com,2024-01-17 09:27:58+00:00
dde25d9e43cf42cc8b0a12e07bb3432e76e643dc,Filter warnings from std test (#10815),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-17 14:27:30+00:00,GitHub,noreply@github.com,2024-01-17 14:27:30+00:00
91093fdc3d0e4516d733fdb838a4cfa3b627cc00,Restrict test to Arrow only (#10814),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-17 14:30:52+00:00,GitHub,noreply@github.com,2024-01-17 14:30:52+00:00
fc5d361c7e82fa88557516f4dc3c6d531655c83d,Adjust remaining tests in dask/dask (#10813),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-17 15:38:07+00:00,GitHub,noreply@github.com,2024-01-17 15:38:07+00:00
b7d3b2542366a069b80a42d68fa878a79da7f2db,Pin ``test_split_adaptive_files`` to pyarrow engine (#10820),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-17 15:41:19+00:00,GitHub,noreply@github.com,2024-01-17 15:41:19+00:00
c7843e7cebb5a61275cd7234a932bac628ee6735,np.unique(): inverse is shaped in numpy 2 (#10819),crusaderky,crusaderky@gmail.com,2024-01-17 16:36:18+00:00,GitHub,noreply@github.com,2024-01-17 16:36:18+00:00
6b76a5a2706017a245a12c7934d4a3b5ac3b22fa,Fix more tests to use `pytest.warns()` (#10818),Micha Grny,mgorny@gentoo.org,2024-01-17 18:13:55+01:00,GitHub,noreply@github.com,2024-01-17 17:13:55+00:00
e72f93e4942fbc4cc70170cf1192e3dd0a69275a,Minor[CI]: publish-test-results not marked as failed (#10825),Miles,miles59923@gmail.com,2024-01-18 14:13:49+01:00,GitHub,noreply@github.com,2024-01-18 13:13:49+00:00
1b384b443ea1e527e1fc6f86663c5d1827d52263,Remove circular import when dask-expr enabled (#10824),Miles,miles59923@gmail.com,2024-01-18 15:36:33+01:00,GitHub,noreply@github.com,2024-01-18 14:36:33+00:00
4a172e6c37fb21f2cd53d4d8257c7e25a2c2ec3a,Deprecate 'convert_dtype' in apply (#10827),Miles,miles59923@gmail.com,2024-01-18 15:39:14+01:00,GitHub,noreply@github.com,2024-01-18 14:39:14+00:00
4eb026cc9c495a9e64130764498f5ff8b61d7602,Implement deterministic tokenization for hlg (#10817),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-18 17:19:24+00:00,GitHub,noreply@github.com,2024-01-18 17:19:24+00:00
951460de2023a3239e4662899b5caa53bbaeb610,generalize CreationDispatch for dask-expr (#10794),Richard (Rick) Zamora,rzamora217@gmail.com,2024-01-18 11:26:57-06:00,GitHub,noreply@github.com,2024-01-18 11:26:57-06:00
b175f551bfdd615c5fff91f8e755370140540f98,numpy 2: deprecations in n-dimensional fft functions (#10821),crusaderky,crusaderky@gmail.com,2024-01-18 18:41:22+00:00,GitHub,noreply@github.com,2024-01-18 18:41:22+00:00
7307e13bd89810fe0cc0e70a45f568ff20cee817,Expose dataframe tests (#10830),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-19 09:49:02+00:00,GitHub,noreply@github.com,2024-01-19 10:49:02+01:00
9a722bf274500e76bb87f6ef6ccff67ebf7894bf,Activate query_planning when exporting tests (#10833),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-19 11:33:37+00:00,GitHub,noreply@github.com,2024-01-19 11:33:37+00:00
6b5154b784dbb4dd35e65f335098065be9795d5f,Fail dask-expr ci if tests fail (#10829),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-19 11:59:21+00:00,GitHub,noreply@github.com,2024-01-19 11:59:21+00:00
99036c42083fa77fe974fc38a58391340566baaa,"freq=""w"" and ""d"" are deprecated in pandas 2.2 (#10834)",crusaderky,crusaderky@gmail.com,2024-01-19 12:28:58+00:00,GitHub,noreply@github.com,2024-01-19 12:28:58+00:00
c21c7297540f076c2bd15cd1c5ef5f355ad05e2f,Improve _agg_finalize to confirm to output expectation (#10835),Hendrik Makait,hendrik@makait.com,2024-01-19 15:02:13+01:00,GitHub,noreply@github.com,2024-01-19 14:02:13+00:00
c0058eb86683a0c6138ae02d580ae7f891c1b69d,numpy 2.x: fix std() on MaskedArray (#10837),crusaderky,crusaderky@gmail.com,2024-01-19 15:51:05+00:00,GitHub,noreply@github.com,2024-01-19 15:51:05+00:00
77882f430be453a8ceac78663bee8b6018829c6d,Adjust tests for median support in groupby-aggregate in dask-expr (#10840),Hendrik Makait,hendrik@makait.com,2024-01-19 23:37:26+01:00,GitHub,noreply@github.com,2024-01-19 22:37:26+00:00
0d62e31777cdefecd79c13f5818a7bf623fcac1a,Adjust tests for median support in dask-expr (#10839),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-22 08:58:46+00:00,GitHub,noreply@github.com,2024-01-22 09:58:46+01:00
a46e6647134787866272d246d9d3127b7250e2c3,Changed dtype arithmetics in numpy 2.x (#10831),crusaderky,crusaderky@gmail.com,2024-01-22 09:03:40+00:00,GitHub,noreply@github.com,2024-01-22 10:03:40+01:00
379e65b1e9475c209f4a184276c405657b297997,Fix deprecations in doctest (#10844),crusaderky,crusaderky@gmail.com,2024-01-22 11:10:47+00:00,GitHub,noreply@github.com,2024-01-22 12:10:47+01:00
d4d00f67a7463c2b85616261e05bbd96abdd4412,pandas 2.2: groupby(...).apply() to state include_groups=False (#10845),crusaderky,crusaderky@gmail.com,2024-01-22 13:57:57+00:00,GitHub,noreply@github.com,2024-01-22 14:57:57+01:00
762388d015dc21c486c849d8f3f3b4d2c78c1478,"Update gpuCI `RAPIDS_VER` to `24.04` (#10841)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2024-01-22 12:30:17-05:00,GitHub,noreply@github.com,2024-01-22 12:30:17-05:00
6cb33775dcbd19c58497551f988317ef53c527dd,"pandas 2.2: changed behaviour of `concat([df, df.A])` (#10849)",crusaderky,crusaderky@gmail.com,2024-01-23 09:59:56+00:00,GitHub,noreply@github.com,2024-01-23 10:59:56+01:00
efa0538254f378f07f261b0cabcc6228ec8aaf8d,Bump actions/cache from 3 to 4 (#10852),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-01-23 10:01:09+00:00,GitHub,noreply@github.com,2024-01-23 10:01:09+00:00
62e5bed4ded101b3c20a952f16eeabb867de8ebc,Rename numpy version constants to match pandas (#10843),crusaderky,crusaderky@gmail.com,2024-01-23 10:48:34+00:00,GitHub,noreply@github.com,2024-01-23 11:48:34+01:00
7972b4d710edc1f840a903b5cdec31ffe83f3869,numpy 2.0: fix slicing by uint64 array (#10854),crusaderky,crusaderky@gmail.com,2024-01-23 15:37:01+00:00,GitHub,noreply@github.com,2024-01-23 16:37:01+01:00
7e95ef2b84dbe7755b9fe18518c1f1e9dc24f3e5,Fix test for sizeof(pd.MultiIndex) in upstream CI (#10850),crusaderky,crusaderky@gmail.com,2024-01-23 15:38:57+00:00,GitHub,noreply@github.com,2024-01-23 16:38:57+01:00
82eaba0060939f8e38b649480301ac91c4835c75,Unskip and adjust tests for groupby-aggregate with median using dask-expr (#10832),Hendrik Makait,hendrik@makait.com,2024-01-23 16:52:32+01:00,GitHub,noreply@github.com,2024-01-23 15:52:32+00:00
008f4d4ea1439fa17fedc635edd178309f31a4c2,Trivial cosmetic tweaks to _testing.py (#10857),crusaderky,crusaderky@gmail.com,2024-01-25 10:57:59+00:00,GitHub,noreply@github.com,2024-01-25 10:57:59+00:00
4978f6a6f1878843820263221e9ddd9ec8089852,Temporarily pin ``mimesis<13.1.0`` (#10860),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-01-25 14:03:39-06:00,GitHub,noreply@github.com,2024-01-25 14:03:39-06:00
f06f16c3d190c99cfee8c6802aa50a7251ce6d1e,Update DataFrame examples section (#10856),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-01-26 09:59:41-06:00,GitHub,noreply@github.com,2024-01-26 09:59:41-06:00
61a0066ca70bde2241694fe8f735a685b3686851,Refactor: move tests for tokenize() to its own module (#10863),crusaderky,crusaderky@gmail.com,2024-01-26 19:28:28+00:00,GitHub,noreply@github.com,2024-01-26 19:28:28+00:00
5fbe23d7b064ae04b5d8fe06e2e1e8bd5ec0b041,Add recommended deployment options to deployment docs (#10866),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-01-26 17:05:31-06:00,GitHub,noreply@github.com,2024-01-26 17:05:31-06:00
b1909c7719f264bed567b95460593910fb2dedc2,bump version to 2024.1.1,James Bourbeau,jrbourbeau@gmail.com,2024-01-26 17:10:37-06:00,James Bourbeau,jrbourbeau@gmail.com,2024-01-26 17:10:37-06:00
5a34a94c90ee3f151f9a28ef8287ea1a1576b6fb,Allow other message raised in Python 3.9 (#10862),Hendrik Makait,hendrik@makait.com,2024-01-29 10:30:35+01:00,GitHub,noreply@github.com,2024-01-29 09:30:35+00:00
1ecf4641d3bae4d1e634349a55d350f7a8ad05cb,"Allow length of ascending to be larger than one in sort_values (#10864)


Co-authored-by: Hendrik Makait <hendrik@makait.com>",Florian Jetter,fjetter@users.noreply.github.com,2024-01-29 11:26:10+01:00,GitHub,noreply@github.com,2024-01-29 11:26:10+01:00
e446646b660399373af7adc50346eedf90343af7,Adjust test for support of median in Groupby.aggregate in dask-expr (2/2) (#10870),Hendrik Makait,hendrik@makait.com,2024-01-29 13:56:58+01:00,GitHub,noreply@github.com,2024-01-29 12:56:58+00:00
16da9a1ed19a2f63cedb9176d1b49c2ccab51786,Fix pytest 8 issues (#10868),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-29 13:42:34+00:00,GitHub,noreply@github.com,2024-01-29 14:42:34+01:00
0a48c4f9470301d479701f8b6964f036ae540c2c,Skip ``test_append_with_partition`` for fastparquet (#10828),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-29 13:44:35+00:00,GitHub,noreply@github.com,2024-01-29 14:44:35+01:00
3aa1f4eab46a65fa8e7780e0d136816781506c48,Remove warning filter from pyproject.toml (#10867),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-29 14:16:58+00:00,GitHub,noreply@github.com,2024-01-29 14:16:58+00:00
f6c8a309d190f845750aa05ad76d5e109d302659,"Deprecate 'method' parameter in DataFrame.fillna (#10846)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",Miles,miles59923@gmail.com,2024-01-29 15:33:02+01:00,GitHub,noreply@github.com,2024-01-29 14:33:02+00:00
cb5c43f10806c73acde8c877c8e6bdd52e0aa067,Deterministic tokenize() for global random functions (#10865),crusaderky,crusaderky@gmail.com,2024-01-29 15:05:38+00:00,GitHub,noreply@github.com,2024-01-29 15:05:38+00:00
0564754c297ce9f8dc462a9dfb8d2fa13c507bc3,Adjust pytest errors for dask-expr ci (#10871),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-29 16:11:17+00:00,GitHub,noreply@github.com,2024-01-29 16:11:17+00:00
c37cc6e6f575cbddece9fdb6c8d0ccd300fb13d1,"Fix regression in test_graph_manipulation (#10873)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",crusaderky,crusaderky@gmail.com,2024-01-29 17:01:10+00:00,GitHub,noreply@github.com,2024-01-29 17:01:10+00:00
8218524f2bae70a9a1bf5103699079172aff1a7f,Deterministic tokenize for pyarrow datatypes (#10874),crusaderky,crusaderky@gmail.com,2024-01-29 17:48:05+00:00,GitHub,noreply@github.com,2024-01-29 17:48:05+00:00
b89797558ac4c75dda0fe5a02cd44f6902f207bf,"Update parquet tests to align with dask-expr fixes (#10851)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",Richard (Rick) Zamora,rzamora217@gmail.com,2024-01-29 17:07:01-06:00,GitHub,noreply@github.com,2024-01-29 23:07:01+00:00
7e7cf3d16c368c840e9bc5f8c86f8ad8305b1dad,"Update tests for dask-expr (#10838)

Co-authored-by: crusaderky <crusaderky@gmail.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-30 12:22:48+00:00,GitHub,noreply@github.com,2024-01-30 12:22:48+00:00
f2eea9a67ca8a3b24268af4939e4cbd193354502,Run macos ci on M1 architecture (#10877),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-01-30 19:42:21+00:00,GitHub,noreply@github.com,2024-01-30 13:42:21-06:00
1b711beb3985efd7b895db2709c7b7cd869216f0,Add ``distributed.print`` and ``distributed.warn`` to API docs (#10878),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-01-30 15:18:40-06:00,GitHub,noreply@github.com,2024-01-30 21:18:40+00:00
0eab32eaeebea16a7393c0c7311b5247ab7b2c55,Test tokenization of static and class methods (#10872),crusaderky,crusaderky@gmail.com,2024-02-01 13:04:33+00:00,GitHub,noreply@github.com,2024-02-01 13:04:33+00:00
08341db29c2d0829638615394ea493f6e4e6b811,Start with dask-expr doc build (#10879),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-01 13:34:54+00:00,GitHub,noreply@github.com,2024-02-01 13:34:54+00:00
bd6aec4c8b629d9bf16e5f4dc741c8d3396766cd,Update deployment documentation (#10882),Matthew Rocklin,mrocklin@gmail.com,2024-02-01 15:47:36-06:00,GitHub,noreply@github.com,2024-02-01 15:47:36-06:00
7e8f72598b157eb9e0f75818bc24aee42e95829c,Fix inplace modification on read-only arrays for string conversion (#10886),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-02 14:29:15+00:00,GitHub,noreply@github.com,2024-02-02 14:29:15+00:00
daf1f7c73bd2c5d316bbfe2bd8761d05a5128971,Add a couple of dask-expr fixes for new parquet cache (#10880),Florian Jetter,fjetter@users.noreply.github.com,2024-02-02 18:58:22+01:00,GitHub,noreply@github.com,2024-02-02 17:58:22+00:00
8b1415e00f8e1fe1e6dc4a0cffe6e934c132059b,Set lower bound version for s3fs (#10889),Miles,miles59923@gmail.com,2024-02-05 11:55:07+01:00,GitHub,noreply@github.com,2024-02-05 10:55:07+00:00
83368b58da67d5847dccf02a5c5fdfe5bb59ab6e,Set upper bound version for numba when pandas<2.1 (#10890),Miles,miles59923@gmail.com,2024-02-05 14:02:01+01:00,GitHub,noreply@github.com,2024-02-05 13:02:01+00:00
c472a8a649b038f1f53b9d01dc07051a9a3a026b,Fix dask-expr tests after singleton pr (#10892),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-05 15:28:11+00:00,GitHub,noreply@github.com,2024-02-05 15:28:11+00:00
c2c1ece0c84950352e3f6caea40221dc8b4d38fe,Pickle da.argwhere and da.count_nonzero (#10885),crusaderky,crusaderky@gmail.com,2024-02-05 23:23:28+00:00,GitHub,noreply@github.com,2024-02-06 00:23:28+01:00
8abbecadf7392bc491a89f6d48d0273765630eea,Adjust invalid test (#10897),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-06 12:44:50+01:00,GitHub,noreply@github.com,2024-02-06 12:44:50+01:00
34874153ed560bf0e3056f05253713cd718c9356,Fix mimesis API >=13.1.0 - use ``random.randint`` (#10888),Miles,miles59923@gmail.com,2024-02-06 15:53:18+01:00,GitHub,noreply@github.com,2024-02-06 08:53:18-06:00
97f47b4c8bd3692c8bba34cfb8cc36acd037d955,Bump ``peter-evans/create-pull-request`` from 5 to 6 (#10894),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-02-06 08:56:59-06:00,GitHub,noreply@github.com,2024-02-06 08:56:59-06:00
9d81762bc4a92915417649f801deb48801db9c01,Fix typo in dataframe docs (#10900),Matthew Rocklin,mrocklin@gmail.com,2024-02-06 10:05:52-06:00,GitHub,noreply@github.com,2024-02-06 10:05:52-06:00
f51fa77f4cbba7a92a54a760da65a4b6e712e4ad,Make tokenization more deterministic (#10876),crusaderky,crusaderky@gmail.com,2024-02-06 17:50:42+00:00,GitHub,noreply@github.com,2024-02-06 17:50:42+00:00
d89d55998d91a709ea2d1c2625715997fbe71af2,Update deployment options in docs homepage (#10901),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-02-06 13:23:14-06:00,GitHub,noreply@github.com,2024-02-06 13:23:14-06:00
7e04ff72cd598086babe13f181db2eb9d17ed402,Avoid ``pytest.warns`` in ``test_to_datetime`` for GPU CI (#10902),Richard (Rick) Zamora,rzamora217@gmail.com,2024-02-07 04:50:54-06:00,GitHub,noreply@github.com,2024-02-07 11:50:54+01:00
4159c7376f2f1354011c37e322011ff8834fe900,Adjust assign test for dask-expr (#10907),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-08 13:34:34+01:00,GitHub,noreply@github.com,2024-02-08 13:34:34+01:00
1cee596ca9e87a46630e3a441a34168b5c7b9179,Tweak sequence tokenization (#10904),crusaderky,crusaderky@gmail.com,2024-02-08 13:49:24+00:00,GitHub,noreply@github.com,2024-02-08 14:49:24+01:00
8e10a14cb25c42024efc8f5ea949147d3831e8b1,Tokenize SubgraphCallable (#10898),crusaderky,crusaderky@gmail.com,2024-02-08 14:28:36+00:00,GitHub,noreply@github.com,2024-02-08 15:28:36+01:00
c022c91635b3a308fdc497c75ad8680f0ecd2d88,Add configuration for leftsemi merges in dask-expr (#10908),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-08 19:00:40+01:00,GitHub,noreply@github.com,2024-02-08 19:00:40+01:00
34d08c73935dd46b00258c24df87d15b3e2d8cfc,Improve performance for groupby.nunique (#10910),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-09 10:05:43+01:00,GitHub,noreply@github.com,2024-02-09 10:05:43+01:00
3e775b48c8ab97a5c1ed32e86d19f7927159526f,Add deprecation warning for dask.dataframe change (#10912),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-09 16:35:19+01:00,GitHub,noreply@github.com,2024-02-09 16:35:19+01:00
20b6e2def3e02305955a3d8c37b950d6aabf430c,Slight update to ``dask-expr`` warning (#10916),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-02-09 10:58:16-06:00,GitHub,noreply@github.com,2024-02-09 10:58:16-06:00
cee00d734042f0e6baa70c3eb6c870ec792c0fb9,Fix leftsemi merge for cudf (#10914),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-09 19:02:08+01:00,GitHub,noreply@github.com,2024-02-09 12:02:08-06:00
96d42caf1b34023b87d56b8714fb949c215d4cb7,Add changelog entry for ``dask-expr`` (#10915),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-09 23:18:06+01:00,GitHub,noreply@github.com,2024-02-09 16:18:06-06:00
7726d3195e089202c2033027eaf16e227e68fbaf,bump version to 2024.2.0,James Bourbeau,jrbourbeau@gmail.com,2024-02-09 17:09:12-06:00,James Bourbeau,jrbourbeau@gmail.com,2024-02-09 17:09:12-06:00
d532bcf3dea969af8651802c810e9b01ca5b6ad6,Bump pre-commit/action from 3.0.0 to 3.0.1 (#10920),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-02-12 16:46:04-06:00,GitHub,noreply@github.com,2024-02-12 16:46:04-06:00
07099e5c0385983ad1cab805e42e66d03fc3f6d3,Deterministic hashing for almost everything (#10883),crusaderky,crusaderky@gmail.com,2024-02-13 16:44:59+00:00,GitHub,noreply@github.com,2024-02-13 16:44:59+00:00
27ce9028b43d302433a0f2bde03b806a2da6af34,Test numba tokenization (#10896),crusaderky,crusaderky@gmail.com,2024-02-14 10:44:19+00:00,GitHub,noreply@github.com,2024-02-14 11:44:19+01:00
ba5f3bc9826935845925333ad914bc93a001e3f3,Tokenize: Don't call str() on dict values (#10919),crusaderky,crusaderky@gmail.com,2024-02-14 10:46:52+00:00,GitHub,noreply@github.com,2024-02-14 11:46:52+01:00
9a1d4f14e29f279cd1eb3154367cc0806fcebbe4,Remove redundant normalize_token variants (#10884),crusaderky,crusaderky@gmail.com,2024-02-14 13:35:07+00:00,GitHub,noreply@github.com,2024-02-14 14:35:07+01:00
328d0749a124f6efcf1216ec8c3db531ff1f20cd,Clean up some Cython warnings handling (#10924),crusaderky,crusaderky@gmail.com,2024-02-14 17:04:36+00:00,GitHub,noreply@github.com,2024-02-14 18:04:36+01:00
71b165391063a97122acc9257bce2df246029f82,Make nunique faster again (#10922),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-14 20:07:02+01:00,GitHub,noreply@github.com,2024-02-14 20:07:02+01:00
76b255e3f3b8b116b6046d03105e3ceae40386b6,Override tokenize.ensure-deterministic config flag (#10913),crusaderky,crusaderky@gmail.com,2024-02-15 11:18:45+00:00,GitHub,noreply@github.com,2024-02-15 11:18:45+00:00
0b57015ede07c46188d0ea3a264eaa757c8bb4a7,Add dataframe.query-planning-warning config (#10925),Miles,miles59923@gmail.com,2024-02-15 14:06:42+01:00,GitHub,noreply@github.com,2024-02-15 13:06:42+00:00
0ad38fced52c262ca07bcfc93e607bdca919610c,Add `dask config set` (#10921),Miles,miles59923@gmail.com,2024-02-15 18:50:56+01:00,GitHub,noreply@github.com,2024-02-15 17:50:56+00:00
eca8e334780d26c8d2b74f453ff56233ad9763e7,query-planning can't be None (#10928),crusaderky,crusaderky@gmail.com,2024-02-16 16:30:41+00:00,GitHub,noreply@github.com,2024-02-16 16:30:41+00:00
860224baef43717e82c263faccd491ce6ead15fc,`dask config get` fix when printing `None` values (#10927),crusaderky,crusaderky@gmail.com,2024-02-16 16:30:55+00:00,GitHub,noreply@github.com,2024-02-16 16:30:55+00:00
1ed95b484d716518cf13256961cceb47e42f09b5,Correctly parse lowercase true/false config from CLI (#10926),crusaderky,crusaderky@gmail.com,2024-02-16 16:31:47+00:00,GitHub,noreply@github.com,2024-02-16 16:31:47+00:00
1d36fc21652f085320f1214bbc2d06ec81e5ecb1,Add CLI example for dataframe.query-planning-warning (#10936),Miles,miles59923@gmail.com,2024-02-19 11:34:23+01:00,GitHub,noreply@github.com,2024-02-19 11:34:23+01:00
7845983c63ac16747b5346a612680c9247b26706,combine_first when a chunk is full of NaNs (#10932),crusaderky,crusaderky@gmail.com,2024-02-19 12:16:44+00:00,GitHub,noreply@github.com,2024-02-19 12:16:44+00:00
0e611de7b3aa5c7731862edc0be9f2433666af3d,[CLI] `dask config set` and `dask config find` updates. (#10930),Miles,miles59923@gmail.com,2024-02-19 17:48:43+01:00,GitHub,noreply@github.com,2024-02-19 16:48:43+00:00
67ecd26b21135d70a0f084a41a67e75a12c5c552,[Cosmetic] Clean up temp paths in test_config.py (#10938),crusaderky,crusaderky@gmail.com,2024-02-20 12:24:38+00:00,GitHub,noreply@github.com,2024-02-20 12:24:38+00:00
2fe14ab08b538958bd274abe41b2cb6b29b291c4,Use Python 3.12 as reference environment (#10939),crusaderky,crusaderky@gmail.com,2024-02-20 14:51:28+00:00,GitHub,noreply@github.com,2024-02-20 15:51:28+01:00
64bd868d397b26d50e1c529d2b393f7234b7ccd6,Fix flaky test_describe_empty (#10943),crusaderky,crusaderky@gmail.com,2024-02-20 15:32:05+00:00,GitHub,noreply@github.com,2024-02-20 16:32:05+01:00
e20ca751a3466bc9f86b38f3091eb87ff9f6dd43,Adjust for pandas large string change (#10942),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-22 14:08:03+01:00,GitHub,noreply@github.com,2024-02-22 14:08:03+01:00
ff7551bc9884279eb61c3017e8c4e33084aaf1e5,Update tests for assign change in dask-expr (#10944),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-22 19:19:53+01:00,GitHub,noreply@github.com,2024-02-22 19:19:53+01:00
73c0a97e6d04ef0ff4278288ad53b8dabd42d9ae,Enable Aggregation from dask-expr (#10947),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-23 13:18:31+01:00,GitHub,noreply@github.com,2024-02-23 13:18:31+01:00
9ba7a970193415c035f616f910414b19edf155d0,Remove flaky fastparquet test (#10948),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-23 14:58:54+01:00,GitHub,noreply@github.com,2024-02-23 13:58:54+00:00
0496681695563a4385b5ac4c1d1938629e26dd1b,bump version to 2024.2.1,fjetter,fjetter@users.noreply.github.com,2024-02-23 19:10:43+01:00,fjetter,fjetter@users.noreply.github.com,2024-02-23 19:10:43+01:00
0fac4782129d77ce108ecdd6a98aa5dcedb437ae,Reuse dask/dask groupby Aggregation (#10952),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-26 13:34:46+00:00,GitHub,noreply@github.com,2024-02-26 14:34:46+01:00
9531ebe9e8481333f6ae35091b85fd4912fa37e0,Cast partitioning_index to smaller size (#10953),Florian Jetter,fjetter@users.noreply.github.com,2024-02-26 16:45:51+01:00,GitHub,noreply@github.com,2024-02-26 16:45:51+01:00
c7d6e622142817242e7b8dcfe7d7f17f339b6e3b,Use stdlib ``importlib.metadata`` on Python 3.12+ (#10955),wim glenn,wim.glenn@gmail.com,2024-02-27 12:50:30-06:00,GitHub,noreply@github.com,2024-02-27 12:50:30-06:00
fa2d072c4b494b95a4352b17217fde4a301ed76b,Clean up Sphinx documentation for ``dask.config`` (#10959),crusaderky,crusaderky@gmail.com,2024-02-27 18:57:30+00:00,GitHub,noreply@github.com,2024-02-27 12:57:30-06:00
9b245dd407ef19df234f5eb426c39b362a87914b,Fix dask-expr import errors (#10964),Miles,miles59923@gmail.com,2024-02-28 12:49:16+01:00,GitHub,noreply@github.com,2024-02-28 12:49:16+01:00
d66c5c88906ed51b5cb47dcfa0030717657675d2,Implement dask-expr conversion for ``bag.to_dataframe`` (#10963),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-02-28 13:33:42+00:00,GitHub,noreply@github.com,2024-02-28 14:33:42+01:00
9c20facdfb5f20e28f0e9259147283f8a7982728,TST: Add missing skip for pyarrow (#10969),Elliott Sales de Andrade,quantum.analyst@gmail.com,2024-03-01 04:35:44-05:00,GitHub,noreply@github.com,2024-03-01 10:35:44+01:00
5abd9daa87a25f1cd4fec044bd4e196f58b7f6f8,TST: Fix sizeof tests on 32bit (#10971),Elliott Sales de Andrade,quantum.analyst@gmail.com,2024-03-01 07:45:17-05:00,GitHub,noreply@github.com,2024-03-01 13:45:17+01:00
e587291f851a464951306485e6d624637a36e539,Adjust tests for array conversion in dask-expr (#10973),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-02 11:26:49+00:00,GitHub,noreply@github.com,2024-03-02 12:26:49+01:00
c6b9d8028d98146d6e606424491693321b441014,Adjust tests for string option in dask-expr (#10968),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-02 15:33:52+00:00,GitHub,noreply@github.com,2024-03-02 16:33:52+01:00
dcfdbf8ada87c3073c0658347d8ce5ff35d8b33a,"perf: do not unnecessarily recalculate input/output indices in _optimize_blockwise (#10966)

Co-authored-by: Martin Durant <martindurant@users.noreply.github.com>",Lindsey Gray,lindsey.gray@gmail.com,2024-03-04 04:19:32-06:00,GitHub,noreply@github.com,2024-03-04 11:19:32+01:00
77aff8f941ba2f1255296d9a20a76af0ebe70067,Use correct encoding for line terminator when reading CSV (#10972),Elliott Sales de Andrade,quantum.analyst@gmail.com,2024-03-04 07:01:48-05:00,GitHub,noreply@github.com,2024-03-04 13:01:48+01:00
aab9348ff4467a7df9c2460aca5eec568bfc8c5f,"Force initializing the random seed with the same byte order interpret (#10970)

Co-authored-by: Diane Trout <diane@ghic.org>",Elliott Sales de Andrade,quantum.analyst@gmail.com,2024-03-04 07:03:27-05:00,GitHub,noreply@github.com,2024-03-04 13:03:27+01:00
ce3f3b21c6529f3f2d03164208fbb10811466815,Turn on dask-expr switch (#10967),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-04 14:00:18+00:00,GitHub,noreply@github.com,2024-03-04 15:00:18+01:00
e704e1c04ae845f029078f279af7c61aae26a056,Fix numpy 2 compatibility with ogrid usage (#10929),David Hoese,david.hoese@ssec.wisc.edu,2024-03-04 10:37:21-06:00,GitHub,noreply@github.com,2024-03-04 17:37:21+01:00
a6eccb2b7cad117b2f338142391e500cecc1ef0f,Update docs and requirements for dask-expr and remove warning (#10976),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-04 17:28:58+00:00,GitHub,noreply@github.com,2024-03-04 18:28:58+01:00
0a0065d2c2749516ee64ef290286fb253910d27b,"Fix bug when enabling dask-expr (#10977)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-05 11:45:42+00:00,GitHub,noreply@github.com,2024-03-05 12:45:42+01:00
8548c55e404e9eb26a109b82f9cb681faa43033d,Bump conda-incubator/setup-miniconda from 3.0.1 to 3.0.3 (#10978),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-03-07 10:40:49+00:00,GitHub,noreply@github.com,2024-03-07 10:40:49+00:00
91a185e29edefd33c1dfb893c120f2ade21ccbfe,Unskip ``to_delayed`` test (#10985),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-07 15:52:48+00:00,GitHub,noreply@github.com,2024-03-07 16:52:48+01:00
9fa71a5c98eae042e5eff4baa15f201429900b35,Adjust from_array test for dask-expr (#10988),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-07 21:12:04+01:00,GitHub,noreply@github.com,2024-03-07 21:12:04+01:00
40e4379d50c226a41a8a81d770624f6ff38a4385,"Use dask-expr docs as main reference docs for DataFrames (#10990)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-08 15:50:51+01:00,GitHub,noreply@github.com,2024-03-08 15:50:51+01:00
a93c4c4cf1e8a0c75b3373092b2fdf71c92e86b7,"Update tests for pandas nightlies with dask-expr (#10989)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-08 17:02:31+01:00,GitHub,noreply@github.com,2024-03-08 17:02:31+01:00
f201f7ed134704c4f044da8e173ba9578f1d8ee3,bump version to 2024.3.0,fjetter,fjetter@users.noreply.github.com,2024-03-12 11:14:44+01:00,fjetter,fjetter@users.noreply.github.com,2024-03-12 11:14:44+01:00
5949e54bc04158d215814586a44d51e0eb4a964d,Fix typos found by codespell (#10993),Dimitri Papadopoulos Orfanos,3234522+DimitriPapadopoulos@users.noreply.github.com,2024-03-13 02:20:07+01:00,GitHub,noreply@github.com,2024-03-12 20:20:07-05:00
32a24463d1c9c891fcb832a7d7aade535286da87,Only warn if dask-expr is not installed (#11003),Florian Jetter,fjetter@users.noreply.github.com,2024-03-15 09:51:20+01:00,GitHub,noreply@github.com,2024-03-15 09:51:20+01:00
f9310c440b661f1ae96ffd8726404d3c3fe32edc,Release 2024.3.1,fjetter,fjetter@users.noreply.github.com,2024-03-15 10:16:16+01:00,fjetter,fjetter@users.noreply.github.com,2024-03-15 10:16:16+01:00
8c2199e3862c6320721815e87ebd5b7ab52457a4,Bump actions/checkout from 4.1.1 to 4.1.2 (#11009),dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-03-22 13:36:39-05:00,GitHub,noreply@github.com,2024-03-22 13:36:39-05:00
468822228d16195b38f5234ec7f39ecc3491cc52,Add Hugging Face `hf://` to the list of `fsspec` compatible remote services (#11012),Quentin Lhoest,42851186+lhoestq@users.noreply.github.com,2024-03-25 19:23:12+01:00,GitHub,noreply@github.com,2024-03-25 13:23:12-05:00
afcf7414cdabb43e2a522b5995bbbd23c4cafb2b,Add HypersSpy to ecosystem.rst (#11008),Jonas Lhnemann,jonas@pdi-berlin.de,2024-03-25 19:24:30+01:00,GitHub,noreply@github.com,2024-03-25 13:24:30-05:00
83c204cdfed9df8f57aae54731d28b9371ad9941,raise ImportError instead of ValueError when dask-expr cannot be imported (#11007),James Lamb,jaylamb20@gmail.com,2024-03-25 13:28:21-05:00,GitHub,noreply@github.com,2024-03-25 13:28:21-05:00
00260b765582e63664fbd0635c8a1cfd83cebcea,Enable custom expressions in ``dask_cudf`` (#11013),Richard (Rick) Zamora,rzamora217@gmail.com,2024-03-25 13:30:13-05:00,GitHub,noreply@github.com,2024-03-25 13:30:13-05:00
0153204ee02b6920beba1cc005320dd22bae7516,Fix value_counts raising if branch exists of nans only (#11023),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-25 17:47:31-05:00,GitHub,noreply@github.com,2024-03-25 17:47:31-05:00
3d012afef34c28281a645bf402b27536c6e5ebe7,Fix ci for upstream pandas changes (#11027),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-27 08:34:14-05:00,GitHub,noreply@github.com,2024-03-27 08:34:14-05:00
b663dca0fa4ca4686b8c08f7cb30d11320012901,Remove xfail tracebacks from testsuite (#11028),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-03-27 09:23:57-05:00,GitHub,noreply@github.com,2024-03-27 09:23:57-05:00
5322cc069bafee233703792aebd70ba51703d6e2,Build nightlies on tag releases (#11014),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2024-04-01 14:37:09-04:00,GitHub,noreply@github.com,2024-04-01 13:37:09-05:00
9246df0cf3b5d9e3a642d8b9fc6ccfd6995f64e1,bump version to 2024.4.0,James Bourbeau,jrbourbeau@gmail.com,2024-04-01 14:39:19-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-04-01 14:39:19-05:00
275a79cef870448e3b9cdac6520bfec839b72b17,Fix ``dask.dataframe`` import error  for Python 3.11.9 (#11035),Richard (Rick) Zamora,rzamora217@gmail.com,2024-04-03 12:01:35-05:00,GitHub,noreply@github.com,2024-04-03 12:01:35-05:00
daeb64b06597c13eb2a7e0f7b1ba7526f00ab157,Remove skips for named aggregations (#11036),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-03 17:50:15-05:00,GitHub,noreply@github.com,2024-04-03 17:50:15-05:00
9e929b70dcedc8b0b430a60eb615da2e135fabed,Make python 3.11.9 fix a bit safer (#11039),Richard (Rick) Zamora,rzamora217@gmail.com,2024-04-04 10:57:31-05:00,GitHub,noreply@github.com,2024-04-04 10:57:31-05:00
ba24c0aec4fc2e86bf6d6191234a47e340c835bb,bump version to 2024.4.1,James Bourbeau,jrbourbeau@gmail.com,2024-04-04 11:10:49-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-04-04 11:10:49-05:00
c860eb3b5b0fb8e3ef78b5355d11f16d4051904c,"Add lazy ""cudf"" registration for p2p-related dispatch functions (#11040)",Richard (Rick) Zamora,rzamora217@gmail.com,2024-04-05 13:09:23-05:00,GitHub,noreply@github.com,2024-04-05 14:09:23-04:00
2fd6b7ddc4a889126d04231e8bcac4d06bbd3950,Tokenize bag groupby keys (#10734),Charles Stern,62192187+cisaacstern@users.noreply.github.com,2024-04-08 02:55:46-07:00,GitHub,noreply@github.com,2024-04-08 11:55:46+02:00
c7de488ab40f150543ba248494bd1166019930a2,Use ``to/from_legacy_dataframe`` instead of ``to/from_dask_dataframe`` (#11025),Richard (Rick) Zamora,rzamora217@gmail.com,2024-04-08 10:21:20-05:00,GitHub,noreply@github.com,2024-04-08 10:21:20-05:00
b2ec1e1a2361db1e269ba86c7c59d3f6df70a02d,"Adjust `test_set_index` for ""cudf"" backend (#11029)",Richard (Rick) Zamora,rzamora217@gmail.com,2024-04-08 11:53:05-05:00,GitHub,noreply@github.com,2024-04-08 11:53:05-05:00
17f83a4c451f03b3484a4a34b31c44831ff4e654,Don't error if dask_expr is not installed (#11048),Simon Hxbro Hansen,simon.hansen@me.com,2024-04-12 14:10:45+02:00,GitHub,noreply@github.com,2024-04-12 14:10:45+02:00
cc34543f984d961efe07dd5ea07dae67b5fe02cc,Assignment of np.ma.masked to obect-type Array (#9627),David Hassell,davidhassell@users.noreply.github.com,2024-04-12 18:11:16+01:00,GitHub,noreply@github.com,2024-04-12 19:11:16+02:00
a69d4aa14636a9df52bb45cea67191da6327abc5,Add docs for query optimizer (#11043),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-15 16:35:40+02:00,GitHub,noreply@github.com,2024-04-15 16:35:40+02:00
9fe708b49d744c59b0478c6f212a7c58dab7a362,doc: Update percentile docstring (#11053),Abel Aoun,aoun.abel@gmail.com,2024-04-17 19:09:58+02:00,GitHub,noreply@github.com,2024-04-17 19:09:58+02:00
00a5d9200e2cee31e19d4e9fbe88ace8ad41cad0,Add config parameter for parquet file size (#11052),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-18 11:51:25+02:00,GitHub,noreply@github.com,2024-04-18 11:51:25+02:00
aa5a333fccd280b9535233865282019f7e3117ea,Fix link for query planning docs (#11054),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-18 16:11:00+02:00,GitHub,noreply@github.com,2024-04-18 16:11:00+02:00
934645dc9b90af6ead3626182b3c3c7697cbbb24,Reinstate try/except block in _bind_property (#11049),Lawrence Mitchell,lmitchell@nvidia.com,2024-04-19 15:01:36+01:00,GitHub,noreply@github.com,2024-04-19 09:01:36-05:00
b044a2fd2ebeff4d3a7e4160e91d051a4734f7d5,Add changelog entries for new release (#11058),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-19 18:09:59+02:00,GitHub,noreply@github.com,2024-04-19 18:09:59+02:00
4e354c9b2789c8c2b6059b825b9f0659f9723b8b,Add GitHub Releases automation (#11057),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2024-04-19 17:26:44+01:00,GitHub,noreply@github.com,2024-04-19 11:26:44-05:00
24493f58660cb933855ba7629848881a6e2458c1,bump version to 2024.4.2,James Bourbeau,jrbourbeau@gmail.com,2024-04-19 16:05:26-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-04-19 16:05:26-05:00
ede2b330e34dad5cfae567c17e4556f622d929ca,"Update GPU CI `RAPIDS_VER` to 24.06, disable query planning  (#11045)",Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2024-04-22 13:07:59-04:00,GitHub,noreply@github.com,2024-04-22 12:07:59-05:00
9d4af14888191eb38a34a85c5b0b1274b25eacbf,"Bump actions/checkout from 4.1.2 to 4.1.3 (#11061)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-04-23 16:33:08+02:00,GitHub,noreply@github.com,2024-04-23 16:33:08+02:00
422b69571ba6502bacdc6b2cfd3a9f51dc24f3f3,"Bump release-drafter/release-drafter from 5 to 6 (#11063)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-04-23 16:33:28+02:00,GitHub,noreply@github.com,2024-04-23 16:33:28+02:00
5822a6146683d0c00053a367603c5e383bfd83be,"Bump JamesIves/github-pages-deploy-action from 4.5.0 to 4.6.0 (#11062)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-04-23 16:34:02+02:00,GitHub,noreply@github.com,2024-04-23 16:34:02+02:00
48c418c8c56b20e776193d4bf90eafc32c1200cb,Generalize ``clear_known_categories`` utility (#11059),Richard (Rick) Zamora,rzamora217@gmail.com,2024-04-23 09:35:14-05:00,GitHub,noreply@github.com,2024-04-23 16:35:14+02:00
dafb6ac0a647d751f662d0e30f616c62cf62b799,Fixup tests for more efficient dask-expr implementation (#11071),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-25 16:39:04+02:00,GitHub,noreply@github.com,2024-04-25 16:39:04+02:00
a453f195c380444ab69675c3b39c545d0bf60192,Fix ci after pytest changes (#11082),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-29 22:40:18+02:00,GitHub,noreply@github.com,2024-04-29 22:40:18+02:00
617d270a273a6c988575147d8780255546f7eebd,"Bump actions/checkout from 4.1.3 to 4.1.4 (#11083)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-04-30 00:51:20+02:00,GitHub,noreply@github.com,2024-04-30 00:51:20+02:00
b958ce2dc2f1811e88962dc252a5474dd602a3e0,"Bump conda-incubator/setup-miniconda from 3.0.3 to 3.0.4 (#11084)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-04-30 00:51:32+02:00,GitHub,noreply@github.com,2024-04-30 00:51:32+02:00
cbf0ff094e839ee3afdfd29b76ae52bbdb9bf815,Fixup pandas upstream tests (#11085),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-30 12:15:33+02:00,GitHub,noreply@github.com,2024-04-30 12:15:33+02:00
814ed3b21a7e0ba093ea74ad8bf3008b775ed589,"Add plots to illustrate what the optimizer does (#11072)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-04-30 22:22:56+02:00,GitHub,noreply@github.com,2024-04-30 22:22:56+02:00
5b0f20ea9195503245bc931b9e7ddb64855d46b5,skip dataframe/product when in numpy 2 envs (#11089),Benjamin Zaitlen,quasiben@users.noreply.github.com,2024-05-02 14:01:51-04:00,GitHub,noreply@github.com,2024-05-02 20:01:51+02:00
21f73cc0821336b4972e22794289f5fb9278ceb8,Add ``melt`` support when query-planning is enabled (#11088),Richard (Rick) Zamora,rzamora217@gmail.com,2024-05-02 15:47:17-05:00,GitHub,noreply@github.com,2024-05-02 22:47:17+02:00
a2aaa4a97d356899c1d1d30f699d8f9a22084b45,Add dask-expr to upstream build (#11086),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-05-02 23:18:37+02:00,GitHub,noreply@github.com,2024-05-02 16:18:37-05:00
739b12d9a3d68b43589bad897b390d22157fe715,Fix API doc links for some dask-expr expressions (#11092),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-05-03 11:54:05+02:00,GitHub,noreply@github.com,2024-05-03 11:54:05+02:00
efb4a624c9c1c2882a7344d088fa71c7d25e7b8c,"DOC: intersphinx, don't link to click dev version. (#11091)",M Bussonnier,bussonniermatthias@gmail.com,2024-05-03 03:05:52-07:00,GitHub,noreply@github.com,2024-05-03 12:05:52+02:00
067c668a8353f39d2473700947b4540f48b6ada0,bump version to 2024.5.0,James Bourbeau,jrbourbeau@gmail.com,2024-05-03 16:16:17-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-05-03 16:16:17-05:00
dc1a5a39f4d216c546ff8b4a7be60e636b9628e6,Update broadcast array for numpy 2 (#11096),Benjamin Zaitlen,quasiben@users.noreply.github.com,2024-05-06 05:32:09-04:00,GitHub,noreply@github.com,2024-05-06 11:32:09+02:00
95121f90b6839cd4f6e675f4316143a531ede6e2,Apply ruff/flake8-implicit-str-concat rule ISC001 (#11098),Dimitri Papadopoulos Orfanos,3234522+DimitriPapadopoulos@users.noreply.github.com,2024-05-06 11:42:21+02:00,GitHub,noreply@github.com,2024-05-06 11:42:21+02:00
bc6f42b867cdf9d415485a844fc7fa53c64f32c2,Clean up ``percentiles_summary`` logic (#11094),Richard (Rick) Zamora,rzamora217@gmail.com,2024-05-06 04:44:35-05:00,GitHub,noreply@github.com,2024-05-06 11:44:35+02:00
e96ce5254446730ef60245eb23768d3a51dcd722,Fix doc build (#11099),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-05-06 17:52:15+02:00,GitHub,noreply@github.com,2024-05-06 10:52:15-05:00
95f0704eacf58ae39ab109da5e7eed7c1bbefa7b,Fix misspelling found by codespell (#11097),Dimitri Papadopoulos Orfanos,3234522+DimitriPapadopoulos@users.noreply.github.com,2024-05-06 21:41:35+02:00,GitHub,noreply@github.com,2024-05-06 21:41:35+02:00
7b2a47eb36b8823ebff5940088f6745a006be0e6,Skip fastparquet tests for numpy 2 (#11103),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-05-06 22:55:25+02:00,GitHub,noreply@github.com,2024-05-06 15:55:25-05:00
aa3ccdb1cc70aa3836a22f9815ed858db27fe3ad,Enable partquet append tests after fix (#11104),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-05-07 00:01:31+02:00,GitHub,noreply@github.com,2024-05-07 00:01:31+02:00
c619f1da760fc20af33d67c72cec24e9c5d7a58d,"Bump actions/checkout from 4.1.4 to 4.1.5 (#11105)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-05-07 11:21:23+02:00,GitHub,noreply@github.com,2024-05-07 11:21:23+02:00
e0e32d4e0a06ff1ce6258ecf8d73c1e658a53eb9,``meshgrid`` and ``atleast_*d`` NumPy 2 updates (#11106),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-07 13:09:19-05:00,GitHub,noreply@github.com,2024-05-07 20:09:19+02:00
7ace31f93ddc0b879f14bb54755b9f547bf60188,Use nightly ``scikit-image`` in upstream CI build (#11107),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-07 13:40:02-05:00,GitHub,noreply@github.com,2024-05-07 20:40:02+02:00
aba21987a83f1547b72bebdf89060b38b3721a49,Use nightly `h5py` in upstream CI build (#11108),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-08 06:14:43-05:00,GitHub,noreply@github.com,2024-05-08 13:14:43+02:00
aabc53dad704e9d4705944b8ff111037b1d6e653,Avoid ``pytest`` error when skipping NumPy 2.0 tests  (#11110),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-08 11:07:26-05:00,GitHub,noreply@github.com,2024-05-08 18:07:26+02:00
6f5821d661848ea6860eebfe0841f8bb9ac628dc,Test query-planning in gpuCI (#11060),Richard (Rick) Zamora,rzamora217@gmail.com,2024-05-10 09:12:35-05:00,GitHub,noreply@github.com,2024-05-10 10:12:35-04:00
d5a81bb3afeb2297ecfa62df7e1035e0b30c65f9,"Allow non-memory ``zarr`` stores in ``to_zarr`` with ``distributed`` (#10422)

In `dask.array.core.to_zarr` I swapped the check for distributed scheduler + MutableMapping to distributed scheduler + zarr.storage.MemoryStore, which seems to be the only zarr.storage type that is backed by memory. Though I'm unsure about the [LMDB store](https://zarr.readthedocs.io/en/stable/api/storage.html#zarr.storage.LMDBStore).

I also removed the import of MutableMapping since this was the only place in all of `dask.array.core` to reference it.",Greg M. Fleishman,greg.nli10me@gmail.com,2024-05-11 15:51:41-04:00,GitHub,noreply@github.com,2024-05-11 14:51:41-05:00
f511e933669fd56278b8c40b3390ee0566ef338b,"Add initial draft of ML overview document (#11114)

See #11095

Co-authored-by: Sarah Charlotte Johnson <scharlottej13@gmail.com>",Matthew Rocklin,mrocklin@gmail.com,2024-05-13 12:41:35-05:00,GitHub,noreply@github.com,2024-05-13 12:41:35-05:00
cc1aad6bb619fbdfd92e2e4c98c14f42032f5a24,Make sure nightly ``pyarrow`` is installed in upstream CI build (#11121),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-15 10:27:33-05:00,GitHub,noreply@github.com,2024-05-15 10:27:33-05:00
14034ac35d128883c7c36d3e13740b0b8ee3512c,Skip failing ``sparse`` test on 0.15.2 (#11131),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-17 14:20:17-05:00,GitHub,noreply@github.com,2024-05-17 14:20:17-05:00
40a095c4a8737d9a50d2a7c79440a2360a22fd1f,Minor updates to ML page (#11129),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-17 14:25:10-05:00,GitHub,noreply@github.com,2024-05-17 14:25:10-05:00
d6f1f077d47432fcac62e3f729e28a1ebede14bb,bump version to 2024.5.1,James Bourbeau,jrbourbeau@gmail.com,2024-05-17 15:11:12-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-05-17 15:11:12-05:00
844bdc2bb60ee0bc4794236aab242f069d5434fd,Don't draft release notes for tagged commits (#11138),Jacob Tomlinson,jacobtomlinson@users.noreply.github.com,2024-05-21 21:22:07+01:00,GitHub,noreply@github.com,2024-05-21 15:22:07-05:00
99d64ce2f264508ce24858fc21116d6e6851be85,Fix ``test_parse_dates_multi_column`` on ``pandas=3`` (#11132),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-21 16:10:06-05:00,GitHub,noreply@github.com,2024-05-21 16:10:06-05:00
a9aa853c0535263a41fb7ba30ff2a2b7511fc0c9,Unskip ``test_array_function_sparse`` with new ``sparse`` release (#11139),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-22 03:05:28-05:00,GitHub,noreply@github.com,2024-05-22 10:05:28+02:00
484fc3f1136827308db133cd256ba74df7a38d8c,"Bump JamesIves/github-pages-deploy-action from 4.6.0 to 4.6.1 (#11136)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-05-22 11:02:20+02:00,GitHub,noreply@github.com,2024-05-22 11:02:20+02:00
42ccab530ba01c00b51e89a48acd6bd178e94afb,Update ``test_groupby_grouper_dispatch`` (#11144),Richard (Rick) Zamora,rzamora217@gmail.com,2024-05-23 12:06:08-05:00,GitHub,noreply@github.com,2024-05-23 12:06:08-05:00
a40b35a18998dc9b4145d013ee693ab9de783785,Update gpuCI ``RAPIDS_VER`` to ``24.08`` (#11141),github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,2024-05-28 10:46:06-05:00,GitHub,noreply@github.com,2024-05-28 10:46:06-05:00
df4de6ea53054790b09006c8ea68ef8725d39025,Add python 3.11 build to GPU CI (#11135),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2024-05-28 15:52:05-04:00,GitHub,noreply@github.com,2024-05-28 14:52:05-05:00
3432f4601eb7edc9cd5c2d64fd463d23ab4c3b25,Fix nightly Zarr installation in CI (#11151),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-05-29 11:21:45-05:00,GitHub,noreply@github.com,2024-05-29 11:21:45-05:00
05a04aafa0cab80b3287b59a9358f16919202db1,bump version to 2024.5.2,James Bourbeau,jrbourbeau@gmail.com,2024-05-31 16:11:27-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-05-31 16:11:27-05:00
8813859beb12517facb0620b7d45a22557f3cd12,Ensure tokenization of memmap doesn't materialize array in memory (#11161),Florian Jetter,fjetter@users.noreply.github.com,2024-06-04 13:57:23+02:00,GitHub,noreply@github.com,2024-06-04 12:57:23+01:00
a291fd2c36ccad4b644b9ac25d4bf41c7f649e63,Update docs for combined dask community meeting info (#11159),Sarah Charlotte Johnson,sarah@coiled.io,2024-06-05 05:46:51-07:00,GitHub,noreply@github.com,2024-06-05 13:46:51+01:00
05b8d669d00b1a9a6b3e5233e222935445c37145,"Add section about futures and variables (#11164)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",Florian Jetter,fjetter@users.noreply.github.com,2024-06-10 14:34:53+02:00,GitHub,noreply@github.com,2024-06-10 14:34:53+02:00
a21c5226d7e8f4656c24daa6673a94b966005a84,Estimate sizes of xarray collections (#11166),Florian Jetter,fjetter@users.noreply.github.com,2024-06-11 13:41:46+02:00,GitHub,noreply@github.com,2024-06-11 13:41:46+02:00
1203d7f014e69f67815a4c74cff9cb398571b718,Ensure compatibility for `xarray.NamedArray` (#11168),Hendrik Makait,hendrik@makait.com,2024-06-12 04:23:43+02:00,GitHub,noreply@github.com,2024-06-11 21:23:43-05:00
b4e84adadda520023d9d93272ebdb276695e021d,Remove deprecated ``dask.compatibility`` module (#11172),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-06-12 11:06:36-05:00,GitHub,noreply@github.com,2024-06-12 18:06:36+02:00
da1d53af6fcbf535ad74b6edb16347468cafbf1f,Use `packaging.version.Version` (#11171),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-06-12 11:41:28-05:00,GitHub,noreply@github.com,2024-06-12 11:41:28-05:00
91f791031d01ea6da8deef704bba5ea2e2f4bebf,Fix ``test_dt_accessor`` with query planning disabled (#11177),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-06-14 03:45:21-05:00,GitHub,noreply@github.com,2024-06-14 10:45:21+02:00
d1adae476b76926df9b51e5fb1cd135f17b42aeb,bump version to 2024.6.0,James Bourbeau,jrbourbeau@gmail.com,2024-06-14 15:42:14-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-06-14 15:42:14-05:00
f6e0690ec7b2a5b177470c85cef2193e5b97875e,Fix ``test_map_freq_to_period_start`` for ``pandas=3`` (#11181),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-06-15 05:05:58-05:00,GitHub,noreply@github.com,2024-06-15 11:05:58+01:00
1755a718125ef2ea18e9c079ecf1509b7b6be730,"Python 3.13 fixes (#11185)

Signed-off-by: Adam Williamson <awilliam@redhat.com>",Adam Williamson,adam@blueradius.ca,2024-06-18 07:08:01-07:00,GitHub,noreply@github.com,2024-06-18 16:08:01+02:00
d0bc9296b2c7ce5cb86971726ec27c7c92ab063e,Cache global query-planning config (#11183),Richard (Rick) Zamora,rzamora217@gmail.com,2024-06-18 10:55:09-05:00,GitHub,noreply@github.com,2024-06-18 17:55:09+02:00
92bb34eeb03304a23ba04403cfe521c72c164d5b,bump version to 2024.6.1,fjetter,fjetter@users.noreply.github.com,2024-06-19 19:17:09+02:00,fjetter,fjetter@users.noreply.github.com,2024-06-19 19:17:09+02:00
be42bf493c71937c0e7abef86e2af302821dc8cc,Get docs build passing (#11184),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-06-20 14:11:09-05:00,GitHub,noreply@github.com,2024-06-20 14:11:09-05:00
450aa31a498d7147e7dd5709feff3f99778c6493,bump version to 2024.6.2,James Bourbeau,jrbourbeau@gmail.com,2024-06-20 14:54:54-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-06-20 14:54:54-05:00
186852460f3838ccbd784cc0f710dd64015a53d7,Add other IO connectors to docs (#11189),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-06-21 14:25:55+02:00,GitHub,noreply@github.com,2024-06-21 14:25:55+02:00
36e9d7c84c619abcfc498e3fdf7b37f7fb8fd400,Remove from_delayed references (#11195),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-06-21 14:58:14+02:00,GitHub,noreply@github.com,2024-06-21 14:58:14+02:00
ff2488aec44d641696e0b7aa41ed9e995c710705,Remove no longer supported ipython reference (#11196),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-06-21 15:58:14+02:00,GitHub,noreply@github.com,2024-06-21 15:58:14+02:00
cf2c5055057b549d13bc0f11a13b6b595effcec4,Drop support for pandas<2 (#11199),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-01 15:42:27+02:00,GitHub,noreply@github.com,2024-07-01 09:42:27-04:00
e1bd6d13335fa04d55bf5844d734b1bdae6ea8c5,Implement array expression switch (#11203),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-01 18:00:13+02:00,GitHub,noreply@github.com,2024-07-01 12:00:13-04:00
77b13b6beb2c6f763bbd1a3f1b0c5d929690eded,Add utility to verify optional dependencies (#11205),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-02 11:41:53-04:00,GitHub,noreply@github.com,2024-07-02 11:41:53-04:00
fc232aaf60217e1b26680febcc044b3b155bf88f,Fix quantile for arrow dtypes (#11202),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-02 11:58:56-04:00,GitHub,noreply@github.com,2024-07-02 11:58:56-04:00
ecaa4c79ad65e090ed0d604523e21bc1b1ccbeff,Add some array-expr methods (#11210),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-02 15:14:35-04:00,GitHub,noreply@github.com,2024-07-02 15:14:35-04:00
7820aa2d64113800a396d18140d0ac898d0c77db,"Update Coiled links in documentation (#11211)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Sarah Charlotte Johnson,sarah@coiled.io,2024-07-02 23:14:47-04:00,GitHub,noreply@github.com,2024-07-02 22:14:47-05:00
b1882a0d60afbbd8610ebc8ed4f72a6291e7694f,Fix botocore re-raising error (#11209),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-03 11:09:00-04:00,GitHub,noreply@github.com,2024-07-03 11:09:00-04:00
8a39abe19b674dcf4f2b453ed6ede9f8549d655a,Only count data that is in memory for ``xarray`` ``sizeof`` (#11206),Florian Jetter,fjetter@users.noreply.github.com,2024-07-05 21:03:10+02:00,GitHub,noreply@github.com,2024-07-05 14:03:10-05:00
1969a38112ec9f87e056a278478f072ad22e972e,bump version to 2024.7.0,James Bourbeau,jrbourbeau@gmail.com,2024-07-05 14:18:14-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-07-05 14:18:14-05:00
90c176dc6aca8cfade4b79e5e9b636c04b3f09e9,"Bump JamesIves/github-pages-deploy-action from 4.6.1 to 4.6.3 (#11222)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-07-08 21:52:32-04:00,GitHub,noreply@github.com,2024-07-08 21:52:32-04:00
b4b33caed8fc9cf77c9332442ab11cf00f90bb42,"Bump xarray-contrib/issue-from-pytest-log from 1.2.8 to 1.3.0 (#11221)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-07-08 21:52:40-04:00,GitHub,noreply@github.com,2024-07-08 21:52:40-04:00
894a723f99ad215ced81cb04b64abb16772728f4,bump approx threshold for test_quantile (#10720),Florian Jetter,fjetter@users.noreply.github.com,2024-07-12 13:40:20+02:00,GitHub,noreply@github.com,2024-07-12 13:40:20+02:00
6a04b4ed70934b548d25a793eed90f033a690531,Fixes for ``d`` freq deprecation in ``pandas=3`` (#11228),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-07-16 11:00:19-05:00,GitHub,noreply@github.com,2024-07-16 18:00:19+02:00
ca262bc2a2945114468a5b79272322a0ff71e6ec,Ensure that dask expr DataFrames are optimized when put into delayed (#11231),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-17 14:29:48+02:00,GitHub,noreply@github.com,2024-07-17 14:29:48+02:00
27ce2f8ff16f797aa41f64f2080d57bfbac9e677,"Preserve timestamp unit during meta creation (#11233)

Co-authored-by: James Bourbeau <jrbourbeau@users.noreply.github.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-17 18:25:46+02:00,GitHub,noreply@github.com,2024-07-17 18:25:46+02:00
c9f3e39afab6761bc57cfb5c9ed031791212d442,Remove and warn of persist usage (#11237),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-19 15:45:17+02:00,GitHub,noreply@github.com,2024-07-19 15:45:17+02:00
0a40ba288913ea780bbaf37ab8a04aedf8317659,bump version to 2024.7.1,James Bourbeau,jrbourbeau@gmail.com,2024-07-19 19:45:15-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-07-19 19:45:15-05:00
7a69a853b6dba2cee7ac63beffd0c50493e95646,Fix pandas nightly bugs (#11244),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-24 13:49:20+02:00,GitHub,noreply@github.com,2024-07-24 13:49:20+02:00
8f2d9c2318044ceefdb57fd4246dc88cf2dd1b0e,"Skip new warning from pandas (#11249)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-24 16:53:06+02:00,GitHub,noreply@github.com,2024-07-24 16:53:06+02:00
534cd7b7d546657339b260f3274b2d1016bc181a,Fixup casting error in pandas 3 (#11250),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-25 10:25:29+02:00,GitHub,noreply@github.com,2024-07-25 10:25:29+02:00
e073ea45f9e8a6ea8aeee9695f8342015f5e887f,"Match default chunksize in docstring to actual default set in code (#11254)

Co-authored-by: Berhard Raml <bernhard.raml@geo.tuwien.ac.at>",Bernhard Raml,raml.bernhard@gmail.com,2024-07-26 14:53:47+02:00,GitHub,noreply@github.com,2024-07-26 14:53:47+02:00
f95007b1c3a569d3dd2de333bb7bd06b77d3a642,"Update data loading section of best practices (#11247)

Co-authored-by: Florian Jetter <fjetter@users.noreply.github.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-07-30 12:30:16+02:00,GitHub,noreply@github.com,2024-07-30 12:30:16+02:00
8dcf306e831ad91df32c0e45bd1670c93bc25b89,Update zoom link for monthly meeting (#11265),Sarah Charlotte Johnson,sarah@coiled.io,2024-07-31 09:03:05-07:00,GitHub,noreply@github.com,2024-07-31 11:03:05-05:00
b57de0251ecdcf601d67b9e0bf7d447f2b457164,order: remove data task graph normalization (#11263),Florian Jetter,fjetter@users.noreply.github.com,2024-08-02 15:52:28+02:00,GitHub,noreply@github.com,2024-08-02 15:52:28+02:00
8fa8d2e86718db544c90165e115432468996901e,"Implement task-based array shuffle (#11262)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-05 17:48:08+02:00,GitHub,noreply@github.com,2024-08-05 17:48:08+02:00
1587b3bd22ec42c4a8c61ba4d0f25ec2aa59b1e4,Use the shuffle algorithm for take (#11267),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-05 20:35:07+02:00,GitHub,noreply@github.com,2024-08-05 20:35:07+02:00
98a43d8c9b291329b2bcc143a935e48a027afb8e,"Revert ""order: remove data task graph normalization"" (#11276)",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-06 12:10:50+02:00,GitHub,noreply@github.com,2024-08-06 12:10:50+02:00
62628cb90ad19cfa915c33b3d194a3a3f96b5b22,"Add changelog entry for take (#11274)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-06 14:14:28+02:00,GitHub,noreply@github.com,2024-08-06 14:14:28+02:00
b61e6975becc2ca47369c3c0792869704cd3d2cb,order: add regression test for xarray map reduce (#11277),Florian Jetter,fjetter@users.noreply.github.com,2024-08-06 15:39:26+02:00,GitHub,noreply@github.com,2024-08-06 15:39:26+02:00
44b23ac09ea5d7826ad59ee3a535a0b6835d85b9,Add changelog for dask order patch (#11278),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-06 18:57:56+02:00,GitHub,noreply@github.com,2024-08-06 18:57:56+02:00
3c4bbaf7a59f1ff02e1c8ffb31f6d914c216f4a9,bump version to 2024.8.0,James Bourbeau,jrbourbeau@gmail.com,2024-08-06 15:21:11-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-08-06 15:21:11-05:00
1c8df0cd54d79f33767bc6384e1a2b46653cdc94,"Drop support for Python 3.9 (#11245)

Co-authored-by: James Bourbeau <jrbourbeau@gmail.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-08 05:16:08+02:00,GitHub,noreply@github.com,2024-08-07 22:16:08-05:00
e4f83a377eb8f38420b85cce7fefaa0ec321db99,API: expose `np` dtypes in `dask.array` namespace (#11178),Lucas Colley,lucas.colley8@gmail.com,2024-08-08 10:52:54+01:00,GitHub,noreply@github.com,2024-08-08 10:52:54+01:00
65270980adab9c4f908ee81daa596dae16d56188,Remove automatic resizing in reshape (#11269),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-08 13:13:26+02:00,GitHub,noreply@github.com,2024-08-08 13:13:26+02:00
ed5f68897b3a097f7c5ec1a9ec13ce49c112a544,Ignore typing of return value (#11286),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-08 16:03:06+02:00,GitHub,noreply@github.com,2024-08-08 16:03:06+02:00
1ba9c5bf9d0b005b89a04804f29c16e5f0f2dadf,Add numpy constants to array api (#11287),Lucas Colley,lucas.colley8@gmail.com,2024-08-09 12:58:28+01:00,GitHub,noreply@github.com,2024-08-09 13:58:28+02:00
e83454339bbdafadd973cf82a44b30f9ac4d9918,array: fix `asarray` for array input with `dtype` (#11288),Lucas Colley,lucas.colley8@gmail.com,2024-08-12 15:46:20+01:00,GitHub,noreply@github.com,2024-08-12 16:46:20+02:00
a6c6fb142e78f85570a2c65e61e4933c03cac602,Fix slicing for masked arrays (#11300),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-12 17:03:29+02:00,GitHub,noreply@github.com,2024-08-12 17:03:29+02:00
d32fe8eb43b1d189b5e87a520803f7e7916b3d40,Link to dask vs spark benchmarks on dask docs (#11289),Sarah Charlotte Johnson,sarah@coiled.io,2024-08-12 08:40:43-07:00,GitHub,noreply@github.com,2024-08-12 17:40:43+02:00
25695ad280b749ddda7b9e6bdbc01b6f2b06d0aa,"Enable slicing with only one unknonw chunk (#11301)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-12 19:00:00+02:00,GitHub,noreply@github.com,2024-08-12 19:00:00+02:00
33f07ecf403a8aa452bf6a9829a8fa72cec142a5,"Keep chunksize consistent in reshape (#11273)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-12 20:13:38+02:00,GitHub,noreply@github.com,2024-08-12 20:13:38+02:00
83272708f94e4b08e53f877de21931d3dde31f05,Make shuffle a no-op if possible (#11291),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-13 12:51:32+02:00,GitHub,noreply@github.com,2024-08-13 12:51:32+02:00
a969dee09d0c63d991cdf34df46a94ebc66c95fb,Fix upstream numpy build (#11304),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-13 13:52:36+02:00,GitHub,noreply@github.com,2024-08-13 13:52:36+02:00
67b2852d5f48d46527e3ac9c78122b483aef4057,order: ensure runnable tasks are certainly runnable (#11305),Florian Jetter,fjetter@users.noreply.github.com,2024-08-13 14:45:17+02:00,GitHub,noreply@github.com,2024-08-13 14:45:17+02:00
182392329e982ce2e946b59405554c0468160027,order: Choose better target for branches with multiple leaf nodes (#11303),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-14 14:46:55+02:00,GitHub,noreply@github.com,2024-08-14 14:46:55+02:00
0260c47b553a7ad8a5044e43eb075c44048b2b1b,Add tests to cover more cases of new reshape implementation (#11313),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-14 22:51:54+02:00,GitHub,noreply@github.com,2024-08-14 22:51:54+02:00
b597ebc2177e37fff0930cf67ec86565192d00d7,"Test ordering on distributed scheduler (#11310)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",Florian Jetter,fjetter@users.noreply.github.com,2024-08-15 17:43:24+02:00,GitHub,noreply@github.com,2024-08-15 17:43:24+02:00
26a4c0ffee77c80db6473536dc86c8a65385de5a,"Revert ""Test ordering on distributed scheduler (#11310)"" (#11321)",Florian Jetter,fjetter@users.noreply.github.com,2024-08-15 22:41:56+02:00,GitHub,noreply@github.com,2024-08-15 15:41:56-05:00
33a3f4b35cec5247e0320f42461b9b96aae0ebd2,"Ensure we test against numpy 2 in CI (#11182)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>",James Bourbeau,jrbourbeau@users.noreply.github.com,2024-08-16 03:35:39-05:00,GitHub,noreply@github.com,2024-08-16 10:35:39+02:00
8bc8c496575fe9714fd6f17120269db28f16b793,"Implement automatic rechunking for shuffle (#11311)

Co-authored-by: Deepak Cherian <dcherian@users.noreply.github.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-16 16:20:18+02:00,GitHub,noreply@github.com,2024-08-16 16:20:18+02:00
058f1b69ee3115d63046acf60e537d358462a466,"Upgrade gpuCI and fix Dask Array failures with ""cupy"" backend (#11309)",Richard (Rick) Zamora,rzamora217@gmail.com,2024-08-16 07:52:35-07:00,GitHub,noreply@github.com,2024-08-16 09:52:35-05:00
d39cd9968c33cfaed613c379242fe4523da89b03,Rename chunksize-tolerance option (#11317),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-16 18:31:37+02:00,GitHub,noreply@github.com,2024-08-16 18:31:37+02:00
651464d9069d0a183a47f0d0a43189eb8f293fa3,Add changelog entry for reshape and ordering improvements (#11324),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-16 22:46:19+02:00,GitHub,noreply@github.com,2024-08-16 15:46:19-05:00
1d771959509d09c34195fa19d9ae8446ae3a8726,Ensure pickle does not change tokens (#11320),Florian Jetter,fjetter@users.noreply.github.com,2024-08-16 23:00:50+02:00,GitHub,noreply@github.com,2024-08-16 16:00:50-05:00
b7d9bf49f682de8d2ef51f4617e3da782400c290,bump version to 2024.8.1,James Bourbeau,jrbourbeau@gmail.com,2024-08-16 17:10:50-05:00,James Bourbeau,jrbourbeau@gmail.com,2024-08-16 17:10:50-05:00
7373f4b80a6b1764fc6ab2a9726373207a92b2f4,Fix map_overlap with new_axis (#11128),David Stansby,dstansby@gmail.com,2024-08-19 14:13:55+01:00,GitHub,noreply@github.com,2024-08-19 15:13:55+02:00
a136403b35ba27b94fd5ffc2edb2e9e5a6d024b5,tensordot: ensure `axes` are positive / add tests for negative axes (#10812),joanrue,joan.rue.q@gmail.com,2024-08-19 16:45:32+02:00,GitHub,noreply@github.com,2024-08-19 16:45:32+02:00
1ffe0973f5e7fe57672242c4e5af4d578f11bee5,Fix NumPy overflowing for prod on 2.0 (#11327),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-19 19:50:53+02:00,GitHub,noreply@github.com,2024-08-19 12:50:53-05:00
ee7a8ae9ca4d12fe34cb3541b4a77b5f6b47921b,Fix docstring formatting for map_overlap (#11332),Tao Xin,tao@vanjs.org,2024-08-20 00:59:59-07:00,GitHub,noreply@github.com,2024-08-20 09:59:59+02:00
487411df3f5771286d5a92dfec557b980ce7a9e1,Pass additional parameters to `rechunk_p2p` (#11319),Hendrik Makait,hendrik@makait.com,2024-08-20 15:35:03+02:00,GitHub,noreply@github.com,2024-08-20 15:35:03+02:00
28a38328afc8438a11e9954919d6cb346dcef5c2,Fix `dask.array.fft` mismatch with Numpy's interface (add support for `norm` argument) (#10665),joanrue,joan.rue.q@gmail.com,2024-08-20 16:00:06+02:00,GitHub,noreply@github.com,2024-08-20 16:00:06+02:00
cda582c2e954288d82c7b1bf23913d1945d45368,Preserve chunksizes in vindex (#11330),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-21 10:08:17+02:00,GitHub,noreply@github.com,2024-08-21 10:08:17+02:00
c812e851f65190f89239a4f0423c13984eb6f6cf,Add ``crick`` back to Python 3.11+ CI builds (#11335),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-08-21 03:50:39-05:00,GitHub,noreply@github.com,2024-08-21 10:50:39+02:00
5cfe15b9dfd74490412cf6760a021935d45df61c,Bump `numpy>=1.24` and `pyarrow>=14.0.1` minimum versions (#11331),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-08-21 03:57:32-05:00,GitHub,noreply@github.com,2024-08-21 10:57:32+02:00
3dc4f502d76eb5f91c54e48dbef312337024b2ba,Fixup dask and distributed dependencies (#11338),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-21 10:59:59+02:00,GitHub,noreply@github.com,2024-08-21 10:59:59+02:00
984f24abdea8fdb1a6644270baa9df0d75dc3f1f,Update ``numpy`` and ``pyarrow`` versions in install docs (#11340),James Bourbeau,jrbourbeau@users.noreply.github.com,2024-08-21 08:36:53-05:00,GitHub,noreply@github.com,2024-08-21 08:36:53-05:00
2fbe18b29378f281f87341253c743f98f8e9ac72,Increase visibility of GPU CI updates (#11345),Charles Blackmon-Luca,20627856+charlesbluca@users.noreply.github.com,2024-08-23 16:42:15-04:00,GitHub,noreply@github.com,2024-08-23 15:42:15-05:00
f8171f12f93b4bb47ef04945e20a6d6903e3b664,Make rechunking in shuffle more intelligent to distribute unevenly if necessary (#11326),Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-27 13:22:03+02:00,GitHub,noreply@github.com,2024-08-27 13:22:03+02:00
72a14822139eedd140d928aa3b465706a04403f1,"Implement blockwise reshaping API for arrays (#11328)

Co-authored-by: Hendrik Makait <hendrik@makait.com>",Patrick Hoefler,61934744+phofl@users.noreply.github.com,2024-08-27 19:41:06+02:00,GitHub,noreply@github.com,2024-08-27 19:41:06+02:00
6093009ccbd32311423219662525ea84b182d4be,Choose automatically between tasks-based and p2p rechunking (#11337),Hendrik Makait,hendrik@makait.com,2024-08-27 20:46:57+02:00,GitHub,noreply@github.com,2024-08-27 20:46:57+02:00
